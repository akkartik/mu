<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Mu - apps/mu.subx</title>
<meta name="Generator" content="Vim/8.1">
<meta name="plugin-version" content="vim8.1_v1">
<meta name="syntax" content="none">
<meta name="settings" content="number_lines,use_css,pre_wrap,no_foldcolumn,expand_tabs,line_ids,prevent_copy=">
<meta name="colorscheme" content="minimal-light">
<style type="text/css">
<!--
pre { white-space: pre-wrap; font-family: monospace; color: #000000; background-color: #c6c6c6; }
body { font-size:12pt; font-family: monospace; color: #000000; background-color: #c6c6c6; }
a { color:inherit; }
* { font-size:12pt; font-size: 1em; }
.subxComment { color: #005faf; }
.subxTest { color: #5f8700; }
.subxFunction { color: #af5f00; text-decoration: underline; }
.LineNr { }
.subxS1Comment { color: #0000af; }
.CommentedCode { color: #8a8a8a; }
.SpecialChar { color: #d70000; }
.Constant { color: #008787; }
.Folded { color: #080808; background-color: #949494; }
.subxH1Comment { color: #005faf; text-decoration: underline; }
.subxMinorFunction { color: #875f5f; }
-->
</style>

<script type='text/javascript'>
<!--

/* function to open any folds containing a jumped-to line before jumping to it */
function JumpToLine()
{
  var lineNum;
  lineNum = window.location.hash;
  lineNum = lineNum.substr(1); /* strip off '#' */

  if (lineNum.indexOf('L') == -1) {
    lineNum = 'L'+lineNum;
  }
  var lineElem = document.getElementById(lineNum);
  /* Always jump to new location even if the line was hidden inside a fold, or
   * we corrected the raw number to a line ID.
   */
  if (lineElem) {
    lineElem.scrollIntoView(true);
  }
  return true;
}
if ('onhashchange' in window) {
  window.onhashchange = JumpToLine;
}

-->
</script>
</head>
<body onload='JumpToLine();'>
<a href='https://github.com/akkartik/mu/blob/master/apps/mu.subx'>https://github.com/akkartik/mu/blob/master/apps/mu.subx</a>
<pre id='vimCodeElement'>
<span id="L1" class="LineNr">    1 </span><span class="subxComment"># The Mu computer's level-2 language, also called Mu.</span>
<span id="L2" class="LineNr">    2 </span><span class="subxComment"># <a href="http://akkartik.name/post/mu-2019-2">http://akkartik.name/post/mu-2019-2</a></span>
<span id="L3" class="LineNr">    3 </span><span class="subxComment">#</span>
<span id="L4" class="LineNr">    4 </span><span class="subxComment"># To run:</span>
<span id="L5" class="LineNr">    5 </span><span class="subxComment">#   $ ./translate_subx init.linux [0-9]*.subx apps/mu.subx</span>
<span id="L6" class="LineNr">    6 </span><span class="subxComment">#   $ ./a.elf &lt; prog.mu &gt; prog.elf</span>
<span id="L7" class="LineNr">    7 </span>
<span id="L8" class="LineNr">    8 </span><span class="subxComment"># == Goals</span>
<span id="L9" class="LineNr">    9 </span><span class="subxComment"># 1. Be memory safe. It should be impossible to corrupt the heap, or to create</span>
<span id="L10" class="LineNr">   10 </span><span class="subxComment"># a bad pointer. (Requires strong type safety.)</span>
<span id="L11" class="LineNr">   11 </span><span class="subxComment"># 2. Do as little as possible to achieve goal 1. The translator should be</span>
<span id="L12" class="LineNr">   12 </span><span class="subxComment"># implementable in machine code.</span>
<span id="L13" class="LineNr">   13 </span><span class="subxComment">#   - minimize impedance mismatch between source language and SubX target</span>
<span id="L14" class="LineNr">   14 </span><span class="subxComment">#     (e.g. programmer manages registers manually)</span>
<span id="L15" class="LineNr">   15 </span><span class="subxComment">#   - checks over syntax</span>
<span id="L16" class="LineNr">   16 </span><span class="subxComment">#     (e.g. programmer's register allocation is checked)</span>
<span id="L17" class="LineNr">   17 </span><span class="subxComment">#   - runtime checks to avoid complex static analysis</span>
<span id="L18" class="LineNr">   18 </span><span class="subxComment">#     (e.g. array indexing always checks bounds)</span>
<span id="L19" class="LineNr">   19 </span>
<span id="L20" class="LineNr">   20 </span><span class="subxComment"># == Language description</span>
<span id="L21" class="LineNr">   21 </span><span class="subxComment"># A program is a sequence of function and type definitions.</span>
<span id="L22" class="LineNr">   22 </span><span class="subxComment">#</span>
<span id="L23" class="LineNr">   23 </span><span class="subxComment"># Function example:</span>
<span id="L24" class="LineNr">   24 </span><span class="subxComment">#   fn foo n: int -&gt; result/eax: int {</span>
<span id="L25" class="LineNr">   25 </span><span class="subxComment">#     ...</span>
<span id="L26" class="LineNr">   26 </span><span class="subxComment">#   }</span>
<span id="L27" class="LineNr">   27 </span><span class="subxComment">#</span>
<span id="L28" class="LineNr">   28 </span><span class="subxComment"># Functions consist of a name, optional inputs, optional outputs and a block.</span>
<span id="L29" class="LineNr">   29 </span><span class="subxComment">#</span>
<span id="L30" class="LineNr">   30 </span><span class="subxComment"># Function inputs and outputs are variables. All variables have a type and</span>
<span id="L31" class="LineNr">   31 </span><span class="subxComment"># storage specifier. They can be placed either in memory (on the stack) or in</span>
<span id="L32" class="LineNr">   32 </span><span class="subxComment"># one of 6 named registers.</span>
<span id="L33" class="LineNr">   33 </span><span class="subxComment">#   eax ecx edx ebx esi edi</span>
<span id="L34" class="LineNr">   34 </span><span class="subxComment"># Variables in registers must be primitive 32-bit types.</span>
<span id="L35" class="LineNr">   35 </span><span class="subxComment"># Variables not explicitly placed in a register are on the stack.</span>
<span id="L36" class="LineNr">   36 </span><span class="subxComment">#</span>
<span id="L37" class="LineNr">   37 </span><span class="subxComment"># Function inputs are always passed in memory (on the stack), while outputs</span>
<span id="L38" class="LineNr">   38 </span><span class="subxComment"># are always returned in registers.</span>
<span id="L39" class="LineNr">   39 </span><span class="subxComment">#</span>
<span id="L40" class="LineNr">   40 </span><span class="subxComment"># Blocks mostly consist of statements.</span>
<span id="L41" class="LineNr">   41 </span><span class="subxComment">#</span>
<span id="L42" class="LineNr">   42 </span><span class="subxComment"># Statements mostly consist of a name, optional inputs and optional outputs.</span>
<span id="L43" class="LineNr">   43 </span><span class="subxComment">#</span>
<span id="L44" class="LineNr">   44 </span><span class="subxComment"># Statement inputs are variables or literals. Variables need to specify type</span>
<span id="L45" class="LineNr">   45 </span><span class="subxComment"># (and storage) the first time they're mentioned but not later.</span>
<span id="L46" class="LineNr">   46 </span><span class="subxComment">#</span>
<span id="L47" class="LineNr">   47 </span><span class="subxComment"># Statement outputs, like function outputs, must be variables in registers.</span>
<span id="L48" class="LineNr">   48 </span><span class="subxComment">#</span>
<span id="L49" class="LineNr">   49 </span><span class="subxComment"># Statement names must be either primitives or user-defined functions.</span>
<span id="L50" class="LineNr">   50 </span><span class="subxComment">#</span>
<span id="L51" class="LineNr">   51 </span><span class="subxComment"># Primitives can write to any register.</span>
<span id="L52" class="LineNr">   52 </span><span class="subxComment"># User-defined functions only write to hard-coded registers. Outputs of each</span>
<span id="L53" class="LineNr">   53 </span><span class="subxComment"># call must have the same registers as in the function definition.</span>
<span id="L54" class="LineNr">   54 </span><span class="subxComment">#</span>
<span id="L55" class="LineNr">   55 </span><span class="subxComment"># There are some other statement types:</span>
<span id="L56" class="LineNr">   56 </span><span class="subxComment">#   - blocks. Multiple statements surrounded by '{...}' and optionally</span>
<span id="L57" class="LineNr">   57 </span><span class="subxComment">#     prefixed with a label name and ':'</span>
<span id="L58" class="LineNr">   58 </span><span class="subxComment">#       - {</span>
<span id="L59" class="LineNr">   59 </span><span class="subxComment">#           ...</span>
<span id="L60" class="LineNr">   60 </span><span class="subxComment">#         }</span>
<span id="L61" class="LineNr">   61 </span><span class="subxComment">#       - foo: {</span>
<span id="L62" class="LineNr">   62 </span><span class="subxComment">#           ...</span>
<span id="L63" class="LineNr">   63 </span><span class="subxComment">#         }</span>
<span id="L64" class="LineNr">   64 </span><span class="subxComment">#</span>
<span id="L65" class="LineNr">   65 </span><span class="subxComment">#   - variable definitions on the stack. E.g.:</span>
<span id="L66" class="LineNr">   66 </span><span class="subxComment">#       - var foo: int</span>
<span id="L67" class="LineNr">   67 </span><span class="subxComment">#       - var bar: (array int 3)</span>
<span id="L68" class="LineNr">   68 </span><span class="subxComment">#     There's no initializer; variables are automatically initialized.</span>
<span id="L69" class="LineNr">   69 </span><span class="subxComment">#     The type of a local variable is either word-length (4 bytes) or starts with 'ref'.</span>
<span id="L70" class="LineNr">   70 </span><span class="subxComment">#</span>
<span id="L71" class="LineNr">   71 </span><span class="subxComment">#   - variables definitions in a register. E.g.:</span>
<span id="L72" class="LineNr">   72 </span><span class="subxComment">#       - var foo/eax: int &lt;- add bar 1</span>
<span id="L73" class="LineNr">   73 </span><span class="subxComment">#     The initializer is mandatory and must be a valid instruction that writes</span>
<span id="L74" class="LineNr">   74 </span><span class="subxComment">#     a single output to the right register. In practice registers will</span>
<span id="L75" class="LineNr">   75 </span><span class="subxComment">#     usually be either initialized by primitives or copied from eax.</span>
<span id="L76" class="LineNr">   76 </span><span class="subxComment">#       - var eax: int &lt;- foo bar quux</span>
<span id="L77" class="LineNr">   77 </span><span class="subxComment">#         var floo/ecx: int &lt;- copy eax</span>
<span id="L78" class="LineNr">   78 </span><span class="subxComment">#</span>
<span id="L79" class="LineNr">   79 </span><span class="subxComment"># Still todo:</span>
<span id="L80" class="LineNr">   80 </span><span class="subxComment">#   global variables</span>
<span id="L81" class="LineNr">   81 </span><span class="subxComment">#   union types</span>
<span id="L82" class="LineNr">   82 </span><span class="subxComment">#</span>
<span id="L83" class="LineNr">   83 </span><span class="subxComment"># Formal types:</span>
<span id="L84" class="LineNr">   84 </span><span class="subxComment">#   A program is a linked list of functions</span>
<span id="L85" class="LineNr">   85 </span><span class="subxComment">#   A function contains:</span>
<span id="L86" class="LineNr">   86 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L87" class="LineNr">   87 </span><span class="subxComment">#     inouts: linked list of vars  &lt;-- 'inouts' is more precise than 'inputs'</span>
<span id="L88" class="LineNr">   88 </span><span class="subxComment">#       data: (handle var)</span>
<span id="L89" class="LineNr">   89 </span><span class="subxComment">#       next: (handle list)</span>
<span id="L90" class="LineNr">   90 </span><span class="subxComment">#     outputs: linked list of vars</span>
<span id="L91" class="LineNr">   91 </span><span class="subxComment">#       data: (handle var)</span>
<span id="L92" class="LineNr">   92 </span><span class="subxComment">#       next: (handle list)</span>
<span id="L93" class="LineNr">   93 </span><span class="subxComment">#     body: (handle block)</span>
<span id="L94" class="LineNr">   94 </span><span class="subxComment">#   A var-type contains:</span>
<span id="L95" class="LineNr">   95 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L96" class="LineNr">   96 </span><span class="subxComment">#     type: (handle type-tree)</span>
<span id="L97" class="LineNr">   97 </span><span class="subxComment">#</span>
<span id="L98" class="LineNr">   98 </span><span class="subxComment">#   A statement can be:</span>
<span id="L99" class="LineNr">   99 </span><span class="subxComment">#     tag 0: a block</span>
<span id="L100" class="LineNr">  100 </span><span class="subxComment">#     tag 1: a simple statement (stmt1)</span>
<span id="L101" class="LineNr">  101 </span><span class="subxComment">#     tag 2: a variable defined on the stack</span>
<span id="L102" class="LineNr">  102 </span><span class="subxComment">#     tag 3: a variable defined in a register</span>
<span id="L103" class="LineNr">  103 </span><span class="subxComment">#</span>
<span id="L104" class="LineNr">  104 </span><span class="subxComment">#   A block contains:</span>
<span id="L105" class="LineNr">  105 </span><span class="subxComment">#     tag: 0</span>
<span id="L106" class="LineNr">  106 </span><span class="subxComment">#     statements: (handle list stmt)</span>
<span id="L107" class="LineNr">  107 </span><span class="subxComment">#     name: (handle array byte) -- starting with '$'</span>
<span id="L108" class="LineNr">  108 </span><span class="subxComment">#</span>
<span id="L109" class="LineNr">  109 </span><span class="subxComment">#   A regular statement contains:</span>
<span id="L110" class="LineNr">  110 </span><span class="subxComment">#     tag: 1</span>
<span id="L111" class="LineNr">  111 </span><span class="subxComment">#     operation: (handle array byte)</span>
<span id="L112" class="LineNr">  112 </span><span class="subxComment">#     inouts: (handle list operand)</span>
<span id="L113" class="LineNr">  113 </span><span class="subxComment">#     outputs: (handle list var)</span>
<span id="L114" class="LineNr">  114 </span><span class="subxComment">#</span>
<span id="L115" class="LineNr">  115 </span><span class="subxComment">#   A variable defined on the stack contains:</span>
<span id="L116" class="LineNr">  116 </span><span class="subxComment">#     tag: 2</span>
<span id="L117" class="LineNr">  117 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L118" class="LineNr">  118 </span><span class="subxComment">#     type: (handle type-tree)</span>
<span id="L119" class="LineNr">  119 </span><span class="subxComment">#</span>
<span id="L120" class="LineNr">  120 </span><span class="subxComment">#   A variable defined in a register contains:</span>
<span id="L121" class="LineNr">  121 </span><span class="subxComment">#     tag: 3</span>
<span id="L122" class="LineNr">  122 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L123" class="LineNr">  123 </span><span class="subxComment">#     type: (handle type-tree)</span>
<span id="L124" class="LineNr">  124 </span><span class="subxComment">#     reg: (handle array byte)</span>
<span id="L125" class="LineNr">  125 </span>
<span id="L126" class="LineNr">  126 </span><span class="subxComment"># == Translation: managing the stack</span>
<span id="L127" class="LineNr">  127 </span><span class="subxComment"># Now that we know what the language looks like in the large, let's think</span>
<span id="L128" class="LineNr">  128 </span><span class="subxComment"># about how translation happens from the bottom up. One crucial piece of the</span>
<span id="L129" class="LineNr">  129 </span><span class="subxComment"># puzzle is how Mu will clean up variables defined on the stack for you.</span>
<span id="L130" class="LineNr">  130 </span><span class="subxComment">#</span>
<span id="L131" class="LineNr">  131 </span><span class="subxComment"># Assume that we maintain a 'functions' list while parsing source code. And a</span>
<span id="L132" class="LineNr">  132 </span><span class="subxComment"># 'primitives' list is a global constant. Both these contain enough information</span>
<span id="L133" class="LineNr">  133 </span><span class="subxComment"># to perform type-checking on function calls or primitive statements, respectively.</span>
<span id="L134" class="LineNr">  134 </span><span class="subxComment">#</span>
<span id="L135" class="LineNr">  135 </span><span class="subxComment"># Defining variables pushes them on a stack with the current block depth and</span>
<span id="L136" class="LineNr">  136 </span><span class="subxComment"># enough information about their location (stack offset or register).</span>
<span id="L137" class="LineNr">  137 </span><span class="subxComment"># Starting a block increments the current block id.</span>
<span id="L138" class="LineNr">  138 </span><span class="subxComment"># Each statement now has enough information to emit code for it.</span>
<span id="L139" class="LineNr">  139 </span><span class="subxComment"># Ending a block is where the magic happens:</span>
<span id="L140" class="LineNr">  140 </span><span class="subxComment">#   pop all variables at the current block depth</span>
<span id="L141" class="LineNr">  141 </span><span class="subxComment">#   emit code to restore all register variables introduced at the current depth</span>
<span id="L142" class="LineNr">  142 </span><span class="subxComment">#   emit code to clean up all stack variables at the current depth (just increment esp)</span>
<span id="L143" class="LineNr">  143 </span><span class="subxComment">#   decrement the current block depth</span>
<span id="L144" class="LineNr">  144 </span><span class="subxComment">#</span>
<span id="L145" class="LineNr">  145 </span><span class="subxComment"># Formal types:</span>
<span id="L146" class="LineNr">  146 </span><span class="subxComment">#   live-vars: stack of vars</span>
<span id="L147" class="LineNr">  147 </span><span class="subxComment">#   var:</span>
<span id="L148" class="LineNr">  148 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L149" class="LineNr">  149 </span><span class="subxComment">#     type: (handle type-tree)</span>
<span id="L150" class="LineNr">  150 </span><span class="subxComment">#     block: int</span>
<span id="L151" class="LineNr">  151 </span><span class="subxComment">#     stack-offset: int  (added to ebp)</span>
<span id="L152" class="LineNr">  152 </span><span class="subxComment">#     register: (handle array byte)</span>
<span id="L153" class="LineNr">  153 </span><span class="subxComment">#       either usual register names</span>
<span id="L154" class="LineNr">  154 </span><span class="subxComment">#       or '*' to indicate any register</span>
<span id="L155" class="LineNr">  155 </span><span class="subxComment">#   At most one of stack-offset or register-index must be non-zero.</span>
<span id="L156" class="LineNr">  156 </span><span class="subxComment">#   A register of '*' designates a variable _template_. Only legal in formal</span>
<span id="L157" class="LineNr">  157 </span><span class="subxComment">#   parameters for primitives.</span>
<span id="L158" class="LineNr">  158 </span>
<span id="L159" class="LineNr">  159 </span><span class="subxComment"># == Translating a single function call</span>
<span id="L160" class="LineNr">  160 </span><span class="subxComment"># This one's easy. Assuming we've already checked things, we just drop the</span>
<span id="L161" class="LineNr">  161 </span><span class="subxComment"># outputs (which use hard-coded registers) and emit inputs in a standard format.</span>
<span id="L162" class="LineNr">  162 </span><span class="subxComment">#</span>
<span id="L163" class="LineNr">  163 </span><span class="subxComment"># out1, out2, out3, ... &lt;- name inout1, inout2, inout3, ...</span>
<span id="L164" class="LineNr">  164 </span><span class="subxComment"># =&gt;</span>
<span id="L165" class="LineNr">  165 </span><span class="subxComment"># (name inout1 inout2 inout3)</span>
<span id="L166" class="LineNr">  166 </span><span class="subxComment">#</span>
<span id="L167" class="LineNr">  167 </span><span class="subxComment"># Formal types:</span>
<span id="L168" class="LineNr">  168 </span><span class="subxComment">#   functions: linked list of info</span>
<span id="L169" class="LineNr">  169 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L170" class="LineNr">  170 </span><span class="subxComment">#     inouts: linked list of vars</span>
<span id="L171" class="LineNr">  171 </span><span class="subxComment">#     outputs: linked list of vars</span>
<span id="L172" class="LineNr">  172 </span><span class="subxComment">#     body: block (linked list of statements)</span>
<span id="L173" class="LineNr">  173 </span>
<span id="L174" class="LineNr">  174 </span><span class="subxComment"># == Translating a single primitive instruction</span>
<span id="L175" class="LineNr">  175 </span><span class="subxComment"># A second crucial piece of the puzzle is how Mu converts fairly regular</span>
<span id="L176" class="LineNr">  176 </span><span class="subxComment"># primitives with their uniform syntax to SubX instructions with their gnarly</span>
<span id="L177" class="LineNr">  177 </span><span class="subxComment"># x86 details.</span>
<span id="L178" class="LineNr">  178 </span><span class="subxComment">#</span>
<span id="L179" class="LineNr">  179 </span><span class="subxComment"># Mu instructions have inputs and outputs. Primitives can have up to 2 of</span>
<span id="L180" class="LineNr">  180 </span><span class="subxComment"># them.</span>
<span id="L181" class="LineNr">  181 </span><span class="subxComment"># SubX instructions have rm32 and r32 operands.</span>
<span id="L182" class="LineNr">  182 </span><span class="subxComment"># The translation between them covers almost all the possibilities.</span>
<span id="L183" class="LineNr">  183 </span><span class="subxComment">#   Instructions with 1 inout may turn into ones with 1 rm32</span>
<span id="L184" class="LineNr">  184 </span><span class="subxComment">#     (e.g. incrementing a var on the stack)</span>
<span id="L185" class="LineNr">  185 </span><span class="subxComment">#   Instructions with 1 output may turn into ones with 1 rm32</span>
<span id="L186" class="LineNr">  186 </span><span class="subxComment">#     (e.g. incrementing a var in a register)</span>
<span id="L187" class="LineNr">  187 </span><span class="subxComment">#   1 inout and 1 output may turn into 1 rm32 and 1 r32</span>
<span id="L188" class="LineNr">  188 </span><span class="subxComment">#     (e.g. adding a var to a reg)</span>
<span id="L189" class="LineNr">  189 </span><span class="subxComment">#   2 inouts may turn into 1 rm32 and 1 r32</span>
<span id="L190" class="LineNr">  190 </span><span class="subxComment">#     (e.g. adding a reg to a var)</span>
<span id="L191" class="LineNr">  191 </span><span class="subxComment">#   1 inout and 1 literal may turn into 1 rm32 and 1 imm32</span>
<span id="L192" class="LineNr">  192 </span><span class="subxComment">#     (e.g. adding a constant to a var)</span>
<span id="L193" class="LineNr">  193 </span><span class="subxComment">#   1 output and 1 literal may turn into 1 rm32 and 1 imm32</span>
<span id="L194" class="LineNr">  194 </span><span class="subxComment">#     (e.g. adding a constant to a reg)</span>
<span id="L195" class="LineNr">  195 </span><span class="subxComment">#   2 outputs to hardcoded registers and 1 inout may turn into 1 rm32</span>
<span id="L196" class="LineNr">  196 </span><span class="subxComment">#     (special-case: divide edx:eax by a var or reg)</span>
<span id="L197" class="LineNr">  197 </span><span class="subxComment"># Observations:</span>
<span id="L198" class="LineNr">  198 </span><span class="subxComment">#   We always emit rm32. It may be the first inout or the first output.</span>
<span id="L199" class="LineNr">  199 </span><span class="subxComment">#   We may emit r32 or imm32 or neither.</span>
<span id="L200" class="LineNr">  200 </span><span class="subxComment">#   When we emit r32 it may come from first inout or second inout or first output.</span>
<span id="L201" class="LineNr">  201 </span><span class="subxComment">#</span>
<span id="L202" class="LineNr">  202 </span><span class="subxComment"># Accordingly, the formal data structure for a primitive looks like this:</span>
<span id="L203" class="LineNr">  203 </span><span class="subxComment">#   primitives: linked list of info</span>
<span id="L204" class="LineNr">  204 </span><span class="subxComment">#     name: (handle array byte)</span>
<span id="L205" class="LineNr">  205 </span><span class="subxComment">#     mu-inouts: linked list of vars to check</span>
<span id="L206" class="LineNr">  206 </span><span class="subxComment">#     mu-outputs: linked list of vars to check; at most a singleton</span>
<span id="L207" class="LineNr">  207 </span><span class="subxComment">#     subx-name: (handle array byte)</span>
<span id="L208" class="LineNr">  208 </span><span class="subxComment">#     subx-rm32: enum arg-location</span>
<span id="L209" class="LineNr">  209 </span><span class="subxComment">#     subx-r32: enum arg-location</span>
<span id="L210" class="LineNr">  210 </span><span class="subxComment">#     subx-imm32: enum arg-location</span>
<span id="L211" class="LineNr">  211 </span><span class="subxComment">#     subx-imm8: enum arg-location</span>
<span id="L212" class="LineNr">  212 </span><span class="subxComment">#     subx-disp32: enum arg-location</span>
<span id="L213" class="LineNr">  213 </span><span class="subxComment">#     output-is-write-only: boolean</span>
<span id="L214" class="LineNr">  214 </span><span class="subxComment">#   arg-location: enum</span>
<span id="L215" class="LineNr">  215 </span><span class="subxComment">#     0 means none</span>
<span id="L216" class="LineNr">  216 </span><span class="subxComment">#     1 means first inout</span>
<span id="L217" class="LineNr">  217 </span><span class="subxComment">#     2 means second inout</span>
<span id="L218" class="LineNr">  218 </span><span class="subxComment">#     3 means first output</span>
<span id="L219" class="LineNr">  219 </span>
<span id="L220" class="LineNr">  220 </span><span class="subxComment"># == Translating a block</span>
<span id="L221" class="LineNr">  221 </span><span class="subxComment"># Emit block name if necessary</span>
<span id="L222" class="LineNr">  222 </span><span class="subxComment"># Emit '{'</span>
<span id="L223" class="LineNr">  223 </span><span class="subxComment"># When you encounter a statement, emit it as above</span>
<span id="L224" class="LineNr">  224 </span><span class="subxComment"># When you encounter a variable declaration</span>
<span id="L225" class="LineNr">  225 </span><span class="subxComment">#   emit any code needed for it (bzeros)</span>
<span id="L226" class="LineNr">  226 </span><span class="subxComment">#   push it on the var stack</span>
<span id="L227" class="LineNr">  227 </span><span class="subxComment">#   update register dict if necessary</span>
<span id="L228" class="LineNr">  228 </span><span class="subxComment"># When you encounter '}'</span>
<span id="L229" class="LineNr">  229 </span><span class="subxComment">#   While popping variables off the var stack until block id changes</span>
<span id="L230" class="LineNr">  230 </span><span class="subxComment">#     Emit code needed to clean up the stack</span>
<span id="L231" class="LineNr">  231 </span><span class="subxComment">#       either increment esp</span>
<span id="L232" class="LineNr">  232 </span><span class="subxComment">#       or pop into appropriate register</span>
<span id="L233" class="LineNr">  233 </span>
<span id="L234" class="LineNr">  234 </span><span class="subxComment"># The rest is straightforward.</span>
<span id="L235" class="LineNr">  235 </span>
<span id="L236" class="LineNr">  236 </span>== data
<span id="L237" class="LineNr">  237 </span>
<span id="L238" class="LineNr">  238 </span><span class="SpecialChar">Program</span>:
<span id="L239" class="LineNr">  239 </span><span class="subxMinorFunction">_Program-functions</span>:  <span class="subxComment"># (handle function)</span>
<span id="L240" class="LineNr">  240 </span>  0/imm32
<span id="L241" class="LineNr">  241 </span><span class="subxMinorFunction">_Program-functions-&gt;payload</span>:
<span id="L242" class="LineNr">  242 </span>  0/imm32
<span id="L243" class="LineNr">  243 </span><span class="subxMinorFunction">_Program-types</span>:  <span class="subxComment"># (handle typeinfo)</span>
<span id="L244" class="LineNr">  244 </span>  0/imm32
<span id="L245" class="LineNr">  245 </span><span class="subxMinorFunction">_Program-types-&gt;payload</span>:
<span id="L246" class="LineNr">  246 </span>  0/imm32
<span id="L247" class="LineNr">  247 </span><span class="subxMinorFunction">_Program-signatures</span>:  <span class="subxComment"># (handle function)</span>
<span id="L248" class="LineNr">  248 </span>  0/imm32
<span id="L249" class="LineNr">  249 </span><span class="subxMinorFunction">_Program-signatures-&gt;payload</span>:
<span id="L250" class="LineNr">  250 </span>  0/imm32
<span id="L251" class="LineNr">  251 </span>
<span id="L252" class="LineNr">  252 </span><span class="subxComment"># Some constants for simulating the data structures described above.</span>
<span id="L253" class="LineNr">  253 </span><span class="subxComment"># Many constants here come with a type in a comment.</span>
<span id="L254" class="LineNr">  254 </span><span class="subxComment">#</span>
<span id="L255" class="LineNr">  255 </span><span class="subxComment"># Sometimes the type is of the value at that offset for the given type. For</span>
<span id="L256" class="LineNr">  256 </span><span class="subxComment"># example, if you start at a function record and move forward Function-inouts</span>
<span id="L257" class="LineNr">  257 </span><span class="subxComment"># bytes, you'll find a (handle list var).</span>
<span id="L258" class="LineNr">  258 </span><span class="subxComment">#</span>
<span id="L259" class="LineNr">  259 </span><span class="subxComment"># At other times, the type is of the constant itself. For example, the type of</span>
<span id="L260" class="LineNr">  260 </span><span class="subxComment"># the constant Function-size is (addr int). To get the size of a function,</span>
<span id="L261" class="LineNr">  261 </span><span class="subxComment"># look in *Function-size.</span>
<span id="L262" class="LineNr">  262 </span>
<span id="L263" class="LineNr">  263 </span><span class="SpecialChar">Function-name</span>:  <span class="subxComment"># (handle array byte)</span>
<span id="L264" class="LineNr">  264 </span>  0/imm32
<span id="L265" class="LineNr">  265 </span><span class="SpecialChar">Function-inouts</span>:  <span class="subxComment"># (handle list var)</span>
<span id="L266" class="LineNr">  266 </span>  8/imm32
<span id="L267" class="LineNr">  267 </span><span class="SpecialChar">Function-outputs</span>:  <span class="subxComment"># (handle list var)</span>
<span id="L268" class="LineNr">  268 </span>  0x10/imm32
<span id="L269" class="LineNr">  269 </span><span class="SpecialChar">Function-body</span>:  <span class="subxComment"># (handle block)</span>
<span id="L270" class="LineNr">  270 </span>  0x18/imm32
<span id="L271" class="LineNr">  271 </span><span class="SpecialChar">Function-next</span>:  <span class="subxComment"># (handle function)</span>
<span id="L272" class="LineNr">  272 </span>  0x20/imm32
<span id="L273" class="LineNr">  273 </span><span class="SpecialChar">Function-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L274" class="LineNr">  274 </span>  0x28/imm32/40
<span id="L275" class="LineNr">  275 </span>
<span id="L276" class="LineNr">  276 </span><span class="SpecialChar">Primitive-name</span>:  <span class="subxComment"># (handle array byte)</span>
<span id="L277" class="LineNr">  277 </span>  0/imm32
<span id="L278" class="LineNr">  278 </span><span class="SpecialChar">Primitive-inouts</span>:  <span class="subxComment"># (handle list var)</span>
<span id="L279" class="LineNr">  279 </span>  8/imm32
<span id="L280" class="LineNr">  280 </span><span class="SpecialChar">Primitive-outputs</span>:  <span class="subxComment"># (handle list var)</span>
<span id="L281" class="LineNr">  281 </span>  0x10/imm32
<span id="L282" class="LineNr">  282 </span><span class="SpecialChar">Primitive-subx-name</span>:  <span class="subxComment"># (handle array byte)</span>
<span id="L283" class="LineNr">  283 </span>  0x18/imm32
<span id="L284" class="LineNr">  284 </span><span class="SpecialChar">Primitive-subx-rm32</span>:  <span class="subxComment"># enum arg-location</span>
<span id="L285" class="LineNr">  285 </span>  0x20/imm32
<span id="L286" class="LineNr">  286 </span><span class="SpecialChar">Primitive-subx-r32</span>:  <span class="subxComment"># enum arg-location</span>
<span id="L287" class="LineNr">  287 </span>  0x24/imm32
<span id="L288" class="LineNr">  288 </span><span class="SpecialChar">Primitive-subx-imm32</span>:  <span class="subxComment"># enum arg-location</span>
<span id="L289" class="LineNr">  289 </span>  0x28/imm32
<span id="L290" class="LineNr">  290 </span><span class="SpecialChar">Primitive-subx-imm8</span>:  <span class="subxComment"># enum arg-location  -- only for bit shifts</span>
<span id="L291" class="LineNr">  291 </span>  0x2c/imm32
<span id="L292" class="LineNr">  292 </span><span class="SpecialChar">Primitive-subx-disp32</span>:  <span class="subxComment"># enum arg-location  -- only for branches</span>
<span id="L293" class="LineNr">  293 </span>  0x30/imm32
<span id="L294" class="LineNr">  294 </span><span class="SpecialChar">Primitive-output-is-write-only</span>:  <span class="subxComment"># boolean</span>
<span id="L295" class="LineNr">  295 </span>  0x34/imm32
<span id="L296" class="LineNr">  296 </span><span class="SpecialChar">Primitive-next</span>:  <span class="subxComment"># (handle function)</span>
<span id="L297" class="LineNr">  297 </span>  0x38/imm32
<span id="L298" class="LineNr">  298 </span><span class="SpecialChar">Primitive-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L299" class="LineNr">  299 </span>  0x40/imm32/60
<span id="L300" class="LineNr">  300 </span>
<span id="L301" class="LineNr">  301 </span><span class="SpecialChar">Stmt-tag</span>:  <span class="subxComment"># int</span>
<span id="L302" class="LineNr">  302 </span>  0/imm32
<span id="L303" class="LineNr">  303 </span>
<span id="L304" class="LineNr">  304 </span><span class="SpecialChar">Block-stmts</span>:  <span class="subxComment"># (handle list stmt)</span>
<span id="L305" class="LineNr">  305 </span>  4/imm32
<span id="L306" class="LineNr">  306 </span><span class="SpecialChar">Block-var</span>:  <span class="subxComment"># (handle var)</span>
<span id="L307" class="LineNr">  307 </span>  0xc/imm32
<span id="L308" class="LineNr">  308 </span>
<span id="L309" class="LineNr">  309 </span><span class="SpecialChar">Stmt1-operation</span>:  <span class="subxComment"># (handle array byte)</span>
<span id="L310" class="LineNr">  310 </span>  4/imm32
<span id="L311" class="LineNr">  311 </span><span class="SpecialChar">Stmt1-inouts</span>:  <span class="subxComment"># (handle stmt-var)</span>
<span id="L312" class="LineNr">  312 </span>  0xc/imm32
<span id="L313" class="LineNr">  313 </span><span class="SpecialChar">Stmt1-outputs</span>:  <span class="subxComment"># (handle stmt-var)</span>
<span id="L314" class="LineNr">  314 </span>  0x14/imm32
<span id="L315" class="LineNr">  315 </span>
<span id="L316" class="LineNr">  316 </span><span class="SpecialChar">Vardef-var</span>:  <span class="subxComment"># (handle var)</span>
<span id="L317" class="LineNr">  317 </span>  4/imm32
<span id="L318" class="LineNr">  318 </span>
<span id="L319" class="LineNr">  319 </span><span class="SpecialChar">Regvardef-operation</span>:  <span class="subxComment"># (handle array byte)</span>
<span id="L320" class="LineNr">  320 </span>  4/imm32
<span id="L321" class="LineNr">  321 </span><span class="SpecialChar">Regvardef-inouts</span>:  <span class="subxComment"># (handle stmt-var)</span>
<span id="L322" class="LineNr">  322 </span>  0xc/imm32
<span id="L323" class="LineNr">  323 </span><span class="SpecialChar">Regvardef-outputs</span>:  <span class="subxComment"># (handle stmt-var)  # will have exactly one element</span>
<span id="L324" class="LineNr">  324 </span>  0x14/imm32
<span id="L325" class="LineNr">  325 </span>
<span id="L326" class="LineNr">  326 </span><span class="SpecialChar">Stmt-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L327" class="LineNr">  327 </span>  0x1c/imm32
<span id="L328" class="LineNr">  328 </span>
<span id="L329" class="LineNr">  329 </span><span class="SpecialChar">Var-name</span>:  <span class="subxComment"># (handle array byte)</span>
<span id="L330" class="LineNr">  330 </span>  0/imm32
<span id="L331" class="LineNr">  331 </span><span class="SpecialChar">Var-type</span>:  <span class="subxComment"># (handle type-tree)</span>
<span id="L332" class="LineNr">  332 </span>  8/imm32
<span id="L333" class="LineNr">  333 </span><span class="SpecialChar">Var-block-depth</span>:  <span class="subxComment"># int -- not available until code-generation time</span>
<span id="L334" class="LineNr">  334 </span>  0x10/imm32
<span id="L335" class="LineNr">  335 </span><span class="SpecialChar">Var-offset</span>:  <span class="subxComment"># int -- not available until code-generation time</span>
<span id="L336" class="LineNr">  336 </span>  0x14/imm32
<span id="L337" class="LineNr">  337 </span><span class="SpecialChar">Var-register</span>:  <span class="subxComment"># (handle array byte) -- name of a register</span>
<span id="L338" class="LineNr">  338 </span>  0x18/imm32
<span id="L339" class="LineNr">  339 </span><span class="SpecialChar">Var-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L340" class="LineNr">  340 </span>  0x20/imm32
<span id="L341" class="LineNr">  341 </span>
<span id="L342" class="LineNr">  342 </span><span class="SpecialChar">List-value</span>:  <span class="subxComment"># (handle _)</span>
<span id="L343" class="LineNr">  343 </span>  0/imm32
<span id="L344" class="LineNr">  344 </span><span class="SpecialChar">List-next</span>:  <span class="subxComment"># (handle list _)</span>
<span id="L345" class="LineNr">  345 </span>  8/imm32
<span id="L346" class="LineNr">  346 </span><span class="SpecialChar">List-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L347" class="LineNr">  347 </span>  0x10/imm32
<span id="L348" class="LineNr">  348 </span>
<span id="L349" class="LineNr">  349 </span><span class="subxComment"># A stmt-var is like a list of vars with call-site specific metadata</span>
<span id="L350" class="LineNr">  350 </span><span class="SpecialChar">Stmt-var-value</span>:  <span class="subxComment"># (handle var)</span>
<span id="L351" class="LineNr">  351 </span>  0/imm32
<span id="L352" class="LineNr">  352 </span><span class="SpecialChar">Stmt-var-next</span>:  <span class="subxComment"># (handle stmt-var)</span>
<span id="L353" class="LineNr">  353 </span>  8/imm32
<span id="L354" class="LineNr">  354 </span><span class="SpecialChar">Stmt-var-is-deref</span>:  <span class="subxComment"># boolean</span>
<span id="L355" class="LineNr">  355 </span>  0x10/imm32
<span id="L356" class="LineNr">  356 </span><span class="SpecialChar">Stmt-var-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L357" class="LineNr">  357 </span>  0x14/imm32
<span id="L358" class="LineNr">  358 </span>
<span id="L359" class="LineNr">  359 </span><span class="subxComment"># A live-var is a var augmented with information needed for tracking live</span>
<span id="L360" class="LineNr">  360 </span><span class="subxComment"># variables.</span>
<span id="L361" class="LineNr">  361 </span><span class="SpecialChar">Live-var-value</span>:  <span class="subxComment"># (handle var)</span>
<span id="L362" class="LineNr">  362 </span>  0/imm32
<span id="L363" class="LineNr">  363 </span><span class="SpecialChar">Live-var-register-spilled</span>:  <span class="subxComment"># boolean; only used if value is in a register, and only during code-gen</span>
<span id="L364" class="LineNr">  364 </span>  8/imm32
<span id="L365" class="LineNr">  365 </span><span class="SpecialChar">Live-var-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L366" class="LineNr">  366 </span>  0xc/imm32
<span id="L367" class="LineNr">  367 </span>
<span id="L368" class="LineNr">  368 </span><span class="subxComment"># Types are expressed as trees (s-expressions) of type-ids (ints).</span>
<span id="L369" class="LineNr">  369 </span>
<span id="L370" class="LineNr">  370 </span><span class="SpecialChar">Type-tree-is-atom</span>:  <span class="subxComment"># boolean</span>
<span id="L371" class="LineNr">  371 </span>  0/imm32
<span id="L372" class="LineNr">  372 </span><span class="subxComment"># if is-atom?</span>
<span id="L373" class="LineNr">  373 </span><span class="SpecialChar">Type-tree-value</span>:  <span class="subxComment"># type-id</span>
<span id="L374" class="LineNr">  374 </span>  4/imm32
<span id="L375" class="LineNr">  375 </span><span class="SpecialChar">Type-tree-value-size</span>:  <span class="subxComment"># int (for static data structure sizes)</span>
<span id="L376" class="LineNr">  376 </span>  8/imm32
<span id="L377" class="LineNr">  377 </span><span class="SpecialChar">Type-tree-parameter-name</span>:  <span class="subxComment"># (handle array byte) for type parameters</span>
<span id="L378" class="LineNr">  378 </span>  8/imm32
<span id="L379" class="LineNr">  379 </span><span class="subxComment"># unless is-atom?</span>
<span id="L380" class="LineNr">  380 </span><span class="SpecialChar">Type-tree-left</span>:  <span class="subxComment"># (addr type-tree)</span>
<span id="L381" class="LineNr">  381 </span>  4/imm32
<span id="L382" class="LineNr">  382 </span><span class="SpecialChar">Type-tree-right</span>:  <span class="subxComment"># (addr type-tree)</span>
<span id="L383" class="LineNr">  383 </span>  0xc/imm32
<span id="L384" class="LineNr">  384 </span><span class="subxComment">#</span>
<span id="L385" class="LineNr">  385 </span><span class="SpecialChar">Type-tree-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L386" class="LineNr">  386 </span>  0x14/imm32
<span id="L387" class="LineNr">  387 </span>
<span id="L388" class="LineNr">  388 </span><span class="subxComment"># Types</span>
<span id="L389" class="LineNr">  389 </span>
<span id="L390" class="LineNr">  390 </span><span class="subxComment"># TODO: Turn this data structure into valid Mu, with (fake) handles rather than addrs.</span>
<span id="L391" class="LineNr">  391 </span><span class="SpecialChar">Type-id</span>:  <span class="subxComment"># (stream (addr array byte))</span>
<span id="L392" class="LineNr">  392 </span>  0/imm32/write  <span class="subxComment"># initialized later from Primitive-type-ids</span>
<span id="L393" class="LineNr">  393 </span>  0/imm32/read
<span id="L394" class="LineNr">  394 </span>  0x100/imm32/size
<span id="L395" class="LineNr">  395 </span>  <span class="subxComment"># data</span>
<span id="L396" class="LineNr">  396 </span>  0/imm32  <span class="subxComment"># 0 reserved for literals; value is just the name</span>
<span id="L397" class="LineNr">  397 </span>           <span class="subxComment"># Not to be used directly, so we don't include a name here.</span>
<span id="L398" class="LineNr">  398 </span>  <span class="Constant">&quot;int&quot;</span>/imm32  <span class="subxComment"># 1</span>
<span id="L399" class="LineNr">  399 </span>  <span class="Constant">&quot;addr&quot;</span>/imm32  <span class="subxComment"># 2</span>
<span id="L400" class="LineNr">  400 </span>  <span class="Constant">&quot;array&quot;</span>/imm32  <span class="subxComment"># 3</span>
<span id="L401" class="LineNr">  401 </span>  <span class="Constant">&quot;handle&quot;</span>/imm32  <span class="subxComment"># 4</span>
<span id="L402" class="LineNr">  402 </span>  <span class="Constant">&quot;boolean&quot;</span>/imm32  <span class="subxComment"># 5</span>
<span id="L403" class="LineNr">  403 </span>  0/imm32  <span class="subxComment"># 6 reserved for constants; they're like literals, but value is an int in Var-offset</span>
<span id="L404" class="LineNr">  404 </span>           <span class="subxComment"># Not to be used directly, so we don't include a name here.</span>
<span id="L405" class="LineNr">  405 </span>  <span class="Constant">&quot;offset&quot;</span>/imm32  <span class="subxComment"># 7: (offset T) is guaranteed to be a 32-bit multiple of size-of(T)</span>
<span id="L406" class="LineNr">  406 </span>  <span class="subxComment"># 0x20</span>
<span id="L407" class="LineNr">  407 </span>  <span class="Constant">&quot;byte&quot;</span>/imm32  <span class="subxComment"># 8</span>
<span id="L408" class="LineNr">  408 </span>  0/imm32  <span class="subxComment"># 9 reserved for array-capacity; value is in Type-tree-size.</span>
<span id="L409" class="LineNr">  409 </span>           <span class="subxComment"># Not to be used directly, so we don't include a name here.</span>
<span id="L410" class="LineNr">  410 </span>  0/imm32  <span class="subxComment"># 10 reserved for type parameters; value is (address array byte) in Type-tree-value2.</span>
<span id="L411" class="LineNr">  411 </span>           <span class="subxComment"># Not to be used directly, so we don't include a name here.</span>
<span id="L412" class="LineNr">  412 </span>  <span class="subxComment"># some SubX types deliberately left undefined in Mu; they can only be operated on using SubX primitives</span>
<span id="L413" class="LineNr">  413 </span>  <span class="Constant">&quot;stream&quot;</span>/imm32  <span class="subxComment"># 11</span>
<span id="L414" class="LineNr">  414 </span>  <span class="Constant">&quot;slice&quot;</span>/imm32  <span class="subxComment"># 12</span>
<span id="L415" class="LineNr">  415 </span>  <span class="Constant">&quot;code-point&quot;</span>/imm32  <span class="subxComment"># 13; smallest scannable unit from a text stream</span>
<span id="L416" class="LineNr">  416 </span>  <span class="Constant">&quot;grapheme&quot;</span>/imm32  <span class="subxComment"># 14; smallest printable unit; will eventually be composed of multiple code-points, but currently corresponds 1:1</span>
<span id="L417" class="LineNr">  417 </span>                    <span class="subxComment"># only 4-byte graphemes in utf-8 are currently supported;</span>
<span id="L418" class="LineNr">  418 </span>                    <span class="subxComment"># unclear how we should deal with larger clusters.</span>
<span id="L419" class="LineNr">  419 </span>  <span class="subxComment"># Keep Primitive-type-ids in sync if you add types here.</span>
<span id="L420" class="LineNr">  420 </span>                                                          0/imm32
<span id="L421" class="LineNr">  421 </span>  0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32
<span id="L422" class="LineNr">  422 </span>  0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32
<span id="L423" class="LineNr">  423 </span>  0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32
<span id="L424" class="LineNr">  424 </span>  0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32
<span id="L425" class="LineNr">  425 </span>  0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32
<span id="L426" class="LineNr">  426 </span>  0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32 0/imm32
<span id="L427" class="LineNr">  427 </span>
<span id="L428" class="LineNr">  428 </span><span class="SpecialChar">Primitive-type-ids</span>:  <span class="subxComment"># (addr int)</span>
<span id="L429" class="LineNr">  429 </span>  0x34
<span id="L430" class="LineNr">  430 </span>
<span id="L431" class="LineNr">  431 </span><span class="subxComment"># == Type definitions</span>
<span id="L432" class="LineNr">  432 </span><span class="subxComment"># Program-&gt;types contains some typeinfo for each type definition.</span>
<span id="L433" class="LineNr">  433 </span><span class="subxComment"># Types contain vars with types, but can't specify registers.</span>
<span id="L434" class="LineNr">  434 </span><span class="SpecialChar">Typeinfo-id</span>:  <span class="subxComment"># type-id</span>
<span id="L435" class="LineNr">  435 </span>  0/imm32
<span id="L436" class="LineNr">  436 </span><span class="SpecialChar">Typeinfo-fields</span>:  <span class="subxComment"># (handle table (handle array byte) (handle typeinfo-entry))</span>
<span id="L437" class="LineNr">  437 </span>  4/imm32
<span id="L438" class="LineNr">  438 </span><span class="subxComment"># Total size must be &gt;= 0</span>
<span id="L439" class="LineNr">  439 </span><span class="subxComment"># During parsing it may take on two additional values:</span>
<span id="L440" class="LineNr">  440 </span><span class="subxComment">#   -2: not yet initialized</span>
<span id="L441" class="LineNr">  441 </span><span class="subxComment">#   -1: in process of being computed</span>
<span id="L442" class="LineNr">  442 </span><span class="subxComment"># See populate-mu-type-sizes for details.</span>
<span id="L443" class="LineNr">  443 </span><span class="SpecialChar">Typeinfo-total-size-in-bytes</span>:  <span class="subxComment"># int</span>
<span id="L444" class="LineNr">  444 </span>  0xc/imm32
<span id="L445" class="LineNr">  445 </span><span class="SpecialChar">Typeinfo-next</span>:  <span class="subxComment"># (handle typeinfo)</span>
<span id="L446" class="LineNr">  446 </span>  0x10/imm32
<span id="L447" class="LineNr">  447 </span><span class="SpecialChar">Typeinfo-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L448" class="LineNr">  448 </span>  0x18/imm32
<span id="L449" class="LineNr">  449 </span>
<span id="L450" class="LineNr">  450 </span><span class="subxComment"># Each entry in the typeinfo-&gt;fields table has a pointer to a string and a</span>
<span id="L451" class="LineNr">  451 </span><span class="subxComment"># pointer to a typeinfo-entry.</span>
<span id="L452" class="LineNr">  452 </span><span class="SpecialChar">Typeinfo-fields-row-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L453" class="LineNr">  453 </span>  0x10/imm32
<span id="L454" class="LineNr">  454 </span>
<span id="L455" class="LineNr">  455 </span><span class="subxComment"># typeinfo-entry objects have information about a field in a single record type</span>
<span id="L456" class="LineNr">  456 </span><span class="subxComment">#</span>
<span id="L457" class="LineNr">  457 </span><span class="subxComment"># each field of a type is represented using two var's:</span>
<span id="L458" class="LineNr">  458 </span><span class="subxComment">#   1. the input var: expected type of the field; convenient for creating using parse-var-with-type</span>
<span id="L459" class="LineNr">  459 </span><span class="subxComment">#   2. the output var: a constant containing the byte offset; convenient for code-generation</span>
<span id="L460" class="LineNr">  460 </span><span class="subxComment"># computing the output happens after parsing; in the meantime we preserve the</span>
<span id="L461" class="LineNr">  461 </span><span class="subxComment"># order of fields in the 'index' field.</span>
<span id="L462" class="LineNr">  462 </span><span class="SpecialChar">Typeinfo-entry-input-var</span>:  <span class="subxComment"># (handle var)</span>
<span id="L463" class="LineNr">  463 </span>  0/imm32
<span id="L464" class="LineNr">  464 </span><span class="SpecialChar">Typeinfo-entry-index</span>:  <span class="subxComment"># int</span>
<span id="L465" class="LineNr">  465 </span>  8/imm32
<span id="L466" class="LineNr">  466 </span><span class="SpecialChar">Typeinfo-entry-output-var</span>:  <span class="subxComment"># (handle var)</span>
<span id="L467" class="LineNr">  467 </span>  0xc/imm32
<span id="L468" class="LineNr">  468 </span><span class="SpecialChar">Typeinfo-entry-size</span>:  <span class="subxComment"># (addr int)</span>
<span id="L469" class="LineNr">  469 </span>  0x14/imm32
<span id="L470" class="LineNr">  470 </span>
<span id="L471" class="LineNr">  471 </span>== code
<span id="L472" class="LineNr">  472 </span>
<span id="L473" class="LineNr">  473 </span><span class="SpecialChar">Entry</span>:
<span id="L474" class="LineNr">  474 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L475" class="LineNr">  475 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L476" class="LineNr">  476 </span>    (<a href='../104new-segment.subx.html#L40'>new-segment</a> *<span class="SpecialChar"><a href='../120allocate.subx.html#L34'>Heap-size</a></span> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>)
<span id="L477" class="LineNr">  477 </span>    <span class="subxComment"># if (argv[1] == &quot;test') run-tests()</span>
<span id="L478" class="LineNr">  478 </span>    {
<span id="L479" class="LineNr">  479 </span>      <span class="subxComment"># if (argc &lt;= 1) break</span>
<span id="L480" class="LineNr">  480 </span>      81 7/subop/compare *ebp 1/imm32
<span id="L481" class="LineNr">  481 </span>      7e/jump-if-&lt;= <span class="Constant">break</span>/disp8
<span id="L482" class="LineNr">  482 </span>      <span class="subxComment"># if (argv[1] != &quot;test&quot;) break</span>
<span id="L483" class="LineNr">  483 </span>      (<a href='../103kernel-string-equal.subx.html#L31'>kernel-string-equal?</a> *(ebp+8) <span class="Constant">&quot;test&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L484" class="LineNr">  484 </span>      3d/compare-eax-and 0/imm32/false
<span id="L485" class="LineNr">  485 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L486" class="LineNr">  486 </span>      <span class="subxComment">#</span>
<span id="L487" class="LineNr">  487 </span>      (run-tests)
<span id="L488" class="LineNr">  488 </span>      <span class="subxComment"># syscall(exit, *Num-test-failures)</span>
<span id="L489" class="LineNr">  489 </span>      8b/-&gt; *<span class="SpecialChar"><a href='../102test.subx.html#L89'>Num-test-failures</a></span> 3/r32/ebx
<span id="L490" class="LineNr">  490 </span>      eb/jump $mu-main:end/disp8
<span id="L491" class="LineNr">  491 </span>    }
<span id="L492" class="LineNr">  492 </span>    <span class="subxComment"># otherwise convert Stdin</span>
<span id="L493" class="LineNr">  493 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <span class="SpecialChar"><a href='../112read-byte.subx.html#L14'>Stdin</a></span> <span class="SpecialChar"><a href='../115write-byte.subx.html#L10'>Stdout</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L494" class="LineNr">  494 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../115write-byte.subx.html#L10'>Stdout</a></span>)
<span id="L495" class="LineNr">  495 </span>    <span class="subxComment"># syscall(exit, 0)</span>
<span id="L496" class="LineNr">  496 </span>    bb/copy-to-ebx 0/imm32
<span id="L497" class="LineNr">  497 </span><span class="Constant">$mu-main:end</span>:
<span id="L498" class="LineNr">  498 </span>    e8/call syscall_exit/disp32
<span id="L499" class="LineNr">  499 </span>
<span id="L500" class="LineNr">  500 </span><span class="subxFunction">convert-mu</span>:  <span class="subxComment"># in: (addr buffered-file), out: (addr buffered-file), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L501" class="LineNr">  501 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L502" class="LineNr">  502 </span>    55/push-ebp
<span id="L503" class="LineNr">  503 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L504" class="LineNr">  504 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L505" class="LineNr">  505 </span>    50/push-eax
<span id="L506" class="LineNr">  506 </span>    <span class="subxComment"># initialize global data structures</span>
<span id="L507" class="LineNr">  507 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7487'>Next-block-index</a></span> 1/imm32
<span id="L508" class="LineNr">  508 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L428'>Primitive-type-ids</a></span> 0/r32/eax
<span id="L509" class="LineNr">  509 </span>    89/&lt;- *<span class="SpecialChar"><a href='mu.subx.html#L391'>Type-id</a></span> 0/r32/eax  <span class="subxComment"># stream-write</span>
<span id="L510" class="LineNr">  510 </span>    c7 0/subop/copy *_Program-functions 0/imm32
<span id="L511" class="LineNr">  511 </span>    c7 0/subop/copy *_Program-functions-&gt;payload 0/imm32
<span id="L512" class="LineNr">  512 </span>    c7 0/subop/copy *_Program-types 0/imm32
<span id="L513" class="LineNr">  513 </span>    c7 0/subop/copy *_Program-types-&gt;payload 0/imm32
<span id="L514" class="LineNr">  514 </span>    c7 0/subop/copy *_Program-signatures 0/imm32
<span id="L515" class="LineNr">  515 </span>    c7 0/subop/copy *_Program-signatures-&gt;payload 0/imm32
<span id="L516" class="LineNr">  516 </span>    <span class="subxComment">#</span>
<span id="L517" class="LineNr">  517 </span>    (<a href='mu.subx.html#L7495'>parse-mu</a> *(ebp+8) *(ebp+0x10) *(ebp+0x14))
<span id="L518" class="LineNr">  518 </span>    (<a href='mu.subx.html#L11955'>populate-mu-type-sizes</a> *(ebp+0x10) *(ebp+0x14))
<span id="L519" class="LineNr">  519 </span><span class="CommentedCode">#?     (dump-typeinfos &quot;=== typeinfos\n&quot;)</span>
<span id="L520" class="LineNr">  520 </span>    (<a href='mu.subx.html#L12484'>check-mu-types</a> *(ebp+0x10) *(ebp+0x14))
<span id="L521" class="LineNr">  521 </span>    (<a href='mu.subx.html#L14687'>emit-subx</a> *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L522" class="LineNr">  522 </span><span class="Constant">$convert-mu:end</span>:
<span id="L523" class="LineNr">  523 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L524" class="LineNr">  524 </span>    58/pop-to-eax
<span id="L525" class="LineNr">  525 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L526" class="LineNr">  526 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L527" class="LineNr">  527 </span>    5d/pop-to-ebp
<span id="L528" class="LineNr">  528 </span>    c3/return
<span id="L529" class="LineNr">  529 </span>
<span id="L530" class="LineNr">  530 </span><span class="subxTest">test-convert-empty-input</span>:
<span id="L531" class="LineNr">  531 </span>    <span class="subxComment"># empty input =&gt; empty output</span>
<span id="L532" class="LineNr">  532 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L533" class="LineNr">  533 </span>    55/push-ebp
<span id="L534" class="LineNr">  534 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L535" class="LineNr">  535 </span>    <span class="subxComment"># setup</span>
<span id="L536" class="LineNr">  536 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L537" class="LineNr">  537 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L538" class="LineNr">  538 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L539" class="LineNr">  539 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L540" class="LineNr">  540 </span>    <span class="subxComment">#</span>
<span id="L541" class="LineNr">  541 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L542" class="LineNr">  542 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L543" class="LineNr">  543 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;&quot;</span> <span class="Constant">&quot;F - test-convert-empty-input&quot;</span>)
<span id="L544" class="LineNr">  544 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L545" class="LineNr">  545 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L546" class="LineNr">  546 </span>    5d/pop-to-ebp
<span id="L547" class="LineNr">  547 </span>    c3/return
<span id="L548" class="LineNr">  548 </span>
<span id="L549" class="LineNr">  549 </span><span class="subxTest">test-convert-function-skeleton</span>:
<span id="L550" class="LineNr">  550 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L551" class="LineNr">  551 </span>    55/push-ebp
<span id="L552" class="LineNr">  552 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L553" class="LineNr">  553 </span>    <span class="subxComment"># setup</span>
<span id="L554" class="LineNr">  554 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L555" class="LineNr">  555 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L556" class="LineNr">  556 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L557" class="LineNr">  557 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L558" class="LineNr">  558 </span>    <span class="subxComment">#</span>
<span id="L559" class="LineNr">  559 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L560" class="LineNr">  560 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L561" class="LineNr">  561 </span>    <span class="subxComment"># convert</span>
<span id="L562" class="LineNr">  562 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L563" class="LineNr">  563 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L564" class="Folded">  564 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L570" class="LineNr">  570 </span>    <span class="subxComment"># check output</span>
<span id="L571" class="LineNr">  571 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L549'>test-convert-function-skeleton</a>/0&quot;</span>)
<span id="L572" class="LineNr">  572 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-skeleton/1&quot;</span>)
<span id="L573" class="LineNr">  573 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L549'>test-convert-function-skeleton</a>/2&quot;</span>)
<span id="L574" class="LineNr">  574 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L549'>test-convert-function-skeleton</a>/3&quot;</span>)
<span id="L575" class="LineNr">  575 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-skeleton/4&quot;</span>)
<span id="L576" class="LineNr">  576 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L549'>test-convert-function-skeleton</a>/5&quot;</span>)
<span id="L577" class="LineNr">  577 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L549'>test-convert-function-skeleton</a>/6&quot;</span>)
<span id="L578" class="LineNr">  578 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L549'>test-convert-function-skeleton</a>/7&quot;</span>)
<span id="L579" class="LineNr">  579 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L580" class="LineNr">  580 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L581" class="LineNr">  581 </span>    5d/pop-to-ebp
<span id="L582" class="LineNr">  582 </span>    c3/return
<span id="L583" class="LineNr">  583 </span>
<span id="L584" class="LineNr">  584 </span><span class="subxTest">test-convert-multiple-function-skeletons</span>:
<span id="L585" class="LineNr">  585 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L586" class="LineNr">  586 </span>    55/push-ebp
<span id="L587" class="LineNr">  587 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L588" class="LineNr">  588 </span>    <span class="subxComment"># setup</span>
<span id="L589" class="LineNr">  589 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L590" class="LineNr">  590 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L591" class="LineNr">  591 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L592" class="LineNr">  592 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L593" class="LineNr">  593 </span>    <span class="subxComment">#</span>
<span id="L594" class="LineNr">  594 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L595" class="LineNr">  595 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L596" class="LineNr">  596 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn bar {\n&quot;</span>)
<span id="L597" class="LineNr">  597 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L598" class="LineNr">  598 </span>    <span class="subxComment"># convert</span>
<span id="L599" class="LineNr">  599 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L600" class="LineNr">  600 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L601" class="Folded">  601 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L607" class="LineNr">  607 </span>    <span class="subxComment"># check first function</span>
<span id="L608" class="LineNr">  608 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/0&quot;</span>)
<span id="L609" class="LineNr">  609 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-multiple-function-skeletons/1&quot;</span>)
<span id="L610" class="LineNr">  610 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/2&quot;</span>)
<span id="L611" class="LineNr">  611 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/3&quot;</span>)
<span id="L612" class="LineNr">  612 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-multiple-function-skeletons/4&quot;</span>)
<span id="L613" class="LineNr">  613 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/5&quot;</span>)
<span id="L614" class="LineNr">  614 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/6&quot;</span>)
<span id="L615" class="LineNr">  615 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/7&quot;</span>)
<span id="L616" class="LineNr">  616 </span>    <span class="subxComment"># check second function</span>
<span id="L617" class="LineNr">  617 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;bar:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/10&quot;</span>)
<span id="L618" class="LineNr">  618 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-multiple-function-skeletons/11&quot;</span>)
<span id="L619" class="LineNr">  619 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/12&quot;</span>)
<span id="L620" class="LineNr">  620 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/13&quot;</span>)
<span id="L621" class="LineNr">  621 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-multiple-function-skeletons/14&quot;</span>)
<span id="L622" class="LineNr">  622 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/15&quot;</span>)
<span id="L623" class="LineNr">  623 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/16&quot;</span>)
<span id="L624" class="LineNr">  624 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L584'>test-convert-multiple-function-skeletons</a>/17&quot;</span>)
<span id="L625" class="LineNr">  625 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L626" class="LineNr">  626 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L627" class="LineNr">  627 </span>    5d/pop-to-ebp
<span id="L628" class="LineNr">  628 </span>    c3/return
<span id="L629" class="LineNr">  629 </span>
<span id="L630" class="LineNr">  630 </span><span class="subxTest">test-convert-function-with-arg</span>:
<span id="L631" class="LineNr">  631 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L632" class="LineNr">  632 </span>    55/push-ebp
<span id="L633" class="LineNr">  633 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L634" class="LineNr">  634 </span>    <span class="subxComment"># setup</span>
<span id="L635" class="LineNr">  635 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L636" class="LineNr">  636 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L637" class="LineNr">  637 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L638" class="LineNr">  638 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L639" class="LineNr">  639 </span>    <span class="subxComment">#</span>
<span id="L640" class="LineNr">  640 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo n: int {\n&quot;</span>)
<span id="L641" class="LineNr">  641 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L642" class="LineNr">  642 </span>    <span class="subxComment"># convert</span>
<span id="L643" class="LineNr">  643 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L644" class="LineNr">  644 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L645" class="Folded">  645 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L651" class="LineNr">  651 </span>    <span class="subxComment"># check output</span>
<span id="L652" class="LineNr">  652 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L630'>test-convert-function-with-arg</a>/0&quot;</span>)
<span id="L653" class="LineNr">  653 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-arg/1&quot;</span>)
<span id="L654" class="LineNr">  654 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L630'>test-convert-function-with-arg</a>/2&quot;</span>)
<span id="L655" class="LineNr">  655 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L630'>test-convert-function-with-arg</a>/3&quot;</span>)
<span id="L656" class="LineNr">  656 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-arg/4&quot;</span>)
<span id="L657" class="LineNr">  657 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L630'>test-convert-function-with-arg</a>/5&quot;</span>)
<span id="L658" class="LineNr">  658 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L630'>test-convert-function-with-arg</a>/6&quot;</span>)
<span id="L659" class="LineNr">  659 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L630'>test-convert-function-with-arg</a>/7&quot;</span>)
<span id="L660" class="LineNr">  660 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L661" class="LineNr">  661 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L662" class="LineNr">  662 </span>    5d/pop-to-ebp
<span id="L663" class="LineNr">  663 </span>    c3/return
<span id="L664" class="LineNr">  664 </span>
<span id="L665" class="LineNr">  665 </span><span class="subxTest">test-convert-function-with-arg-and-body</span>:
<span id="L666" class="LineNr">  666 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L667" class="LineNr">  667 </span>    55/push-ebp
<span id="L668" class="LineNr">  668 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L669" class="LineNr">  669 </span>    <span class="subxComment"># setup</span>
<span id="L670" class="LineNr">  670 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L671" class="LineNr">  671 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L672" class="LineNr">  672 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L673" class="LineNr">  673 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L674" class="LineNr">  674 </span>    <span class="subxComment">#</span>
<span id="L675" class="LineNr">  675 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo n: int {\n&quot;</span>)
<span id="L676" class="LineNr">  676 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment n\n&quot;</span>)
<span id="L677" class="LineNr">  677 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L678" class="LineNr">  678 </span>    <span class="subxComment"># convert</span>
<span id="L679" class="LineNr">  679 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L680" class="LineNr">  680 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L681" class="Folded">  681 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L687" class="LineNr">  687 </span>    <span class="subxComment"># check output</span>
<span id="L688" class="LineNr">  688 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/0&quot;</span>)
<span id="L689" class="LineNr">  689 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-arg-and-body/1&quot;</span>)
<span id="L690" class="LineNr">  690 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/2&quot;</span>)
<span id="L691" class="LineNr">  691 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/3&quot;</span>)
<span id="L692" class="LineNr">  692 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/4&quot;</span>)
<span id="L693" class="LineNr">  693 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/5&quot;</span>)
<span id="L694" class="LineNr">  694 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 0/subop/increment *(ebp+0x00000008)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/6&quot;</span>)
<span id="L695" class="LineNr">  695 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/7&quot;</span>)
<span id="L696" class="LineNr">  696 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/8&quot;</span>)
<span id="L697" class="LineNr">  697 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-arg-and-body/9&quot;</span>)
<span id="L698" class="LineNr">  698 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/10&quot;</span>)
<span id="L699" class="LineNr">  699 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/11&quot;</span>)
<span id="L700" class="LineNr">  700 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L665'>test-convert-function-with-arg-and-body</a>/12&quot;</span>)
<span id="L701" class="LineNr">  701 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L702" class="LineNr">  702 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L703" class="LineNr">  703 </span>    5d/pop-to-ebp
<span id="L704" class="LineNr">  704 </span>    c3/return
<span id="L705" class="LineNr">  705 </span>
<span id="L706" class="LineNr">  706 </span><span class="subxTest">test-convert-function-distinguishes-args</span>:
<span id="L707" class="LineNr">  707 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L708" class="LineNr">  708 </span>    55/push-ebp
<span id="L709" class="LineNr">  709 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L710" class="LineNr">  710 </span>    <span class="subxComment"># setup</span>
<span id="L711" class="LineNr">  711 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L712" class="LineNr">  712 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L713" class="LineNr">  713 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L714" class="LineNr">  714 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L715" class="LineNr">  715 </span>    <span class="subxComment">#</span>
<span id="L716" class="LineNr">  716 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: int, b: int {\n&quot;</span>)
<span id="L717" class="LineNr">  717 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment b\n&quot;</span>)
<span id="L718" class="LineNr">  718 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L719" class="LineNr">  719 </span>    <span class="subxComment"># convert</span>
<span id="L720" class="LineNr">  720 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L721" class="LineNr">  721 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L722" class="Folded">  722 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L728" class="LineNr">  728 </span>    <span class="subxComment"># check output</span>
<span id="L729" class="LineNr">  729 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/0&quot;</span>)
<span id="L730" class="LineNr">  730 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-distinguishes-args/1&quot;</span>)
<span id="L731" class="LineNr">  731 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/2&quot;</span>)
<span id="L732" class="LineNr">  732 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/3&quot;</span>)
<span id="L733" class="LineNr">  733 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/4&quot;</span>)
<span id="L734" class="LineNr">  734 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/5&quot;</span>)
<span id="L735" class="LineNr">  735 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 0/subop/increment *(ebp+0x0000000c)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/6&quot;</span>)
<span id="L736" class="LineNr">  736 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/7&quot;</span>)
<span id="L737" class="LineNr">  737 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/8&quot;</span>)
<span id="L738" class="LineNr">  738 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-distinguishes-args/9&quot;</span>)
<span id="L739" class="LineNr">  739 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/10&quot;</span>)
<span id="L740" class="LineNr">  740 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/11&quot;</span>)
<span id="L741" class="LineNr">  741 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L706'>test-convert-function-distinguishes-args</a>/12&quot;</span>)
<span id="L742" class="LineNr">  742 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L743" class="LineNr">  743 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L744" class="LineNr">  744 </span>    5d/pop-to-ebp
<span id="L745" class="LineNr">  745 </span>    c3/return
<span id="L746" class="LineNr">  746 </span>
<span id="L747" class="LineNr">  747 </span><span class="subxTest">test-convert-function-returns-result</span>:
<span id="L748" class="LineNr">  748 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L749" class="LineNr">  749 </span>    55/push-ebp
<span id="L750" class="LineNr">  750 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L751" class="LineNr">  751 </span>    <span class="subxComment"># setup</span>
<span id="L752" class="LineNr">  752 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L753" class="LineNr">  753 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L754" class="LineNr">  754 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L755" class="LineNr">  755 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L756" class="LineNr">  756 </span>    <span class="subxComment">#</span>
<span id="L757" class="LineNr">  757 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: int, b: int -&gt; result/eax: int {\n&quot;</span>)
<span id="L758" class="LineNr">  758 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- copy a\n&quot;</span>)
<span id="L759" class="LineNr">  759 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- increment\n&quot;</span>)
<span id="L760" class="LineNr">  760 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L761" class="LineNr">  761 </span>    <span class="subxComment"># convert</span>
<span id="L762" class="LineNr">  762 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L763" class="LineNr">  763 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L764" class="Folded">  764 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L770" class="LineNr">  770 </span>    <span class="subxComment"># check output</span>
<span id="L771" class="LineNr">  771 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/0&quot;</span>)
<span id="L772" class="LineNr">  772 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-returns-result/1&quot;</span>)
<span id="L773" class="LineNr">  773 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/2&quot;</span>)
<span id="L774" class="LineNr">  774 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/3&quot;</span>)
<span id="L775" class="LineNr">  775 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/4&quot;</span>)
<span id="L776" class="LineNr">  776 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/5&quot;</span>)
<span id="L777" class="LineNr">  777 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/6&quot;</span>)
<span id="L778" class="LineNr">  778 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    40/increment-eax&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/7&quot;</span>)
<span id="L779" class="LineNr">  779 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/8&quot;</span>)
<span id="L780" class="LineNr">  780 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/9&quot;</span>)
<span id="L781" class="LineNr">  781 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-returns-result/10&quot;</span>)
<span id="L782" class="LineNr">  782 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/11&quot;</span>)
<span id="L783" class="LineNr">  783 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/12&quot;</span>)
<span id="L784" class="LineNr">  784 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L747'>test-convert-function-returns-result</a>/13&quot;</span>)
<span id="L785" class="LineNr">  785 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L786" class="LineNr">  786 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L787" class="LineNr">  787 </span>    5d/pop-to-ebp
<span id="L788" class="LineNr">  788 </span>    c3/return
<span id="L789" class="LineNr">  789 </span>
<span id="L790" class="LineNr">  790 </span><span class="subxTest">test-convert-function-with-literal-arg</span>:
<span id="L791" class="LineNr">  791 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L792" class="LineNr">  792 </span>    55/push-ebp
<span id="L793" class="LineNr">  793 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L794" class="LineNr">  794 </span>    <span class="subxComment"># setup</span>
<span id="L795" class="LineNr">  795 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L796" class="LineNr">  796 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L797" class="LineNr">  797 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L798" class="LineNr">  798 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L799" class="LineNr">  799 </span>    <span class="subxComment">#</span>
<span id="L800" class="LineNr">  800 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: int, b: int -&gt; result/eax: int {\n&quot;</span>)
<span id="L801" class="LineNr">  801 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- copy a\n&quot;</span>)
<span id="L802" class="LineNr">  802 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- add 1\n&quot;</span>)
<span id="L803" class="LineNr">  803 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L804" class="LineNr">  804 </span>    <span class="subxComment"># convert</span>
<span id="L805" class="LineNr">  805 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L806" class="LineNr">  806 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L807" class="Folded">  807 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L813" class="LineNr">  813 </span>    <span class="subxComment"># check output</span>
<span id="L814" class="LineNr">  814 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/0&quot;</span>)
<span id="L815" class="LineNr">  815 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-literal-arg/1&quot;</span>)
<span id="L816" class="LineNr">  816 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/2&quot;</span>)
<span id="L817" class="LineNr">  817 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/3&quot;</span>)
<span id="L818" class="LineNr">  818 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/4&quot;</span>)
<span id="L819" class="LineNr">  819 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/5&quot;</span>)
<span id="L820" class="LineNr">  820 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/6&quot;</span>)
<span id="L821" class="LineNr">  821 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    05/add-to-eax 1/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/7&quot;</span>)
<span id="L822" class="LineNr">  822 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/8&quot;</span>)
<span id="L823" class="LineNr">  823 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/9&quot;</span>)
<span id="L824" class="LineNr">  824 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-literal-arg/10&quot;</span>)
<span id="L825" class="LineNr">  825 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/11&quot;</span>)
<span id="L826" class="LineNr">  826 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/12&quot;</span>)
<span id="L827" class="LineNr">  827 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L790'>test-convert-function-with-literal-arg</a>/13&quot;</span>)
<span id="L828" class="LineNr">  828 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L829" class="LineNr">  829 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L830" class="LineNr">  830 </span>    5d/pop-to-ebp
<span id="L831" class="LineNr">  831 </span>    c3/return
<span id="L832" class="LineNr">  832 </span>
<span id="L833" class="LineNr">  833 </span><span class="subxTest">test-convert-function-with-literal-arg-2</span>:
<span id="L834" class="LineNr">  834 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L835" class="LineNr">  835 </span>    55/push-ebp
<span id="L836" class="LineNr">  836 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L837" class="LineNr">  837 </span>    <span class="subxComment"># setup</span>
<span id="L838" class="LineNr">  838 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L839" class="LineNr">  839 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L840" class="LineNr">  840 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L841" class="LineNr">  841 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L842" class="LineNr">  842 </span>    <span class="subxComment">#</span>
<span id="L843" class="LineNr">  843 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: int, b: int -&gt; result/ebx: int {\n&quot;</span>)
<span id="L844" class="LineNr">  844 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- copy a\n&quot;</span>)
<span id="L845" class="LineNr">  845 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- add 1\n&quot;</span>)
<span id="L846" class="LineNr">  846 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L847" class="LineNr">  847 </span>    <span class="subxComment"># convert</span>
<span id="L848" class="LineNr">  848 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L849" class="LineNr">  849 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L850" class="Folded">  850 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L856" class="LineNr">  856 </span>    <span class="subxComment"># check output</span>
<span id="L857" class="LineNr">  857 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/0&quot;</span>)
<span id="L858" class="LineNr">  858 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-literal-arg-2/1&quot;</span>)
<span id="L859" class="LineNr">  859 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/2&quot;</span>)
<span id="L860" class="LineNr">  860 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/3&quot;</span>)
<span id="L861" class="LineNr">  861 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/4&quot;</span>)
<span id="L862" class="LineNr">  862 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/5&quot;</span>)
<span id="L863" class="LineNr">  863 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000003/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/6&quot;</span>)
<span id="L864" class="LineNr">  864 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %ebx 1/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/7&quot;</span>)
<span id="L865" class="LineNr">  865 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/8&quot;</span>)
<span id="L866" class="LineNr">  866 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/9&quot;</span>)
<span id="L867" class="LineNr">  867 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-literal-arg-2/10&quot;</span>)
<span id="L868" class="LineNr">  868 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/11&quot;</span>)
<span id="L869" class="LineNr">  869 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/12&quot;</span>)
<span id="L870" class="LineNr">  870 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L833'>test-convert-function-with-literal-arg-2</a>/13&quot;</span>)
<span id="L871" class="LineNr">  871 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L872" class="LineNr">  872 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L873" class="LineNr">  873 </span>    5d/pop-to-ebp
<span id="L874" class="LineNr">  874 </span>    c3/return
<span id="L875" class="LineNr">  875 </span>
<span id="L876" class="LineNr">  876 </span><span class="subxTest">test-convert-function-call-with-literal-arg</span>:
<span id="L877" class="LineNr">  877 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L878" class="LineNr">  878 </span>    55/push-ebp
<span id="L879" class="LineNr">  879 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L880" class="LineNr">  880 </span>    <span class="subxComment"># setup</span>
<span id="L881" class="LineNr">  881 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L882" class="LineNr">  882 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L883" class="LineNr">  883 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L884" class="LineNr">  884 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L885" class="LineNr">  885 </span>    <span class="subxComment">#</span>
<span id="L886" class="LineNr">  886 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn main -&gt; result/ebx: int {\n&quot;</span>)
<span id="L887" class="LineNr">  887 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- do-add 3 4\n&quot;</span>)
<span id="L888" class="LineNr">  888 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L889" class="LineNr">  889 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn do-add a: int, b: int -&gt; result/ebx: int {\n&quot;</span>)
<span id="L890" class="LineNr">  890 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- copy a\n&quot;</span>)
<span id="L891" class="LineNr">  891 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- add b\n&quot;</span>)
<span id="L892" class="LineNr">  892 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L893" class="LineNr">  893 </span>    <span class="subxComment"># convert</span>
<span id="L894" class="LineNr">  894 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L895" class="LineNr">  895 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L896" class="Folded">  896 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L902" class="LineNr">  902 </span>    <span class="subxComment"># check output</span>
<span id="L903" class="LineNr">  903 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;main:&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/0&quot;</span>)
<span id="L904" class="LineNr">  904 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-literal-arg/1&quot;</span>)
<span id="L905" class="LineNr">  905 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/2&quot;</span>)
<span id="L906" class="LineNr">  906 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/3&quot;</span>)
<span id="L907" class="LineNr">  907 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/4&quot;</span>)
<span id="L908" class="LineNr">  908 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$main:0x00000001:loop:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/5&quot;</span>)
<span id="L909" class="LineNr">  909 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (do-add 3 4)&quot;</span>        <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/6&quot;</span>)
<span id="L910" class="LineNr">  910 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/7&quot;</span>)
<span id="L911" class="LineNr">  911 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$main:0x00000001:break:&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/8&quot;</span>)
<span id="L912" class="LineNr">  912 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-literal-arg/9&quot;</span>)
<span id="L913" class="LineNr">  913 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/10&quot;</span>)
<span id="L914" class="LineNr">  914 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/11&quot;</span>)
<span id="L915" class="LineNr">  915 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/12&quot;</span>)
<span id="L916" class="LineNr">  916 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;do-add:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/13&quot;</span>)
<span id="L917" class="LineNr">  917 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-literal-arg/14&quot;</span>)
<span id="L918" class="LineNr">  918 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/15&quot;</span>)
<span id="L919" class="LineNr">  919 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/16&quot;</span>)
<span id="L920" class="LineNr">  920 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/17&quot;</span>)
<span id="L921" class="LineNr">  921 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$do-add:0x00000002:loop:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/18&quot;</span>)
<span id="L922" class="LineNr">  922 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000003/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/19&quot;</span>)
<span id="L923" class="LineNr">  923 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    03/add *(ebp+0x0000000c) 0x00000003/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/20&quot;</span>)
<span id="L924" class="LineNr">  924 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/21&quot;</span>)
<span id="L925" class="LineNr">  925 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$do-add:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/22&quot;</span>)
<span id="L926" class="LineNr">  926 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-literal-arg/23&quot;</span>)
<span id="L927" class="LineNr">  927 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/24&quot;</span>)
<span id="L928" class="LineNr">  928 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/25&quot;</span>)
<span id="L929" class="LineNr">  929 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L876'>test-convert-function-call-with-literal-arg</a>/26&quot;</span>)
<span id="L930" class="LineNr">  930 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L931" class="LineNr">  931 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L932" class="LineNr">  932 </span>    5d/pop-to-ebp
<span id="L933" class="LineNr">  933 </span>    c3/return
<span id="L934" class="LineNr">  934 </span>
<span id="L935" class="LineNr">  935 </span><span class="subxTest">test-convert-function-call-with-signature</span>:
<span id="L936" class="LineNr">  936 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L937" class="LineNr">  937 </span>    55/push-ebp
<span id="L938" class="LineNr">  938 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L939" class="LineNr">  939 </span>    <span class="subxComment"># setup</span>
<span id="L940" class="LineNr">  940 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L941" class="LineNr">  941 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L942" class="LineNr">  942 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L943" class="LineNr">  943 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L944" class="LineNr">  944 </span>    <span class="subxComment">#</span>
<span id="L945" class="LineNr">  945 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn main -&gt; result/ebx: int {\n&quot;</span>)
<span id="L946" class="LineNr">  946 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- do-add 3 4\n&quot;</span>)
<span id="L947" class="LineNr">  947 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L948" class="LineNr">  948 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;sig do-add a: int, b: int -&gt; result/ebx: int\n&quot;</span>)
<span id="L949" class="LineNr">  949 </span>    <span class="subxComment"># convert</span>
<span id="L950" class="LineNr">  950 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L951" class="LineNr">  951 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L952" class="Folded">  952 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L958" class="LineNr">  958 </span>    <span class="subxComment"># check output</span>
<span id="L959" class="LineNr">  959 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;main:&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/0&quot;</span>)
<span id="L960" class="LineNr">  960 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-signature/1&quot;</span>)
<span id="L961" class="LineNr">  961 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/2&quot;</span>)
<span id="L962" class="LineNr">  962 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/3&quot;</span>)
<span id="L963" class="LineNr">  963 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/4&quot;</span>)
<span id="L964" class="LineNr">  964 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$main:0x00000001:loop:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/5&quot;</span>)
<span id="L965" class="LineNr">  965 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (do-add 3 4)&quot;</span>        <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/6&quot;</span>)
<span id="L966" class="LineNr">  966 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/7&quot;</span>)
<span id="L967" class="LineNr">  967 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$main:0x00000001:break:&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/8&quot;</span>)
<span id="L968" class="LineNr">  968 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-signature/9&quot;</span>)
<span id="L969" class="LineNr">  969 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/10&quot;</span>)
<span id="L970" class="LineNr">  970 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/11&quot;</span>)
<span id="L971" class="LineNr">  971 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L935'>test-convert-function-call-with-signature</a>/12&quot;</span>)
<span id="L972" class="LineNr">  972 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L973" class="LineNr">  973 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L974" class="LineNr">  974 </span>    5d/pop-to-ebp
<span id="L975" class="LineNr">  975 </span>    c3/return
<span id="L976" class="LineNr">  976 </span>
<span id="L977" class="LineNr">  977 </span><span class="subxTest">test-convert-function-with-local-var-in-mem</span>:
<span id="L978" class="LineNr">  978 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L979" class="LineNr">  979 </span>    55/push-ebp
<span id="L980" class="LineNr">  980 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L981" class="LineNr">  981 </span>    <span class="subxComment"># setup</span>
<span id="L982" class="LineNr">  982 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L983" class="LineNr">  983 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L984" class="LineNr">  984 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L985" class="LineNr">  985 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L986" class="LineNr">  986 </span>    <span class="subxComment">#</span>
<span id="L987" class="LineNr">  987 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L988" class="LineNr">  988 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: int\n&quot;</span>)
<span id="L989" class="LineNr">  989 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment x\n&quot;</span>)
<span id="L990" class="LineNr">  990 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L991" class="LineNr">  991 </span>    <span class="subxComment"># convert</span>
<span id="L992" class="LineNr">  992 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L993" class="LineNr">  993 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L994" class="Folded">  994 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1000" class="LineNr"> 1000 </span>    <span class="subxComment"># check output</span>
<span id="L1001" class="LineNr"> 1001 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/0&quot;</span>)
<span id="L1002" class="LineNr"> 1002 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-mem/1&quot;</span>)
<span id="L1003" class="LineNr"> 1003 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/2&quot;</span>)
<span id="L1004" class="LineNr"> 1004 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/3&quot;</span>)
<span id="L1005" class="LineNr"> 1005 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/4&quot;</span>)
<span id="L1006" class="LineNr"> 1006 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/5&quot;</span>)
<span id="L1007" class="LineNr"> 1007 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/6&quot;</span>)
<span id="L1008" class="LineNr"> 1008 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/7&quot;</span>)
<span id="L1009" class="LineNr"> 1009 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/8&quot;</span>)
<span id="L1010" class="LineNr"> 1010 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/9&quot;</span>)
<span id="L1011" class="LineNr"> 1011 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/10&quot;</span>)
<span id="L1012" class="LineNr"> 1012 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-mem/11&quot;</span>)
<span id="L1013" class="LineNr"> 1013 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/12&quot;</span>)
<span id="L1014" class="LineNr"> 1014 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/13&quot;</span>)
<span id="L1015" class="LineNr"> 1015 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L977'>test-convert-function-with-local-var-in-mem</a>/14&quot;</span>)
<span id="L1016" class="LineNr"> 1016 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1017" class="LineNr"> 1017 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1018" class="LineNr"> 1018 </span>    5d/pop-to-ebp
<span id="L1019" class="LineNr"> 1019 </span>    c3/return
<span id="L1020" class="LineNr"> 1020 </span>
<span id="L1021" class="LineNr"> 1021 </span><span class="subxTest">test-convert-invalid-literal</span>:
<span id="L1022" class="LineNr"> 1022 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1023" class="LineNr"> 1023 </span>    55/push-ebp
<span id="L1024" class="LineNr"> 1024 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1025" class="LineNr"> 1025 </span>    <span class="subxComment"># setup</span>
<span id="L1026" class="LineNr"> 1026 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1027" class="LineNr"> 1027 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1028" class="LineNr"> 1028 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1029" class="LineNr"> 1029 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1030" class="LineNr"> 1030 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1031" class="LineNr"> 1031 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1032" class="LineNr"> 1032 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1033" class="LineNr"> 1033 </span>    68/push 0/imm32
<span id="L1034" class="LineNr"> 1034 </span>    68/push 0/imm32
<span id="L1035" class="LineNr"> 1035 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1036" class="LineNr"> 1036 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1037" class="LineNr"> 1037 </span>    <span class="subxComment">#</span>
<span id="L1038" class="LineNr"> 1038 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1039" class="LineNr"> 1039 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment 1n\n&quot;</span>)
<span id="L1040" class="LineNr"> 1040 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1041" class="LineNr"> 1041 </span>    <span class="subxComment"># convert</span>
<span id="L1042" class="LineNr"> 1042 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1043" class="LineNr"> 1043 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1044" class="LineNr"> 1044 </span>    <span class="subxComment"># restore ed</span>
<span id="L1045" class="LineNr"> 1045 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1046" class="LineNr"> 1046 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1047" class="LineNr"> 1047 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1048" class="Folded"> 1048 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1054" class="LineNr"> 1054 </span>    <span class="subxComment"># check output</span>
<span id="L1055" class="LineNr"> 1055 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1021'>test-convert-invalid-literal</a>: output should be empty&quot;</span>)
<span id="L1056" class="LineNr"> 1056 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: variable '1n' cannot begin with a digit (or do you have a typo in a number?)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1021'>test-convert-invalid-literal</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1057" class="LineNr"> 1057 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1058" class="LineNr"> 1058 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1021'>test-convert-invalid-literal</a>: exit status&quot;</span>)
<span id="L1059" class="LineNr"> 1059 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1060" class="LineNr"> 1060 </span>    81 0/subop/add %esp 8/imm32
<span id="L1061" class="LineNr"> 1061 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1062" class="LineNr"> 1062 </span>    5d/pop-to-ebp
<span id="L1063" class="LineNr"> 1063 </span>    c3/return
<span id="L1064" class="LineNr"> 1064 </span>
<span id="L1065" class="LineNr"> 1065 </span><span class="subxTest">test-local-var-in-mem-has-no-initializer</span>:
<span id="L1066" class="LineNr"> 1066 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1067" class="LineNr"> 1067 </span>    55/push-ebp
<span id="L1068" class="LineNr"> 1068 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1069" class="LineNr"> 1069 </span>    <span class="subxComment"># setup</span>
<span id="L1070" class="LineNr"> 1070 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1071" class="LineNr"> 1071 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1072" class="LineNr"> 1072 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1073" class="LineNr"> 1073 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1074" class="LineNr"> 1074 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1075" class="LineNr"> 1075 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1076" class="LineNr"> 1076 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1077" class="LineNr"> 1077 </span>    68/push 0/imm32
<span id="L1078" class="LineNr"> 1078 </span>    68/push 0/imm32
<span id="L1079" class="LineNr"> 1079 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1080" class="LineNr"> 1080 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1081" class="LineNr"> 1081 </span>    <span class="subxComment">#</span>
<span id="L1082" class="LineNr"> 1082 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1083" class="LineNr"> 1083 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: int &lt;- copy 0\n&quot;</span>)
<span id="L1084" class="LineNr"> 1084 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment x\n&quot;</span>)
<span id="L1085" class="LineNr"> 1085 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1086" class="LineNr"> 1086 </span>    <span class="subxComment"># convert</span>
<span id="L1087" class="LineNr"> 1087 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1088" class="LineNr"> 1088 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1089" class="LineNr"> 1089 </span>    <span class="subxComment"># restore ed</span>
<span id="L1090" class="LineNr"> 1090 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1091" class="LineNr"> 1091 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1092" class="LineNr"> 1092 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1093" class="Folded"> 1093 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1099" class="LineNr"> 1099 </span>    <span class="subxComment"># check output</span>
<span id="L1100" class="LineNr"> 1100 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - test-var-in-mem-has-no-initializer: output should be empty&quot;</span>)
<span id="L1101" class="LineNr"> 1101 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: var x: variables on the stack can't take an initializer&quot;</span>  <span class="Constant">&quot;F - test-var-in-mem-has-no-initializer: error message&quot;</span>)
<span id="L1102" class="LineNr"> 1102 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1103" class="LineNr"> 1103 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - test-var-in-mem-has-no-initializer: exit status&quot;</span>)
<span id="L1104" class="LineNr"> 1104 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1105" class="LineNr"> 1105 </span>    81 0/subop/add %esp 8/imm32
<span id="L1106" class="LineNr"> 1106 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1107" class="LineNr"> 1107 </span>    5d/pop-to-ebp
<span id="L1108" class="LineNr"> 1108 </span>    c3/return
<span id="L1109" class="LineNr"> 1109 </span>
<span id="L1110" class="LineNr"> 1110 </span><span class="subxTest">test-convert-function-with-local-var-with-compound-type-in-mem</span>:
<span id="L1111" class="LineNr"> 1111 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1112" class="LineNr"> 1112 </span>    55/push-ebp
<span id="L1113" class="LineNr"> 1113 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1114" class="LineNr"> 1114 </span>    <span class="subxComment"># setup</span>
<span id="L1115" class="LineNr"> 1115 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1116" class="LineNr"> 1116 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1117" class="LineNr"> 1117 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1118" class="LineNr"> 1118 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1119" class="LineNr"> 1119 </span>    <span class="subxComment">#</span>
<span id="L1120" class="LineNr"> 1120 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1121" class="LineNr"> 1121 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr int)\n&quot;</span>)
<span id="L1122" class="LineNr"> 1122 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  copy-to x, 0\n&quot;</span>)
<span id="L1123" class="LineNr"> 1123 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1124" class="LineNr"> 1124 </span>    <span class="subxComment"># convert</span>
<span id="L1125" class="LineNr"> 1125 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L1126" class="LineNr"> 1126 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1127" class="Folded"> 1127 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1133" class="LineNr"> 1133 </span>    <span class="subxComment"># check output</span>
<span id="L1134" class="LineNr"> 1134 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/0&quot;</span>)
<span id="L1135" class="LineNr"> 1135 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-with-compound-type-in-mem/1&quot;</span>)
<span id="L1136" class="LineNr"> 1136 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/2&quot;</span>)
<span id="L1137" class="LineNr"> 1137 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/3&quot;</span>)
<span id="L1138" class="LineNr"> 1138 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/4&quot;</span>)
<span id="L1139" class="LineNr"> 1139 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/5&quot;</span>)
<span id="L1140" class="LineNr"> 1140 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/6&quot;</span>)
<span id="L1141" class="LineNr"> 1141 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    c7 0/subop/copy *(ebp+0xfffffffc) 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/7&quot;</span>)
<span id="L1142" class="LineNr"> 1142 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/8&quot;</span>)
<span id="L1143" class="LineNr"> 1143 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/9&quot;</span>)
<span id="L1144" class="LineNr"> 1144 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/10&quot;</span>)
<span id="L1145" class="LineNr"> 1145 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-with-compound-type-in-mem/11&quot;</span>)
<span id="L1146" class="LineNr"> 1146 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/12&quot;</span>)
<span id="L1147" class="LineNr"> 1147 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/13&quot;</span>)
<span id="L1148" class="LineNr"> 1148 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1110'>test-convert-function-with-local-var-with-compound-type-in-mem</a>/14&quot;</span>)
<span id="L1149" class="LineNr"> 1149 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1150" class="LineNr"> 1150 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1151" class="LineNr"> 1151 </span>    5d/pop-to-ebp
<span id="L1152" class="LineNr"> 1152 </span>    c3/return
<span id="L1153" class="LineNr"> 1153 </span>
<span id="L1154" class="LineNr"> 1154 </span><span class="subxTest">test-convert-function-with-local-var-in-reg</span>:
<span id="L1155" class="LineNr"> 1155 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1156" class="LineNr"> 1156 </span>    55/push-ebp
<span id="L1157" class="LineNr"> 1157 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1158" class="LineNr"> 1158 </span>    <span class="subxComment"># setup</span>
<span id="L1159" class="LineNr"> 1159 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1160" class="LineNr"> 1160 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1161" class="LineNr"> 1161 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1162" class="LineNr"> 1162 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1163" class="LineNr"> 1163 </span>    <span class="subxComment">#</span>
<span id="L1164" class="LineNr"> 1164 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1165" class="LineNr"> 1165 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L1166" class="LineNr"> 1166 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- increment\n&quot;</span>)
<span id="L1167" class="LineNr"> 1167 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1168" class="LineNr"> 1168 </span>    <span class="subxComment"># convert</span>
<span id="L1169" class="LineNr"> 1169 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L1170" class="LineNr"> 1170 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1171" class="Folded"> 1171 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1177" class="LineNr"> 1177 </span>    <span class="subxComment"># check output</span>
<span id="L1178" class="LineNr"> 1178 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/0&quot;</span>)
<span id="L1179" class="LineNr"> 1179 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-reg/1&quot;</span>)
<span id="L1180" class="LineNr"> 1180 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/2&quot;</span>)
<span id="L1181" class="LineNr"> 1181 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/3&quot;</span>)
<span id="L1182" class="LineNr"> 1182 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/4&quot;</span>)
<span id="L1183" class="LineNr"> 1183 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/5&quot;</span>)
<span id="L1184" class="LineNr"> 1184 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/6&quot;</span>)
<span id="L1185" class="LineNr"> 1185 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/7&quot;</span>)
<span id="L1186" class="LineNr"> 1186 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/8&quot;</span>)
<span id="L1187" class="LineNr"> 1187 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/9&quot;</span>)
<span id="L1188" class="LineNr"> 1188 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/10&quot;</span>)
<span id="L1189" class="LineNr"> 1189 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/11&quot;</span>)
<span id="L1190" class="LineNr"> 1190 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-reg/12&quot;</span>)
<span id="L1191" class="LineNr"> 1191 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/13&quot;</span>)
<span id="L1192" class="LineNr"> 1192 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/14&quot;</span>)
<span id="L1193" class="LineNr"> 1193 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1154'>test-convert-function-with-local-var-in-reg</a>/15&quot;</span>)
<span id="L1194" class="LineNr"> 1194 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1195" class="LineNr"> 1195 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1196" class="LineNr"> 1196 </span>    5d/pop-to-ebp
<span id="L1197" class="LineNr"> 1197 </span>    c3/return
<span id="L1198" class="LineNr"> 1198 </span>
<span id="L1199" class="LineNr"> 1199 </span><span class="subxTest">test-convert-function-with-allocate</span>:
<span id="L1200" class="LineNr"> 1200 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1201" class="LineNr"> 1201 </span>    55/push-ebp
<span id="L1202" class="LineNr"> 1202 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1203" class="LineNr"> 1203 </span>    <span class="subxComment"># setup</span>
<span id="L1204" class="LineNr"> 1204 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1205" class="LineNr"> 1205 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1206" class="LineNr"> 1206 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1207" class="LineNr"> 1207 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1208" class="LineNr"> 1208 </span>    <span class="subxComment">#</span>
<span id="L1209" class="LineNr"> 1209 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1210" class="LineNr"> 1210 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: (addr handle int) &lt;- copy 0\n&quot;</span>)
<span id="L1211" class="LineNr"> 1211 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  <a href='../120allocate.subx.html#L66'>allocate</a> x\n&quot;</span>)
<span id="L1212" class="LineNr"> 1212 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1213" class="LineNr"> 1213 </span>    <span class="subxComment"># convert</span>
<span id="L1214" class="LineNr"> 1214 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L1215" class="LineNr"> 1215 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1216" class="Folded"> 1216 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1222" class="LineNr"> 1222 </span>    <span class="subxComment"># check output</span>
<span id="L1223" class="LineNr"> 1223 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/0&quot;</span>)
<span id="L1224" class="LineNr"> 1224 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-allocate/1&quot;</span>)
<span id="L1225" class="LineNr"> 1225 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/2&quot;</span>)
<span id="L1226" class="LineNr"> 1226 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/3&quot;</span>)
<span id="L1227" class="LineNr"> 1227 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/4&quot;</span>)
<span id="L1228" class="LineNr"> 1228 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/5&quot;</span>)
<span id="L1229" class="LineNr"> 1229 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/6&quot;</span>)
<span id="L1230" class="LineNr"> 1230 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/7&quot;</span>)
<span id="L1231" class="LineNr"> 1231 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../120allocate.subx.html#L66'>allocate</a> <a href='../120allocate.subx.html#L27'>Heap</a> 0x00000004 %ecx)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/8&quot;</span>)  <span class="subxComment"># 4 = size-of(int)</span>
<span id="L1232" class="LineNr"> 1232 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/9&quot;</span>)
<span id="L1233" class="LineNr"> 1233 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/10&quot;</span>)
<span id="L1234" class="LineNr"> 1234 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/11&quot;</span>)
<span id="L1235" class="LineNr"> 1235 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-allocate/12&quot;</span>)
<span id="L1236" class="LineNr"> 1236 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/13&quot;</span>)
<span id="L1237" class="LineNr"> 1237 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/14&quot;</span>)
<span id="L1238" class="LineNr"> 1238 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1199'>test-convert-function-with-allocate</a>/15&quot;</span>)
<span id="L1239" class="LineNr"> 1239 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1240" class="LineNr"> 1240 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1241" class="LineNr"> 1241 </span>    5d/pop-to-ebp
<span id="L1242" class="LineNr"> 1242 </span>    c3/return
<span id="L1243" class="LineNr"> 1243 </span>
<span id="L1244" class="LineNr"> 1244 </span><span class="subxTest">test-initializer-in-hex</span>:
<span id="L1245" class="LineNr"> 1245 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1246" class="LineNr"> 1246 </span>    55/push-ebp
<span id="L1247" class="LineNr"> 1247 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1248" class="LineNr"> 1248 </span>    <span class="subxComment"># setup</span>
<span id="L1249" class="LineNr"> 1249 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1250" class="LineNr"> 1250 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1251" class="LineNr"> 1251 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1252" class="LineNr"> 1252 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1253" class="LineNr"> 1253 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1254" class="LineNr"> 1254 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1255" class="LineNr"> 1255 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1256" class="LineNr"> 1256 </span>    68/push 0/imm32
<span id="L1257" class="LineNr"> 1257 </span>    68/push 0/imm32
<span id="L1258" class="LineNr"> 1258 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1259" class="LineNr"> 1259 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1260" class="LineNr"> 1260 </span>    <span class="subxComment">#</span>
<span id="L1261" class="LineNr"> 1261 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1262" class="LineNr"> 1262 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 10\n&quot;</span>)
<span id="L1263" class="LineNr"> 1263 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1264" class="LineNr"> 1264 </span>    <span class="subxComment"># convert</span>
<span id="L1265" class="LineNr"> 1265 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1266" class="LineNr"> 1266 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1267" class="LineNr"> 1267 </span>    <span class="subxComment"># restore ed</span>
<span id="L1268" class="LineNr"> 1268 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1269" class="LineNr"> 1269 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1270" class="LineNr"> 1270 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1271" class="Folded"> 1271 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1277" class="LineNr"> 1277 </span>    <span class="subxComment"># check output</span>
<span id="L1278" class="LineNr"> 1278 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1244'>test-initializer-in-hex</a>: output should be empty&quot;</span>)
<span id="L1279" class="LineNr"> 1279 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;literal integers are always hex in Mu; either start '10' with a '0x' to be unambiguous, or convert it to decimal.&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1244'>test-initializer-in-hex</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1280" class="LineNr"> 1280 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1281" class="LineNr"> 1281 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1244'>test-initializer-in-hex</a>: exit status&quot;</span>)
<span id="L1282" class="LineNr"> 1282 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1283" class="LineNr"> 1283 </span>    81 0/subop/add %esp 8/imm32
<span id="L1284" class="LineNr"> 1284 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1285" class="LineNr"> 1285 </span>    5d/pop-to-ebp
<span id="L1286" class="LineNr"> 1286 </span>    c3/return
<span id="L1287" class="LineNr"> 1287 </span>
<span id="L1288" class="LineNr"> 1288 </span><span class="subxTest">test-convert-function-with-second-local-var-in-same-reg</span>:
<span id="L1289" class="LineNr"> 1289 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1290" class="LineNr"> 1290 </span>    55/push-ebp
<span id="L1291" class="LineNr"> 1291 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1292" class="LineNr"> 1292 </span>    <span class="subxComment"># setup</span>
<span id="L1293" class="LineNr"> 1293 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1294" class="LineNr"> 1294 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1295" class="LineNr"> 1295 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1296" class="LineNr"> 1296 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1297" class="LineNr"> 1297 </span>    <span class="subxComment">#</span>
<span id="L1298" class="LineNr"> 1298 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1299" class="LineNr"> 1299 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L1300" class="LineNr"> 1300 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L1301" class="LineNr"> 1301 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y &lt;- increment\n&quot;</span>)
<span id="L1302" class="LineNr"> 1302 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1303" class="LineNr"> 1303 </span>    <span class="subxComment"># convert</span>
<span id="L1304" class="LineNr"> 1304 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L1305" class="LineNr"> 1305 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1306" class="Folded"> 1306 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1312" class="LineNr"> 1312 </span>    <span class="subxComment"># check output</span>
<span id="L1313" class="LineNr"> 1313 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/0&quot;</span>)
<span id="L1314" class="LineNr"> 1314 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-second-local-var-in-same-reg/1&quot;</span>)
<span id="L1315" class="LineNr"> 1315 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/2&quot;</span>)
<span id="L1316" class="LineNr"> 1316 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/3&quot;</span>)
<span id="L1317" class="LineNr"> 1317 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/4&quot;</span>)
<span id="L1318" class="LineNr"> 1318 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/5&quot;</span>)
<span id="L1319" class="LineNr"> 1319 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/6&quot;</span>)
<span id="L1320" class="LineNr"> 1320 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/7&quot;</span>)
<span id="L1321" class="LineNr"> 1321 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/8&quot;</span>)
<span id="L1322" class="LineNr"> 1322 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/9&quot;</span>)
<span id="L1323" class="LineNr"> 1323 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/10&quot;</span>)
<span id="L1324" class="LineNr"> 1324 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/11&quot;</span>)
<span id="L1325" class="LineNr"> 1325 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/12&quot;</span>)
<span id="L1326" class="LineNr"> 1326 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-second-local-var-in-same-reg/13&quot;</span>)
<span id="L1327" class="LineNr"> 1327 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/14&quot;</span>)
<span id="L1328" class="LineNr"> 1328 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/15&quot;</span>)
<span id="L1329" class="LineNr"> 1329 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1288'>test-convert-function-with-second-local-var-in-same-reg</a>/16&quot;</span>)
<span id="L1330" class="LineNr"> 1330 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1331" class="LineNr"> 1331 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1332" class="LineNr"> 1332 </span>    5d/pop-to-ebp
<span id="L1333" class="LineNr"> 1333 </span>    c3/return
<span id="L1334" class="LineNr"> 1334 </span>
<span id="L1335" class="LineNr"> 1335 </span><span class="subxTest">test-read-clobbered-reg-var</span>:
<span id="L1336" class="LineNr"> 1336 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1337" class="LineNr"> 1337 </span>    55/push-ebp
<span id="L1338" class="LineNr"> 1338 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1339" class="LineNr"> 1339 </span>    <span class="subxComment"># setup</span>
<span id="L1340" class="LineNr"> 1340 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1341" class="LineNr"> 1341 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1342" class="LineNr"> 1342 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1343" class="LineNr"> 1343 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1344" class="LineNr"> 1344 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1345" class="LineNr"> 1345 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1346" class="LineNr"> 1346 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)  # bytes of args in call to convert-mu</span>
<span id="L1347" class="LineNr"> 1347 </span>    68/push 0/imm32
<span id="L1348" class="LineNr"> 1348 </span>    68/push 0/imm32
<span id="L1349" class="LineNr"> 1349 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1350" class="LineNr"> 1350 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1351" class="LineNr"> 1351 </span>    <span class="subxComment">#</span>
<span id="L1352" class="LineNr"> 1352 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L1353" class="LineNr"> 1353 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L1354" class="LineNr"> 1354 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L1355" class="LineNr"> 1355 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- increment\n&quot;</span>)
<span id="L1356" class="LineNr"> 1356 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1357" class="LineNr"> 1357 </span>    <span class="subxComment"># convert</span>
<span id="L1358" class="LineNr"> 1358 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1359" class="LineNr"> 1359 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1360" class="LineNr"> 1360 </span>    <span class="subxComment"># restore ed</span>
<span id="L1361" class="LineNr"> 1361 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1362" class="LineNr"> 1362 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1363" class="LineNr"> 1363 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1364" class="Folded"> 1364 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1370" class="LineNr"> 1370 </span>    <span class="subxComment"># check output</span>
<span id="L1371" class="LineNr"> 1371 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1335'>test-read-clobbered-reg-var</a>: output should be empty&quot;</span>)
<span id="L1372" class="LineNr"> 1372 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: register ecx reads var 'x' after writing var 'y'&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1335'>test-read-clobbered-reg-var</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1373" class="LineNr"> 1373 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1374" class="LineNr"> 1374 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1335'>test-read-clobbered-reg-var</a>: exit status&quot;</span>)
<span id="L1375" class="LineNr"> 1375 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1376" class="LineNr"> 1376 </span>    81 0/subop/add %esp 8/imm32
<span id="L1377" class="LineNr"> 1377 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1378" class="LineNr"> 1378 </span>    5d/pop-to-ebp
<span id="L1379" class="LineNr"> 1379 </span>    c3/return
<span id="L1380" class="LineNr"> 1380 </span>
<span id="L1381" class="LineNr"> 1381 </span><span class="subxTest">test-convert-function-call</span>:
<span id="L1382" class="LineNr"> 1382 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1383" class="LineNr"> 1383 </span>    55/push-ebp
<span id="L1384" class="LineNr"> 1384 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1385" class="LineNr"> 1385 </span>    <span class="subxComment"># setup</span>
<span id="L1386" class="LineNr"> 1386 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1387" class="LineNr"> 1387 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1388" class="LineNr"> 1388 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1389" class="LineNr"> 1389 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1390" class="LineNr"> 1390 </span>    <span class="subxComment">#</span>
<span id="L1391" class="LineNr"> 1391 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn main -&gt; result/ebx: int {\n&quot;</span>)
<span id="L1392" class="LineNr"> 1392 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- foo\n&quot;</span>)
<span id="L1393" class="LineNr"> 1393 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1394" class="LineNr"> 1394 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo -&gt; result/ebx: int {\n&quot;</span>)
<span id="L1395" class="LineNr"> 1395 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  result &lt;- copy 3\n&quot;</span>)
<span id="L1396" class="LineNr"> 1396 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1397" class="LineNr"> 1397 </span>    <span class="subxComment"># convert</span>
<span id="L1398" class="LineNr"> 1398 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L1399" class="LineNr"> 1399 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1400" class="Folded"> 1400 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1406" class="LineNr"> 1406 </span>    <span class="subxComment"># check output</span>
<span id="L1407" class="LineNr"> 1407 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;main:&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/0&quot;</span>)
<span id="L1408" class="LineNr"> 1408 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call/1&quot;</span>)
<span id="L1409" class="LineNr"> 1409 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/2&quot;</span>)
<span id="L1410" class="LineNr"> 1410 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/3&quot;</span>)
<span id="L1411" class="LineNr"> 1411 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/4&quot;</span>)
<span id="L1412" class="LineNr"> 1412 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$main:0x00000001:loop:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/5&quot;</span>)
<span id="L1413" class="LineNr"> 1413 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (foo)&quot;</span>               <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/6&quot;</span>)
<span id="L1414" class="LineNr"> 1414 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/7&quot;</span>)
<span id="L1415" class="LineNr"> 1415 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$main:0x00000001:break:&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/8&quot;</span>)
<span id="L1416" class="LineNr"> 1416 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call/9&quot;</span>)
<span id="L1417" class="LineNr"> 1417 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/10&quot;</span>)
<span id="L1418" class="LineNr"> 1418 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/11&quot;</span>)
<span id="L1419" class="LineNr"> 1419 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/12&quot;</span>)
<span id="L1420" class="LineNr"> 1420 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/13&quot;</span>)
<span id="L1421" class="LineNr"> 1421 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call/14&quot;</span>)
<span id="L1422" class="LineNr"> 1422 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/15&quot;</span>)
<span id="L1423" class="LineNr"> 1423 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/16&quot;</span>)
<span id="L1424" class="LineNr"> 1424 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/17&quot;</span>)
<span id="L1425" class="LineNr"> 1425 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/18&quot;</span>)
<span id="L1426" class="LineNr"> 1426 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    bb/copy-to-ebx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/19&quot;</span>)
<span id="L1427" class="LineNr"> 1427 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/20&quot;</span>)
<span id="L1428" class="LineNr"> 1428 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/21&quot;</span>)
<span id="L1429" class="LineNr"> 1429 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call/22&quot;</span>)
<span id="L1430" class="LineNr"> 1430 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/23&quot;</span>)
<span id="L1431" class="LineNr"> 1431 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/24&quot;</span>)
<span id="L1432" class="LineNr"> 1432 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1381'>test-convert-function-call</a>/25&quot;</span>)
<span id="L1433" class="LineNr"> 1433 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1434" class="LineNr"> 1434 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1435" class="LineNr"> 1435 </span>    5d/pop-to-ebp
<span id="L1436" class="LineNr"> 1436 </span>    c3/return
<span id="L1437" class="LineNr"> 1437 </span>
<span id="L1438" class="LineNr"> 1438 </span><span class="subxTest">test-convert-function-call-with-inout-with-compound-type</span>:
<span id="L1439" class="LineNr"> 1439 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1440" class="LineNr"> 1440 </span>    55/push-ebp
<span id="L1441" class="LineNr"> 1441 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1442" class="LineNr"> 1442 </span>    <span class="subxComment"># setup</span>
<span id="L1443" class="LineNr"> 1443 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1444" class="LineNr"> 1444 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1445" class="LineNr"> 1445 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1446" class="LineNr"> 1446 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1447" class="LineNr"> 1447 </span>    <span class="subxComment">#</span>
<span id="L1448" class="LineNr"> 1448 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1449" class="LineNr"> 1449 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr int)\n&quot;</span>)
<span id="L1450" class="LineNr"> 1450 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x\n&quot;</span>)
<span id="L1451" class="LineNr"> 1451 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1452" class="LineNr"> 1452 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: (addr int) {\n&quot;</span>)
<span id="L1453" class="LineNr"> 1453 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1454" class="LineNr"> 1454 </span>    <span class="subxComment"># convert</span>
<span id="L1455" class="LineNr"> 1455 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L1456" class="LineNr"> 1456 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1457" class="Folded"> 1457 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1463" class="LineNr"> 1463 </span>    <span class="subxComment"># check output</span>
<span id="L1464" class="LineNr"> 1464 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;f:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/0&quot;</span>)
<span id="L1465" class="LineNr"> 1465 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-inout-with-compound-type/1&quot;</span>)
<span id="L1466" class="LineNr"> 1466 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/2&quot;</span>)
<span id="L1467" class="LineNr"> 1467 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/3&quot;</span>)
<span id="L1468" class="LineNr"> 1468 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/4&quot;</span>)
<span id="L1469" class="LineNr"> 1469 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:loop:&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/5&quot;</span>)
<span id="L1470" class="LineNr"> 1470 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/6&quot;</span>)
<span id="L1471" class="LineNr"> 1471 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (g *(ebp+0xfffffffc))&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/7&quot;</span>)
<span id="L1472" class="LineNr"> 1472 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/8&quot;</span>)
<span id="L1473" class="LineNr"> 1473 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/9&quot;</span>)
<span id="L1474" class="LineNr"> 1474 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:break:&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/10&quot;</span>)
<span id="L1475" class="LineNr"> 1475 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-inout-with-compound-type/11&quot;</span>)
<span id="L1476" class="LineNr"> 1476 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/12&quot;</span>)
<span id="L1477" class="LineNr"> 1477 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/13&quot;</span>)
<span id="L1478" class="LineNr"> 1478 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/14&quot;</span>)
<span id="L1479" class="LineNr"> 1479 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;g:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/15&quot;</span>)
<span id="L1480" class="LineNr"> 1480 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-inout-with-compound-type/16&quot;</span>)
<span id="L1481" class="LineNr"> 1481 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/17&quot;</span>)
<span id="L1482" class="LineNr"> 1482 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/18&quot;</span>)
<span id="L1483" class="LineNr"> 1483 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-inout-with-compound-type/19&quot;</span>)
<span id="L1484" class="LineNr"> 1484 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/20&quot;</span>)
<span id="L1485" class="LineNr"> 1485 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/21&quot;</span>)
<span id="L1486" class="LineNr"> 1486 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L1438'>test-convert-function-call-with-inout-with-compound-type</a>/22&quot;</span>)
<span id="L1487" class="LineNr"> 1487 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1488" class="LineNr"> 1488 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L1489" class="LineNr"> 1489 </span>    5d/pop-to-ebp
<span id="L1490" class="LineNr"> 1490 </span>    c3/return
<span id="L1491" class="LineNr"> 1491 </span>
<span id="L1492" class="LineNr"> 1492 </span><span class="subxTest">test-convert-function-call-with-inout-with-type-parameter</span>:
<span id="L1493" class="LineNr"> 1493 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1494" class="LineNr"> 1494 </span>    55/push-ebp
<span id="L1495" class="LineNr"> 1495 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1496" class="LineNr"> 1496 </span>    <span class="subxComment"># setup</span>
<span id="L1497" class="LineNr"> 1497 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1498" class="LineNr"> 1498 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1499" class="LineNr"> 1499 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1500" class="LineNr"> 1500 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1501" class="LineNr"> 1501 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1502" class="LineNr"> 1502 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1503" class="LineNr"> 1503 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1504" class="LineNr"> 1504 </span>    68/push 0/imm32
<span id="L1505" class="LineNr"> 1505 </span>    68/push 0/imm32
<span id="L1506" class="LineNr"> 1506 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1507" class="LineNr"> 1507 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1508" class="LineNr"> 1508 </span>    <span class="subxComment">#</span>
<span id="L1509" class="LineNr"> 1509 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1510" class="LineNr"> 1510 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr int)\n&quot;</span>)
<span id="L1511" class="LineNr"> 1511 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x\n&quot;</span>)
<span id="L1512" class="LineNr"> 1512 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1513" class="LineNr"> 1513 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: (addr _) {\n&quot;</span>)
<span id="L1514" class="LineNr"> 1514 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1515" class="LineNr"> 1515 </span>    <span class="subxComment"># convert</span>
<span id="L1516" class="LineNr"> 1516 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1517" class="LineNr"> 1517 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1518" class="LineNr"> 1518 </span>    <span class="subxComment"># restore ed</span>
<span id="L1519" class="LineNr"> 1519 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1520" class="LineNr"> 1520 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1521" class="LineNr"> 1521 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1522" class="Folded"> 1522 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1528" class="LineNr"> 1528 </span>    <span class="subxComment"># no error; types matched</span>
<span id="L1529" class="LineNr"> 1529 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1492'>test-convert-function-call-with-inout-with-type-parameter</a>: <a href='../114error.subx.html#L9'>error</a> stream should be empty&quot;</span>)
<span id="L1530" class="LineNr"> 1530 </span>    <span class="subxComment"># don't bother checking the generated code; that's in the test 'test-local-clobbered-by-fn-output' below</span>
<span id="L1531" class="LineNr"> 1531 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1532" class="LineNr"> 1532 </span>    81 0/subop/add %esp 8/imm32
<span id="L1533" class="LineNr"> 1533 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1534" class="LineNr"> 1534 </span>    5d/pop-to-ebp
<span id="L1535" class="LineNr"> 1535 </span>    c3/return
<span id="L1536" class="LineNr"> 1536 </span>
<span id="L1537" class="LineNr"> 1537 </span><span class="subxTest">test-convert-function-call-with-incorrect-inout-type</span>:
<span id="L1538" class="LineNr"> 1538 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1539" class="LineNr"> 1539 </span>    55/push-ebp
<span id="L1540" class="LineNr"> 1540 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1541" class="LineNr"> 1541 </span>    <span class="subxComment"># setup</span>
<span id="L1542" class="LineNr"> 1542 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1543" class="LineNr"> 1543 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1544" class="LineNr"> 1544 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1545" class="LineNr"> 1545 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1546" class="LineNr"> 1546 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1547" class="LineNr"> 1547 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1548" class="LineNr"> 1548 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1549" class="LineNr"> 1549 </span>    68/push 0/imm32
<span id="L1550" class="LineNr"> 1550 </span>    68/push 0/imm32
<span id="L1551" class="LineNr"> 1551 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1552" class="LineNr"> 1552 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1553" class="LineNr"> 1553 </span>    <span class="subxComment">#</span>
<span id="L1554" class="LineNr"> 1554 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1555" class="LineNr"> 1555 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: int\n&quot;</span>)
<span id="L1556" class="LineNr"> 1556 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x\n&quot;</span>)
<span id="L1557" class="LineNr"> 1557 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1558" class="LineNr"> 1558 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: foo {\n&quot;</span>)
<span id="L1559" class="LineNr"> 1559 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1560" class="LineNr"> 1560 </span>    <span class="subxComment"># convert</span>
<span id="L1561" class="LineNr"> 1561 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1562" class="LineNr"> 1562 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1563" class="LineNr"> 1563 </span>    <span class="subxComment"># restore ed</span>
<span id="L1564" class="LineNr"> 1564 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1565" class="LineNr"> 1565 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1566" class="LineNr"> 1566 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1567" class="Folded"> 1567 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1573" class="LineNr"> 1573 </span>    <span class="subxComment"># check output</span>
<span id="L1574" class="LineNr"> 1574 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1537'>test-convert-function-call-with-incorrect-inout-type</a>: output should be empty&quot;</span>)
<span id="L1575" class="LineNr"> 1575 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: type for inout 'x' is not right&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1537'>test-convert-function-call-with-incorrect-inout-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1576" class="LineNr"> 1576 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1577" class="LineNr"> 1577 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1537'>test-convert-function-call-with-incorrect-inout-type</a>: exit status&quot;</span>)
<span id="L1578" class="LineNr"> 1578 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1579" class="LineNr"> 1579 </span>    81 0/subop/add %esp 8/imm32
<span id="L1580" class="LineNr"> 1580 </span>    5d/pop-to-ebp
<span id="L1581" class="LineNr"> 1581 </span>    c3/return
<span id="L1582" class="LineNr"> 1582 </span>
<span id="L1583" class="LineNr"> 1583 </span><span class="subxTest">test-convert-function-call-with-inout-with-incorrect-compound-type</span>:
<span id="L1584" class="LineNr"> 1584 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1585" class="LineNr"> 1585 </span>    55/push-ebp
<span id="L1586" class="LineNr"> 1586 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1587" class="LineNr"> 1587 </span>    <span class="subxComment"># setup</span>
<span id="L1588" class="LineNr"> 1588 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1589" class="LineNr"> 1589 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1590" class="LineNr"> 1590 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1591" class="LineNr"> 1591 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1592" class="LineNr"> 1592 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1593" class="LineNr"> 1593 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1594" class="LineNr"> 1594 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1595" class="LineNr"> 1595 </span>    68/push 0/imm32
<span id="L1596" class="LineNr"> 1596 </span>    68/push 0/imm32
<span id="L1597" class="LineNr"> 1597 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1598" class="LineNr"> 1598 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1599" class="LineNr"> 1599 </span>    <span class="subxComment">#</span>
<span id="L1600" class="LineNr"> 1600 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1601" class="LineNr"> 1601 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr int)\n&quot;</span>)
<span id="L1602" class="LineNr"> 1602 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x\n&quot;</span>)
<span id="L1603" class="LineNr"> 1603 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1604" class="LineNr"> 1604 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: (addr bool) {\n&quot;</span>)
<span id="L1605" class="LineNr"> 1605 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1606" class="LineNr"> 1606 </span>    <span class="subxComment"># convert</span>
<span id="L1607" class="LineNr"> 1607 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1608" class="LineNr"> 1608 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1609" class="LineNr"> 1609 </span>    <span class="subxComment"># restore ed</span>
<span id="L1610" class="LineNr"> 1610 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1611" class="LineNr"> 1611 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1612" class="LineNr"> 1612 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1613" class="Folded"> 1613 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1619" class="LineNr"> 1619 </span>    <span class="subxComment"># check output</span>
<span id="L1620" class="LineNr"> 1620 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1583'>test-convert-function-call-with-inout-with-incorrect-compound-type</a>: output should be empty&quot;</span>)
<span id="L1621" class="LineNr"> 1621 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: type for inout 'x' is not right&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1583'>test-convert-function-call-with-inout-with-incorrect-compound-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1622" class="LineNr"> 1622 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1623" class="LineNr"> 1623 </span>    81 0/subop/add %esp 8/imm32
<span id="L1624" class="LineNr"> 1624 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1625" class="LineNr"> 1625 </span>    5d/pop-to-ebp
<span id="L1626" class="LineNr"> 1626 </span>    c3/return
<span id="L1627" class="LineNr"> 1627 </span>
<span id="L1628" class="LineNr"> 1628 </span><span class="subxTest">test-convert-function-call-with-inout-with-multiple-type-parameters</span>:
<span id="L1629" class="LineNr"> 1629 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1630" class="LineNr"> 1630 </span>    55/push-ebp
<span id="L1631" class="LineNr"> 1631 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1632" class="LineNr"> 1632 </span>    <span class="subxComment"># setup</span>
<span id="L1633" class="LineNr"> 1633 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1634" class="LineNr"> 1634 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1635" class="LineNr"> 1635 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1636" class="LineNr"> 1636 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1637" class="LineNr"> 1637 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1638" class="LineNr"> 1638 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1639" class="LineNr"> 1639 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1640" class="LineNr"> 1640 </span>    68/push 0/imm32
<span id="L1641" class="LineNr"> 1641 </span>    68/push 0/imm32
<span id="L1642" class="LineNr"> 1642 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1643" class="LineNr"> 1643 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1644" class="LineNr"> 1644 </span>    <span class="subxComment">#</span>
<span id="L1645" class="LineNr"> 1645 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1646" class="LineNr"> 1646 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr int)\n&quot;</span>)
<span id="L1647" class="LineNr"> 1647 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y: (addr int)\n&quot;</span>)
<span id="L1648" class="LineNr"> 1648 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x, y\n&quot;</span>)
<span id="L1649" class="LineNr"> 1649 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1650" class="LineNr"> 1650 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: (addr _), b: (addr _) {\n&quot;</span>)
<span id="L1651" class="LineNr"> 1651 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1652" class="LineNr"> 1652 </span>    <span class="subxComment"># convert</span>
<span id="L1653" class="LineNr"> 1653 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1654" class="LineNr"> 1654 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1655" class="LineNr"> 1655 </span>    <span class="subxComment"># restore ed</span>
<span id="L1656" class="LineNr"> 1656 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1657" class="LineNr"> 1657 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1658" class="LineNr"> 1658 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1659" class="Folded"> 1659 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1665" class="LineNr"> 1665 </span>    <span class="subxComment"># no errors</span>
<span id="L1666" class="LineNr"> 1666 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1628'>test-convert-function-call-with-inout-with-multiple-type-parameters</a>: <a href='../114error.subx.html#L9'>error</a> stream should be empty&quot;</span>)
<span id="L1667" class="LineNr"> 1667 </span>    <span class="subxComment"># don't bother checking the generated code</span>
<span id="L1668" class="LineNr"> 1668 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1669" class="LineNr"> 1669 </span>    81 0/subop/add %esp 8/imm32
<span id="L1670" class="LineNr"> 1670 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1671" class="LineNr"> 1671 </span>    5d/pop-to-ebp
<span id="L1672" class="LineNr"> 1672 </span>    c3/return
<span id="L1673" class="LineNr"> 1673 </span>
<span id="L1674" class="LineNr"> 1674 </span><span class="subxTest">test-type-parameter-matches-rest-of-type</span>:
<span id="L1675" class="LineNr"> 1675 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1676" class="LineNr"> 1676 </span>    55/push-ebp
<span id="L1677" class="LineNr"> 1677 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1678" class="LineNr"> 1678 </span>    <span class="subxComment"># setup</span>
<span id="L1679" class="LineNr"> 1679 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1680" class="LineNr"> 1680 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1681" class="LineNr"> 1681 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1682" class="LineNr"> 1682 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1683" class="LineNr"> 1683 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1684" class="LineNr"> 1684 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1685" class="LineNr"> 1685 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1686" class="LineNr"> 1686 </span>    68/push 0/imm32
<span id="L1687" class="LineNr"> 1687 </span>    68/push 0/imm32
<span id="L1688" class="LineNr"> 1688 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1689" class="LineNr"> 1689 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1690" class="LineNr"> 1690 </span>    <span class="subxComment">#</span>
<span id="L1691" class="LineNr"> 1691 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1692" class="LineNr"> 1692 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr array int)\n&quot;</span>)
<span id="L1693" class="LineNr"> 1693 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x\n&quot;</span>)
<span id="L1694" class="LineNr"> 1694 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1695" class="LineNr"> 1695 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: (addr _) {\n&quot;</span>)
<span id="L1696" class="LineNr"> 1696 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1697" class="LineNr"> 1697 </span>    <span class="subxComment"># convert</span>
<span id="L1698" class="LineNr"> 1698 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1699" class="LineNr"> 1699 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1700" class="LineNr"> 1700 </span>    <span class="subxComment"># restore ed</span>
<span id="L1701" class="LineNr"> 1701 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1702" class="LineNr"> 1702 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1703" class="LineNr"> 1703 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1704" class="Folded"> 1704 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1710" class="LineNr"> 1710 </span>    <span class="subxComment"># no errors</span>
<span id="L1711" class="LineNr"> 1711 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1674'>test-type-parameter-matches-rest-of-type</a>: <a href='../114error.subx.html#L9'>error</a> stream should be empty&quot;</span>)
<span id="L1712" class="LineNr"> 1712 </span>    <span class="subxComment"># don't bother checking the generated code</span>
<span id="L1713" class="LineNr"> 1713 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1714" class="LineNr"> 1714 </span>    81 0/subop/add %esp 8/imm32
<span id="L1715" class="LineNr"> 1715 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1716" class="LineNr"> 1716 </span>    5d/pop-to-ebp
<span id="L1717" class="LineNr"> 1717 </span>    c3/return
<span id="L1718" class="LineNr"> 1718 </span>
<span id="L1719" class="LineNr"> 1719 </span><span class="subxTest">test-convert-function-call-with-inout-with-incompatible-type-parameters</span>:
<span id="L1720" class="LineNr"> 1720 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1721" class="LineNr"> 1721 </span>    55/push-ebp
<span id="L1722" class="LineNr"> 1722 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1723" class="LineNr"> 1723 </span>    <span class="subxComment"># setup</span>
<span id="L1724" class="LineNr"> 1724 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1725" class="LineNr"> 1725 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1726" class="LineNr"> 1726 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1727" class="LineNr"> 1727 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1728" class="LineNr"> 1728 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1729" class="LineNr"> 1729 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1730" class="LineNr"> 1730 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1731" class="LineNr"> 1731 </span>    68/push 0/imm32
<span id="L1732" class="LineNr"> 1732 </span>    68/push 0/imm32
<span id="L1733" class="LineNr"> 1733 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1734" class="LineNr"> 1734 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1735" class="LineNr"> 1735 </span>    <span class="subxComment">#</span>
<span id="L1736" class="LineNr"> 1736 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1737" class="LineNr"> 1737 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (addr int)\n&quot;</span>)
<span id="L1738" class="LineNr"> 1738 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y: (addr boolean)\n&quot;</span>)
<span id="L1739" class="LineNr"> 1739 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x, y\n&quot;</span>)
<span id="L1740" class="LineNr"> 1740 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1741" class="LineNr"> 1741 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: (addr _T), b: (addr _T) {\n&quot;</span>)
<span id="L1742" class="LineNr"> 1742 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1743" class="LineNr"> 1743 </span>    <span class="subxComment"># convert</span>
<span id="L1744" class="LineNr"> 1744 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1745" class="LineNr"> 1745 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1746" class="LineNr"> 1746 </span>    <span class="subxComment"># restore ed</span>
<span id="L1747" class="LineNr"> 1747 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1748" class="LineNr"> 1748 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1749" class="LineNr"> 1749 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1750" class="Folded"> 1750 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1756" class="LineNr"> 1756 </span>    <span class="subxComment"># check output</span>
<span id="L1757" class="LineNr"> 1757 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1719'>test-convert-function-call-with-inout-with-incompatible-type-parameters</a>: output should be empty&quot;</span>)
<span id="L1758" class="LineNr"> 1758 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: type for inout 'y' is not right&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1719'>test-convert-function-call-with-inout-with-incompatible-type-parameters</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1759" class="LineNr"> 1759 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1760" class="LineNr"> 1760 </span>    81 0/subop/add %esp 8/imm32
<span id="L1761" class="LineNr"> 1761 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L1762" class="LineNr"> 1762 </span>    5d/pop-to-ebp
<span id="L1763" class="LineNr"> 1763 </span>    c3/return
<span id="L1764" class="LineNr"> 1764 </span>
<span id="L1765" class="LineNr"> 1765 </span><span class="subxTest">test-convert-function-call-with-too-few-inouts</span>:
<span id="L1766" class="LineNr"> 1766 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1767" class="LineNr"> 1767 </span>    55/push-ebp
<span id="L1768" class="LineNr"> 1768 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1769" class="LineNr"> 1769 </span>    <span class="subxComment"># setup</span>
<span id="L1770" class="LineNr"> 1770 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1771" class="LineNr"> 1771 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1772" class="LineNr"> 1772 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1773" class="LineNr"> 1773 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1774" class="LineNr"> 1774 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1775" class="LineNr"> 1775 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1776" class="LineNr"> 1776 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1777" class="LineNr"> 1777 </span>    68/push 0/imm32
<span id="L1778" class="LineNr"> 1778 </span>    68/push 0/imm32
<span id="L1779" class="LineNr"> 1779 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1780" class="LineNr"> 1780 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1781" class="LineNr"> 1781 </span>    <span class="subxComment">#</span>
<span id="L1782" class="LineNr"> 1782 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1783" class="LineNr"> 1783 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g\n&quot;</span>)
<span id="L1784" class="LineNr"> 1784 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1785" class="LineNr"> 1785 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g a: int {\n&quot;</span>)
<span id="L1786" class="LineNr"> 1786 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1787" class="LineNr"> 1787 </span>    <span class="subxComment"># convert</span>
<span id="L1788" class="LineNr"> 1788 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1789" class="LineNr"> 1789 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1790" class="LineNr"> 1790 </span>    <span class="subxComment"># restore ed</span>
<span id="L1791" class="LineNr"> 1791 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1792" class="LineNr"> 1792 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1793" class="LineNr"> 1793 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1794" class="Folded"> 1794 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1800" class="LineNr"> 1800 </span>    <span class="subxComment"># check output</span>
<span id="L1801" class="LineNr"> 1801 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1765'>test-convert-function-call-with-too-few-inouts</a>: output should be empty&quot;</span>)
<span id="L1802" class="LineNr"> 1802 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: too few inouts&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1765'>test-convert-function-call-with-too-few-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1803" class="LineNr"> 1803 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1804" class="LineNr"> 1804 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1765'>test-convert-function-call-with-too-few-inouts</a>: exit status&quot;</span>)
<span id="L1805" class="LineNr"> 1805 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1806" class="LineNr"> 1806 </span>    81 0/subop/add %esp 8/imm32
<span id="L1807" class="LineNr"> 1807 </span>    5d/pop-to-ebp
<span id="L1808" class="LineNr"> 1808 </span>    c3/return
<span id="L1809" class="LineNr"> 1809 </span>
<span id="L1810" class="LineNr"> 1810 </span><span class="subxTest">test-convert-function-call-with-too-many-inouts</span>:
<span id="L1811" class="LineNr"> 1811 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1812" class="LineNr"> 1812 </span>    55/push-ebp
<span id="L1813" class="LineNr"> 1813 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1814" class="LineNr"> 1814 </span>    <span class="subxComment"># setup</span>
<span id="L1815" class="LineNr"> 1815 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1816" class="LineNr"> 1816 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1817" class="LineNr"> 1817 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1818" class="LineNr"> 1818 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1819" class="LineNr"> 1819 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1820" class="LineNr"> 1820 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1821" class="LineNr"> 1821 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1822" class="LineNr"> 1822 </span>    68/push 0/imm32
<span id="L1823" class="LineNr"> 1823 </span>    68/push 0/imm32
<span id="L1824" class="LineNr"> 1824 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1825" class="LineNr"> 1825 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1826" class="LineNr"> 1826 </span>    <span class="subxComment">#</span>
<span id="L1827" class="LineNr"> 1827 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1828" class="LineNr"> 1828 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: int\n&quot;</span>)
<span id="L1829" class="LineNr"> 1829 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g x\n&quot;</span>)
<span id="L1830" class="LineNr"> 1830 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1831" class="LineNr"> 1831 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g {\n&quot;</span>)
<span id="L1832" class="LineNr"> 1832 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1833" class="LineNr"> 1833 </span>    <span class="subxComment"># convert</span>
<span id="L1834" class="LineNr"> 1834 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1835" class="LineNr"> 1835 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1836" class="LineNr"> 1836 </span>    <span class="subxComment"># restore ed</span>
<span id="L1837" class="LineNr"> 1837 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1838" class="LineNr"> 1838 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1839" class="LineNr"> 1839 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1840" class="Folded"> 1840 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1846" class="LineNr"> 1846 </span>    <span class="subxComment"># check output</span>
<span id="L1847" class="LineNr"> 1847 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1810'>test-convert-function-call-with-too-many-inouts</a>: output should be empty&quot;</span>)
<span id="L1848" class="LineNr"> 1848 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: too many inouts&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1810'>test-convert-function-call-with-too-many-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1849" class="LineNr"> 1849 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1850" class="LineNr"> 1850 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1810'>test-convert-function-call-with-too-many-inouts</a>: exit status&quot;</span>)
<span id="L1851" class="LineNr"> 1851 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1852" class="LineNr"> 1852 </span>    81 0/subop/add %esp 8/imm32
<span id="L1853" class="LineNr"> 1853 </span>    5d/pop-to-ebp
<span id="L1854" class="LineNr"> 1854 </span>    c3/return
<span id="L1855" class="LineNr"> 1855 </span>
<span id="L1856" class="LineNr"> 1856 </span><span class="subxTest">test-convert-function-call-with-incorrect-output-type</span>:
<span id="L1857" class="LineNr"> 1857 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1858" class="LineNr"> 1858 </span>    55/push-ebp
<span id="L1859" class="LineNr"> 1859 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1860" class="LineNr"> 1860 </span>    <span class="subxComment"># setup</span>
<span id="L1861" class="LineNr"> 1861 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1862" class="LineNr"> 1862 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1863" class="LineNr"> 1863 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1864" class="LineNr"> 1864 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1865" class="LineNr"> 1865 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1866" class="LineNr"> 1866 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1867" class="LineNr"> 1867 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1868" class="LineNr"> 1868 </span>    68/push 0/imm32
<span id="L1869" class="LineNr"> 1869 </span>    68/push 0/imm32
<span id="L1870" class="LineNr"> 1870 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1871" class="LineNr"> 1871 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1872" class="LineNr"> 1872 </span>    <span class="subxComment">#</span>
<span id="L1873" class="LineNr"> 1873 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1874" class="LineNr"> 1874 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: int &lt;- g\n&quot;</span>)
<span id="L1875" class="LineNr"> 1875 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1876" class="LineNr"> 1876 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g -&gt; a/eax: foo {\n&quot;</span>)
<span id="L1877" class="LineNr"> 1877 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1878" class="LineNr"> 1878 </span>    <span class="subxComment"># convert</span>
<span id="L1879" class="LineNr"> 1879 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1880" class="LineNr"> 1880 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1881" class="LineNr"> 1881 </span>    <span class="subxComment"># restore ed</span>
<span id="L1882" class="LineNr"> 1882 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1883" class="LineNr"> 1883 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1884" class="LineNr"> 1884 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1885" class="Folded"> 1885 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1891" class="LineNr"> 1891 </span>    <span class="subxComment"># check output</span>
<span id="L1892" class="LineNr"> 1892 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1856'>test-convert-function-call-with-incorrect-output-type</a>: output should be empty&quot;</span>)
<span id="L1893" class="LineNr"> 1893 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: type for output 'x' is not right&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1856'>test-convert-function-call-with-incorrect-output-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1894" class="LineNr"> 1894 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1895" class="LineNr"> 1895 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1856'>test-convert-function-call-with-incorrect-output-type</a>: exit status&quot;</span>)
<span id="L1896" class="LineNr"> 1896 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1897" class="LineNr"> 1897 </span>    81 0/subop/add %esp 8/imm32
<span id="L1898" class="LineNr"> 1898 </span>    5d/pop-to-ebp
<span id="L1899" class="LineNr"> 1899 </span>    c3/return
<span id="L1900" class="LineNr"> 1900 </span>
<span id="L1901" class="LineNr"> 1901 </span><span class="subxTest">test-convert-function-call-with-too-few-outputs</span>:
<span id="L1902" class="LineNr"> 1902 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1903" class="LineNr"> 1903 </span>    55/push-ebp
<span id="L1904" class="LineNr"> 1904 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1905" class="LineNr"> 1905 </span>    <span class="subxComment"># setup</span>
<span id="L1906" class="LineNr"> 1906 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1907" class="LineNr"> 1907 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1908" class="LineNr"> 1908 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1909" class="LineNr"> 1909 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1910" class="LineNr"> 1910 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1911" class="LineNr"> 1911 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1912" class="LineNr"> 1912 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1913" class="LineNr"> 1913 </span>    68/push 0/imm32
<span id="L1914" class="LineNr"> 1914 </span>    68/push 0/imm32
<span id="L1915" class="LineNr"> 1915 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1916" class="LineNr"> 1916 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1917" class="LineNr"> 1917 </span>    <span class="subxComment">#</span>
<span id="L1918" class="LineNr"> 1918 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1919" class="LineNr"> 1919 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  g\n&quot;</span>)
<span id="L1920" class="LineNr"> 1920 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1921" class="LineNr"> 1921 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g -&gt; a/eax: int {\n&quot;</span>)
<span id="L1922" class="LineNr"> 1922 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1923" class="LineNr"> 1923 </span>    <span class="subxComment"># convert</span>
<span id="L1924" class="LineNr"> 1924 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1925" class="LineNr"> 1925 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1926" class="LineNr"> 1926 </span>    <span class="subxComment"># restore ed</span>
<span id="L1927" class="LineNr"> 1927 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1928" class="LineNr"> 1928 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1929" class="LineNr"> 1929 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1930" class="Folded"> 1930 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1936" class="LineNr"> 1936 </span>    <span class="subxComment"># check output</span>
<span id="L1937" class="LineNr"> 1937 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1901'>test-convert-function-call-with-too-few-outputs</a>: output should be empty&quot;</span>)
<span id="L1938" class="LineNr"> 1938 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: too few outputs&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1901'>test-convert-function-call-with-too-few-outputs</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1939" class="LineNr"> 1939 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1940" class="LineNr"> 1940 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1901'>test-convert-function-call-with-too-few-outputs</a>: exit status&quot;</span>)
<span id="L1941" class="LineNr"> 1941 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1942" class="LineNr"> 1942 </span>    81 0/subop/add %esp 8/imm32
<span id="L1943" class="LineNr"> 1943 </span>    5d/pop-to-ebp
<span id="L1944" class="LineNr"> 1944 </span>    c3/return
<span id="L1945" class="LineNr"> 1945 </span>
<span id="L1946" class="LineNr"> 1946 </span><span class="subxTest">test-convert-function-call-with-too-many-outputs</span>:
<span id="L1947" class="LineNr"> 1947 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1948" class="LineNr"> 1948 </span>    55/push-ebp
<span id="L1949" class="LineNr"> 1949 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1950" class="LineNr"> 1950 </span>    <span class="subxComment"># setup</span>
<span id="L1951" class="LineNr"> 1951 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1952" class="LineNr"> 1952 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1953" class="LineNr"> 1953 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1954" class="LineNr"> 1954 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L1955" class="LineNr"> 1955 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L1956" class="LineNr"> 1956 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L1957" class="LineNr"> 1957 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L1958" class="LineNr"> 1958 </span>    68/push 0/imm32
<span id="L1959" class="LineNr"> 1959 </span>    68/push 0/imm32
<span id="L1960" class="LineNr"> 1960 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1961" class="LineNr"> 1961 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L1962" class="LineNr"> 1962 </span>    <span class="subxComment">#</span>
<span id="L1963" class="LineNr"> 1963 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L1964" class="LineNr"> 1964 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: int &lt;- g\n&quot;</span>)
<span id="L1965" class="LineNr"> 1965 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1966" class="LineNr"> 1966 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g {\n&quot;</span>)
<span id="L1967" class="LineNr"> 1967 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L1968" class="LineNr"> 1968 </span>    <span class="subxComment"># convert</span>
<span id="L1969" class="LineNr"> 1969 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L1970" class="LineNr"> 1970 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L1971" class="LineNr"> 1971 </span>    <span class="subxComment"># restore ed</span>
<span id="L1972" class="LineNr"> 1972 </span>    89/&lt;- %edx 4/r32/esp
<span id="L1973" class="LineNr"> 1973 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L1974" class="LineNr"> 1974 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L1975" class="Folded"> 1975 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L1981" class="LineNr"> 1981 </span>    <span class="subxComment"># check output</span>
<span id="L1982" class="LineNr"> 1982 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1946'>test-convert-function-call-with-too-many-outputs</a>: output should be empty&quot;</span>)
<span id="L1983" class="LineNr"> 1983 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: too many outputs&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1946'>test-convert-function-call-with-too-many-outputs</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L1984" class="LineNr"> 1984 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L1985" class="LineNr"> 1985 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1946'>test-convert-function-call-with-too-many-outputs</a>: exit status&quot;</span>)
<span id="L1986" class="LineNr"> 1986 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L1987" class="LineNr"> 1987 </span>    81 0/subop/add %esp 8/imm32
<span id="L1988" class="LineNr"> 1988 </span>    5d/pop-to-ebp
<span id="L1989" class="LineNr"> 1989 </span>    c3/return
<span id="L1990" class="LineNr"> 1990 </span>
<span id="L1991" class="LineNr"> 1991 </span><span class="subxTest">test-convert-function-call-with-incorrect-output-register</span>:
<span id="L1992" class="LineNr"> 1992 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L1993" class="LineNr"> 1993 </span>    55/push-ebp
<span id="L1994" class="LineNr"> 1994 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L1995" class="LineNr"> 1995 </span>    <span class="subxComment"># setup</span>
<span id="L1996" class="LineNr"> 1996 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L1997" class="LineNr"> 1997 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L1998" class="LineNr"> 1998 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L1999" class="LineNr"> 1999 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2000" class="LineNr"> 2000 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L2001" class="LineNr"> 2001 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L2002" class="LineNr"> 2002 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L2003" class="LineNr"> 2003 </span>    68/push 0/imm32
<span id="L2004" class="LineNr"> 2004 </span>    68/push 0/imm32
<span id="L2005" class="LineNr"> 2005 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2006" class="LineNr"> 2006 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L2007" class="LineNr"> 2007 </span>    <span class="subxComment">#</span>
<span id="L2008" class="LineNr"> 2008 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L2009" class="LineNr"> 2009 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- g\n&quot;</span>)
<span id="L2010" class="LineNr"> 2010 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2011" class="LineNr"> 2011 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn g -&gt; a/eax: int {\n&quot;</span>)
<span id="L2012" class="LineNr"> 2012 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2013" class="LineNr"> 2013 </span>    <span class="subxComment"># convert</span>
<span id="L2014" class="LineNr"> 2014 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L2015" class="LineNr"> 2015 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L2016" class="LineNr"> 2016 </span>    <span class="subxComment"># restore ed</span>
<span id="L2017" class="LineNr"> 2017 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2018" class="LineNr"> 2018 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2019" class="LineNr"> 2019 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L2020" class="Folded"> 2020 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2026" class="LineNr"> 2026 </span>    <span class="subxComment"># check output</span>
<span id="L2027" class="LineNr"> 2027 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1991'>test-convert-function-call-with-incorrect-output-register</a>: output should be empty&quot;</span>)
<span id="L2028" class="LineNr"> 2028 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn f: call g: register for output 'x' is not right&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L1991'>test-convert-function-call-with-incorrect-output-register</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L2029" class="LineNr"> 2029 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L2030" class="LineNr"> 2030 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L1991'>test-convert-function-call-with-incorrect-output-register</a>: exit status&quot;</span>)
<span id="L2031" class="LineNr"> 2031 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L2032" class="LineNr"> 2032 </span>    81 0/subop/add %esp 8/imm32
<span id="L2033" class="LineNr"> 2033 </span>    5d/pop-to-ebp
<span id="L2034" class="LineNr"> 2034 </span>    c3/return
<span id="L2035" class="LineNr"> 2035 </span>
<span id="L2036" class="LineNr"> 2036 </span><span class="subxTest">test-convert-function-with-local-var-dereferenced</span>:
<span id="L2037" class="LineNr"> 2037 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2038" class="LineNr"> 2038 </span>    55/push-ebp
<span id="L2039" class="LineNr"> 2039 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2040" class="LineNr"> 2040 </span>    <span class="subxComment"># setup</span>
<span id="L2041" class="LineNr"> 2041 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2042" class="LineNr"> 2042 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2043" class="LineNr"> 2043 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2044" class="LineNr"> 2044 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2045" class="LineNr"> 2045 </span>    <span class="subxComment">#</span>
<span id="L2046" class="LineNr"> 2046 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2047" class="LineNr"> 2047 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: (addr int) &lt;- copy 0\n&quot;</span>)
<span id="L2048" class="LineNr"> 2048 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment *x\n&quot;</span>)
<span id="L2049" class="LineNr"> 2049 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2050" class="LineNr"> 2050 </span>    <span class="subxComment"># convert</span>
<span id="L2051" class="LineNr"> 2051 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2052" class="LineNr"> 2052 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2053" class="Folded"> 2053 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2059" class="LineNr"> 2059 </span>    <span class="subxComment"># check output</span>
<span id="L2060" class="LineNr"> 2060 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/0&quot;</span>)
<span id="L2061" class="LineNr"> 2061 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-dereferenced/1&quot;</span>)
<span id="L2062" class="LineNr"> 2062 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/2&quot;</span>)
<span id="L2063" class="LineNr"> 2063 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/3&quot;</span>)
<span id="L2064" class="LineNr"> 2064 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/4&quot;</span>)
<span id="L2065" class="LineNr"> 2065 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/5&quot;</span>)
<span id="L2066" class="LineNr"> 2066 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/6&quot;</span>)
<span id="L2067" class="LineNr"> 2067 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/7&quot;</span>)
<span id="L2068" class="LineNr"> 2068 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 0/subop/increment *ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/8&quot;</span>)
<span id="L2069" class="LineNr"> 2069 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/9&quot;</span>)
<span id="L2070" class="LineNr"> 2070 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/10&quot;</span>)
<span id="L2071" class="LineNr"> 2071 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/11&quot;</span>)
<span id="L2072" class="LineNr"> 2072 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-dereferenced/12&quot;</span>)
<span id="L2073" class="LineNr"> 2073 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/13&quot;</span>)
<span id="L2074" class="LineNr"> 2074 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/14&quot;</span>)
<span id="L2075" class="LineNr"> 2075 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2036'>test-convert-function-with-local-var-dereferenced</a>/15&quot;</span>)
<span id="L2076" class="LineNr"> 2076 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2077" class="LineNr"> 2077 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2078" class="LineNr"> 2078 </span>    5d/pop-to-ebp
<span id="L2079" class="LineNr"> 2079 </span>    c3/return
<span id="L2080" class="LineNr"> 2080 </span>
<span id="L2081" class="LineNr"> 2081 </span><span class="subxComment"># variables of type 'byte' are not allowed on the stack</span>
<span id="L2082" class="LineNr"> 2082 </span><span class="subxTest">test-convert-function-with-byte-operations</span>:
<span id="L2083" class="LineNr"> 2083 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2084" class="LineNr"> 2084 </span>    55/push-ebp
<span id="L2085" class="LineNr"> 2085 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2086" class="LineNr"> 2086 </span>    <span class="subxComment"># setup</span>
<span id="L2087" class="LineNr"> 2087 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2088" class="LineNr"> 2088 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2089" class="LineNr"> 2089 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2090" class="LineNr"> 2090 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2091" class="LineNr"> 2091 </span>    <span class="subxComment">#</span>
<span id="L2092" class="LineNr"> 2092 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2093" class="LineNr"> 2093 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: byte &lt;- copy 0\n&quot;</span>)
<span id="L2094" class="LineNr"> 2094 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: byte &lt;- copy 0\n&quot;</span>)
<span id="L2095" class="LineNr"> 2095 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y &lt;- copy-byte x\n&quot;</span>)
<span id="L2096" class="LineNr"> 2096 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var z/edx: (addr byte) &lt;- copy 0\n&quot;</span>)
<span id="L2097" class="LineNr"> 2097 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y &lt;- copy-byte *z\n&quot;</span>)
<span id="L2098" class="LineNr"> 2098 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  copy-byte-to *z, x\n&quot;</span>)
<span id="L2099" class="LineNr"> 2099 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2100" class="LineNr"> 2100 </span>    <span class="subxComment"># convert</span>
<span id="L2101" class="LineNr"> 2101 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2102" class="LineNr"> 2102 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2103" class="Folded"> 2103 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2109" class="LineNr"> 2109 </span>    <span class="subxComment"># check output</span>
<span id="L2110" class="LineNr"> 2110 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/0&quot;</span>)
<span id="L2111" class="LineNr"> 2111 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-function-with-byte-operations/1&quot;</span>)
<span id="L2112" class="LineNr"> 2112 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/2&quot;</span>)
<span id="L2113" class="LineNr"> 2113 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/3&quot;</span>)
<span id="L2114" class="LineNr"> 2114 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/4&quot;</span>)
<span id="L2115" class="LineNr"> 2115 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/5&quot;</span>)
<span id="L2116" class="LineNr"> 2116 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/6&quot;</span>)
<span id="L2117" class="LineNr"> 2117 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/7&quot;</span>)
<span id="L2118" class="LineNr"> 2118 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/8&quot;</span>)
<span id="L2119" class="LineNr"> 2119 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/9&quot;</span>)
<span id="L2120" class="LineNr"> 2120 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8a/byte-&gt; %eax 0x00000001/r32&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/10&quot;</span>)
<span id="L2121" class="LineNr"> 2121 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %edx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/11&quot;</span>)
<span id="L2122" class="LineNr"> 2122 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ba/copy-to-edx 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/12&quot;</span>)
<span id="L2123" class="LineNr"> 2123 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8a/byte-&gt; *edx 0x00000001/r32&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/13&quot;</span>)
<span id="L2124" class="LineNr"> 2124 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    88/byte&lt;- *edx 0x00000000/r32&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/14&quot;</span>)
<span id="L2125" class="LineNr"> 2125 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %edx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/15&quot;</span>)
<span id="L2126" class="LineNr"> 2126 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/16&quot;</span>)
<span id="L2127" class="LineNr"> 2127 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/17&quot;</span>)
<span id="L2128" class="LineNr"> 2128 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/18&quot;</span>)
<span id="L2129" class="LineNr"> 2129 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/19&quot;</span>)
<span id="L2130" class="LineNr"> 2130 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-function-with-byte-operations/20&quot;</span>)
<span id="L2131" class="LineNr"> 2131 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/21&quot;</span>)
<span id="L2132" class="LineNr"> 2132 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/22&quot;</span>)
<span id="L2133" class="LineNr"> 2133 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L2082'>test-convert-function-with-byte-operations</a>/23&quot;</span>)
<span id="L2134" class="LineNr"> 2134 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2135" class="LineNr"> 2135 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2136" class="LineNr"> 2136 </span>    5d/pop-to-ebp
<span id="L2137" class="LineNr"> 2137 </span>    c3/return
<span id="L2138" class="LineNr"> 2138 </span>
<span id="L2139" class="LineNr"> 2139 </span><span class="subxComment"># variables of type 'byte' _can_ be function args. They then occupy 4 bytes.</span>
<span id="L2140" class="LineNr"> 2140 </span><span class="subxTest">test-copy-byte-var-from-fn-arg</span>:
<span id="L2141" class="LineNr"> 2141 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2142" class="LineNr"> 2142 </span>    55/push-ebp
<span id="L2143" class="LineNr"> 2143 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2144" class="LineNr"> 2144 </span>    <span class="subxComment"># setup</span>
<span id="L2145" class="LineNr"> 2145 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2146" class="LineNr"> 2146 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2147" class="LineNr"> 2147 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2148" class="LineNr"> 2148 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2149" class="LineNr"> 2149 </span>    <span class="subxComment">#</span>
<span id="L2150" class="LineNr"> 2150 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: byte, y: int {\n&quot;</span>)
<span id="L2151" class="LineNr"> 2151 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: byte &lt;- copy x\n&quot;</span>)
<span id="L2152" class="LineNr"> 2152 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: int &lt;- copy y\n&quot;</span>)
<span id="L2153" class="LineNr"> 2153 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2154" class="LineNr"> 2154 </span>    <span class="subxComment"># convert</span>
<span id="L2155" class="LineNr"> 2155 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2156" class="LineNr"> 2156 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2157" class="Folded"> 2157 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2163" class="LineNr"> 2163 </span>    <span class="subxComment"># check output</span>
<span id="L2164" class="LineNr"> 2164 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/0&quot;</span>)
<span id="L2165" class="LineNr"> 2165 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/1&quot;</span>)
<span id="L2166" class="LineNr"> 2166 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/2&quot;</span>)
<span id="L2167" class="LineNr"> 2167 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/3&quot;</span>)
<span id="L2168" class="LineNr"> 2168 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/4&quot;</span>)
<span id="L2169" class="LineNr"> 2169 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/5&quot;</span>)
<span id="L2170" class="LineNr"> 2170 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/6&quot;</span>)
<span id="L2171" class="LineNr"> 2171 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/7&quot;</span>)
<span id="L2172" class="LineNr"> 2172 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x0000000c) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/8&quot;</span>)
<span id="L2173" class="LineNr"> 2173 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>   <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/9&quot;</span>)
<span id="L2174" class="LineNr"> 2174 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/10&quot;</span>)
<span id="L2175" class="LineNr"> 2175 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/11&quot;</span>)
<span id="L2176" class="LineNr"> 2176 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/12&quot;</span>)
<span id="L2177" class="LineNr"> 2177 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/13&quot;</span>)
<span id="L2178" class="LineNr"> 2178 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/14&quot;</span>)
<span id="L2179" class="LineNr"> 2179 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - test-copy-byte-from-fn-arg/15&quot;</span>)
<span id="L2180" class="LineNr"> 2180 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2181" class="LineNr"> 2181 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2182" class="LineNr"> 2182 </span>    5d/pop-to-ebp
<span id="L2183" class="LineNr"> 2183 </span>    c3/return
<span id="L2184" class="LineNr"> 2184 </span>
<span id="L2185" class="LineNr"> 2185 </span><span class="subxTest">test-convert-compare-register-with-literal</span>:
<span id="L2186" class="LineNr"> 2186 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2187" class="LineNr"> 2187 </span>    55/push-ebp
<span id="L2188" class="LineNr"> 2188 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2189" class="LineNr"> 2189 </span>    <span class="subxComment"># setup</span>
<span id="L2190" class="LineNr"> 2190 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2191" class="LineNr"> 2191 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2192" class="LineNr"> 2192 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2193" class="LineNr"> 2193 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2194" class="LineNr"> 2194 </span>    <span class="subxComment">#</span>
<span id="L2195" class="LineNr"> 2195 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2196" class="LineNr"> 2196 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 0\n&quot;</span>)
<span id="L2197" class="LineNr"> 2197 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  compare x, 0\n&quot;</span>)
<span id="L2198" class="LineNr"> 2198 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2199" class="LineNr"> 2199 </span>    <span class="subxComment"># convert</span>
<span id="L2200" class="LineNr"> 2200 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2201" class="LineNr"> 2201 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2202" class="Folded"> 2202 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2208" class="LineNr"> 2208 </span>    <span class="subxComment"># check output</span>
<span id="L2209" class="LineNr"> 2209 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/0&quot;</span>)
<span id="L2210" class="LineNr"> 2210 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-compare-register-with-literal/1&quot;</span>)
<span id="L2211" class="LineNr"> 2211 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/2&quot;</span>)
<span id="L2212" class="LineNr"> 2212 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/3&quot;</span>)
<span id="L2213" class="LineNr"> 2213 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/4&quot;</span>)
<span id="L2214" class="LineNr"> 2214 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/5&quot;</span>)
<span id="L2215" class="LineNr"> 2215 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/6&quot;</span>)
<span id="L2216" class="LineNr"> 2216 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/7&quot;</span>)
<span id="L2217" class="LineNr"> 2217 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 7/subop/compare %ecx 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/8&quot;</span>)
<span id="L2218" class="LineNr"> 2218 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/9&quot;</span>)
<span id="L2219" class="LineNr"> 2219 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/10&quot;</span>)
<span id="L2220" class="LineNr"> 2220 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/11&quot;</span>)
<span id="L2221" class="LineNr"> 2221 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-compare-register-with-literal/12&quot;</span>)
<span id="L2222" class="LineNr"> 2222 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/13&quot;</span>)
<span id="L2223" class="LineNr"> 2223 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/14&quot;</span>)
<span id="L2224" class="LineNr"> 2224 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/15&quot;</span>)
<span id="L2225" class="LineNr"> 2225 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2226" class="LineNr"> 2226 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2227" class="LineNr"> 2227 </span>    5d/pop-to-ebp
<span id="L2228" class="LineNr"> 2228 </span>    c3/return
<span id="L2229" class="LineNr"> 2229 </span>
<span id="L2230" class="LineNr"> 2230 </span><span class="subxTest">test-unknown-variable</span>:
<span id="L2231" class="LineNr"> 2231 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2232" class="LineNr"> 2232 </span>    55/push-ebp
<span id="L2233" class="LineNr"> 2233 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2234" class="LineNr"> 2234 </span>    <span class="subxComment"># setup</span>
<span id="L2235" class="LineNr"> 2235 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2236" class="LineNr"> 2236 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2237" class="LineNr"> 2237 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2238" class="LineNr"> 2238 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2239" class="LineNr"> 2239 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L2240" class="LineNr"> 2240 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L2241" class="LineNr"> 2241 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L2242" class="LineNr"> 2242 </span>    68/push 0/imm32
<span id="L2243" class="LineNr"> 2243 </span>    68/push 0/imm32
<span id="L2244" class="LineNr"> 2244 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2245" class="LineNr"> 2245 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L2246" class="LineNr"> 2246 </span>    <span class="subxComment">#</span>
<span id="L2247" class="LineNr"> 2247 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2248" class="LineNr"> 2248 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  compare x, 0\n&quot;</span>)
<span id="L2249" class="LineNr"> 2249 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2250" class="LineNr"> 2250 </span>    <span class="subxComment"># convert</span>
<span id="L2251" class="LineNr"> 2251 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L2252" class="LineNr"> 2252 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L2253" class="LineNr"> 2253 </span>    <span class="subxComment"># restore ed</span>
<span id="L2254" class="LineNr"> 2254 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2255" class="LineNr"> 2255 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2256" class="LineNr"> 2256 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L2257" class="Folded"> 2257 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2263" class="LineNr"> 2263 </span>    <span class="subxComment"># check output</span>
<span id="L2264" class="LineNr"> 2264 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2230'>test-unknown-variable</a>: output should be empty&quot;</span>)
<span id="L2265" class="LineNr"> 2265 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: unknown variable 'x'&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2230'>test-unknown-variable</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L2266" class="LineNr"> 2266 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L2267" class="LineNr"> 2267 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L2230'>test-unknown-variable</a>: exit status&quot;</span>)
<span id="L2268" class="LineNr"> 2268 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L2269" class="LineNr"> 2269 </span>    81 0/subop/add %esp 8/imm32
<span id="L2270" class="LineNr"> 2270 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2271" class="LineNr"> 2271 </span>    5d/pop-to-ebp
<span id="L2272" class="LineNr"> 2272 </span>    c3/return
<span id="L2273" class="LineNr"> 2273 </span>
<span id="L2274" class="LineNr"> 2274 </span><span class="subxTest">test-convert-function-with-local-var-in-block</span>:
<span id="L2275" class="LineNr"> 2275 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2276" class="LineNr"> 2276 </span>    55/push-ebp
<span id="L2277" class="LineNr"> 2277 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2278" class="LineNr"> 2278 </span>    <span class="subxComment"># setup</span>
<span id="L2279" class="LineNr"> 2279 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2280" class="LineNr"> 2280 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2281" class="LineNr"> 2281 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2282" class="LineNr"> 2282 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2283" class="LineNr"> 2283 </span>    <span class="subxComment">#</span>
<span id="L2284" class="LineNr"> 2284 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2285" class="LineNr"> 2285 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2286" class="LineNr"> 2286 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L2287" class="LineNr"> 2287 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L2288" class="LineNr"> 2288 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2289" class="LineNr"> 2289 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2290" class="LineNr"> 2290 </span>    <span class="subxComment"># convert</span>
<span id="L2291" class="LineNr"> 2291 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2292" class="LineNr"> 2292 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2293" class="Folded"> 2293 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2299" class="LineNr"> 2299 </span>    <span class="subxComment"># check output</span>
<span id="L2300" class="LineNr"> 2300 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/0&quot;</span>)
<span id="L2301" class="LineNr"> 2301 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-block/1&quot;</span>)
<span id="L2302" class="LineNr"> 2302 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/2&quot;</span>)
<span id="L2303" class="LineNr"> 2303 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/3&quot;</span>)
<span id="L2304" class="LineNr"> 2304 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/4&quot;</span>)
<span id="L2305" class="LineNr"> 2305 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/5&quot;</span>)
<span id="L2306" class="LineNr"> 2306 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/6&quot;</span>)
<span id="L2307" class="LineNr"> 2307 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/7&quot;</span>)
<span id="L2308" class="LineNr"> 2308 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/8&quot;</span>)
<span id="L2309" class="LineNr"> 2309 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/9&quot;</span>)
<span id="L2310" class="LineNr"> 2310 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/10&quot;</span>)
<span id="L2311" class="LineNr"> 2311 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/11&quot;</span>)
<span id="L2312" class="LineNr"> 2312 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/12&quot;</span>)
<span id="L2313" class="LineNr"> 2313 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/13&quot;</span>)
<span id="L2314" class="LineNr"> 2314 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/14&quot;</span>)
<span id="L2315" class="LineNr"> 2315 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-block/15&quot;</span>)
<span id="L2316" class="LineNr"> 2316 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/16&quot;</span>)
<span id="L2317" class="LineNr"> 2317 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/17&quot;</span>)
<span id="L2318" class="LineNr"> 2318 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2274'>test-convert-function-with-local-var-in-block</a>/18&quot;</span>)
<span id="L2319" class="LineNr"> 2319 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2320" class="LineNr"> 2320 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2321" class="LineNr"> 2321 </span>    5d/pop-to-ebp
<span id="L2322" class="LineNr"> 2322 </span>    c3/return
<span id="L2323" class="LineNr"> 2323 </span>
<span id="L2324" class="LineNr"> 2324 </span><span class="subxTest">test-convert-function-with-local-var-in-named-block</span>:
<span id="L2325" class="LineNr"> 2325 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2326" class="LineNr"> 2326 </span>    55/push-ebp
<span id="L2327" class="LineNr"> 2327 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2328" class="LineNr"> 2328 </span>    <span class="subxComment"># setup</span>
<span id="L2329" class="LineNr"> 2329 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2330" class="LineNr"> 2330 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2331" class="LineNr"> 2331 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2332" class="LineNr"> 2332 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2333" class="LineNr"> 2333 </span>    <span class="subxComment">#</span>
<span id="L2334" class="LineNr"> 2334 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2335" class="LineNr"> 2335 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  $bar: {\n&quot;</span>)
<span id="L2336" class="LineNr"> 2336 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L2337" class="LineNr"> 2337 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L2338" class="LineNr"> 2338 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2339" class="LineNr"> 2339 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2340" class="LineNr"> 2340 </span>    <span class="subxComment"># convert</span>
<span id="L2341" class="LineNr"> 2341 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2342" class="LineNr"> 2342 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2343" class="Folded"> 2343 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2349" class="LineNr"> 2349 </span>    <span class="subxComment"># check output</span>
<span id="L2350" class="LineNr"> 2350 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/0&quot;</span>)
<span id="L2351" class="LineNr"> 2351 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-named-block/1&quot;</span>)
<span id="L2352" class="LineNr"> 2352 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/2&quot;</span>)
<span id="L2353" class="LineNr"> 2353 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/3&quot;</span>)
<span id="L2354" class="LineNr"> 2354 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/4&quot;</span>)
<span id="L2355" class="LineNr"> 2355 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/5&quot;</span>)
<span id="L2356" class="LineNr"> 2356 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/6&quot;</span>)
<span id="L2357" class="LineNr"> 2357 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$bar:loop:&quot;</span>              <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/7&quot;</span>)
<span id="L2358" class="LineNr"> 2358 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/8&quot;</span>)
<span id="L2359" class="LineNr"> 2359 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/9&quot;</span>)
<span id="L2360" class="LineNr"> 2360 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/10&quot;</span>)
<span id="L2361" class="LineNr"> 2361 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/11&quot;</span>)
<span id="L2362" class="LineNr"> 2362 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$bar:break:&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/12&quot;</span>)
<span id="L2363" class="LineNr"> 2363 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/13&quot;</span>)
<span id="L2364" class="LineNr"> 2364 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/14&quot;</span>)
<span id="L2365" class="LineNr"> 2365 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-in-named-block/15&quot;</span>)
<span id="L2366" class="LineNr"> 2366 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/16&quot;</span>)
<span id="L2367" class="LineNr"> 2367 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/17&quot;</span>)
<span id="L2368" class="LineNr"> 2368 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2324'>test-convert-function-with-local-var-in-named-block</a>/18&quot;</span>)
<span id="L2369" class="LineNr"> 2369 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2370" class="LineNr"> 2370 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2371" class="LineNr"> 2371 </span>    5d/pop-to-ebp
<span id="L2372" class="LineNr"> 2372 </span>    c3/return
<span id="L2373" class="LineNr"> 2373 </span>
<span id="L2374" class="LineNr"> 2374 </span><span class="subxTest">test-unknown-variable-in-named-block</span>:
<span id="L2375" class="LineNr"> 2375 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2376" class="LineNr"> 2376 </span>    55/push-ebp
<span id="L2377" class="LineNr"> 2377 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2378" class="LineNr"> 2378 </span>    <span class="subxComment"># setup</span>
<span id="L2379" class="LineNr"> 2379 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2380" class="LineNr"> 2380 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2381" class="LineNr"> 2381 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2382" class="LineNr"> 2382 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2383" class="LineNr"> 2383 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L2384" class="LineNr"> 2384 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L2385" class="LineNr"> 2385 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L2386" class="LineNr"> 2386 </span>    68/push 0/imm32
<span id="L2387" class="LineNr"> 2387 </span>    68/push 0/imm32
<span id="L2388" class="LineNr"> 2388 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2389" class="LineNr"> 2389 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L2390" class="LineNr"> 2390 </span>    <span class="subxComment">#</span>
<span id="L2391" class="LineNr"> 2391 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2392" class="LineNr"> 2392 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  $a: {\n&quot;</span>)
<span id="L2393" class="LineNr"> 2393 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    compare x, 0\n&quot;</span>)
<span id="L2394" class="LineNr"> 2394 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2395" class="LineNr"> 2395 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2396" class="LineNr"> 2396 </span>    <span class="subxComment"># convert</span>
<span id="L2397" class="LineNr"> 2397 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L2398" class="LineNr"> 2398 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L2399" class="LineNr"> 2399 </span>    <span class="subxComment"># restore ed</span>
<span id="L2400" class="LineNr"> 2400 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2401" class="LineNr"> 2401 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2402" class="LineNr"> 2402 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L2403" class="Folded"> 2403 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2409" class="LineNr"> 2409 </span>    <span class="subxComment"># check output</span>
<span id="L2410" class="LineNr"> 2410 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2374'>test-unknown-variable-in-named-block</a>: output should be empty&quot;</span>)
<span id="L2411" class="LineNr"> 2411 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: unknown variable 'x'&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2374'>test-unknown-variable-in-named-block</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L2412" class="LineNr"> 2412 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L2413" class="LineNr"> 2413 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L2374'>test-unknown-variable-in-named-block</a>: exit status&quot;</span>)
<span id="L2414" class="LineNr"> 2414 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L2415" class="LineNr"> 2415 </span>    81 0/subop/add %esp 8/imm32
<span id="L2416" class="LineNr"> 2416 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2417" class="LineNr"> 2417 </span>    5d/pop-to-ebp
<span id="L2418" class="LineNr"> 2418 </span>    c3/return
<span id="L2419" class="LineNr"> 2419 </span>
<span id="L2420" class="LineNr"> 2420 </span><span class="subxTest">test-always-shadow-outermost-reg-vars-in-function</span>:
<span id="L2421" class="LineNr"> 2421 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2422" class="LineNr"> 2422 </span>    55/push-ebp
<span id="L2423" class="LineNr"> 2423 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2424" class="LineNr"> 2424 </span>    <span class="subxComment"># setup</span>
<span id="L2425" class="LineNr"> 2425 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2426" class="LineNr"> 2426 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2427" class="LineNr"> 2427 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2428" class="LineNr"> 2428 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2429" class="LineNr"> 2429 </span>    <span class="subxComment">#</span>
<span id="L2430" class="LineNr"> 2430 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2431" class="LineNr"> 2431 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L2432" class="LineNr"> 2432 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2433" class="LineNr"> 2433 </span>    <span class="subxComment"># convert</span>
<span id="L2434" class="LineNr"> 2434 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2435" class="LineNr"> 2435 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2436" class="Folded"> 2436 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2442" class="LineNr"> 2442 </span>    <span class="subxComment"># check output</span>
<span id="L2443" class="LineNr"> 2443 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/0&quot;</span>)
<span id="L2444" class="LineNr"> 2444 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-always-shadow-outermost-reg-vars-in-function/1&quot;</span>)
<span id="L2445" class="LineNr"> 2445 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/2&quot;</span>)
<span id="L2446" class="LineNr"> 2446 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/3&quot;</span>)
<span id="L2447" class="LineNr"> 2447 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/4&quot;</span>)
<span id="L2448" class="LineNr"> 2448 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/5&quot;</span>)
<span id="L2449" class="LineNr"> 2449 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/6&quot;</span>)
<span id="L2450" class="LineNr"> 2450 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/8&quot;</span>)
<span id="L2451" class="LineNr"> 2451 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2185'>test-convert-compare-register-with-literal</a>/9&quot;</span>)
<span id="L2452" class="LineNr"> 2452 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/12&quot;</span>)
<span id="L2453" class="LineNr"> 2453 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/13&quot;</span>)
<span id="L2454" class="LineNr"> 2454 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-always-shadow-outermost-reg-vars-in-function/14&quot;</span>)
<span id="L2455" class="LineNr"> 2455 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/15&quot;</span>)
<span id="L2456" class="LineNr"> 2456 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/16&quot;</span>)
<span id="L2457" class="LineNr"> 2457 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2420'>test-always-shadow-outermost-reg-vars-in-function</a>/17&quot;</span>)
<span id="L2458" class="LineNr"> 2458 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2459" class="LineNr"> 2459 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2460" class="LineNr"> 2460 </span>    5d/pop-to-ebp
<span id="L2461" class="LineNr"> 2461 </span>    c3/return
<span id="L2462" class="LineNr"> 2462 </span>
<span id="L2463" class="LineNr"> 2463 </span><span class="subxMinorFunction">_pending-test-clobber-dead-local</span>:
<span id="L2464" class="LineNr"> 2464 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2465" class="LineNr"> 2465 </span>    55/push-ebp
<span id="L2466" class="LineNr"> 2466 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2467" class="LineNr"> 2467 </span>    <span class="subxComment"># setup</span>
<span id="L2468" class="LineNr"> 2468 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2469" class="LineNr"> 2469 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2470" class="LineNr"> 2470 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2471" class="LineNr"> 2471 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2472" class="LineNr"> 2472 </span>    <span class="subxComment">#</span>
<span id="L2473" class="LineNr"> 2473 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2474" class="LineNr"> 2474 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L2475" class="LineNr"> 2475 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2476" class="LineNr"> 2476 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2477" class="LineNr"> 2477 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2478" class="LineNr"> 2478 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2479" class="LineNr"> 2479 </span>    <span class="subxComment"># convert</span>
<span id="L2480" class="LineNr"> 2480 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2481" class="LineNr"> 2481 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2482" class="Folded"> 2482 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2488" class="LineNr"> 2488 </span>    <span class="subxComment"># check output</span>
<span id="L2489" class="LineNr"> 2489 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - test-clobber-dead-local/0&quot;</span>)
<span id="L2490" class="LineNr"> 2490 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-clobber-dead-local/1&quot;</span>)
<span id="L2491" class="LineNr"> 2491 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - test-clobber-dead-local/2&quot;</span>)
<span id="L2492" class="LineNr"> 2492 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/3&quot;</span>)
<span id="L2493" class="LineNr"> 2493 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - test-clobber-dead-local/4&quot;</span>)
<span id="L2494" class="LineNr"> 2494 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - test-clobber-dead-local/5&quot;</span>)
<span id="L2495" class="LineNr"> 2495 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/6&quot;</span>)
<span id="L2496" class="LineNr"> 2496 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/7&quot;</span>)
<span id="L2497" class="LineNr"> 2497 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - test-clobber-dead-local/8&quot;</span>)
<span id="L2498" class="LineNr"> 2498 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - test-clobber-dead-local/9&quot;</span>)
<span id="L2499" class="LineNr"> 2499 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/10&quot;</span>)  <span class="subxComment"># no push/pop here</span>
<span id="L2500" class="LineNr"> 2500 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - test-clobber-dead-local/11&quot;</span>)
<span id="L2501" class="LineNr"> 2501 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/12&quot;</span>)
<span id="L2502" class="LineNr"> 2502 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - test-clobber-dead-local/13&quot;</span>)
<span id="L2503" class="LineNr"> 2503 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - test-clobber-dead-local/14&quot;</span>)
<span id="L2504" class="LineNr"> 2504 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/15&quot;</span>)
<span id="L2505" class="LineNr"> 2505 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-clobber-dead-local/16&quot;</span>)
<span id="L2506" class="LineNr"> 2506 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - test-clobber-dead-local/17&quot;</span>)
<span id="L2507" class="LineNr"> 2507 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - test-clobber-dead-local/18&quot;</span>)
<span id="L2508" class="LineNr"> 2508 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - test-clobber-dead-local/19&quot;</span>)
<span id="L2509" class="LineNr"> 2509 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2510" class="LineNr"> 2510 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2511" class="LineNr"> 2511 </span>    5d/pop-to-ebp
<span id="L2512" class="LineNr"> 2512 </span>    c3/return
<span id="L2513" class="LineNr"> 2513 </span>
<span id="L2514" class="LineNr"> 2514 </span><span class="subxTest">test-shadow-live-local</span>:
<span id="L2515" class="LineNr"> 2515 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2516" class="LineNr"> 2516 </span>    55/push-ebp
<span id="L2517" class="LineNr"> 2517 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2518" class="LineNr"> 2518 </span>    <span class="subxComment"># setup</span>
<span id="L2519" class="LineNr"> 2519 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2520" class="LineNr"> 2520 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2521" class="LineNr"> 2521 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2522" class="LineNr"> 2522 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2523" class="LineNr"> 2523 </span>    <span class="subxComment">#</span>
<span id="L2524" class="LineNr"> 2524 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2525" class="LineNr"> 2525 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L2526" class="LineNr"> 2526 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2527" class="LineNr"> 2527 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2528" class="LineNr"> 2528 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2529" class="LineNr"> 2529 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- increment\n&quot;</span>)
<span id="L2530" class="LineNr"> 2530 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2531" class="LineNr"> 2531 </span>    <span class="subxComment"># convert</span>
<span id="L2532" class="LineNr"> 2532 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2533" class="LineNr"> 2533 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2534" class="Folded"> 2534 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2540" class="LineNr"> 2540 </span>    <span class="subxComment"># check output</span>
<span id="L2541" class="LineNr"> 2541 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/0&quot;</span>)
<span id="L2542" class="LineNr"> 2542 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-shadow-live-local/1&quot;</span>)
<span id="L2543" class="LineNr"> 2543 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/2&quot;</span>)
<span id="L2544" class="LineNr"> 2544 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/3&quot;</span>)
<span id="L2545" class="LineNr"> 2545 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/4&quot;</span>)
<span id="L2546" class="LineNr"> 2546 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/5&quot;</span>)
<span id="L2547" class="LineNr"> 2547 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/6&quot;</span>)
<span id="L2548" class="LineNr"> 2548 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/7&quot;</span>)
<span id="L2549" class="LineNr"> 2549 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/8&quot;</span>)
<span id="L2550" class="LineNr"> 2550 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/9&quot;</span>)
<span id="L2551" class="LineNr"> 2551 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/10&quot;</span>)
<span id="L2552" class="LineNr"> 2552 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/11&quot;</span>)
<span id="L2553" class="LineNr"> 2553 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/12&quot;</span>)
<span id="L2554" class="LineNr"> 2554 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/13&quot;</span>)
<span id="L2555" class="LineNr"> 2555 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/14&quot;</span>)
<span id="L2556" class="LineNr"> 2556 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/15&quot;</span>)
<span id="L2557" class="LineNr"> 2557 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/16&quot;</span>)
<span id="L2558" class="LineNr"> 2558 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/17&quot;</span>)
<span id="L2559" class="LineNr"> 2559 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/18&quot;</span>)
<span id="L2560" class="LineNr"> 2560 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-shadow-live-local/19&quot;</span>)
<span id="L2561" class="LineNr"> 2561 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/20&quot;</span>)
<span id="L2562" class="LineNr"> 2562 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/21&quot;</span>)
<span id="L2563" class="LineNr"> 2563 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2514'>test-shadow-live-local</a>/22&quot;</span>)
<span id="L2564" class="LineNr"> 2564 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2565" class="LineNr"> 2565 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2566" class="LineNr"> 2566 </span>    5d/pop-to-ebp
<span id="L2567" class="LineNr"> 2567 </span>    c3/return
<span id="L2568" class="LineNr"> 2568 </span>
<span id="L2569" class="LineNr"> 2569 </span><span class="subxTest">test-shadow-name</span>:
<span id="L2570" class="LineNr"> 2570 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2571" class="LineNr"> 2571 </span>    55/push-ebp
<span id="L2572" class="LineNr"> 2572 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2573" class="LineNr"> 2573 </span>    <span class="subxComment"># setup</span>
<span id="L2574" class="LineNr"> 2574 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2575" class="LineNr"> 2575 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2576" class="LineNr"> 2576 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2577" class="LineNr"> 2577 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2578" class="LineNr"> 2578 </span>    <span class="subxComment">#</span>
<span id="L2579" class="LineNr"> 2579 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2580" class="LineNr"> 2580 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L2581" class="LineNr"> 2581 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2582" class="LineNr"> 2582 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x/edx: int &lt;- copy 4\n&quot;</span>)
<span id="L2583" class="LineNr"> 2583 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2584" class="LineNr"> 2584 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- increment\n&quot;</span>)
<span id="L2585" class="LineNr"> 2585 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2586" class="LineNr"> 2586 </span>    <span class="subxComment"># convert</span>
<span id="L2587" class="LineNr"> 2587 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2588" class="LineNr"> 2588 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2589" class="Folded"> 2589 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2595" class="LineNr"> 2595 </span>    <span class="subxComment"># check output</span>
<span id="L2596" class="LineNr"> 2596 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/0&quot;</span>)
<span id="L2597" class="LineNr"> 2597 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-shadow-name/1&quot;</span>)
<span id="L2598" class="LineNr"> 2598 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/2&quot;</span>)
<span id="L2599" class="LineNr"> 2599 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/3&quot;</span>)
<span id="L2600" class="LineNr"> 2600 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/4&quot;</span>)
<span id="L2601" class="LineNr"> 2601 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/5&quot;</span>)
<span id="L2602" class="LineNr"> 2602 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/6&quot;</span>)
<span id="L2603" class="LineNr"> 2603 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/7&quot;</span>)
<span id="L2604" class="LineNr"> 2604 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/8&quot;</span>)
<span id="L2605" class="LineNr"> 2605 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/9&quot;</span>)
<span id="L2606" class="LineNr"> 2606 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/10&quot;</span>)
<span id="L2607" class="LineNr"> 2607 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ba/copy-to-edx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/11&quot;</span>)
<span id="L2608" class="LineNr"> 2608 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %edx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/12&quot;</span>)
<span id="L2609" class="LineNr"> 2609 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/13&quot;</span>)
<span id="L2610" class="LineNr"> 2610 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/14&quot;</span>)
<span id="L2611" class="LineNr"> 2611 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/15&quot;</span>)
<span id="L2612" class="LineNr"> 2612 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/16&quot;</span>)
<span id="L2613" class="LineNr"> 2613 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/17&quot;</span>)
<span id="L2614" class="LineNr"> 2614 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/18&quot;</span>)
<span id="L2615" class="LineNr"> 2615 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-shadow-name/19&quot;</span>)
<span id="L2616" class="LineNr"> 2616 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/20&quot;</span>)
<span id="L2617" class="LineNr"> 2617 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/21&quot;</span>)
<span id="L2618" class="LineNr"> 2618 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2569'>test-shadow-name</a>/22&quot;</span>)
<span id="L2619" class="LineNr"> 2619 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2620" class="LineNr"> 2620 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2621" class="LineNr"> 2621 </span>    5d/pop-to-ebp
<span id="L2622" class="LineNr"> 2622 </span>    c3/return
<span id="L2623" class="LineNr"> 2623 </span>
<span id="L2624" class="LineNr"> 2624 </span><span class="subxTest">test-shadow-name-2</span>:
<span id="L2625" class="LineNr"> 2625 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2626" class="LineNr"> 2626 </span>    55/push-ebp
<span id="L2627" class="LineNr"> 2627 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2628" class="LineNr"> 2628 </span>    <span class="subxComment"># setup</span>
<span id="L2629" class="LineNr"> 2629 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2630" class="LineNr"> 2630 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2631" class="LineNr"> 2631 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2632" class="LineNr"> 2632 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2633" class="LineNr"> 2633 </span>    <span class="subxComment">#</span>
<span id="L2634" class="LineNr"> 2634 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2635" class="LineNr"> 2635 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L2636" class="LineNr"> 2636 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2637" class="LineNr"> 2637 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x/edx: int &lt;- copy 4\n&quot;</span>)
<span id="L2638" class="LineNr"> 2638 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var y/ecx: int &lt;- copy 5\n&quot;</span>)
<span id="L2639" class="LineNr"> 2639 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2640" class="LineNr"> 2640 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- increment\n&quot;</span>)
<span id="L2641" class="LineNr"> 2641 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2642" class="LineNr"> 2642 </span>    <span class="subxComment"># convert</span>
<span id="L2643" class="LineNr"> 2643 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2644" class="LineNr"> 2644 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2645" class="Folded"> 2645 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2651" class="LineNr"> 2651 </span>    <span class="subxComment"># check output</span>
<span id="L2652" class="LineNr"> 2652 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/0&quot;</span>)
<span id="L2653" class="LineNr"> 2653 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-shadow-name-2/1&quot;</span>)
<span id="L2654" class="LineNr"> 2654 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/2&quot;</span>)
<span id="L2655" class="LineNr"> 2655 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/3&quot;</span>)
<span id="L2656" class="LineNr"> 2656 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/4&quot;</span>)
<span id="L2657" class="LineNr"> 2657 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/5&quot;</span>)
<span id="L2658" class="LineNr"> 2658 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/6&quot;</span>)
<span id="L2659" class="LineNr"> 2659 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/7&quot;</span>)
<span id="L2660" class="LineNr"> 2660 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/8&quot;</span>)
<span id="L2661" class="LineNr"> 2661 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/9&quot;</span>)
<span id="L2662" class="LineNr"> 2662 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/10&quot;</span>)
<span id="L2663" class="LineNr"> 2663 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ba/copy-to-edx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/11&quot;</span>)
<span id="L2664" class="LineNr"> 2664 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/12&quot;</span>)
<span id="L2665" class="LineNr"> 2665 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      b9/copy-to-ecx 5/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/13&quot;</span>)
<span id="L2666" class="LineNr"> 2666 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/14&quot;</span>)
<span id="L2667" class="LineNr"> 2667 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %edx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/15&quot;</span>)
<span id="L2668" class="LineNr"> 2668 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/16&quot;</span>)
<span id="L2669" class="LineNr"> 2669 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/17&quot;</span>)
<span id="L2670" class="LineNr"> 2670 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/18&quot;</span>)
<span id="L2671" class="LineNr"> 2671 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/19&quot;</span>)
<span id="L2672" class="LineNr"> 2672 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/20&quot;</span>)
<span id="L2673" class="LineNr"> 2673 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/21&quot;</span>)
<span id="L2674" class="LineNr"> 2674 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-shadow-name-2/22&quot;</span>)
<span id="L2675" class="LineNr"> 2675 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/23&quot;</span>)
<span id="L2676" class="LineNr"> 2676 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/24&quot;</span>)
<span id="L2677" class="LineNr"> 2677 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2624'>test-shadow-name-2</a>/25&quot;</span>)
<span id="L2678" class="LineNr"> 2678 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2679" class="LineNr"> 2679 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2680" class="LineNr"> 2680 </span>    5d/pop-to-ebp
<span id="L2681" class="LineNr"> 2681 </span>    c3/return
<span id="L2682" class="LineNr"> 2682 </span>
<span id="L2683" class="LineNr"> 2683 </span><span class="subxTest">test-do-not-spill-same-register-in-block</span>:
<span id="L2684" class="LineNr"> 2684 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2685" class="LineNr"> 2685 </span>    55/push-ebp
<span id="L2686" class="LineNr"> 2686 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2687" class="LineNr"> 2687 </span>    <span class="subxComment"># setup</span>
<span id="L2688" class="LineNr"> 2688 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2689" class="LineNr"> 2689 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2690" class="LineNr"> 2690 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2691" class="LineNr"> 2691 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2692" class="LineNr"> 2692 </span>    <span class="subxComment">#</span>
<span id="L2693" class="LineNr"> 2693 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2694" class="LineNr"> 2694 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L2695" class="LineNr"> 2695 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2696" class="LineNr"> 2696 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y &lt;- increment\n&quot;</span>)
<span id="L2697" class="LineNr"> 2697 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2698" class="LineNr"> 2698 </span>    <span class="subxComment"># convert</span>
<span id="L2699" class="LineNr"> 2699 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2700" class="LineNr"> 2700 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2701" class="Folded"> 2701 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2707" class="LineNr"> 2707 </span>    <span class="subxComment"># check output</span>
<span id="L2708" class="LineNr"> 2708 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/0&quot;</span>)
<span id="L2709" class="LineNr"> 2709 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-do-not-spill-same-register-in-block/1&quot;</span>)
<span id="L2710" class="LineNr"> 2710 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/2&quot;</span>)
<span id="L2711" class="LineNr"> 2711 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/3&quot;</span>)
<span id="L2712" class="LineNr"> 2712 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/4&quot;</span>)
<span id="L2713" class="LineNr"> 2713 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/5&quot;</span>)
<span id="L2714" class="LineNr"> 2714 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/6&quot;</span>)
<span id="L2715" class="LineNr"> 2715 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/7&quot;</span>)
<span id="L2716" class="LineNr"> 2716 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/8&quot;</span>)
<span id="L2717" class="LineNr"> 2717 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/9&quot;</span>)
<span id="L2718" class="LineNr"> 2718 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/10&quot;</span>)
<span id="L2719" class="LineNr"> 2719 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/11&quot;</span>)
<span id="L2720" class="LineNr"> 2720 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/12&quot;</span>)
<span id="L2721" class="LineNr"> 2721 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-do-not-spill-same-register-in-block/13&quot;</span>)
<span id="L2722" class="LineNr"> 2722 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/14&quot;</span>)
<span id="L2723" class="LineNr"> 2723 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/15&quot;</span>)
<span id="L2724" class="LineNr"> 2724 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2683'>test-do-not-spill-same-register-in-block</a>/16&quot;</span>)
<span id="L2725" class="LineNr"> 2725 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2726" class="LineNr"> 2726 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2727" class="LineNr"> 2727 </span>    5d/pop-to-ebp
<span id="L2728" class="LineNr"> 2728 </span>    c3/return
<span id="L2729" class="LineNr"> 2729 </span>
<span id="L2730" class="LineNr"> 2730 </span><span class="subxTest">test-spill-different-register-in-block</span>:
<span id="L2731" class="LineNr"> 2731 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2732" class="LineNr"> 2732 </span>    55/push-ebp
<span id="L2733" class="LineNr"> 2733 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2734" class="LineNr"> 2734 </span>    <span class="subxComment"># setup</span>
<span id="L2735" class="LineNr"> 2735 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2736" class="LineNr"> 2736 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2737" class="LineNr"> 2737 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2738" class="LineNr"> 2738 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2739" class="LineNr"> 2739 </span>    <span class="subxComment">#</span>
<span id="L2740" class="LineNr"> 2740 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L2741" class="LineNr"> 2741 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: int &lt;- copy 3\n&quot;</span>)
<span id="L2742" class="LineNr"> 2742 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2743" class="LineNr"> 2743 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y &lt;- increment\n&quot;</span>)
<span id="L2744" class="LineNr"> 2744 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2745" class="LineNr"> 2745 </span>    <span class="subxComment"># convert</span>
<span id="L2746" class="LineNr"> 2746 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2747" class="LineNr"> 2747 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2748" class="Folded"> 2748 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2754" class="LineNr"> 2754 </span>    <span class="subxComment"># check output</span>
<span id="L2755" class="LineNr"> 2755 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/0&quot;</span>)
<span id="L2756" class="LineNr"> 2756 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-spill-different-register-in-block/1&quot;</span>)
<span id="L2757" class="LineNr"> 2757 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/2&quot;</span>)
<span id="L2758" class="LineNr"> 2758 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/3&quot;</span>)
<span id="L2759" class="LineNr"> 2759 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/4&quot;</span>)
<span id="L2760" class="LineNr"> 2760 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/5&quot;</span>)
<span id="L2761" class="LineNr"> 2761 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/6&quot;</span>)
<span id="L2762" class="LineNr"> 2762 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/7&quot;</span>)
<span id="L2763" class="LineNr"> 2763 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/8&quot;</span>)
<span id="L2764" class="LineNr"> 2764 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/9&quot;</span>)
<span id="L2765" class="LineNr"> 2765 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/10&quot;</span>)
<span id="L2766" class="LineNr"> 2766 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/11&quot;</span>)
<span id="L2767" class="LineNr"> 2767 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/12&quot;</span>)
<span id="L2768" class="LineNr"> 2768 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/13&quot;</span>)
<span id="L2769" class="LineNr"> 2769 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/14&quot;</span>)
<span id="L2770" class="LineNr"> 2770 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-spill-different-register-in-block/15&quot;</span>)
<span id="L2771" class="LineNr"> 2771 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/16&quot;</span>)
<span id="L2772" class="LineNr"> 2772 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/17&quot;</span>)
<span id="L2773" class="LineNr"> 2773 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2730'>test-spill-different-register-in-block</a>/18&quot;</span>)
<span id="L2774" class="LineNr"> 2774 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2775" class="LineNr"> 2775 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2776" class="LineNr"> 2776 </span>    5d/pop-to-ebp
<span id="L2777" class="LineNr"> 2777 </span>    c3/return
<span id="L2778" class="LineNr"> 2778 </span>
<span id="L2779" class="LineNr"> 2779 </span><span class="subxTest">test-shadow-live-output</span>:
<span id="L2780" class="LineNr"> 2780 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2781" class="LineNr"> 2781 </span>    55/push-ebp
<span id="L2782" class="LineNr"> 2782 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2783" class="LineNr"> 2783 </span>    <span class="subxComment"># setup</span>
<span id="L2784" class="LineNr"> 2784 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2785" class="LineNr"> 2785 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2786" class="LineNr"> 2786 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2787" class="LineNr"> 2787 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2788" class="LineNr"> 2788 </span>    <span class="subxComment">#</span>
<span id="L2789" class="LineNr"> 2789 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo -&gt; x/ecx: int {\n&quot;</span>)
<span id="L2790" class="LineNr"> 2790 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- copy 3\n&quot;</span>)
<span id="L2791" class="LineNr"> 2791 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2792" class="LineNr"> 2792 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2793" class="LineNr"> 2793 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2794" class="LineNr"> 2794 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- increment\n&quot;</span>)
<span id="L2795" class="LineNr"> 2795 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2796" class="LineNr"> 2796 </span>    <span class="subxComment"># convert</span>
<span id="L2797" class="LineNr"> 2797 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2798" class="LineNr"> 2798 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2799" class="Folded"> 2799 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2805" class="LineNr"> 2805 </span>    <span class="subxComment"># check output</span>
<span id="L2806" class="LineNr"> 2806 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/0&quot;</span>)
<span id="L2807" class="LineNr"> 2807 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-shadow-live-output/1&quot;</span>)
<span id="L2808" class="LineNr"> 2808 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/2&quot;</span>)
<span id="L2809" class="LineNr"> 2809 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/3&quot;</span>)
<span id="L2810" class="LineNr"> 2810 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/4&quot;</span>)
<span id="L2811" class="LineNr"> 2811 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/5&quot;</span>)
<span id="L2812" class="LineNr"> 2812 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/7&quot;</span>)  <span class="subxComment"># no push because it's an output reg</span>
<span id="L2813" class="LineNr"> 2813 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/8&quot;</span>)
<span id="L2814" class="LineNr"> 2814 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/9&quot;</span>)
<span id="L2815" class="LineNr"> 2815 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/10&quot;</span>)
<span id="L2816" class="LineNr"> 2816 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/11&quot;</span>)
<span id="L2817" class="LineNr"> 2817 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/12&quot;</span>)
<span id="L2818" class="LineNr"> 2818 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/13&quot;</span>)
<span id="L2819" class="LineNr"> 2819 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/14&quot;</span>)
<span id="L2820" class="LineNr"> 2820 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    41/increment-ecx&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/15&quot;</span>)
<span id="L2821" class="LineNr"> 2821 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/17&quot;</span>)
<span id="L2822" class="LineNr"> 2822 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/18&quot;</span>)
<span id="L2823" class="LineNr"> 2823 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-shadow-live-output/19&quot;</span>)
<span id="L2824" class="LineNr"> 2824 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/20&quot;</span>)
<span id="L2825" class="LineNr"> 2825 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/21&quot;</span>)
<span id="L2826" class="LineNr"> 2826 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2779'>test-shadow-live-output</a>/21&quot;</span>)
<span id="L2827" class="LineNr"> 2827 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2828" class="LineNr"> 2828 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2829" class="LineNr"> 2829 </span>    5d/pop-to-ebp
<span id="L2830" class="LineNr"> 2830 </span>    c3/return
<span id="L2831" class="LineNr"> 2831 </span>
<span id="L2832" class="LineNr"> 2832 </span><span class="subxTest">test-stmt-defines-output-in-same-register-as-inout</span>:
<span id="L2833" class="LineNr"> 2833 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2834" class="LineNr"> 2834 </span>    55/push-ebp
<span id="L2835" class="LineNr"> 2835 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2836" class="LineNr"> 2836 </span>    <span class="subxComment"># setup</span>
<span id="L2837" class="LineNr"> 2837 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2838" class="LineNr"> 2838 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2839" class="LineNr"> 2839 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2840" class="LineNr"> 2840 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2841" class="LineNr"> 2841 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L2842" class="LineNr"> 2842 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L2843" class="LineNr"> 2843 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L2844" class="LineNr"> 2844 </span>    68/push 0/imm32
<span id="L2845" class="LineNr"> 2845 </span>    68/push 0/imm32
<span id="L2846" class="LineNr"> 2846 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2847" class="LineNr"> 2847 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L2848" class="LineNr"> 2848 </span>    <span class="subxComment">#</span>
<span id="L2849" class="LineNr"> 2849 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo -&gt; x/ecx: int {\n&quot;</span>)
<span id="L2850" class="LineNr"> 2850 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2851" class="LineNr"> 2851 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- copy y\n&quot;</span>)  <span class="subxComment"># writing to a fn output is currently the only way for a statement to define a new var</span>
<span id="L2852" class="LineNr"> 2852 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2853" class="LineNr"> 2853 </span>    <span class="subxComment"># convert</span>
<span id="L2854" class="LineNr"> 2854 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L2855" class="LineNr"> 2855 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L2856" class="LineNr"> 2856 </span>    <span class="subxComment"># restore ed</span>
<span id="L2857" class="LineNr"> 2857 </span>    89/&lt;- %edx 4/r32/esp
<span id="L2858" class="LineNr"> 2858 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2859" class="LineNr"> 2859 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L2860" class="Folded"> 2860 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2866" class="LineNr"> 2866 </span>    <span class="subxComment"># no error; we looked up 'y' correctly before pushing the binding for 'x'</span>
<span id="L2867" class="LineNr"> 2867 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2832'>test-stmt-defines-output-in-same-register-as-inout</a>: <a href='../114error.subx.html#L9'>error</a> stream should be empty&quot;</span>)
<span id="L2868" class="LineNr"> 2868 </span>    <span class="subxComment"># don't bother checking the generated code; that's in the test 'test-local-clobbered-by-fn-output' below</span>
<span id="L2869" class="LineNr"> 2869 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L2870" class="LineNr"> 2870 </span>    81 0/subop/add %esp 8/imm32
<span id="L2871" class="LineNr"> 2871 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2872" class="LineNr"> 2872 </span>    5d/pop-to-ebp
<span id="L2873" class="LineNr"> 2873 </span>    c3/return
<span id="L2874" class="LineNr"> 2874 </span>
<span id="L2875" class="LineNr"> 2875 </span><span class="subxTest">test-local-clobbered-by-fn-output</span>:
<span id="L2876" class="LineNr"> 2876 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2877" class="LineNr"> 2877 </span>    55/push-ebp
<span id="L2878" class="LineNr"> 2878 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2879" class="LineNr"> 2879 </span>    <span class="subxComment"># setup</span>
<span id="L2880" class="LineNr"> 2880 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2881" class="LineNr"> 2881 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2882" class="LineNr"> 2882 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2883" class="LineNr"> 2883 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2884" class="LineNr"> 2884 </span>    <span class="subxComment">#</span>
<span id="L2885" class="LineNr"> 2885 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo -&gt; x/ecx: int {\n&quot;</span>)
<span id="L2886" class="LineNr"> 2886 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var y/ecx: int &lt;- copy 4\n&quot;</span>)
<span id="L2887" class="LineNr"> 2887 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- copy y\n&quot;</span>)
<span id="L2888" class="LineNr"> 2888 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2889" class="LineNr"> 2889 </span>    <span class="subxComment"># convert</span>
<span id="L2890" class="LineNr"> 2890 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2891" class="LineNr"> 2891 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2892" class="Folded"> 2892 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2898" class="LineNr"> 2898 </span>    <span class="subxComment"># check output</span>
<span id="L2899" class="LineNr"> 2899 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/0&quot;</span>)
<span id="L2900" class="LineNr"> 2900 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-local-clobbered-by-fn-output/1&quot;</span>)
<span id="L2901" class="LineNr"> 2901 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/2&quot;</span>)
<span id="L2902" class="LineNr"> 2902 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/3&quot;</span>)
<span id="L2903" class="LineNr"> 2903 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/4&quot;</span>)
<span id="L2904" class="LineNr"> 2904 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/5&quot;</span>)
<span id="L2905" class="LineNr"> 2905 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/6&quot;</span>)  <span class="subxComment"># no push because it's an output reg</span>
<span id="L2906" class="LineNr"> 2906 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    89/&lt;- %ecx 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/7&quot;</span>)
<span id="L2907" class="LineNr"> 2907 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/8&quot;</span>)
<span id="L2908" class="LineNr"> 2908 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/9&quot;</span>)
<span id="L2909" class="LineNr"> 2909 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-local-clobbered-by-fn-output/10&quot;</span>)
<span id="L2910" class="LineNr"> 2910 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/11&quot;</span>)
<span id="L2911" class="LineNr"> 2911 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/12&quot;</span>)
<span id="L2912" class="LineNr"> 2912 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2875'>test-local-clobbered-by-fn-output</a>/13&quot;</span>)
<span id="L2913" class="LineNr"> 2913 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2914" class="LineNr"> 2914 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2915" class="LineNr"> 2915 </span>    5d/pop-to-ebp
<span id="L2916" class="LineNr"> 2916 </span>    c3/return
<span id="L2917" class="LineNr"> 2917 </span>
<span id="L2918" class="LineNr"> 2918 </span><span class="subxTest">test-read-output</span>:
<span id="L2919" class="LineNr"> 2919 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2920" class="LineNr"> 2920 </span>    55/push-ebp
<span id="L2921" class="LineNr"> 2921 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2922" class="LineNr"> 2922 </span>    <span class="subxComment"># setup</span>
<span id="L2923" class="LineNr"> 2923 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2924" class="LineNr"> 2924 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2925" class="LineNr"> 2925 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2926" class="LineNr"> 2926 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2927" class="LineNr"> 2927 </span>    <span class="subxComment">#</span>
<span id="L2928" class="LineNr"> 2928 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo -&gt; x/ecx: int {\n&quot;</span>)
<span id="L2929" class="LineNr"> 2929 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x &lt;- copy 0x34\n&quot;</span>)
<span id="L2930" class="LineNr"> 2930 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  compare x, 0x35\n&quot;</span>)
<span id="L2931" class="LineNr"> 2931 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2932" class="LineNr"> 2932 </span>    <span class="subxComment"># convert</span>
<span id="L2933" class="LineNr"> 2933 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2934" class="LineNr"> 2934 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2935" class="Folded"> 2935 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2941" class="LineNr"> 2941 </span>    <span class="subxComment"># check output</span>
<span id="L2942" class="LineNr"> 2942 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/0&quot;</span>)
<span id="L2943" class="LineNr"> 2943 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-read-output/1&quot;</span>)
<span id="L2944" class="LineNr"> 2944 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/2&quot;</span>)
<span id="L2945" class="LineNr"> 2945 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/3&quot;</span>)
<span id="L2946" class="LineNr"> 2946 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/4&quot;</span>)
<span id="L2947" class="LineNr"> 2947 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/5&quot;</span>)
<span id="L2948" class="LineNr"> 2948 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0x34/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/6&quot;</span>)
<span id="L2949" class="LineNr"> 2949 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 7/subop/compare %ecx 0x35/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/7&quot;</span>)
<span id="L2950" class="LineNr"> 2950 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/8&quot;</span>)
<span id="L2951" class="LineNr"> 2951 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/9&quot;</span>)
<span id="L2952" class="LineNr"> 2952 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-read-output/10&quot;</span>)
<span id="L2953" class="LineNr"> 2953 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/11&quot;</span>)
<span id="L2954" class="LineNr"> 2954 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/12&quot;</span>)
<span id="L2955" class="LineNr"> 2955 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2918'>test-read-output</a>/13&quot;</span>)
<span id="L2956" class="LineNr"> 2956 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L2957" class="LineNr"> 2957 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L2958" class="LineNr"> 2958 </span>    5d/pop-to-ebp
<span id="L2959" class="LineNr"> 2959 </span>    c3/return
<span id="L2960" class="LineNr"> 2960 </span>
<span id="L2961" class="LineNr"> 2961 </span><span class="subxTest">test-fn-output-written-in-inner-block</span>:
<span id="L2962" class="LineNr"> 2962 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L2963" class="LineNr"> 2963 </span>    55/push-ebp
<span id="L2964" class="LineNr"> 2964 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L2965" class="LineNr"> 2965 </span>    <span class="subxComment"># setup</span>
<span id="L2966" class="LineNr"> 2966 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L2967" class="LineNr"> 2967 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L2968" class="LineNr"> 2968 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L2969" class="LineNr"> 2969 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L2970" class="LineNr"> 2970 </span>    <span class="subxComment">#</span>
<span id="L2971" class="LineNr"> 2971 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo -&gt; out/edi: int {\n&quot;</span>)
<span id="L2972" class="LineNr"> 2972 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: int &lt;- copy 3\n&quot;</span>)  <span class="subxComment"># define outer local</span>
<span id="L2973" class="LineNr"> 2973 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L2974" class="LineNr"> 2974 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var a/ecx: int &lt;- copy 4\n&quot;</span>)  <span class="subxComment"># shadow outer local</span>
<span id="L2975" class="LineNr"> 2975 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    out &lt;- copy a\n&quot;</span>)  <span class="subxComment"># write to fn output</span>
<span id="L2976" class="LineNr"> 2976 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L2977" class="LineNr"> 2977 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  compare a, 0\n&quot;</span>)  <span class="subxComment"># use outer local</span>
<span id="L2978" class="LineNr"> 2978 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L2979" class="LineNr"> 2979 </span>    <span class="subxComment"># convert</span>
<span id="L2980" class="LineNr"> 2980 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L2981" class="LineNr"> 2981 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L2982" class="Folded"> 2982 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L2988" class="LineNr"> 2988 </span>    <span class="subxComment"># no error; defining 'out' didn't interfere with the reclamation of 'b'</span>
<span id="L2989" class="LineNr"> 2989 </span>    <span class="subxComment"># check output</span>
<span id="L2990" class="LineNr"> 2990 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/0&quot;</span>)
<span id="L2991" class="LineNr"> 2991 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-fn-output-written-in-inner-block/1&quot;</span>)
<span id="L2992" class="LineNr"> 2992 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/2&quot;</span>)
<span id="L2993" class="LineNr"> 2993 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/3&quot;</span>)
<span id="L2994" class="LineNr"> 2994 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/4&quot;</span>)
<span id="L2995" class="LineNr"> 2995 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/5&quot;</span>)
<span id="L2996" class="LineNr"> 2996 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/6&quot;</span>)
<span id="L2997" class="LineNr"> 2997 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 3/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/7&quot;</span>)
<span id="L2998" class="LineNr"> 2998 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/8&quot;</span>)
<span id="L2999" class="LineNr"> 2999 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/9&quot;</span>)
<span id="L3000" class="LineNr"> 3000 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/10&quot;</span>)
<span id="L3001" class="LineNr"> 3001 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      b9/copy-to-ecx 4/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/10&quot;</span>)
<span id="L3002" class="LineNr"> 3002 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      89/&lt;- %edi 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/11&quot;</span>)
<span id="L3003" class="LineNr"> 3003 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/12&quot;</span>)
<span id="L3004" class="LineNr"> 3004 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/13&quot;</span>)
<span id="L3005" class="LineNr"> 3005 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/14&quot;</span>)
<span id="L3006" class="LineNr"> 3006 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    3d/compare-eax-with 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/15&quot;</span>)
<span id="L3007" class="LineNr"> 3007 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/16&quot;</span>)
<span id="L3008" class="LineNr"> 3008 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/17&quot;</span>)
<span id="L3009" class="LineNr"> 3009 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/18&quot;</span>)
<span id="L3010" class="LineNr"> 3010 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-fn-output-written-in-inner-block/19&quot;</span>)
<span id="L3011" class="LineNr"> 3011 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/20&quot;</span>)
<span id="L3012" class="LineNr"> 3012 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/21&quot;</span>)
<span id="L3013" class="LineNr"> 3013 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L2961'>test-fn-output-written-in-inner-block</a>/22&quot;</span>)
<span id="L3014" class="LineNr"> 3014 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3015" class="LineNr"> 3015 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3016" class="LineNr"> 3016 </span>    5d/pop-to-ebp
<span id="L3017" class="LineNr"> 3017 </span>    c3/return
<span id="L3018" class="LineNr"> 3018 </span>
<span id="L3019" class="LineNr"> 3019 </span><span class="subxTest">test-convert-function-with-branches-in-block</span>:
<span id="L3020" class="LineNr"> 3020 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3021" class="LineNr"> 3021 </span>    55/push-ebp
<span id="L3022" class="LineNr"> 3022 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3023" class="LineNr"> 3023 </span>    <span class="subxComment"># setup</span>
<span id="L3024" class="LineNr"> 3024 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3025" class="LineNr"> 3025 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3026" class="LineNr"> 3026 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3027" class="LineNr"> 3027 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3028" class="LineNr"> 3028 </span>    <span class="subxComment">#</span>
<span id="L3029" class="LineNr"> 3029 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: int {\n&quot;</span>)
<span id="L3030" class="LineNr"> 3030 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3031" class="LineNr"> 3031 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    break-if-&gt;=\n&quot;</span>)
<span id="L3032" class="LineNr"> 3032 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop-if-addr&lt;\n&quot;</span>)
<span id="L3033" class="LineNr"> 3033 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L3034" class="LineNr"> 3034 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop\n&quot;</span>)
<span id="L3035" class="LineNr"> 3035 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3036" class="LineNr"> 3036 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3037" class="LineNr"> 3037 </span>    <span class="subxComment"># convert</span>
<span id="L3038" class="LineNr"> 3038 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3039" class="LineNr"> 3039 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3040" class="Folded"> 3040 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3046" class="LineNr"> 3046 </span>    <span class="subxComment"># check output</span>
<span id="L3047" class="LineNr"> 3047 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/0&quot;</span>)
<span id="L3048" class="LineNr"> 3048 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-in-block/1&quot;</span>)
<span id="L3049" class="LineNr"> 3049 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/2&quot;</span>)
<span id="L3050" class="LineNr"> 3050 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/3&quot;</span>)
<span id="L3051" class="LineNr"> 3051 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/4&quot;</span>)
<span id="L3052" class="LineNr"> 3052 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/5&quot;</span>)
<span id="L3053" class="LineNr"> 3053 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/6&quot;</span>)
<span id="L3054" class="LineNr"> 3054 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/7&quot;</span>)
<span id="L3055" class="LineNr"> 3055 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/8&quot;</span>)
<span id="L3056" class="LineNr"> 3056 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/9&quot;</span>)
<span id="L3057" class="LineNr"> 3057 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $foo:0x00000002:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/10&quot;</span>)
<span id="L3058" class="LineNr"> 3058 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/11&quot;</span>)
<span id="L3059" class="LineNr"> 3059 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/12&quot;</span>)
<span id="L3060" class="LineNr"> 3060 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 83/jump-if-addr&gt;= break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/13&quot;</span>)
<span id="L3061" class="LineNr"> 3061 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $foo:0x00000002:loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/14&quot;</span>)
<span id="L3062" class="LineNr"> 3062 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/15&quot;</span>)
<span id="L3063" class="LineNr"> 3063 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0x00000008)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/16&quot;</span>)
<span id="L3064" class="LineNr"> 3064 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      e9/jump loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/17&quot;</span>)
<span id="L3065" class="LineNr"> 3065 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/18&quot;</span>)
<span id="L3066" class="LineNr"> 3066 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/19&quot;</span>)
<span id="L3067" class="LineNr"> 3067 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/20&quot;</span>)
<span id="L3068" class="LineNr"> 3068 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/21&quot;</span>)
<span id="L3069" class="LineNr"> 3069 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-in-block/22&quot;</span>)
<span id="L3070" class="LineNr"> 3070 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/23&quot;</span>)
<span id="L3071" class="LineNr"> 3071 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/24&quot;</span>)
<span id="L3072" class="LineNr"> 3072 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3019'>test-convert-function-with-branches-in-block</a>/25&quot;</span>)
<span id="L3073" class="LineNr"> 3073 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3074" class="LineNr"> 3074 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3075" class="LineNr"> 3075 </span>    5d/pop-to-ebp
<span id="L3076" class="LineNr"> 3076 </span>    c3/return
<span id="L3077" class="LineNr"> 3077 </span>
<span id="L3078" class="LineNr"> 3078 </span><span class="subxTest">test-convert-function-with-branches-in-named-block</span>:
<span id="L3079" class="LineNr"> 3079 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3080" class="LineNr"> 3080 </span>    55/push-ebp
<span id="L3081" class="LineNr"> 3081 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3082" class="LineNr"> 3082 </span>    <span class="subxComment"># setup</span>
<span id="L3083" class="LineNr"> 3083 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3084" class="LineNr"> 3084 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3085" class="LineNr"> 3085 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3086" class="LineNr"> 3086 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3087" class="LineNr"> 3087 </span>    <span class="subxComment">#</span>
<span id="L3088" class="LineNr"> 3088 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: int {\n&quot;</span>)
<span id="L3089" class="LineNr"> 3089 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  $bar: {\n&quot;</span>)
<span id="L3090" class="LineNr"> 3090 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    break-if-&gt;= $bar\n&quot;</span>)
<span id="L3091" class="LineNr"> 3091 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop-if-addr&lt; $bar\n&quot;</span>)
<span id="L3092" class="LineNr"> 3092 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L3093" class="LineNr"> 3093 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop\n&quot;</span>)
<span id="L3094" class="LineNr"> 3094 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3095" class="LineNr"> 3095 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3096" class="LineNr"> 3096 </span>    <span class="subxComment"># convert</span>
<span id="L3097" class="LineNr"> 3097 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3098" class="LineNr"> 3098 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3099" class="Folded"> 3099 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3105" class="LineNr"> 3105 </span>    <span class="subxComment"># check output</span>
<span id="L3106" class="LineNr"> 3106 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/0&quot;</span>)
<span id="L3107" class="LineNr"> 3107 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-in-named-block/1&quot;</span>)
<span id="L3108" class="LineNr"> 3108 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/2&quot;</span>)
<span id="L3109" class="LineNr"> 3109 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/3&quot;</span>)
<span id="L3110" class="LineNr"> 3110 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/4&quot;</span>)
<span id="L3111" class="LineNr"> 3111 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/5&quot;</span>)
<span id="L3112" class="LineNr"> 3112 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/6&quot;</span>)
<span id="L3113" class="LineNr"> 3113 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$bar:loop:&quot;</span>              <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/7&quot;</span>)
<span id="L3114" class="LineNr"> 3114 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/8&quot;</span>)
<span id="L3115" class="LineNr"> 3115 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/9&quot;</span>)
<span id="L3116" class="LineNr"> 3116 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $bar:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/10&quot;</span>)
<span id="L3117" class="LineNr"> 3117 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/11&quot;</span>)
<span id="L3118" class="LineNr"> 3118 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/12&quot;</span>)
<span id="L3119" class="LineNr"> 3119 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 83/jump-if-addr&gt;= break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/13&quot;</span>)
<span id="L3120" class="LineNr"> 3120 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $bar:loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/14&quot;</span>)
<span id="L3121" class="LineNr"> 3121 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/15&quot;</span>)
<span id="L3122" class="LineNr"> 3122 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0x00000008)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/16&quot;</span>)
<span id="L3123" class="LineNr"> 3123 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      e9/jump loop/disp32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/17&quot;</span>)
<span id="L3124" class="LineNr"> 3124 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/18&quot;</span>)
<span id="L3125" class="LineNr"> 3125 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$bar:break:&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/19&quot;</span>)
<span id="L3126" class="LineNr"> 3126 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/20&quot;</span>)
<span id="L3127" class="LineNr"> 3127 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/21&quot;</span>)
<span id="L3128" class="LineNr"> 3128 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-in-named-block/22&quot;</span>)
<span id="L3129" class="LineNr"> 3129 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/23&quot;</span>)
<span id="L3130" class="LineNr"> 3130 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/24&quot;</span>)
<span id="L3131" class="LineNr"> 3131 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3078'>test-convert-function-with-branches-in-named-block</a>/25&quot;</span>)
<span id="L3132" class="LineNr"> 3132 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3133" class="LineNr"> 3133 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3134" class="LineNr"> 3134 </span>    5d/pop-to-ebp
<span id="L3135" class="LineNr"> 3135 </span>    c3/return
<span id="L3136" class="LineNr"> 3136 </span>
<span id="L3137" class="LineNr"> 3137 </span><span class="subxTest">test-convert-function-with-var-in-nested-block</span>:
<span id="L3138" class="LineNr"> 3138 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3139" class="LineNr"> 3139 </span>    55/push-ebp
<span id="L3140" class="LineNr"> 3140 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3141" class="LineNr"> 3141 </span>    <span class="subxComment"># setup</span>
<span id="L3142" class="LineNr"> 3142 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3143" class="LineNr"> 3143 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3144" class="LineNr"> 3144 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3145" class="LineNr"> 3145 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3146" class="LineNr"> 3146 </span>    <span class="subxComment">#</span>
<span id="L3147" class="LineNr"> 3147 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: int {\n&quot;</span>)
<span id="L3148" class="LineNr"> 3148 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3149" class="LineNr"> 3149 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3150" class="LineNr"> 3150 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      var x: int\n&quot;</span>)
<span id="L3151" class="LineNr"> 3151 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      increment x\n&quot;</span>)
<span id="L3152" class="LineNr"> 3152 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3153" class="LineNr"> 3153 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3154" class="LineNr"> 3154 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3155" class="LineNr"> 3155 </span>    <span class="subxComment"># convert</span>
<span id="L3156" class="LineNr"> 3156 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3157" class="LineNr"> 3157 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3158" class="Folded"> 3158 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3164" class="LineNr"> 3164 </span>    <span class="subxComment"># check output</span>
<span id="L3165" class="LineNr"> 3165 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/0&quot;</span>)
<span id="L3166" class="LineNr"> 3166 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-var-in-nested-block/1&quot;</span>)
<span id="L3167" class="LineNr"> 3167 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/2&quot;</span>)
<span id="L3168" class="LineNr"> 3168 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/3&quot;</span>)
<span id="L3169" class="LineNr"> 3169 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/4&quot;</span>)
<span id="L3170" class="LineNr"> 3170 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/5&quot;</span>)
<span id="L3171" class="LineNr"> 3171 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/6&quot;</span>)
<span id="L3172" class="LineNr"> 3172 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/7&quot;</span>)
<span id="L3173" class="LineNr"> 3173 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/8&quot;</span>)
<span id="L3174" class="LineNr"> 3174 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/9&quot;</span>)
<span id="L3175" class="LineNr"> 3175 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        68/push 0/imm32&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/10&quot;</span>)
<span id="L3176" class="LineNr"> 3176 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/11&quot;</span>)
<span id="L3177" class="LineNr"> 3177 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/12&quot;</span>)
<span id="L3178" class="LineNr"> 3178 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/13&quot;</span>)
<span id="L3179" class="LineNr"> 3179 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/14&quot;</span>)
<span id="L3180" class="LineNr"> 3180 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/15&quot;</span>)
<span id="L3181" class="LineNr"> 3181 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/16&quot;</span>)
<span id="L3182" class="LineNr"> 3182 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/17&quot;</span>)
<span id="L3183" class="LineNr"> 3183 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/18&quot;</span>)
<span id="L3184" class="LineNr"> 3184 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-var-in-nested-block/19&quot;</span>)
<span id="L3185" class="LineNr"> 3185 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/20&quot;</span>)
<span id="L3186" class="LineNr"> 3186 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/21&quot;</span>)
<span id="L3187" class="LineNr"> 3187 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3137'>test-convert-function-with-var-in-nested-block</a>/22&quot;</span>)
<span id="L3188" class="LineNr"> 3188 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3189" class="LineNr"> 3189 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3190" class="LineNr"> 3190 </span>    5d/pop-to-ebp
<span id="L3191" class="LineNr"> 3191 </span>    c3/return
<span id="L3192" class="LineNr"> 3192 </span>
<span id="L3193" class="LineNr"> 3193 </span><span class="subxTest">test-convert-function-with-multiple-vars-in-nested-blocks</span>:
<span id="L3194" class="LineNr"> 3194 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3195" class="LineNr"> 3195 </span>    55/push-ebp
<span id="L3196" class="LineNr"> 3196 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3197" class="LineNr"> 3197 </span>    <span class="subxComment"># setup</span>
<span id="L3198" class="LineNr"> 3198 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3199" class="LineNr"> 3199 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3200" class="LineNr"> 3200 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3201" class="LineNr"> 3201 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3202" class="LineNr"> 3202 </span>    <span class="subxComment">#</span>
<span id="L3203" class="LineNr"> 3203 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: int {\n&quot;</span>)
<span id="L3204" class="LineNr"> 3204 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3205" class="LineNr"> 3205 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x/eax: int &lt;- copy 0\n&quot;</span>)
<span id="L3206" class="LineNr"> 3206 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3207" class="LineNr"> 3207 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      var y: int\n&quot;</span>)
<span id="L3208" class="LineNr"> 3208 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      x &lt;- add y\n&quot;</span>)
<span id="L3209" class="LineNr"> 3209 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3210" class="LineNr"> 3210 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3211" class="LineNr"> 3211 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3212" class="LineNr"> 3212 </span>    <span class="subxComment"># convert</span>
<span id="L3213" class="LineNr"> 3213 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3214" class="LineNr"> 3214 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3215" class="Folded"> 3215 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3221" class="LineNr"> 3221 </span>    <span class="subxComment"># check output</span>
<span id="L3222" class="LineNr"> 3222 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/0&quot;</span>)
<span id="L3223" class="LineNr"> 3223 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-multiple-vars-in-nested-blocks/1&quot;</span>)
<span id="L3224" class="LineNr"> 3224 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/2&quot;</span>)
<span id="L3225" class="LineNr"> 3225 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/3&quot;</span>)
<span id="L3226" class="LineNr"> 3226 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/4&quot;</span>)
<span id="L3227" class="LineNr"> 3227 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/5&quot;</span>)
<span id="L3228" class="LineNr"> 3228 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/6&quot;</span>)
<span id="L3229" class="LineNr"> 3229 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/7&quot;</span>)
<span id="L3230" class="LineNr"> 3230 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/8&quot;</span>)
<span id="L3231" class="LineNr"> 3231 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      b8/copy-to-eax 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/9&quot;</span>)
<span id="L3232" class="LineNr"> 3232 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/10&quot;</span>)
<span id="L3233" class="LineNr"> 3233 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/11&quot;</span>)
<span id="L3234" class="LineNr"> 3234 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        68/push 0/imm32&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/12&quot;</span>)
<span id="L3235" class="LineNr"> 3235 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        03/add *(ebp+0xfffffff8) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/13&quot;</span>)
<span id="L3236" class="LineNr"> 3236 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/14&quot;</span>)
<span id="L3237" class="LineNr"> 3237 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/15&quot;</span>)
<span id="L3238" class="LineNr"> 3238 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/16&quot;</span>)
<span id="L3239" class="LineNr"> 3239 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %eax&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/17&quot;</span>)
<span id="L3240" class="LineNr"> 3240 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/18&quot;</span>)
<span id="L3241" class="LineNr"> 3241 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/19&quot;</span>)
<span id="L3242" class="LineNr"> 3242 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/20&quot;</span>)
<span id="L3243" class="LineNr"> 3243 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/21&quot;</span>)
<span id="L3244" class="LineNr"> 3244 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-multiple-vars-in-nested-blocks/22&quot;</span>)
<span id="L3245" class="LineNr"> 3245 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/23&quot;</span>)
<span id="L3246" class="LineNr"> 3246 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/24&quot;</span>)
<span id="L3247" class="LineNr"> 3247 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3193'>test-convert-function-with-multiple-vars-in-nested-blocks</a>/25&quot;</span>)
<span id="L3248" class="LineNr"> 3248 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3249" class="LineNr"> 3249 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3250" class="LineNr"> 3250 </span>    5d/pop-to-ebp
<span id="L3251" class="LineNr"> 3251 </span>    c3/return
<span id="L3252" class="LineNr"> 3252 </span>
<span id="L3253" class="LineNr"> 3253 </span><span class="subxTest">test-convert-function-with-branches-and-local-vars</span>:
<span id="L3254" class="LineNr"> 3254 </span>    <span class="subxComment"># A conditional 'break' after a 'var' in a block is converted into a</span>
<span id="L3255" class="LineNr"> 3255 </span>    <span class="subxComment"># nested block that performs all necessary cleanup before jumping. This</span>
<span id="L3256" class="LineNr"> 3256 </span>    <span class="subxComment"># results in some ugly code duplication.</span>
<span id="L3257" class="LineNr"> 3257 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3258" class="LineNr"> 3258 </span>    55/push-ebp
<span id="L3259" class="LineNr"> 3259 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3260" class="LineNr"> 3260 </span>    <span class="subxComment"># setup</span>
<span id="L3261" class="LineNr"> 3261 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3262" class="LineNr"> 3262 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3263" class="LineNr"> 3263 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3264" class="LineNr"> 3264 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3265" class="LineNr"> 3265 </span>    <span class="subxComment">#</span>
<span id="L3266" class="LineNr"> 3266 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3267" class="LineNr"> 3267 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3268" class="LineNr"> 3268 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3269" class="LineNr"> 3269 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    break-if-&gt;=\n&quot;</span>)
<span id="L3270" class="LineNr"> 3270 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L3271" class="LineNr"> 3271 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3272" class="LineNr"> 3272 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3273" class="LineNr"> 3273 </span>    <span class="subxComment"># convert</span>
<span id="L3274" class="LineNr"> 3274 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3275" class="LineNr"> 3275 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3276" class="Folded"> 3276 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3282" class="LineNr"> 3282 </span>    <span class="subxComment"># check output</span>
<span id="L3283" class="LineNr"> 3283 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/0&quot;</span>)
<span id="L3284" class="LineNr"> 3284 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-and-local-vars/1&quot;</span>)
<span id="L3285" class="LineNr"> 3285 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/2&quot;</span>)
<span id="L3286" class="LineNr"> 3286 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/3&quot;</span>)
<span id="L3287" class="LineNr"> 3287 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/4&quot;</span>)
<span id="L3288" class="LineNr"> 3288 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/5&quot;</span>)
<span id="L3289" class="LineNr"> 3289 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/6&quot;</span>)
<span id="L3290" class="LineNr"> 3290 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/7&quot;</span>)
<span id="L3291" class="LineNr"> 3291 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/8&quot;</span>)
<span id="L3292" class="LineNr"> 3292 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/9&quot;</span>)
<span id="L3293" class="LineNr"> 3293 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/10&quot;</span>)
<span id="L3294" class="LineNr"> 3294 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/11&quot;</span>)
<span id="L3295" class="LineNr"> 3295 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $foo:0x00000002:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/12&quot;</span>)
<span id="L3296" class="LineNr"> 3296 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/13&quot;</span>)
<span id="L3297" class="LineNr"> 3297 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/14&quot;</span>)
<span id="L3298" class="LineNr"> 3298 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/15&quot;</span>)
<span id="L3299" class="LineNr"> 3299 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/16&quot;</span>)
<span id="L3300" class="LineNr"> 3300 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/17&quot;</span>)
<span id="L3301" class="LineNr"> 3301 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/18&quot;</span>)
<span id="L3302" class="LineNr"> 3302 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/19&quot;</span>)
<span id="L3303" class="LineNr"> 3303 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-and-local-vars/20&quot;</span>)
<span id="L3304" class="LineNr"> 3304 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/21&quot;</span>)
<span id="L3305" class="LineNr"> 3305 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/22&quot;</span>)
<span id="L3306" class="LineNr"> 3306 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3253'>test-convert-function-with-branches-and-local-vars</a>/23&quot;</span>)
<span id="L3307" class="LineNr"> 3307 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3308" class="LineNr"> 3308 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3309" class="LineNr"> 3309 </span>    5d/pop-to-ebp
<span id="L3310" class="LineNr"> 3310 </span>    c3/return
<span id="L3311" class="LineNr"> 3311 </span>
<span id="L3312" class="LineNr"> 3312 </span><span class="subxTest">test-convert-function-with-conditional-loops-and-local-vars</span>:
<span id="L3313" class="LineNr"> 3313 </span>    <span class="subxComment"># A conditional 'loop' after a 'var' in a block is converted into a nested</span>
<span id="L3314" class="LineNr"> 3314 </span>    <span class="subxComment"># block that performs all necessary cleanup before jumping. This results</span>
<span id="L3315" class="LineNr"> 3315 </span>    <span class="subxComment"># in some ugly code duplication.</span>
<span id="L3316" class="LineNr"> 3316 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3317" class="LineNr"> 3317 </span>    55/push-ebp
<span id="L3318" class="LineNr"> 3318 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3319" class="LineNr"> 3319 </span>    <span class="subxComment"># setup</span>
<span id="L3320" class="LineNr"> 3320 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3321" class="LineNr"> 3321 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3322" class="LineNr"> 3322 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3323" class="LineNr"> 3323 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3324" class="LineNr"> 3324 </span>    <span class="subxComment">#</span>
<span id="L3325" class="LineNr"> 3325 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3326" class="LineNr"> 3326 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3327" class="LineNr"> 3327 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3328" class="LineNr"> 3328 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop-if-&gt;=\n&quot;</span>)
<span id="L3329" class="LineNr"> 3329 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L3330" class="LineNr"> 3330 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3331" class="LineNr"> 3331 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3332" class="LineNr"> 3332 </span>    <span class="subxComment"># convert</span>
<span id="L3333" class="LineNr"> 3333 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3334" class="LineNr"> 3334 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3335" class="Folded"> 3335 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3341" class="LineNr"> 3341 </span>    <span class="subxComment"># check output</span>
<span id="L3342" class="LineNr"> 3342 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/0&quot;</span>)
<span id="L3343" class="LineNr"> 3343 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-conditional-loops-and-local-vars/1&quot;</span>)
<span id="L3344" class="LineNr"> 3344 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/2&quot;</span>)
<span id="L3345" class="LineNr"> 3345 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/3&quot;</span>)
<span id="L3346" class="LineNr"> 3346 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/4&quot;</span>)
<span id="L3347" class="LineNr"> 3347 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/5&quot;</span>)
<span id="L3348" class="LineNr"> 3348 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/6&quot;</span>)
<span id="L3349" class="LineNr"> 3349 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/7&quot;</span>)
<span id="L3350" class="LineNr"> 3350 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/8&quot;</span>)
<span id="L3351" class="LineNr"> 3351 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/9&quot;</span>)
<span id="L3352" class="LineNr"> 3352 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/10&quot;</span>)
<span id="L3353" class="LineNr"> 3353 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/11&quot;</span>)
<span id="L3354" class="LineNr"> 3354 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $foo:0x00000002:loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/12&quot;</span>)
<span id="L3355" class="LineNr"> 3355 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/13&quot;</span>)
<span id="L3356" class="LineNr"> 3356 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/14&quot;</span>)
<span id="L3357" class="LineNr"> 3357 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/15&quot;</span>)
<span id="L3358" class="LineNr"> 3358 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/16&quot;</span>)
<span id="L3359" class="LineNr"> 3359 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/17&quot;</span>)
<span id="L3360" class="LineNr"> 3360 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/18&quot;</span>)
<span id="L3361" class="LineNr"> 3361 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/19&quot;</span>)
<span id="L3362" class="LineNr"> 3362 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-conditional-loops-and-local-vars/20&quot;</span>)
<span id="L3363" class="LineNr"> 3363 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/21&quot;</span>)
<span id="L3364" class="LineNr"> 3364 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/22&quot;</span>)
<span id="L3365" class="LineNr"> 3365 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3312'>test-convert-function-with-conditional-loops-and-local-vars</a>/23&quot;</span>)
<span id="L3366" class="LineNr"> 3366 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3367" class="LineNr"> 3367 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3368" class="LineNr"> 3368 </span>    5d/pop-to-ebp
<span id="L3369" class="LineNr"> 3369 </span>    c3/return
<span id="L3370" class="LineNr"> 3370 </span>
<span id="L3371" class="LineNr"> 3371 </span><span class="subxTest">test-convert-function-with-unconditional-loops-and-local-vars</span>:
<span id="L3372" class="LineNr"> 3372 </span>    <span class="subxComment"># An unconditional 'loop' after a 'var' in a block is emitted _after_ the</span>
<span id="L3373" class="LineNr"> 3373 </span>    <span class="subxComment"># regular block cleanup. Any instructions after 'loop' are dead and</span>
<span id="L3374" class="LineNr"> 3374 </span>    <span class="subxComment"># therefore skipped.</span>
<span id="L3375" class="LineNr"> 3375 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3376" class="LineNr"> 3376 </span>    55/push-ebp
<span id="L3377" class="LineNr"> 3377 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3378" class="LineNr"> 3378 </span>    <span class="subxComment"># setup</span>
<span id="L3379" class="LineNr"> 3379 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3380" class="LineNr"> 3380 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3381" class="LineNr"> 3381 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3382" class="LineNr"> 3382 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3383" class="LineNr"> 3383 </span>    <span class="subxComment">#</span>
<span id="L3384" class="LineNr"> 3384 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3385" class="LineNr"> 3385 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3386" class="LineNr"> 3386 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3387" class="LineNr"> 3387 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop\n&quot;</span>)
<span id="L3388" class="LineNr"> 3388 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L3389" class="LineNr"> 3389 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3390" class="LineNr"> 3390 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3391" class="LineNr"> 3391 </span>    <span class="subxComment"># convert</span>
<span id="L3392" class="LineNr"> 3392 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3393" class="LineNr"> 3393 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3394" class="Folded"> 3394 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3400" class="LineNr"> 3400 </span>    <span class="subxComment"># check output</span>
<span id="L3401" class="LineNr"> 3401 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/0&quot;</span>)
<span id="L3402" class="LineNr"> 3402 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-unconditional-loops-and-local-vars/1&quot;</span>)
<span id="L3403" class="LineNr"> 3403 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/2&quot;</span>)
<span id="L3404" class="LineNr"> 3404 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/3&quot;</span>)
<span id="L3405" class="LineNr"> 3405 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/4&quot;</span>)
<span id="L3406" class="LineNr"> 3406 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/5&quot;</span>)
<span id="L3407" class="LineNr"> 3407 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/6&quot;</span>)
<span id="L3408" class="LineNr"> 3408 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/7&quot;</span>)
<span id="L3409" class="LineNr"> 3409 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/8&quot;</span>)
<span id="L3410" class="LineNr"> 3410 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/9&quot;</span>)
<span id="L3411" class="LineNr"> 3411 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      e9/jump loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/10&quot;</span>)
<span id="L3412" class="LineNr"> 3412 </span>    <span class="subxComment"># not emitted:                                           ff 0/subop/increment *(ebp+0xfffffffc)</span>
<span id="L3413" class="LineNr"> 3413 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/11&quot;</span>)
<span id="L3414" class="LineNr"> 3414 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/12&quot;</span>)
<span id="L3415" class="LineNr"> 3415 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/13&quot;</span>)
<span id="L3416" class="LineNr"> 3416 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/14&quot;</span>)
<span id="L3417" class="LineNr"> 3417 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-unconditional-loops-and-local-vars/15&quot;</span>)
<span id="L3418" class="LineNr"> 3418 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/16&quot;</span>)
<span id="L3419" class="LineNr"> 3419 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/17&quot;</span>)
<span id="L3420" class="LineNr"> 3420 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3371'>test-convert-function-with-unconditional-loops-and-local-vars</a>/18&quot;</span>)
<span id="L3421" class="LineNr"> 3421 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3422" class="LineNr"> 3422 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3423" class="LineNr"> 3423 </span>    5d/pop-to-ebp
<span id="L3424" class="LineNr"> 3424 </span>    c3/return
<span id="L3425" class="LineNr"> 3425 </span>
<span id="L3426" class="LineNr"> 3426 </span><span class="subxTest">test-convert-function-with-branches-and-loops-and-local-vars</span>:
<span id="L3427" class="LineNr"> 3427 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3428" class="LineNr"> 3428 </span>    55/push-ebp
<span id="L3429" class="LineNr"> 3429 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3430" class="LineNr"> 3430 </span>    <span class="subxComment"># setup</span>
<span id="L3431" class="LineNr"> 3431 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3432" class="LineNr"> 3432 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3433" class="LineNr"> 3433 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3434" class="LineNr"> 3434 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3435" class="LineNr"> 3435 </span>    <span class="subxComment">#</span>
<span id="L3436" class="LineNr"> 3436 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3437" class="LineNr"> 3437 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3438" class="LineNr"> 3438 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3439" class="LineNr"> 3439 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    break-if-&gt;=\n&quot;</span>)
<span id="L3440" class="LineNr"> 3440 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    increment x\n&quot;</span>)
<span id="L3441" class="LineNr"> 3441 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    loop\n&quot;</span>)
<span id="L3442" class="LineNr"> 3442 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3443" class="LineNr"> 3443 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3444" class="LineNr"> 3444 </span>    <span class="subxComment"># convert</span>
<span id="L3445" class="LineNr"> 3445 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3446" class="LineNr"> 3446 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3447" class="Folded"> 3447 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3453" class="LineNr"> 3453 </span>    <span class="subxComment"># check output</span>
<span id="L3454" class="LineNr"> 3454 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/0&quot;</span>)
<span id="L3455" class="LineNr"> 3455 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-and-loops-and-local-vars/1&quot;</span>)
<span id="L3456" class="LineNr"> 3456 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/2&quot;</span>)
<span id="L3457" class="LineNr"> 3457 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/3&quot;</span>)
<span id="L3458" class="LineNr"> 3458 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/4&quot;</span>)
<span id="L3459" class="LineNr"> 3459 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/5&quot;</span>)
<span id="L3460" class="LineNr"> 3460 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/6&quot;</span>)
<span id="L3461" class="LineNr"> 3461 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/7&quot;</span>)
<span id="L3462" class="LineNr"> 3462 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/8&quot;</span>)
<span id="L3463" class="LineNr"> 3463 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/9&quot;</span>)
<span id="L3464" class="LineNr"> 3464 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/10&quot;</span>)
<span id="L3465" class="LineNr"> 3465 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/11&quot;</span>)
<span id="L3466" class="LineNr"> 3466 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump $foo:0x00000002:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/12&quot;</span>)
<span id="L3467" class="LineNr"> 3467 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/13&quot;</span>)
<span id="L3468" class="LineNr"> 3468 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/14&quot;</span>)
<span id="L3469" class="LineNr"> 3469 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/15&quot;</span>)
<span id="L3470" class="LineNr"> 3470 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      e9/jump loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/16&quot;</span>)
<span id="L3471" class="LineNr"> 3471 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/17&quot;</span>)
<span id="L3472" class="LineNr"> 3472 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/18&quot;</span>)
<span id="L3473" class="LineNr"> 3473 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/19&quot;</span>)
<span id="L3474" class="LineNr"> 3474 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/20&quot;</span>)
<span id="L3475" class="LineNr"> 3475 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-branches-and-loops-and-local-vars/21&quot;</span>)
<span id="L3476" class="LineNr"> 3476 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/22&quot;</span>)
<span id="L3477" class="LineNr"> 3477 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/23&quot;</span>)
<span id="L3478" class="LineNr"> 3478 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3426'>test-convert-function-with-branches-and-loops-and-local-vars</a>/24&quot;</span>)
<span id="L3479" class="LineNr"> 3479 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3480" class="LineNr"> 3480 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3481" class="LineNr"> 3481 </span>    5d/pop-to-ebp
<span id="L3482" class="LineNr"> 3482 </span>    c3/return
<span id="L3483" class="LineNr"> 3483 </span>
<span id="L3484" class="LineNr"> 3484 </span><span class="subxTest">test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</span>:
<span id="L3485" class="LineNr"> 3485 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3486" class="LineNr"> 3486 </span>    55/push-ebp
<span id="L3487" class="LineNr"> 3487 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3488" class="LineNr"> 3488 </span>    <span class="subxComment"># setup</span>
<span id="L3489" class="LineNr"> 3489 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3490" class="LineNr"> 3490 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3491" class="LineNr"> 3491 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3492" class="LineNr"> 3492 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3493" class="LineNr"> 3493 </span>    <span class="subxComment">#</span>
<span id="L3494" class="LineNr"> 3494 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3495" class="LineNr"> 3495 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: {\n&quot;</span>)
<span id="L3496" class="LineNr"> 3496 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3497" class="LineNr"> 3497 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3498" class="LineNr"> 3498 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      var y: int\n&quot;</span>)
<span id="L3499" class="LineNr"> 3499 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      break-if-&gt;= a\n&quot;</span>)
<span id="L3500" class="LineNr"> 3500 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      increment x\n&quot;</span>)
<span id="L3501" class="LineNr"> 3501 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      loop\n&quot;</span>)
<span id="L3502" class="LineNr"> 3502 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3503" class="LineNr"> 3503 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3504" class="LineNr"> 3504 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3505" class="LineNr"> 3505 </span>    <span class="subxComment"># convert</span>
<span id="L3506" class="LineNr"> 3506 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3507" class="LineNr"> 3507 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3508" class="Folded"> 3508 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3514" class="LineNr"> 3514 </span>    <span class="subxComment"># check output</span>
<span id="L3515" class="LineNr"> 3515 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/0&quot;</span>)
<span id="L3516" class="LineNr"> 3516 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars/1&quot;</span>)
<span id="L3517" class="LineNr"> 3517 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/2&quot;</span>)
<span id="L3518" class="LineNr"> 3518 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/3&quot;</span>)
<span id="L3519" class="LineNr"> 3519 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/4&quot;</span>)
<span id="L3520" class="LineNr"> 3520 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/5&quot;</span>)
<span id="L3521" class="LineNr"> 3521 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/6&quot;</span>)
<span id="L3522" class="LineNr"> 3522 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:loop:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/7&quot;</span>)
<span id="L3523" class="LineNr"> 3523 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/8&quot;</span>)
<span id="L3524" class="LineNr"> 3524 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/9&quot;</span>)
<span id="L3525" class="LineNr"> 3525 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/10&quot;</span>)
<span id="L3526" class="LineNr"> 3526 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        68/push 0/imm32&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/11&quot;</span>)
<span id="L3527" class="LineNr"> 3527 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        {&quot;</span>               <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/12&quot;</span>)
<span id="L3528" class="LineNr"> 3528 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/13&quot;</span>)
<span id="L3529" class="LineNr"> 3529 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/14&quot;</span>)
<span id="L3530" class="LineNr"> 3530 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/15&quot;</span>)
<span id="L3531" class="LineNr"> 3531 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          e9/jump a:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/16&quot;</span>)
<span id="L3532" class="LineNr"> 3532 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        }&quot;</span>               <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/17&quot;</span>)
<span id="L3533" class="LineNr"> 3533 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        ff 0/subop/increment *(ebp+0xfffffffc)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/18&quot;</span>)
<span id="L3534" class="LineNr"> 3534 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/19&quot;</span>)
<span id="L3535" class="LineNr"> 3535 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/20&quot;</span>)
<span id="L3536" class="LineNr"> 3536 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/21&quot;</span>)
<span id="L3537" class="LineNr"> 3537 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/22&quot;</span>)
<span id="L3538" class="LineNr"> 3538 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/23&quot;</span>)
<span id="L3539" class="LineNr"> 3539 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/24&quot;</span>)
<span id="L3540" class="LineNr"> 3540 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:break:&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/25&quot;</span>)
<span id="L3541" class="LineNr"> 3541 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/26&quot;</span>)
<span id="L3542" class="LineNr"> 3542 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/27&quot;</span>)
<span id="L3543" class="LineNr"> 3543 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars/28&quot;</span>)
<span id="L3544" class="LineNr"> 3544 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/29&quot;</span>)
<span id="L3545" class="LineNr"> 3545 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/30&quot;</span>)
<span id="L3546" class="LineNr"> 3546 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3484'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars</a>/31&quot;</span>)
<span id="L3547" class="LineNr"> 3547 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3548" class="LineNr"> 3548 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3549" class="LineNr"> 3549 </span>    5d/pop-to-ebp
<span id="L3550" class="LineNr"> 3550 </span>    c3/return
<span id="L3551" class="LineNr"> 3551 </span>
<span id="L3552" class="LineNr"> 3552 </span><span class="subxTest">test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</span>:
<span id="L3553" class="LineNr"> 3553 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3554" class="LineNr"> 3554 </span>    55/push-ebp
<span id="L3555" class="LineNr"> 3555 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3556" class="LineNr"> 3556 </span>    <span class="subxComment"># setup</span>
<span id="L3557" class="LineNr"> 3557 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3558" class="LineNr"> 3558 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3559" class="LineNr"> 3559 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3560" class="LineNr"> 3560 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3561" class="LineNr"> 3561 </span>    <span class="subxComment"># non-local conditional branch from a block without a local variable,</span>
<span id="L3562" class="LineNr"> 3562 </span>    <span class="subxComment"># unwinding a local on the stack</span>
<span id="L3563" class="LineNr"> 3563 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3564" class="LineNr"> 3564 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: {\n&quot;</span>)
<span id="L3565" class="LineNr"> 3565 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3566" class="LineNr"> 3566 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3567" class="LineNr"> 3567 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      break-if-&gt;= a\n&quot;</span>)
<span id="L3568" class="LineNr"> 3568 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3569" class="LineNr"> 3569 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3570" class="LineNr"> 3570 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3571" class="LineNr"> 3571 </span>    <span class="subxComment"># convert</span>
<span id="L3572" class="LineNr"> 3572 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3573" class="LineNr"> 3573 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3574" class="Folded"> 3574 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3580" class="LineNr"> 3580 </span>    <span class="subxComment"># check output</span>
<span id="L3581" class="LineNr"> 3581 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/0&quot;</span>)
<span id="L3582" class="LineNr"> 3582 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2/1&quot;</span>)
<span id="L3583" class="LineNr"> 3583 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/2&quot;</span>)
<span id="L3584" class="LineNr"> 3584 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/3&quot;</span>)
<span id="L3585" class="LineNr"> 3585 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/4&quot;</span>)
<span id="L3586" class="LineNr"> 3586 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/5&quot;</span>)
<span id="L3587" class="LineNr"> 3587 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/6&quot;</span>)
<span id="L3588" class="LineNr"> 3588 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:loop:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/7&quot;</span>)
<span id="L3589" class="LineNr"> 3589 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/8&quot;</span>)
<span id="L3590" class="LineNr"> 3590 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/9&quot;</span>)
<span id="L3591" class="LineNr"> 3591 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/10&quot;</span>)
<span id="L3592" class="LineNr"> 3592 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        {&quot;</span>               <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/11&quot;</span>)
<span id="L3593" class="LineNr"> 3593 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          0f 8c/jump-if-&lt; break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/12&quot;</span>)
<span id="L3594" class="LineNr"> 3594 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/13&quot;</span>)
<span id="L3595" class="LineNr"> 3595 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;          e9/jump a:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/14&quot;</span>)
<span id="L3596" class="LineNr"> 3596 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        }&quot;</span>               <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/15&quot;</span>)
<span id="L3597" class="LineNr"> 3597 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/16&quot;</span>)
<span id="L3598" class="LineNr"> 3598 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/17&quot;</span>)
<span id="L3599" class="LineNr"> 3599 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/18&quot;</span>)
<span id="L3600" class="LineNr"> 3600 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/19&quot;</span>)
<span id="L3601" class="LineNr"> 3601 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:break:&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/20&quot;</span>)
<span id="L3602" class="LineNr"> 3602 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/21&quot;</span>)
<span id="L3603" class="LineNr"> 3603 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/22&quot;</span>)
<span id="L3604" class="LineNr"> 3604 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2/23&quot;</span>)
<span id="L3605" class="LineNr"> 3605 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/24&quot;</span>)
<span id="L3606" class="LineNr"> 3606 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/25&quot;</span>)
<span id="L3607" class="LineNr"> 3607 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3552'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-2</a>/26&quot;</span>)
<span id="L3608" class="LineNr"> 3608 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3609" class="LineNr"> 3609 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3610" class="LineNr"> 3610 </span>    5d/pop-to-ebp
<span id="L3611" class="LineNr"> 3611 </span>    c3/return
<span id="L3612" class="LineNr"> 3612 </span>
<span id="L3613" class="LineNr"> 3613 </span><span class="subxTest">test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</span>:
<span id="L3614" class="LineNr"> 3614 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3615" class="LineNr"> 3615 </span>    55/push-ebp
<span id="L3616" class="LineNr"> 3616 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3617" class="LineNr"> 3617 </span>    <span class="subxComment"># setup</span>
<span id="L3618" class="LineNr"> 3618 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3619" class="LineNr"> 3619 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3620" class="LineNr"> 3620 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3621" class="LineNr"> 3621 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3622" class="LineNr"> 3622 </span>    <span class="subxComment"># non-local unconditional branch from a block without a local variable,</span>
<span id="L3623" class="LineNr"> 3623 </span>    <span class="subxComment"># unwinding a local on the stack</span>
<span id="L3624" class="LineNr"> 3624 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3625" class="LineNr"> 3625 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: {\n&quot;</span>)
<span id="L3626" class="LineNr"> 3626 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3627" class="LineNr"> 3627 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3628" class="LineNr"> 3628 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      break a\n&quot;</span>)
<span id="L3629" class="LineNr"> 3629 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3630" class="LineNr"> 3630 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3631" class="LineNr"> 3631 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3632" class="LineNr"> 3632 </span>    <span class="subxComment"># convert</span>
<span id="L3633" class="LineNr"> 3633 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3634" class="LineNr"> 3634 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3635" class="Folded"> 3635 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3641" class="LineNr"> 3641 </span>    <span class="subxComment"># check output</span>
<span id="L3642" class="LineNr"> 3642 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/0&quot;</span>)
<span id="L3643" class="LineNr"> 3643 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3/1&quot;</span>)
<span id="L3644" class="LineNr"> 3644 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/2&quot;</span>)
<span id="L3645" class="LineNr"> 3645 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/3&quot;</span>)
<span id="L3646" class="LineNr"> 3646 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/4&quot;</span>)
<span id="L3647" class="LineNr"> 3647 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/5&quot;</span>)
<span id="L3648" class="LineNr"> 3648 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/6&quot;</span>)
<span id="L3649" class="LineNr"> 3649 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:loop:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/7&quot;</span>)
<span id="L3650" class="LineNr"> 3650 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/8&quot;</span>)
<span id="L3651" class="LineNr"> 3651 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/9&quot;</span>)
<span id="L3652" class="LineNr"> 3652 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/10&quot;</span>)
<span id="L3653" class="LineNr"> 3653 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/11&quot;</span>)
<span id="L3654" class="LineNr"> 3654 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump a:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/12&quot;</span>)
<span id="L3655" class="LineNr"> 3655 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/14&quot;</span>)
<span id="L3656" class="LineNr"> 3656 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/15&quot;</span>)
<span id="L3657" class="LineNr"> 3657 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/16&quot;</span>)
<span id="L3658" class="LineNr"> 3658 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/17&quot;</span>)
<span id="L3659" class="LineNr"> 3659 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:break:&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/18&quot;</span>)
<span id="L3660" class="LineNr"> 3660 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/19&quot;</span>)
<span id="L3661" class="LineNr"> 3661 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/20&quot;</span>)
<span id="L3662" class="LineNr"> 3662 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3/21&quot;</span>)
<span id="L3663" class="LineNr"> 3663 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/22&quot;</span>)
<span id="L3664" class="LineNr"> 3664 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/23&quot;</span>)
<span id="L3665" class="LineNr"> 3665 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3613'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-3</a>/24&quot;</span>)
<span id="L3666" class="LineNr"> 3666 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3667" class="LineNr"> 3667 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3668" class="LineNr"> 3668 </span>    5d/pop-to-ebp
<span id="L3669" class="LineNr"> 3669 </span>    c3/return
<span id="L3670" class="LineNr"> 3670 </span>
<span id="L3671" class="LineNr"> 3671 </span><span class="subxTest">test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</span>:
<span id="L3672" class="LineNr"> 3672 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3673" class="LineNr"> 3673 </span>    55/push-ebp
<span id="L3674" class="LineNr"> 3674 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3675" class="LineNr"> 3675 </span>    <span class="subxComment"># setup</span>
<span id="L3676" class="LineNr"> 3676 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3677" class="LineNr"> 3677 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3678" class="LineNr"> 3678 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3679" class="LineNr"> 3679 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3680" class="LineNr"> 3680 </span>    <span class="subxComment">#</span>
<span id="L3681" class="LineNr"> 3681 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3682" class="LineNr"> 3682 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: {\n&quot;</span>)
<span id="L3683" class="LineNr"> 3683 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x/esi: int &lt;- copy 0\n&quot;</span>)
<span id="L3684" class="LineNr"> 3684 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3685" class="LineNr"> 3685 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      break a\n&quot;</span>)
<span id="L3686" class="LineNr"> 3686 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3687" class="LineNr"> 3687 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3688" class="LineNr"> 3688 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3689" class="LineNr"> 3689 </span>    <span class="subxComment"># convert</span>
<span id="L3690" class="LineNr"> 3690 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3691" class="LineNr"> 3691 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3692" class="Folded"> 3692 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3698" class="LineNr"> 3698 </span>    <span class="subxComment"># check output</span>
<span id="L3699" class="LineNr"> 3699 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/0&quot;</span>)
<span id="L3700" class="LineNr"> 3700 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4/1&quot;</span>)
<span id="L3701" class="LineNr"> 3701 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/2&quot;</span>)
<span id="L3702" class="LineNr"> 3702 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/3&quot;</span>)
<span id="L3703" class="LineNr"> 3703 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/4&quot;</span>)
<span id="L3704" class="LineNr"> 3704 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/5&quot;</span>)
<span id="L3705" class="LineNr"> 3705 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/6&quot;</span>)
<span id="L3706" class="LineNr"> 3706 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:loop:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/7&quot;</span>)
<span id="L3707" class="LineNr"> 3707 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      ff 6/subop/push %esi&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/8&quot;</span>)
<span id="L3708" class="LineNr"> 3708 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      be/copy-to-esi 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/9&quot;</span>)
<span id="L3709" class="LineNr"> 3709 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/10&quot;</span>)
<span id="L3710" class="LineNr"> 3710 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/11&quot;</span>)
<span id="L3711" class="LineNr"> 3711 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        8f 0/subop/pop %esi&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/12&quot;</span>)
<span id="L3712" class="LineNr"> 3712 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump a:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/13&quot;</span>)
<span id="L3713" class="LineNr"> 3713 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/14&quot;</span>)
<span id="L3714" class="LineNr"> 3714 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/15&quot;</span>)
<span id="L3715" class="LineNr"> 3715 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      8f 0/subop/pop %esi&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/16&quot;</span>)
<span id="L3716" class="LineNr"> 3716 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/17&quot;</span>)
<span id="L3717" class="LineNr"> 3717 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:break:&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/18&quot;</span>)
<span id="L3718" class="LineNr"> 3718 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/19&quot;</span>)
<span id="L3719" class="LineNr"> 3719 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/20&quot;</span>)
<span id="L3720" class="LineNr"> 3720 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4/21&quot;</span>)
<span id="L3721" class="LineNr"> 3721 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/22&quot;</span>)
<span id="L3722" class="LineNr"> 3722 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/23&quot;</span>)
<span id="L3723" class="LineNr"> 3723 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3671'>test-convert-function-with-nonlocal-branches-and-loops-and-local-vars-4</a>/24&quot;</span>)
<span id="L3724" class="LineNr"> 3724 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3725" class="LineNr"> 3725 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3726" class="LineNr"> 3726 </span>    5d/pop-to-ebp
<span id="L3727" class="LineNr"> 3727 </span>    c3/return
<span id="L3728" class="LineNr"> 3728 </span>
<span id="L3729" class="LineNr"> 3729 </span><span class="subxTest">test-convert-function-with-nonlocal-unconditional-break-and-local-vars</span>:
<span id="L3730" class="LineNr"> 3730 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3731" class="LineNr"> 3731 </span>    55/push-ebp
<span id="L3732" class="LineNr"> 3732 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3733" class="LineNr"> 3733 </span>    <span class="subxComment"># setup</span>
<span id="L3734" class="LineNr"> 3734 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3735" class="LineNr"> 3735 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3736" class="LineNr"> 3736 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3737" class="LineNr"> 3737 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3738" class="LineNr"> 3738 </span>    <span class="subxComment">#</span>
<span id="L3739" class="LineNr"> 3739 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3740" class="LineNr"> 3740 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: {\n&quot;</span>)
<span id="L3741" class="LineNr"> 3741 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3742" class="LineNr"> 3742 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3743" class="LineNr"> 3743 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      var y: int\n&quot;</span>)
<span id="L3744" class="LineNr"> 3744 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      break a\n&quot;</span>)
<span id="L3745" class="LineNr"> 3745 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      increment x\n&quot;</span>)
<span id="L3746" class="LineNr"> 3746 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3747" class="LineNr"> 3747 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3748" class="LineNr"> 3748 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3749" class="LineNr"> 3749 </span>    <span class="subxComment"># convert</span>
<span id="L3750" class="LineNr"> 3750 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3751" class="LineNr"> 3751 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3752" class="Folded"> 3752 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3758" class="LineNr"> 3758 </span>    <span class="subxComment"># check output</span>
<span id="L3759" class="LineNr"> 3759 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/0&quot;</span>)
<span id="L3760" class="LineNr"> 3760 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-unconditional-break-and-local-vars/1&quot;</span>)
<span id="L3761" class="LineNr"> 3761 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/2&quot;</span>)
<span id="L3762" class="LineNr"> 3762 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/3&quot;</span>)
<span id="L3763" class="LineNr"> 3763 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/4&quot;</span>)
<span id="L3764" class="LineNr"> 3764 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/5&quot;</span>)
<span id="L3765" class="LineNr"> 3765 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/6&quot;</span>)
<span id="L3766" class="LineNr"> 3766 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:loop:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/7&quot;</span>)
<span id="L3767" class="LineNr"> 3767 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/8&quot;</span>)
<span id="L3768" class="LineNr"> 3768 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/9&quot;</span>)
<span id="L3769" class="LineNr"> 3769 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/10&quot;</span>)
<span id="L3770" class="LineNr"> 3770 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        68/push 0/imm32&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/11&quot;</span>)
<span id="L3771" class="LineNr"> 3771 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/12&quot;</span>)
<span id="L3772" class="LineNr"> 3772 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/13&quot;</span>)
<span id="L3773" class="LineNr"> 3773 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump a:break/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/14&quot;</span>)
<span id="L3774" class="LineNr"> 3774 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/15&quot;</span>)
<span id="L3775" class="LineNr"> 3775 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/16&quot;</span>)
<span id="L3776" class="LineNr"> 3776 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/17&quot;</span>)
<span id="L3777" class="LineNr"> 3777 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/18&quot;</span>)
<span id="L3778" class="LineNr"> 3778 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:break:&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/19&quot;</span>)
<span id="L3779" class="LineNr"> 3779 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/20&quot;</span>)
<span id="L3780" class="LineNr"> 3780 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/21&quot;</span>)
<span id="L3781" class="LineNr"> 3781 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-unconditional-break-and-local-vars/22&quot;</span>)
<span id="L3782" class="LineNr"> 3782 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/23&quot;</span>)
<span id="L3783" class="LineNr"> 3783 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/24&quot;</span>)
<span id="L3784" class="LineNr"> 3784 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3729'>test-convert-function-with-nonlocal-unconditional-break-and-local-vars</a>/25&quot;</span>)
<span id="L3785" class="LineNr"> 3785 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3786" class="LineNr"> 3786 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3787" class="LineNr"> 3787 </span>    5d/pop-to-ebp
<span id="L3788" class="LineNr"> 3788 </span>    c3/return
<span id="L3789" class="LineNr"> 3789 </span>
<span id="L3790" class="LineNr"> 3790 </span><span class="subxTest">test-convert-function-with-unconditional-break-and-local-vars</span>:
<span id="L3791" class="LineNr"> 3791 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3792" class="LineNr"> 3792 </span>    55/push-ebp
<span id="L3793" class="LineNr"> 3793 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3794" class="LineNr"> 3794 </span>    <span class="subxComment"># setup</span>
<span id="L3795" class="LineNr"> 3795 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3796" class="LineNr"> 3796 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3797" class="LineNr"> 3797 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3798" class="LineNr"> 3798 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3799" class="LineNr"> 3799 </span>    <span class="subxComment">#</span>
<span id="L3800" class="LineNr"> 3800 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3801" class="LineNr"> 3801 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  {\n&quot;</span>)
<span id="L3802" class="LineNr"> 3802 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3803" class="LineNr"> 3803 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3804" class="LineNr"> 3804 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      var y: int\n&quot;</span>)
<span id="L3805" class="LineNr"> 3805 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      break\n&quot;</span>)
<span id="L3806" class="LineNr"> 3806 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      increment x\n&quot;</span>)
<span id="L3807" class="LineNr"> 3807 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3808" class="LineNr"> 3808 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3809" class="LineNr"> 3809 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3810" class="LineNr"> 3810 </span>    <span class="subxComment"># convert</span>
<span id="L3811" class="LineNr"> 3811 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3812" class="LineNr"> 3812 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3813" class="Folded"> 3813 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3819" class="LineNr"> 3819 </span>    <span class="subxComment"># check output</span>
<span id="L3820" class="LineNr"> 3820 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/0&quot;</span>)
<span id="L3821" class="LineNr"> 3821 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-unconditional-break-and-local-vars/1&quot;</span>)
<span id="L3822" class="LineNr"> 3822 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/2&quot;</span>)
<span id="L3823" class="LineNr"> 3823 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/3&quot;</span>)
<span id="L3824" class="LineNr"> 3824 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/4&quot;</span>)
<span id="L3825" class="LineNr"> 3825 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/5&quot;</span>)
<span id="L3826" class="LineNr"> 3826 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/6&quot;</span>)
<span id="L3827" class="LineNr"> 3827 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/7&quot;</span>)
<span id="L3828" class="LineNr"> 3828 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/8&quot;</span>)
<span id="L3829" class="LineNr"> 3829 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/9&quot;</span>)
<span id="L3830" class="LineNr"> 3830 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/10&quot;</span>)
<span id="L3831" class="LineNr"> 3831 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        68/push 0/imm32&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/11&quot;</span>)
<span id="L3832" class="LineNr"> 3832 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/12&quot;</span>)
<span id="L3833" class="LineNr"> 3833 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/13&quot;</span>)
<span id="L3834" class="LineNr"> 3834 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/14&quot;</span>)
<span id="L3835" class="LineNr"> 3835 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/15&quot;</span>)
<span id="L3836" class="LineNr"> 3836 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/16&quot;</span>)
<span id="L3837" class="LineNr"> 3837 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/17&quot;</span>)
<span id="L3838" class="LineNr"> 3838 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/18&quot;</span>)
<span id="L3839" class="LineNr"> 3839 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/19&quot;</span>)
<span id="L3840" class="LineNr"> 3840 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-unconditional-break-and-local-vars/20&quot;</span>)
<span id="L3841" class="LineNr"> 3841 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/21&quot;</span>)
<span id="L3842" class="LineNr"> 3842 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/22&quot;</span>)
<span id="L3843" class="LineNr"> 3843 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3790'>test-convert-function-with-unconditional-break-and-local-vars</a>/23&quot;</span>)
<span id="L3844" class="LineNr"> 3844 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3845" class="LineNr"> 3845 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3846" class="LineNr"> 3846 </span>    5d/pop-to-ebp
<span id="L3847" class="LineNr"> 3847 </span>    c3/return
<span id="L3848" class="LineNr"> 3848 </span>
<span id="L3849" class="LineNr"> 3849 </span><span class="subxTest">test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</span>:
<span id="L3850" class="LineNr"> 3850 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3851" class="LineNr"> 3851 </span>    55/push-ebp
<span id="L3852" class="LineNr"> 3852 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3853" class="LineNr"> 3853 </span>    <span class="subxComment"># setup</span>
<span id="L3854" class="LineNr"> 3854 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3855" class="LineNr"> 3855 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3856" class="LineNr"> 3856 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3857" class="LineNr"> 3857 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3858" class="LineNr"> 3858 </span>    <span class="subxComment">#</span>
<span id="L3859" class="LineNr"> 3859 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3860" class="LineNr"> 3860 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: {\n&quot;</span>)
<span id="L3861" class="LineNr"> 3861 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    var x: int\n&quot;</span>)
<span id="L3862" class="LineNr"> 3862 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    {\n&quot;</span>)
<span id="L3863" class="LineNr"> 3863 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      var y: int\n&quot;</span>)
<span id="L3864" class="LineNr"> 3864 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      loop a\n&quot;</span>)
<span id="L3865" class="LineNr"> 3865 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;      increment x\n&quot;</span>)
<span id="L3866" class="LineNr"> 3866 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;    }\n&quot;</span>)
<span id="L3867" class="LineNr"> 3867 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  }\n&quot;</span>)
<span id="L3868" class="LineNr"> 3868 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3869" class="LineNr"> 3869 </span>    <span class="subxComment"># convert</span>
<span id="L3870" class="LineNr"> 3870 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3871" class="LineNr"> 3871 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3872" class="Folded"> 3872 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3878" class="LineNr"> 3878 </span>    <span class="subxComment"># check output</span>
<span id="L3879" class="LineNr"> 3879 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/0&quot;</span>)
<span id="L3880" class="LineNr"> 3880 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-unconditional-loop-and-local-vars/1&quot;</span>)
<span id="L3881" class="LineNr"> 3881 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/2&quot;</span>)
<span id="L3882" class="LineNr"> 3882 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/3&quot;</span>)
<span id="L3883" class="LineNr"> 3883 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/4&quot;</span>)
<span id="L3884" class="LineNr"> 3884 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/5&quot;</span>)
<span id="L3885" class="LineNr"> 3885 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    {&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/6&quot;</span>)
<span id="L3886" class="LineNr"> 3886 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:loop:&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/7&quot;</span>)
<span id="L3887" class="LineNr"> 3887 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      68/push 0/imm32&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/8&quot;</span>)
<span id="L3888" class="LineNr"> 3888 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      {&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/9&quot;</span>)
<span id="L3889" class="LineNr"> 3889 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/10&quot;</span>)
<span id="L3890" class="LineNr"> 3890 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        68/push 0/imm32&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/11&quot;</span>)
<span id="L3891" class="LineNr"> 3891 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/12&quot;</span>)
<span id="L3892" class="LineNr"> 3892 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/13&quot;</span>)
<span id="L3893" class="LineNr"> 3893 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;        e9/jump a:loop/disp32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/14&quot;</span>)
<span id="L3894" class="LineNr"> 3894 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      }&quot;</span>                 <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/15&quot;</span>)
<span id="L3895" class="LineNr"> 3895 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000003:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/16&quot;</span>)
<span id="L3896" class="LineNr"> 3896 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;      81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/17&quot;</span>)
<span id="L3897" class="LineNr"> 3897 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    }&quot;</span>                   <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/18&quot;</span>)
<span id="L3898" class="LineNr"> 3898 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;a:break:&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/19&quot;</span>)
<span id="L3899" class="LineNr"> 3899 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/20&quot;</span>)
<span id="L3900" class="LineNr"> 3900 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/21&quot;</span>)
<span id="L3901" class="LineNr"> 3901 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-nonlocal-unconditional-loop-and-local-vars/22&quot;</span>)
<span id="L3902" class="LineNr"> 3902 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/23&quot;</span>)
<span id="L3903" class="LineNr"> 3903 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/24&quot;</span>)
<span id="L3904" class="LineNr"> 3904 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3849'>test-convert-function-with-nonlocal-unconditional-loop-and-local-vars</a>/25&quot;</span>)
<span id="L3905" class="LineNr"> 3905 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3906" class="LineNr"> 3906 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3907" class="LineNr"> 3907 </span>    5d/pop-to-ebp
<span id="L3908" class="LineNr"> 3908 </span>    c3/return
<span id="L3909" class="LineNr"> 3909 </span>
<span id="L3910" class="LineNr"> 3910 </span><span class="subxTest">test-convert-function-with-local-array-var-in-mem</span>:
<span id="L3911" class="LineNr"> 3911 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3912" class="LineNr"> 3912 </span>    55/push-ebp
<span id="L3913" class="LineNr"> 3913 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3914" class="LineNr"> 3914 </span>    <span class="subxComment"># setup</span>
<span id="L3915" class="LineNr"> 3915 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3916" class="LineNr"> 3916 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3917" class="LineNr"> 3917 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3918" class="LineNr"> 3918 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3919" class="LineNr"> 3919 </span>    <span class="subxComment">#</span>
<span id="L3920" class="LineNr"> 3920 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3921" class="LineNr"> 3921 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (array int 3)\n&quot;</span>)
<span id="L3922" class="LineNr"> 3922 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3923" class="LineNr"> 3923 </span>    <span class="subxComment"># convert</span>
<span id="L3924" class="LineNr"> 3924 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L3925" class="LineNr"> 3925 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3926" class="Folded"> 3926 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3932" class="LineNr"> 3932 </span>    <span class="subxComment"># check output</span>
<span id="L3933" class="LineNr"> 3933 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/0&quot;</span>)
<span id="L3934" class="LineNr"> 3934 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-array-var-in-mem/1&quot;</span>)
<span id="L3935" class="LineNr"> 3935 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/2&quot;</span>)
<span id="L3936" class="LineNr"> 3936 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/3&quot;</span>)
<span id="L3937" class="LineNr"> 3937 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/4&quot;</span>)
<span id="L3938" class="LineNr"> 3938 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/5&quot;</span>)
<span id="L3939" class="LineNr"> 3939 </span>    <span class="subxComment"># define x</span>
<span id="L3940" class="LineNr"> 3940 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> 0x0000000c)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/7&quot;</span>)
<span id="L3941" class="LineNr"> 3941 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0x0000000c/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/8&quot;</span>)
<span id="L3942" class="LineNr"> 3942 </span>    <span class="subxComment"># reclaim x</span>
<span id="L3943" class="LineNr"> 3943 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000010/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/9&quot;</span>)
<span id="L3944" class="LineNr"> 3944 </span>    <span class="subxComment">#</span>
<span id="L3945" class="LineNr"> 3945 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/10&quot;</span>)
<span id="L3946" class="LineNr"> 3946 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/11&quot;</span>)
<span id="L3947" class="LineNr"> 3947 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-array-var-in-mem/12&quot;</span>)
<span id="L3948" class="LineNr"> 3948 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/13&quot;</span>)
<span id="L3949" class="LineNr"> 3949 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/14&quot;</span>)
<span id="L3950" class="LineNr"> 3950 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L3910'>test-convert-function-with-local-array-var-in-mem</a>/15&quot;</span>)
<span id="L3951" class="LineNr"> 3951 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3952" class="LineNr"> 3952 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L3953" class="LineNr"> 3953 </span>    5d/pop-to-ebp
<span id="L3954" class="LineNr"> 3954 </span>    c3/return
<span id="L3955" class="LineNr"> 3955 </span>
<span id="L3956" class="LineNr"> 3956 </span><span class="subxTest">test-array-size-in-hex</span>:
<span id="L3957" class="LineNr"> 3957 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L3958" class="LineNr"> 3958 </span>    55/push-ebp
<span id="L3959" class="LineNr"> 3959 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L3960" class="LineNr"> 3960 </span>    <span class="subxComment"># setup</span>
<span id="L3961" class="LineNr"> 3961 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L3962" class="LineNr"> 3962 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L3963" class="LineNr"> 3963 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L3964" class="LineNr"> 3964 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L3965" class="LineNr"> 3965 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L3966" class="LineNr"> 3966 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L3967" class="LineNr"> 3967 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L3968" class="LineNr"> 3968 </span>    68/push 0/imm32
<span id="L3969" class="LineNr"> 3969 </span>    68/push 0/imm32
<span id="L3970" class="LineNr"> 3970 </span>    89/&lt;- %edx 4/r32/esp
<span id="L3971" class="LineNr"> 3971 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L3972" class="LineNr"> 3972 </span>    <span class="subxComment">#</span>
<span id="L3973" class="LineNr"> 3973 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L3974" class="LineNr"> 3974 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (array int 10)\n&quot;</span>)
<span id="L3975" class="LineNr"> 3975 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L3976" class="LineNr"> 3976 </span>    <span class="subxComment"># convert</span>
<span id="L3977" class="LineNr"> 3977 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L3978" class="LineNr"> 3978 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L3979" class="LineNr"> 3979 </span>    <span class="subxComment"># restore ed</span>
<span id="L3980" class="LineNr"> 3980 </span>    89/&lt;- %edx 4/r32/esp
<span id="L3981" class="LineNr"> 3981 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L3982" class="LineNr"> 3982 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L3983" class="Folded"> 3983 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L3989" class="LineNr"> 3989 </span>    <span class="subxComment"># check output</span>
<span id="L3990" class="LineNr"> 3990 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3956'>test-array-size-in-hex</a>: output should be empty&quot;</span>)
<span id="L3991" class="LineNr"> 3991 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;literal integers are always hex in Mu; either start '10' with a '0x' to be unambiguous, or convert it to decimal.&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L3956'>test-array-size-in-hex</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L3992" class="LineNr"> 3992 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L3993" class="LineNr"> 3993 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L3956'>test-array-size-in-hex</a>: exit status&quot;</span>)
<span id="L3994" class="LineNr"> 3994 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L3995" class="LineNr"> 3995 </span>    81 0/subop/add %esp 8/imm32
<span id="L3996" class="LineNr"> 3996 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L3997" class="LineNr"> 3997 </span>    5d/pop-to-ebp
<span id="L3998" class="LineNr"> 3998 </span>    c3/return
<span id="L3999" class="LineNr"> 3999 </span>
<span id="L4000" class="LineNr"> 4000 </span><span class="subxTest">test-convert-function-with-populate</span>:
<span id="L4001" class="LineNr"> 4001 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4002" class="LineNr"> 4002 </span>    55/push-ebp
<span id="L4003" class="LineNr"> 4003 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4004" class="LineNr"> 4004 </span>    <span class="subxComment"># setup</span>
<span id="L4005" class="LineNr"> 4005 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4006" class="LineNr"> 4006 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4007" class="LineNr"> 4007 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4008" class="LineNr"> 4008 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4009" class="LineNr"> 4009 </span>    <span class="subxComment">#</span>
<span id="L4010" class="LineNr"> 4010 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4011" class="LineNr"> 4011 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: (addr handle array int) &lt;- copy 0\n&quot;</span>)
<span id="L4012" class="LineNr"> 4012 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  populate x, 7\n&quot;</span>)
<span id="L4013" class="LineNr"> 4013 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4014" class="LineNr"> 4014 </span>    <span class="subxComment"># convert</span>
<span id="L4015" class="LineNr"> 4015 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4016" class="LineNr"> 4016 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4017" class="Folded"> 4017 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4023" class="LineNr"> 4023 </span>    <span class="subxComment"># check output</span>
<span id="L4024" class="LineNr"> 4024 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/0&quot;</span>)
<span id="L4025" class="LineNr"> 4025 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-populate/1&quot;</span>)
<span id="L4026" class="LineNr"> 4026 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/2&quot;</span>)
<span id="L4027" class="LineNr"> 4027 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/3&quot;</span>)
<span id="L4028" class="LineNr"> 4028 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/4&quot;</span>)
<span id="L4029" class="LineNr"> 4029 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/5&quot;</span>)
<span id="L4030" class="LineNr"> 4030 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/6&quot;</span>)
<span id="L4031" class="LineNr"> 4031 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/7&quot;</span>)
<span id="L4032" class="LineNr"> 4032 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../308allocate-array.subx.html#L5'>allocate-array2</a> <a href='../120allocate.subx.html#L27'>Heap</a> 0x00000004 7 %ecx)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/8&quot;</span>)  <span class="subxComment"># 4 = size-of(int)</span>
<span id="L4033" class="LineNr"> 4033 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/9&quot;</span>)
<span id="L4034" class="LineNr"> 4034 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/10&quot;</span>)
<span id="L4035" class="LineNr"> 4035 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/11&quot;</span>)
<span id="L4036" class="LineNr"> 4036 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-populate/12&quot;</span>)
<span id="L4037" class="LineNr"> 4037 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/13&quot;</span>)
<span id="L4038" class="LineNr"> 4038 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/14&quot;</span>)
<span id="L4039" class="LineNr"> 4039 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4000'>test-convert-function-with-populate</a>/15&quot;</span>)
<span id="L4040" class="LineNr"> 4040 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4041" class="LineNr"> 4041 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4042" class="LineNr"> 4042 </span>    5d/pop-to-ebp
<span id="L4043" class="LineNr"> 4043 </span>    c3/return
<span id="L4044" class="LineNr"> 4044 </span>
<span id="L4045" class="LineNr"> 4045 </span><span class="subxComment"># special-case for size(byte) when allocating array</span>
<span id="L4046" class="LineNr"> 4046 </span><span class="subxTest">test-convert-function-with-local-array-of-bytes-in-mem</span>:
<span id="L4047" class="LineNr"> 4047 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4048" class="LineNr"> 4048 </span>    55/push-ebp
<span id="L4049" class="LineNr"> 4049 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4050" class="LineNr"> 4050 </span>    <span class="subxComment"># setup</span>
<span id="L4051" class="LineNr"> 4051 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4052" class="LineNr"> 4052 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4053" class="LineNr"> 4053 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4054" class="LineNr"> 4054 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4055" class="LineNr"> 4055 </span>    <span class="subxComment">#</span>
<span id="L4056" class="LineNr"> 4056 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4057" class="LineNr"> 4057 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x: (array byte 3)\n&quot;</span>)
<span id="L4058" class="LineNr"> 4058 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4059" class="LineNr"> 4059 </span>    <span class="subxComment"># convert</span>
<span id="L4060" class="LineNr"> 4060 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4061" class="LineNr"> 4061 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4062" class="Folded"> 4062 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4068" class="LineNr"> 4068 </span>    <span class="subxComment"># check output</span>
<span id="L4069" class="LineNr"> 4069 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/0&quot;</span>)
<span id="L4070" class="LineNr"> 4070 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-array-of-bytes-in-mem/1&quot;</span>)
<span id="L4071" class="LineNr"> 4071 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/2&quot;</span>)
<span id="L4072" class="LineNr"> 4072 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/3&quot;</span>)
<span id="L4073" class="LineNr"> 4073 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/4&quot;</span>)
<span id="L4074" class="LineNr"> 4074 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/5&quot;</span>)
<span id="L4075" class="LineNr"> 4075 </span>    <span class="subxComment"># define x</span>
<span id="L4076" class="LineNr"> 4076 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> 0x00000003)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/7&quot;</span>)
<span id="L4077" class="LineNr"> 4077 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0x00000003/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/8&quot;</span>)
<span id="L4078" class="LineNr"> 4078 </span>    <span class="subxComment"># reclaim x</span>
<span id="L4079" class="LineNr"> 4079 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000007/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/9&quot;</span>)
<span id="L4080" class="LineNr"> 4080 </span>    <span class="subxComment">#</span>
<span id="L4081" class="LineNr"> 4081 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/10&quot;</span>)
<span id="L4082" class="LineNr"> 4082 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/11&quot;</span>)
<span id="L4083" class="LineNr"> 4083 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-array-of-bytes-in-mem/12&quot;</span>)
<span id="L4084" class="LineNr"> 4084 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/13&quot;</span>)
<span id="L4085" class="LineNr"> 4085 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/14&quot;</span>)
<span id="L4086" class="LineNr"> 4086 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4046'>test-convert-function-with-local-array-of-bytes-in-mem</a>/15&quot;</span>)
<span id="L4087" class="LineNr"> 4087 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4088" class="LineNr"> 4088 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4089" class="LineNr"> 4089 </span>    5d/pop-to-ebp
<span id="L4090" class="LineNr"> 4090 </span>    c3/return
<span id="L4091" class="LineNr"> 4091 </span>
<span id="L4092" class="LineNr"> 4092 </span><span class="subxTest">test-convert-address</span>:
<span id="L4093" class="LineNr"> 4093 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4094" class="LineNr"> 4094 </span>    55/push-ebp
<span id="L4095" class="LineNr"> 4095 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4096" class="LineNr"> 4096 </span>    <span class="subxComment"># setup</span>
<span id="L4097" class="LineNr"> 4097 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4098" class="LineNr"> 4098 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4099" class="LineNr"> 4099 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4100" class="LineNr"> 4100 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4101" class="LineNr"> 4101 </span>    <span class="subxComment">#</span>
<span id="L4102" class="LineNr"> 4102 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4103" class="LineNr"> 4103 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: int\n&quot;</span>)
<span id="L4104" class="LineNr"> 4104 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: (addr int) &lt;- address a\n&quot;</span>)
<span id="L4105" class="LineNr"> 4105 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4106" class="LineNr"> 4106 </span>    <span class="subxComment"># convert</span>
<span id="L4107" class="LineNr"> 4107 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4108" class="LineNr"> 4108 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4109" class="Folded"> 4109 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4115" class="LineNr"> 4115 </span>    <span class="subxComment"># check output</span>
<span id="L4116" class="LineNr"> 4116 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/0&quot;</span>)
<span id="L4117" class="LineNr"> 4117 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-address/1&quot;</span>)
<span id="L4118" class="LineNr"> 4118 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/2&quot;</span>)
<span id="L4119" class="LineNr"> 4119 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/3&quot;</span>)
<span id="L4120" class="LineNr"> 4120 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/4&quot;</span>)
<span id="L4121" class="LineNr"> 4121 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/5&quot;</span>)
<span id="L4122" class="LineNr"> 4122 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/6&quot;</span>)
<span id="L4123" class="LineNr"> 4123 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/7&quot;</span>)
<span id="L4124" class="LineNr"> 4124 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp+0xfffffffc) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/8&quot;</span>)
<span id="L4125" class="LineNr"> 4125 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/9&quot;</span>)
<span id="L4126" class="LineNr"> 4126 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/10&quot;</span>)
<span id="L4127" class="LineNr"> 4127 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/11&quot;</span>)
<span id="L4128" class="LineNr"> 4128 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/12&quot;</span>)
<span id="L4129" class="LineNr"> 4129 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-address/13&quot;</span>)
<span id="L4130" class="LineNr"> 4130 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/14&quot;</span>)
<span id="L4131" class="LineNr"> 4131 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/15&quot;</span>)
<span id="L4132" class="LineNr"> 4132 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4092'>test-convert-address</a>/16&quot;</span>)
<span id="L4133" class="LineNr"> 4133 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4134" class="LineNr"> 4134 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4135" class="LineNr"> 4135 </span>    5d/pop-to-ebp
<span id="L4136" class="LineNr"> 4136 </span>    c3/return
<span id="L4137" class="LineNr"> 4137 </span>
<span id="L4138" class="LineNr"> 4138 </span><span class="subxTest">test-convert-length-of-array</span>:
<span id="L4139" class="LineNr"> 4139 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4140" class="LineNr"> 4140 </span>    55/push-ebp
<span id="L4141" class="LineNr"> 4141 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4142" class="LineNr"> 4142 </span>    <span class="subxComment"># setup</span>
<span id="L4143" class="LineNr"> 4143 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4144" class="LineNr"> 4144 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4145" class="LineNr"> 4145 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4146" class="LineNr"> 4146 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4147" class="LineNr"> 4147 </span>    <span class="subxComment">#</span>
<span id="L4148" class="LineNr"> 4148 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: (addr array int) {\n&quot;</span>)
<span id="L4149" class="LineNr"> 4149 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: (addr array int) &lt;- copy a\n&quot;</span>)
<span id="L4150" class="LineNr"> 4150 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/eax: int &lt;- length b\n&quot;</span>)
<span id="L4151" class="LineNr"> 4151 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4152" class="LineNr"> 4152 </span>    <span class="subxComment"># convert</span>
<span id="L4153" class="LineNr"> 4153 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4154" class="LineNr"> 4154 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4155" class="Folded"> 4155 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4161" class="LineNr"> 4161 </span>    <span class="subxComment"># check output</span>
<span id="L4162" class="LineNr"> 4162 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/0&quot;</span>)
<span id="L4163" class="LineNr"> 4163 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array/1&quot;</span>)
<span id="L4164" class="LineNr"> 4164 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/2&quot;</span>)
<span id="L4165" class="LineNr"> 4165 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/3&quot;</span>)
<span id="L4166" class="LineNr"> 4166 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/4&quot;</span>)
<span id="L4167" class="LineNr"> 4167 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/5&quot;</span>)
<span id="L4168" class="LineNr"> 4168 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/6&quot;</span>)
<span id="L4169" class="LineNr"> 4169 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/7&quot;</span>)
<span id="L4170" class="LineNr"> 4170 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *eax 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/8&quot;</span>)
<span id="L4171" class="LineNr"> 4171 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    c1/shift 5/subop/&gt;&gt; %eax 0x00000002/imm8&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/9&quot;</span>)
<span id="L4172" class="LineNr"> 4172 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/10&quot;</span>)
<span id="L4173" class="LineNr"> 4173 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/11&quot;</span>)
<span id="L4174" class="LineNr"> 4174 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/12&quot;</span>)
<span id="L4175" class="LineNr"> 4175 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array/13&quot;</span>)
<span id="L4176" class="LineNr"> 4176 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/14&quot;</span>)
<span id="L4177" class="LineNr"> 4177 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/15&quot;</span>)
<span id="L4178" class="LineNr"> 4178 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4138'>test-convert-length-of-array</a>/16&quot;</span>)
<span id="L4179" class="LineNr"> 4179 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4180" class="LineNr"> 4180 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4181" class="LineNr"> 4181 </span>    5d/pop-to-ebp
<span id="L4182" class="LineNr"> 4182 </span>    c3/return
<span id="L4183" class="LineNr"> 4183 </span>
<span id="L4184" class="LineNr"> 4184 </span><span class="subxComment"># special-case for size(byte) when computing array length</span>
<span id="L4185" class="LineNr"> 4185 </span><span class="subxTest">test-convert-length-of-array-of-bytes</span>:
<span id="L4186" class="LineNr"> 4186 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4187" class="LineNr"> 4187 </span>    55/push-ebp
<span id="L4188" class="LineNr"> 4188 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4189" class="LineNr"> 4189 </span>    <span class="subxComment"># setup</span>
<span id="L4190" class="LineNr"> 4190 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4191" class="LineNr"> 4191 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4192" class="LineNr"> 4192 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4193" class="LineNr"> 4193 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4194" class="LineNr"> 4194 </span>    <span class="subxComment">#</span>
<span id="L4195" class="LineNr"> 4195 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: (addr array byte) {\n&quot;</span>)
<span id="L4196" class="LineNr"> 4196 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: (addr array byte) &lt;- copy a\n&quot;</span>)
<span id="L4197" class="LineNr"> 4197 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/eax: int &lt;- length b\n&quot;</span>)
<span id="L4198" class="LineNr"> 4198 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4199" class="LineNr"> 4199 </span>    <span class="subxComment"># convert</span>
<span id="L4200" class="LineNr"> 4200 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4201" class="LineNr"> 4201 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4202" class="Folded"> 4202 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4208" class="LineNr"> 4208 </span>    <span class="subxComment"># check output</span>
<span id="L4209" class="LineNr"> 4209 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/0&quot;</span>)
<span id="L4210" class="LineNr"> 4210 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-bytes/1&quot;</span>)
<span id="L4211" class="LineNr"> 4211 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/2&quot;</span>)
<span id="L4212" class="LineNr"> 4212 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/3&quot;</span>)
<span id="L4213" class="LineNr"> 4213 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/4&quot;</span>)
<span id="L4214" class="LineNr"> 4214 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/5&quot;</span>)
<span id="L4215" class="LineNr"> 4215 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/6&quot;</span>)
<span id="L4216" class="LineNr"> 4216 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/7&quot;</span>)
<span id="L4217" class="LineNr"> 4217 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *eax 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/8&quot;</span>)
<span id="L4218" class="LineNr"> 4218 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/9&quot;</span>)
<span id="L4219" class="LineNr"> 4219 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/10&quot;</span>)
<span id="L4220" class="LineNr"> 4220 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/11&quot;</span>)
<span id="L4221" class="LineNr"> 4221 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-bytes/12&quot;</span>)
<span id="L4222" class="LineNr"> 4222 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/13&quot;</span>)
<span id="L4223" class="LineNr"> 4223 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/14&quot;</span>)
<span id="L4224" class="LineNr"> 4224 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4185'>test-convert-length-of-array-of-bytes</a>/15&quot;</span>)
<span id="L4225" class="LineNr"> 4225 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4226" class="LineNr"> 4226 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4227" class="LineNr"> 4227 </span>    5d/pop-to-ebp
<span id="L4228" class="LineNr"> 4228 </span>    c3/return
<span id="L4229" class="LineNr"> 4229 </span>
<span id="L4230" class="LineNr"> 4230 </span><span class="subxTest">test-convert-length-of-array-on-stack</span>:
<span id="L4231" class="LineNr"> 4231 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4232" class="LineNr"> 4232 </span>    55/push-ebp
<span id="L4233" class="LineNr"> 4233 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4234" class="LineNr"> 4234 </span>    <span class="subxComment"># setup</span>
<span id="L4235" class="LineNr"> 4235 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4236" class="LineNr"> 4236 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4237" class="LineNr"> 4237 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4238" class="LineNr"> 4238 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4239" class="LineNr"> 4239 </span>    <span class="subxComment">#</span>
<span id="L4240" class="LineNr"> 4240 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4241" class="LineNr"> 4241 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (array int 3)\n&quot;</span>)
<span id="L4242" class="LineNr"> 4242 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: int &lt;- length a\n&quot;</span>)
<span id="L4243" class="LineNr"> 4243 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4244" class="LineNr"> 4244 </span>    <span class="subxComment"># convert</span>
<span id="L4245" class="LineNr"> 4245 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4246" class="LineNr"> 4246 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4247" class="Folded"> 4247 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4253" class="LineNr"> 4253 </span>    <span class="subxComment"># check output</span>
<span id="L4254" class="LineNr"> 4254 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/0&quot;</span>)
<span id="L4255" class="LineNr"> 4255 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-on-stack/1&quot;</span>)
<span id="L4256" class="LineNr"> 4256 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/2&quot;</span>)
<span id="L4257" class="LineNr"> 4257 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/3&quot;</span>)
<span id="L4258" class="LineNr"> 4258 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/4&quot;</span>)
<span id="L4259" class="LineNr"> 4259 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/5&quot;</span>)
<span id="L4260" class="LineNr"> 4260 </span>    <span class="subxComment"># define x</span>
<span id="L4261" class="LineNr"> 4261 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> 0x0000000c)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/6&quot;</span>)
<span id="L4262" class="LineNr"> 4262 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0x0000000c/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/7&quot;</span>)
<span id="L4263" class="LineNr"> 4263 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/8&quot;</span>)
<span id="L4264" class="LineNr"> 4264 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0xfffffff0) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/9&quot;</span>)
<span id="L4265" class="LineNr"> 4265 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    c1/shift 5/subop/&gt;&gt; %eax 0x00000002/imm8&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/10&quot;</span>)
<span id="L4266" class="LineNr"> 4266 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/11&quot;</span>)
<span id="L4267" class="LineNr"> 4267 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000010/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/12&quot;</span>)
<span id="L4268" class="LineNr"> 4268 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/13&quot;</span>)
<span id="L4269" class="LineNr"> 4269 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/14&quot;</span>)
<span id="L4270" class="LineNr"> 4270 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-on-stack/15&quot;</span>)
<span id="L4271" class="LineNr"> 4271 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/16&quot;</span>)
<span id="L4272" class="LineNr"> 4272 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/17&quot;</span>)
<span id="L4273" class="LineNr"> 4273 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4230'>test-convert-length-of-array-on-stack</a>/18&quot;</span>)
<span id="L4274" class="LineNr"> 4274 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4275" class="LineNr"> 4275 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4276" class="LineNr"> 4276 </span>    5d/pop-to-ebp
<span id="L4277" class="LineNr"> 4277 </span>    c3/return
<span id="L4278" class="LineNr"> 4278 </span>
<span id="L4279" class="LineNr"> 4279 </span><span class="subxTest">test-reg-var-def-with-read-of-same-register</span>:
<span id="L4280" class="LineNr"> 4280 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4281" class="LineNr"> 4281 </span>    55/push-ebp
<span id="L4282" class="LineNr"> 4282 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4283" class="LineNr"> 4283 </span>    <span class="subxComment"># setup</span>
<span id="L4284" class="LineNr"> 4284 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4285" class="LineNr"> 4285 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4286" class="LineNr"> 4286 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4287" class="LineNr"> 4287 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4288" class="LineNr"> 4288 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L4289" class="LineNr"> 4289 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L4290" class="LineNr"> 4290 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)  # bytes of args in call to convert-mu</span>
<span id="L4291" class="LineNr"> 4291 </span>    68/push 0/imm32
<span id="L4292" class="LineNr"> 4292 </span>    68/push 0/imm32
<span id="L4293" class="LineNr"> 4293 </span>    89/&lt;- %edx 4/r32/esp
<span id="L4294" class="LineNr"> 4294 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L4295" class="LineNr"> 4295 </span>    <span class="subxComment">#</span>
<span id="L4296" class="LineNr"> 4296 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4297" class="LineNr"> 4297 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L4298" class="LineNr"> 4298 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L4299" class="LineNr"> 4299 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, idx\n&quot;</span>)
<span id="L4300" class="LineNr"> 4300 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4301" class="LineNr"> 4301 </span>    <span class="subxComment"># convert</span>
<span id="L4302" class="LineNr"> 4302 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L4303" class="LineNr"> 4303 </span>    <span class="subxComment"># registers except esp could be clobbered at this point (though they shouldn't be)</span>
<span id="L4304" class="LineNr"> 4304 </span>    <span class="subxComment"># restore ed</span>
<span id="L4305" class="LineNr"> 4305 </span>    89/&lt;- %edx 4/r32/esp
<span id="L4306" class="LineNr"> 4306 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4307" class="LineNr"> 4307 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L4308" class="Folded"> 4308 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4314" class="Folded"> 4314 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4320" class="LineNr"> 4320 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>: <a href='../114error.subx.html#L9'>error</a> stream should be empty&quot;</span>)
<span id="L4321" class="LineNr"> 4321 </span>    <span class="subxComment"># check output</span>
<span id="L4322" class="LineNr"> 4322 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/0&quot;</span>)
<span id="L4323" class="LineNr"> 4323 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-reg-var-def-with-read-of-same-register/1&quot;</span>)
<span id="L4324" class="LineNr"> 4324 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/2&quot;</span>)
<span id="L4325" class="LineNr"> 4325 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/3&quot;</span>)
<span id="L4326" class="LineNr"> 4326 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/4&quot;</span>)
<span id="L4327" class="LineNr"> 4327 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/5&quot;</span>)
<span id="L4328" class="LineNr"> 4328 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/6&quot;</span>)
<span id="L4329" class="LineNr"> 4329 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/7&quot;</span>)
<span id="L4330" class="LineNr"> 4330 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/8&quot;</span>)
<span id="L4331" class="LineNr"> 4331 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/9&quot;</span>)
<span id="L4332" class="LineNr"> 4332 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx&lt;&lt;0x00000002 + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/11&quot;</span>)
<span id="L4333" class="LineNr"> 4333 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/13&quot;</span>)
<span id="L4334" class="LineNr"> 4334 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/14&quot;</span>)
<span id="L4335" class="LineNr"> 4335 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/15&quot;</span>)
<span id="L4336" class="LineNr"> 4336 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/16&quot;</span>)
<span id="L4337" class="LineNr"> 4337 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-reg-var-def-with-read-of-same-register/17&quot;</span>)
<span id="L4338" class="LineNr"> 4338 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/18&quot;</span>)
<span id="L4339" class="LineNr"> 4339 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/19&quot;</span>)
<span id="L4340" class="LineNr"> 4340 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4279'>test-reg-var-def-with-read-of-same-register</a>/20&quot;</span>)
<span id="L4341" class="LineNr"> 4341 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L4342" class="LineNr"> 4342 </span>    81 0/subop/add %esp 8/imm32
<span id="L4343" class="LineNr"> 4343 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4344" class="LineNr"> 4344 </span>    5d/pop-to-ebp
<span id="L4345" class="LineNr"> 4345 </span>    c3/return
<span id="L4346" class="LineNr"> 4346 </span>
<span id="L4347" class="LineNr"> 4347 </span><span class="subxTest">test-convert-index-into-array</span>:
<span id="L4348" class="LineNr"> 4348 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4349" class="LineNr"> 4349 </span>    55/push-ebp
<span id="L4350" class="LineNr"> 4350 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4351" class="LineNr"> 4351 </span>    <span class="subxComment"># setup</span>
<span id="L4352" class="LineNr"> 4352 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4353" class="LineNr"> 4353 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4354" class="LineNr"> 4354 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4355" class="LineNr"> 4355 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4356" class="LineNr"> 4356 </span>    <span class="subxComment">#</span>
<span id="L4357" class="LineNr"> 4357 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4358" class="LineNr"> 4358 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L4359" class="LineNr"> 4359 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L4360" class="LineNr"> 4360 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, idx\n&quot;</span>)
<span id="L4361" class="LineNr"> 4361 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4362" class="LineNr"> 4362 </span>    <span class="subxComment"># convert</span>
<span id="L4363" class="LineNr"> 4363 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4364" class="LineNr"> 4364 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4365" class="Folded"> 4365 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4371" class="LineNr"> 4371 </span>    <span class="subxComment"># check output</span>
<span id="L4372" class="LineNr"> 4372 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/0&quot;</span>)
<span id="L4373" class="LineNr"> 4373 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array/1&quot;</span>)
<span id="L4374" class="LineNr"> 4374 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/2&quot;</span>)
<span id="L4375" class="LineNr"> 4375 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/3&quot;</span>)
<span id="L4376" class="LineNr"> 4376 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/4&quot;</span>)
<span id="L4377" class="LineNr"> 4377 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/5&quot;</span>)
<span id="L4378" class="LineNr"> 4378 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/6&quot;</span>)
<span id="L4379" class="LineNr"> 4379 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/7&quot;</span>)
<span id="L4380" class="LineNr"> 4380 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/8&quot;</span>)
<span id="L4381" class="LineNr"> 4381 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/9&quot;</span>)
<span id="L4382" class="LineNr"> 4382 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx&lt;&lt;0x00000002 + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/10&quot;</span>)
<span id="L4383" class="LineNr"> 4383 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/11&quot;</span>)
<span id="L4384" class="LineNr"> 4384 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/12&quot;</span>)
<span id="L4385" class="LineNr"> 4385 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/13&quot;</span>)
<span id="L4386" class="LineNr"> 4386 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/14&quot;</span>)
<span id="L4387" class="LineNr"> 4387 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array/15&quot;</span>)
<span id="L4388" class="LineNr"> 4388 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/16&quot;</span>)
<span id="L4389" class="LineNr"> 4389 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/17&quot;</span>)
<span id="L4390" class="LineNr"> 4390 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4347'>test-convert-index-into-array</a>/18&quot;</span>)
<span id="L4391" class="LineNr"> 4391 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4392" class="LineNr"> 4392 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4393" class="LineNr"> 4393 </span>    5d/pop-to-ebp
<span id="L4394" class="LineNr"> 4394 </span>    c3/return
<span id="L4395" class="LineNr"> 4395 </span>
<span id="L4396" class="LineNr"> 4396 </span><span class="subxTest">test-convert-index-into-array-of-bytes</span>:
<span id="L4397" class="LineNr"> 4397 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4398" class="LineNr"> 4398 </span>    55/push-ebp
<span id="L4399" class="LineNr"> 4399 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4400" class="LineNr"> 4400 </span>    <span class="subxComment"># setup</span>
<span id="L4401" class="LineNr"> 4401 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4402" class="LineNr"> 4402 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4403" class="LineNr"> 4403 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4404" class="LineNr"> 4404 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4405" class="LineNr"> 4405 </span>    <span class="subxComment">#</span>
<span id="L4406" class="LineNr"> 4406 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4407" class="LineNr"> 4407 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array byte) &lt;- copy 0\n&quot;</span>)
<span id="L4408" class="LineNr"> 4408 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L4409" class="LineNr"> 4409 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr byte) &lt;- index arr, idx\n&quot;</span>)
<span id="L4410" class="LineNr"> 4410 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4411" class="LineNr"> 4411 </span>    <span class="subxComment"># convert</span>
<span id="L4412" class="LineNr"> 4412 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4413" class="LineNr"> 4413 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4414" class="Folded"> 4414 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4420" class="LineNr"> 4420 </span>    <span class="subxComment"># check output</span>
<span id="L4421" class="LineNr"> 4421 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/0&quot;</span>)
<span id="L4422" class="LineNr"> 4422 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes/1&quot;</span>)
<span id="L4423" class="LineNr"> 4423 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/2&quot;</span>)
<span id="L4424" class="LineNr"> 4424 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/3&quot;</span>)
<span id="L4425" class="LineNr"> 4425 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/4&quot;</span>)
<span id="L4426" class="LineNr"> 4426 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/5&quot;</span>)
<span id="L4427" class="LineNr"> 4427 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/6&quot;</span>)
<span id="L4428" class="LineNr"> 4428 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/7&quot;</span>)
<span id="L4429" class="LineNr"> 4429 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/8&quot;</span>)
<span id="L4430" class="LineNr"> 4430 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/9&quot;</span>)
<span id="L4431" class="LineNr"> 4431 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx&lt;&lt;0x00000000 + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/11&quot;</span>)
<span id="L4432" class="LineNr"> 4432 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/13&quot;</span>)
<span id="L4433" class="LineNr"> 4433 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/14&quot;</span>)
<span id="L4434" class="LineNr"> 4434 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/15&quot;</span>)
<span id="L4435" class="LineNr"> 4435 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/16&quot;</span>)
<span id="L4436" class="LineNr"> 4436 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes/17&quot;</span>)
<span id="L4437" class="LineNr"> 4437 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/18&quot;</span>)
<span id="L4438" class="LineNr"> 4438 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/19&quot;</span>)
<span id="L4439" class="LineNr"> 4439 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4396'>test-convert-index-into-array-of-bytes</a>/20&quot;</span>)
<span id="L4440" class="LineNr"> 4440 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4441" class="LineNr"> 4441 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4442" class="LineNr"> 4442 </span>    5d/pop-to-ebp
<span id="L4443" class="LineNr"> 4443 </span>    c3/return
<span id="L4444" class="LineNr"> 4444 </span>
<span id="L4445" class="LineNr"> 4445 </span><span class="subxTest">test-convert-index-into-array-with-literal</span>:
<span id="L4446" class="LineNr"> 4446 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4447" class="LineNr"> 4447 </span>    55/push-ebp
<span id="L4448" class="LineNr"> 4448 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4449" class="LineNr"> 4449 </span>    <span class="subxComment"># setup</span>
<span id="L4450" class="LineNr"> 4450 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4451" class="LineNr"> 4451 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4452" class="LineNr"> 4452 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4453" class="LineNr"> 4453 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4454" class="LineNr"> 4454 </span>    <span class="subxComment">#</span>
<span id="L4455" class="LineNr"> 4455 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4456" class="LineNr"> 4456 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L4457" class="LineNr"> 4457 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, 2\n&quot;</span>)
<span id="L4458" class="LineNr"> 4458 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4459" class="LineNr"> 4459 </span>    <span class="subxComment"># convert</span>
<span id="L4460" class="LineNr"> 4460 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4461" class="LineNr"> 4461 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4462" class="Folded"> 4462 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4468" class="LineNr"> 4468 </span>    <span class="subxComment"># check output</span>
<span id="L4469" class="LineNr"> 4469 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/0&quot;</span>)
<span id="L4470" class="LineNr"> 4470 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-with-literal/1&quot;</span>)
<span id="L4471" class="LineNr"> 4471 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/2&quot;</span>)
<span id="L4472" class="LineNr"> 4472 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/3&quot;</span>)
<span id="L4473" class="LineNr"> 4473 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/4&quot;</span>)
<span id="L4474" class="LineNr"> 4474 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/5&quot;</span>)
<span id="L4475" class="LineNr"> 4475 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/6&quot;</span>)
<span id="L4476" class="LineNr"> 4476 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/7&quot;</span>)
<span id="L4477" class="LineNr"> 4477 </span>                                                                                 <span class="subxComment"># 2 * 4 bytes/elem + 4 bytes for size = offset 12</span>
<span id="L4478" class="LineNr"> 4478 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + 0x0000000c) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/8&quot;</span>)
<span id="L4479" class="LineNr"> 4479 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/9&quot;</span>)
<span id="L4480" class="LineNr"> 4480 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/10&quot;</span>)
<span id="L4481" class="LineNr"> 4481 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/11&quot;</span>)
<span id="L4482" class="LineNr"> 4482 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-with-literal/12&quot;</span>)
<span id="L4483" class="LineNr"> 4483 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/13&quot;</span>)
<span id="L4484" class="LineNr"> 4484 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/14&quot;</span>)
<span id="L4485" class="LineNr"> 4485 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4445'>test-convert-index-into-array-with-literal</a>/15&quot;</span>)
<span id="L4486" class="LineNr"> 4486 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4487" class="LineNr"> 4487 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4488" class="LineNr"> 4488 </span>    5d/pop-to-ebp
<span id="L4489" class="LineNr"> 4489 </span>    c3/return
<span id="L4490" class="LineNr"> 4490 </span>
<span id="L4491" class="LineNr"> 4491 </span><span class="subxTest">test-convert-index-into-array-of-bytes-with-literal</span>:
<span id="L4492" class="LineNr"> 4492 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4493" class="LineNr"> 4493 </span>    55/push-ebp
<span id="L4494" class="LineNr"> 4494 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4495" class="LineNr"> 4495 </span>    <span class="subxComment"># setup</span>
<span id="L4496" class="LineNr"> 4496 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4497" class="LineNr"> 4497 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4498" class="LineNr"> 4498 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4499" class="LineNr"> 4499 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4500" class="LineNr"> 4500 </span>    <span class="subxComment">#</span>
<span id="L4501" class="LineNr"> 4501 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4502" class="LineNr"> 4502 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array byte) &lt;- copy 0\n&quot;</span>)
<span id="L4503" class="LineNr"> 4503 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr byte) &lt;- index arr, 2\n&quot;</span>)
<span id="L4504" class="LineNr"> 4504 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4505" class="LineNr"> 4505 </span>    <span class="subxComment"># convert</span>
<span id="L4506" class="LineNr"> 4506 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4507" class="LineNr"> 4507 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4508" class="Folded"> 4508 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4514" class="LineNr"> 4514 </span>    <span class="subxComment"># check output</span>
<span id="L4515" class="LineNr"> 4515 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/0&quot;</span>)
<span id="L4516" class="LineNr"> 4516 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-with-literal/1&quot;</span>)
<span id="L4517" class="LineNr"> 4517 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/2&quot;</span>)
<span id="L4518" class="LineNr"> 4518 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/3&quot;</span>)
<span id="L4519" class="LineNr"> 4519 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/4&quot;</span>)
<span id="L4520" class="LineNr"> 4520 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/5&quot;</span>)
<span id="L4521" class="LineNr"> 4521 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/6&quot;</span>)
<span id="L4522" class="LineNr"> 4522 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/7&quot;</span>)
<span id="L4523" class="LineNr"> 4523 </span>                                                                                 <span class="subxComment"># 2 * 1 byte/elem + 4 bytes for size = offset 6</span>
<span id="L4524" class="LineNr"> 4524 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + 0x00000006) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/8&quot;</span>)
<span id="L4525" class="LineNr"> 4525 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/9&quot;</span>)
<span id="L4526" class="LineNr"> 4526 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/10&quot;</span>)
<span id="L4527" class="LineNr"> 4527 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/11&quot;</span>)
<span id="L4528" class="LineNr"> 4528 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-with-literal/12&quot;</span>)
<span id="L4529" class="LineNr"> 4529 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/13&quot;</span>)
<span id="L4530" class="LineNr"> 4530 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/14&quot;</span>)
<span id="L4531" class="LineNr"> 4531 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4491'>test-convert-index-into-array-of-bytes-with-literal</a>/15&quot;</span>)
<span id="L4532" class="LineNr"> 4532 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4533" class="LineNr"> 4533 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4534" class="LineNr"> 4534 </span>    5d/pop-to-ebp
<span id="L4535" class="LineNr"> 4535 </span>    c3/return
<span id="L4536" class="LineNr"> 4536 </span>
<span id="L4537" class="LineNr"> 4537 </span><span class="subxTest">test-convert-index-into-array-on-stack</span>:
<span id="L4538" class="LineNr"> 4538 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4539" class="LineNr"> 4539 </span>    55/push-ebp
<span id="L4540" class="LineNr"> 4540 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4541" class="LineNr"> 4541 </span>    <span class="subxComment"># setup</span>
<span id="L4542" class="LineNr"> 4542 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4543" class="LineNr"> 4543 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4544" class="LineNr"> 4544 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4545" class="LineNr"> 4545 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4546" class="LineNr"> 4546 </span>    <span class="subxComment">#</span>
<span id="L4547" class="LineNr"> 4547 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4548" class="LineNr"> 4548 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr: (array int 3)\n&quot;</span>)
<span id="L4549" class="LineNr"> 4549 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/eax: int &lt;- copy 2\n&quot;</span>)
<span id="L4550" class="LineNr"> 4550 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, idx\n&quot;</span>)
<span id="L4551" class="LineNr"> 4551 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4552" class="LineNr"> 4552 </span>    <span class="subxComment"># convert</span>
<span id="L4553" class="LineNr"> 4553 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4554" class="LineNr"> 4554 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4555" class="Folded"> 4555 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4561" class="LineNr"> 4561 </span>    <span class="subxComment"># check output</span>
<span id="L4562" class="LineNr"> 4562 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/0&quot;</span>)
<span id="L4563" class="LineNr"> 4563 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-on-stack/1&quot;</span>)
<span id="L4564" class="LineNr"> 4564 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/2&quot;</span>)
<span id="L4565" class="LineNr"> 4565 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/3&quot;</span>)
<span id="L4566" class="LineNr"> 4566 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/4&quot;</span>)
<span id="L4567" class="LineNr"> 4567 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/5&quot;</span>)
<span id="L4568" class="LineNr"> 4568 </span>    <span class="subxComment"># var arr</span>
<span id="L4569" class="LineNr"> 4569 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> 0x0000000c)&quot;</span>          <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/6&quot;</span>)
<span id="L4570" class="LineNr"> 4570 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0x0000000c/imm32&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/7&quot;</span>)
<span id="L4571" class="LineNr"> 4571 </span>    <span class="subxComment"># var idx</span>
<span id="L4572" class="LineNr"> 4572 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/8&quot;</span>)
<span id="L4573" class="LineNr"> 4573 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 2/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/9&quot;</span>)
<span id="L4574" class="LineNr"> 4574 </span>    <span class="subxComment"># var x is at (ebp-0x10) + idx&lt;&lt;2 + 4 = ebp + idx&lt;&lt;2 - 0xc</span>
<span id="L4575" class="LineNr"> 4575 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp + eax&lt;&lt;0x00000002 + 0xfffffff4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/10&quot;</span>)
<span id="L4576" class="LineNr"> 4576 </span>    <span class="subxComment"># reclaim idx</span>
<span id="L4577" class="LineNr"> 4577 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/11&quot;</span>)
<span id="L4578" class="LineNr"> 4578 </span>    <span class="subxComment"># reclaim arr</span>
<span id="L4579" class="LineNr"> 4579 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000010/imm32&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/12&quot;</span>)
<span id="L4580" class="LineNr"> 4580 </span>    <span class="subxComment">#</span>
<span id="L4581" class="LineNr"> 4581 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/13&quot;</span>)
<span id="L4582" class="LineNr"> 4582 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/14&quot;</span>)
<span id="L4583" class="LineNr"> 4583 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-on-stack/15&quot;</span>)
<span id="L4584" class="LineNr"> 4584 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/16&quot;</span>)
<span id="L4585" class="LineNr"> 4585 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/17&quot;</span>)
<span id="L4586" class="LineNr"> 4586 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4537'>test-convert-index-into-array-on-stack</a>/18&quot;</span>)
<span id="L4587" class="LineNr"> 4587 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4588" class="LineNr"> 4588 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4589" class="LineNr"> 4589 </span>    5d/pop-to-ebp
<span id="L4590" class="LineNr"> 4590 </span>    c3/return
<span id="L4591" class="LineNr"> 4591 </span>
<span id="L4592" class="LineNr"> 4592 </span><span class="subxTest">test-convert-index-into-array-on-stack-with-literal</span>:
<span id="L4593" class="LineNr"> 4593 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4594" class="LineNr"> 4594 </span>    55/push-ebp
<span id="L4595" class="LineNr"> 4595 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4596" class="LineNr"> 4596 </span>    <span class="subxComment"># setup</span>
<span id="L4597" class="LineNr"> 4597 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4598" class="LineNr"> 4598 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4599" class="LineNr"> 4599 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4600" class="LineNr"> 4600 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4601" class="LineNr"> 4601 </span>    <span class="subxComment">#</span>
<span id="L4602" class="LineNr"> 4602 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4603" class="LineNr"> 4603 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr: (array int 3)\n&quot;</span>)
<span id="L4604" class="LineNr"> 4604 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, 2\n&quot;</span>)
<span id="L4605" class="LineNr"> 4605 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4606" class="LineNr"> 4606 </span>    <span class="subxComment"># convert</span>
<span id="L4607" class="LineNr"> 4607 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4608" class="LineNr"> 4608 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4609" class="Folded"> 4609 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4615" class="LineNr"> 4615 </span>    <span class="subxComment"># check output</span>
<span id="L4616" class="LineNr"> 4616 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/0&quot;</span>)
<span id="L4617" class="LineNr"> 4617 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-on-stack-with-literal/1&quot;</span>)
<span id="L4618" class="LineNr"> 4618 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/2&quot;</span>)
<span id="L4619" class="LineNr"> 4619 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/3&quot;</span>)
<span id="L4620" class="LineNr"> 4620 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/4&quot;</span>)
<span id="L4621" class="LineNr"> 4621 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/5&quot;</span>)
<span id="L4622" class="LineNr"> 4622 </span>    <span class="subxComment"># var arr</span>
<span id="L4623" class="LineNr"> 4623 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> 0x0000000c)&quot;</span>          <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/6&quot;</span>)
<span id="L4624" class="LineNr"> 4624 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0x0000000c/imm32&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/7&quot;</span>)
<span id="L4625" class="LineNr"> 4625 </span>    <span class="subxComment"># var x</span>
<span id="L4626" class="LineNr"> 4626 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/8&quot;</span>)
<span id="L4627" class="LineNr"> 4627 </span>    <span class="subxComment"># x is at (ebp-0x10) + 4 + 2*4 = ebp-4</span>
<span id="L4628" class="LineNr"> 4628 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp + 0xfffffffc) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/9&quot;</span>)
<span id="L4629" class="LineNr"> 4629 </span>    <span class="subxComment"># reclaim x</span>
<span id="L4630" class="LineNr"> 4630 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/10&quot;</span>)
<span id="L4631" class="LineNr"> 4631 </span>    <span class="subxComment"># reclaim arr</span>
<span id="L4632" class="LineNr"> 4632 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000010/imm32&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/11&quot;</span>)
<span id="L4633" class="LineNr"> 4633 </span>    <span class="subxComment">#</span>
<span id="L4634" class="LineNr"> 4634 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/12&quot;</span>)
<span id="L4635" class="LineNr"> 4635 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/13&quot;</span>)
<span id="L4636" class="LineNr"> 4636 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-on-stack-with-literal/14&quot;</span>)
<span id="L4637" class="LineNr"> 4637 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/15&quot;</span>)
<span id="L4638" class="LineNr"> 4638 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/16&quot;</span>)
<span id="L4639" class="LineNr"> 4639 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4592'>test-convert-index-into-array-on-stack-with-literal</a>/17&quot;</span>)
<span id="L4640" class="LineNr"> 4640 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4641" class="LineNr"> 4641 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4642" class="LineNr"> 4642 </span>    5d/pop-to-ebp
<span id="L4643" class="LineNr"> 4643 </span>    c3/return
<span id="L4644" class="LineNr"> 4644 </span>
<span id="L4645" class="LineNr"> 4645 </span><span class="subxTest">test-convert-index-into-array-of-bytes-on-stack-with-literal</span>:
<span id="L4646" class="LineNr"> 4646 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4647" class="LineNr"> 4647 </span>    55/push-ebp
<span id="L4648" class="LineNr"> 4648 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4649" class="LineNr"> 4649 </span>    <span class="subxComment"># setup</span>
<span id="L4650" class="LineNr"> 4650 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4651" class="LineNr"> 4651 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4652" class="LineNr"> 4652 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4653" class="LineNr"> 4653 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4654" class="LineNr"> 4654 </span>    <span class="subxComment">#</span>
<span id="L4655" class="LineNr"> 4655 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4656" class="LineNr"> 4656 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr: (array byte 3)\n&quot;</span>)
<span id="L4657" class="LineNr"> 4657 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr byte) &lt;- index arr, 2\n&quot;</span>)
<span id="L4658" class="LineNr"> 4658 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4659" class="LineNr"> 4659 </span>    <span class="subxComment"># convert</span>
<span id="L4660" class="LineNr"> 4660 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4661" class="LineNr"> 4661 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4662" class="Folded"> 4662 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4668" class="LineNr"> 4668 </span>    <span class="subxComment"># check output</span>
<span id="L4669" class="LineNr"> 4669 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/0&quot;</span>)
<span id="L4670" class="LineNr"> 4670 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-on-stack-with-literal/1&quot;</span>)
<span id="L4671" class="LineNr"> 4671 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/2&quot;</span>)
<span id="L4672" class="LineNr"> 4672 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/3&quot;</span>)
<span id="L4673" class="LineNr"> 4673 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/4&quot;</span>)
<span id="L4674" class="LineNr"> 4674 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/5&quot;</span>)
<span id="L4675" class="LineNr"> 4675 </span>    <span class="subxComment"># var arr</span>
<span id="L4676" class="LineNr"> 4676 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> 0x00000003)&quot;</span>          <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/6&quot;</span>)
<span id="L4677" class="LineNr"> 4677 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0x00000003/imm32&quot;</span>                <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/7&quot;</span>)
<span id="L4678" class="LineNr"> 4678 </span>    <span class="subxComment"># var x</span>
<span id="L4679" class="LineNr"> 4679 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/8&quot;</span>)
<span id="L4680" class="LineNr"> 4680 </span>    <span class="subxComment"># x is at (ebp-7) + 4 + 2 = ebp-1</span>
<span id="L4681" class="LineNr"> 4681 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp + 0xffffffff) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/9&quot;</span>)
<span id="L4682" class="LineNr"> 4682 </span>    <span class="subxComment"># reclaim x</span>
<span id="L4683" class="LineNr"> 4683 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/10&quot;</span>)
<span id="L4684" class="LineNr"> 4684 </span>    <span class="subxComment"># reclaim arr</span>
<span id="L4685" class="LineNr"> 4685 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000007/imm32&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/11&quot;</span>)
<span id="L4686" class="LineNr"> 4686 </span>    <span class="subxComment">#</span>
<span id="L4687" class="LineNr"> 4687 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/12&quot;</span>)
<span id="L4688" class="LineNr"> 4688 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/13&quot;</span>)
<span id="L4689" class="LineNr"> 4689 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-on-stack-with-literal/14&quot;</span>)
<span id="L4690" class="LineNr"> 4690 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/15&quot;</span>)
<span id="L4691" class="LineNr"> 4691 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/16&quot;</span>)
<span id="L4692" class="LineNr"> 4692 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4645'>test-convert-index-into-array-of-bytes-on-stack-with-literal</a>/17&quot;</span>)
<span id="L4693" class="LineNr"> 4693 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4694" class="LineNr"> 4694 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4695" class="LineNr"> 4695 </span>    5d/pop-to-ebp
<span id="L4696" class="LineNr"> 4696 </span>    c3/return
<span id="L4697" class="LineNr"> 4697 </span>
<span id="L4698" class="LineNr"> 4698 </span><span class="subxTest">test-convert-index-into-array-using-offset</span>:
<span id="L4699" class="LineNr"> 4699 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4700" class="LineNr"> 4700 </span>    55/push-ebp
<span id="L4701" class="LineNr"> 4701 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4702" class="LineNr"> 4702 </span>    <span class="subxComment"># setup</span>
<span id="L4703" class="LineNr"> 4703 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4704" class="LineNr"> 4704 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4705" class="LineNr"> 4705 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4706" class="LineNr"> 4706 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4707" class="LineNr"> 4707 </span>    <span class="subxComment">#</span>
<span id="L4708" class="LineNr"> 4708 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4709" class="LineNr"> 4709 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L4710" class="LineNr"> 4710 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L4711" class="LineNr"> 4711 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var off/ecx: (offset int) &lt;- compute-offset arr, idx\n&quot;</span>)
<span id="L4712" class="LineNr"> 4712 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, off\n&quot;</span>)
<span id="L4713" class="LineNr"> 4713 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4714" class="LineNr"> 4714 </span>    <span class="subxComment"># convert</span>
<span id="L4715" class="LineNr"> 4715 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4716" class="LineNr"> 4716 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4717" class="Folded"> 4717 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4723" class="LineNr"> 4723 </span>    <span class="subxComment"># check output</span>
<span id="L4724" class="LineNr"> 4724 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/0&quot;</span>)
<span id="L4725" class="LineNr"> 4725 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-using-offset/1&quot;</span>)
<span id="L4726" class="LineNr"> 4726 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/2&quot;</span>)
<span id="L4727" class="LineNr"> 4727 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/3&quot;</span>)
<span id="L4728" class="LineNr"> 4728 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/4&quot;</span>)
<span id="L4729" class="LineNr"> 4729 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/5&quot;</span>)
<span id="L4730" class="LineNr"> 4730 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/6&quot;</span>)
<span id="L4731" class="LineNr"> 4731 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/7&quot;</span>)
<span id="L4732" class="LineNr"> 4732 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/8&quot;</span>)
<span id="L4733" class="LineNr"> 4733 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/9&quot;</span>)
<span id="L4734" class="LineNr"> 4734 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    69/multiply %ecx 0x00000004/imm32 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/10&quot;</span>)
<span id="L4735" class="LineNr"> 4735 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/11&quot;</span>)
<span id="L4736" class="LineNr"> 4736 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/12&quot;</span>)
<span id="L4737" class="LineNr"> 4737 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/13&quot;</span>)
<span id="L4738" class="LineNr"> 4738 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/14&quot;</span>)
<span id="L4739" class="LineNr"> 4739 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/15&quot;</span>)
<span id="L4740" class="LineNr"> 4740 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-using-offset/16&quot;</span>)
<span id="L4741" class="LineNr"> 4741 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/17&quot;</span>)
<span id="L4742" class="LineNr"> 4742 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/18&quot;</span>)
<span id="L4743" class="LineNr"> 4743 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4698'>test-convert-index-into-array-using-offset</a>/19&quot;</span>)
<span id="L4744" class="LineNr"> 4744 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4745" class="LineNr"> 4745 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4746" class="LineNr"> 4746 </span>    5d/pop-to-ebp
<span id="L4747" class="LineNr"> 4747 </span>    c3/return
<span id="L4748" class="LineNr"> 4748 </span>
<span id="L4749" class="LineNr"> 4749 </span><span class="subxTest">test-convert-index-into-array-of-bytes-using-offset</span>:
<span id="L4750" class="LineNr"> 4750 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4751" class="LineNr"> 4751 </span>    55/push-ebp
<span id="L4752" class="LineNr"> 4752 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4753" class="LineNr"> 4753 </span>    <span class="subxComment"># setup</span>
<span id="L4754" class="LineNr"> 4754 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4755" class="LineNr"> 4755 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4756" class="LineNr"> 4756 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4757" class="LineNr"> 4757 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4758" class="LineNr"> 4758 </span>    <span class="subxComment">#</span>
<span id="L4759" class="LineNr"> 4759 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4760" class="LineNr"> 4760 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array byte) &lt;- copy 0\n&quot;</span>)
<span id="L4761" class="LineNr"> 4761 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L4762" class="LineNr"> 4762 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var off/ecx: (offset byte) &lt;- compute-offset arr, idx\n&quot;</span>)
<span id="L4763" class="LineNr"> 4763 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr byte) &lt;- index arr, off\n&quot;</span>)
<span id="L4764" class="LineNr"> 4764 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4765" class="LineNr"> 4765 </span>    <span class="subxComment"># convert</span>
<span id="L4766" class="LineNr"> 4766 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4767" class="LineNr"> 4767 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4768" class="Folded"> 4768 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4774" class="LineNr"> 4774 </span>    <span class="subxComment"># check output</span>
<span id="L4775" class="LineNr"> 4775 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/0&quot;</span>)
<span id="L4776" class="LineNr"> 4776 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-using-offset/1&quot;</span>)
<span id="L4777" class="LineNr"> 4777 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/2&quot;</span>)
<span id="L4778" class="LineNr"> 4778 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/3&quot;</span>)
<span id="L4779" class="LineNr"> 4779 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/4&quot;</span>)
<span id="L4780" class="LineNr"> 4780 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/5&quot;</span>)
<span id="L4781" class="LineNr"> 4781 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/6&quot;</span>)
<span id="L4782" class="LineNr"> 4782 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/7&quot;</span>)
<span id="L4783" class="LineNr"> 4783 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/8&quot;</span>)
<span id="L4784" class="LineNr"> 4784 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/9&quot;</span>)
<span id="L4785" class="LineNr"> 4785 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    69/multiply %ecx 0x00000001/imm32 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/10&quot;</span>)
<span id="L4786" class="LineNr"> 4786 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/11&quot;</span>)
<span id="L4787" class="LineNr"> 4787 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/12&quot;</span>)
<span id="L4788" class="LineNr"> 4788 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/13&quot;</span>)
<span id="L4789" class="LineNr"> 4789 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/14&quot;</span>)
<span id="L4790" class="LineNr"> 4790 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/15&quot;</span>)
<span id="L4791" class="LineNr"> 4791 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-using-offset/16&quot;</span>)
<span id="L4792" class="LineNr"> 4792 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/17&quot;</span>)
<span id="L4793" class="LineNr"> 4793 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/18&quot;</span>)
<span id="L4794" class="LineNr"> 4794 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4749'>test-convert-index-into-array-of-bytes-using-offset</a>/19&quot;</span>)
<span id="L4795" class="LineNr"> 4795 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4796" class="LineNr"> 4796 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4797" class="LineNr"> 4797 </span>    5d/pop-to-ebp
<span id="L4798" class="LineNr"> 4798 </span>    c3/return
<span id="L4799" class="LineNr"> 4799 </span>
<span id="L4800" class="LineNr"> 4800 </span><span class="subxTest">test-convert-index-into-array-using-offset-on-stack</span>:
<span id="L4801" class="LineNr"> 4801 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4802" class="LineNr"> 4802 </span>    55/push-ebp
<span id="L4803" class="LineNr"> 4803 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4804" class="LineNr"> 4804 </span>    <span class="subxComment"># setup</span>
<span id="L4805" class="LineNr"> 4805 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4806" class="LineNr"> 4806 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4807" class="LineNr"> 4807 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4808" class="LineNr"> 4808 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4809" class="LineNr"> 4809 </span>    <span class="subxComment">#</span>
<span id="L4810" class="LineNr"> 4810 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4811" class="LineNr"> 4811 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L4812" class="LineNr"> 4812 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx: int\n&quot;</span>)
<span id="L4813" class="LineNr"> 4813 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var off/ecx: (offset int) &lt;- compute-offset arr, idx\n&quot;</span>)
<span id="L4814" class="LineNr"> 4814 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr int) &lt;- index arr, off\n&quot;</span>)
<span id="L4815" class="LineNr"> 4815 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4816" class="LineNr"> 4816 </span>    <span class="subxComment"># convert</span>
<span id="L4817" class="LineNr"> 4817 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4818" class="LineNr"> 4818 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4819" class="Folded"> 4819 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4825" class="LineNr"> 4825 </span>    <span class="subxComment"># check output</span>
<span id="L4826" class="LineNr"> 4826 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/0&quot;</span>)
<span id="L4827" class="LineNr"> 4827 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-using-offset-on-stack/1&quot;</span>)
<span id="L4828" class="LineNr"> 4828 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/2&quot;</span>)
<span id="L4829" class="LineNr"> 4829 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/3&quot;</span>)
<span id="L4830" class="LineNr"> 4830 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/4&quot;</span>)
<span id="L4831" class="LineNr"> 4831 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/5&quot;</span>)
<span id="L4832" class="LineNr"> 4832 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/6&quot;</span>)
<span id="L4833" class="LineNr"> 4833 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/7&quot;</span>)
<span id="L4834" class="LineNr"> 4834 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/8&quot;</span>)
<span id="L4835" class="LineNr"> 4835 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/9&quot;</span>)
<span id="L4836" class="LineNr"> 4836 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    69/multiply *(ebp+0xfffffff8) 0x00000004/imm32 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/10&quot;</span>)
<span id="L4837" class="LineNr"> 4837 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/11&quot;</span>)
<span id="L4838" class="LineNr"> 4838 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/12&quot;</span>)
<span id="L4839" class="LineNr"> 4839 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/13&quot;</span>)
<span id="L4840" class="LineNr"> 4840 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/14&quot;</span>)
<span id="L4841" class="LineNr"> 4841 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/15&quot;</span>)
<span id="L4842" class="LineNr"> 4842 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/16&quot;</span>)
<span id="L4843" class="LineNr"> 4843 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-using-offset-on-stack/17&quot;</span>)
<span id="L4844" class="LineNr"> 4844 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/18&quot;</span>)
<span id="L4845" class="LineNr"> 4845 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/19&quot;</span>)
<span id="L4846" class="LineNr"> 4846 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4800'>test-convert-index-into-array-using-offset-on-stack</a>/20&quot;</span>)
<span id="L4847" class="LineNr"> 4847 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4848" class="LineNr"> 4848 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4849" class="LineNr"> 4849 </span>    5d/pop-to-ebp
<span id="L4850" class="LineNr"> 4850 </span>    c3/return
<span id="L4851" class="LineNr"> 4851 </span>
<span id="L4852" class="LineNr"> 4852 </span><span class="subxTest">test-convert-index-into-array-of-bytes-using-offset-on-stack</span>:
<span id="L4853" class="LineNr"> 4853 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4854" class="LineNr"> 4854 </span>    55/push-ebp
<span id="L4855" class="LineNr"> 4855 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4856" class="LineNr"> 4856 </span>    <span class="subxComment"># setup</span>
<span id="L4857" class="LineNr"> 4857 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4858" class="LineNr"> 4858 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4859" class="LineNr"> 4859 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4860" class="LineNr"> 4860 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4861" class="LineNr"> 4861 </span>    <span class="subxComment">#</span>
<span id="L4862" class="LineNr"> 4862 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L4863" class="LineNr"> 4863 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array byte) &lt;- copy 0\n&quot;</span>)
<span id="L4864" class="LineNr"> 4864 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx: int\n&quot;</span>)
<span id="L4865" class="LineNr"> 4865 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var off/ecx: (offset byte) &lt;- compute-offset arr, idx\n&quot;</span>)
<span id="L4866" class="LineNr"> 4866 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr byte) &lt;- index arr, off\n&quot;</span>)
<span id="L4867" class="LineNr"> 4867 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4868" class="LineNr"> 4868 </span>    <span class="subxComment"># convert</span>
<span id="L4869" class="LineNr"> 4869 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4870" class="LineNr"> 4870 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4871" class="Folded"> 4871 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4877" class="LineNr"> 4877 </span>    <span class="subxComment"># check output</span>
<span id="L4878" class="LineNr"> 4878 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/0&quot;</span>)
<span id="L4879" class="LineNr"> 4879 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-using-offset-on-stack/1&quot;</span>)
<span id="L4880" class="LineNr"> 4880 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/2&quot;</span>)
<span id="L4881" class="LineNr"> 4881 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/3&quot;</span>)
<span id="L4882" class="LineNr"> 4882 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/4&quot;</span>)
<span id="L4883" class="LineNr"> 4883 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/5&quot;</span>)
<span id="L4884" class="LineNr"> 4884 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/6&quot;</span>)
<span id="L4885" class="LineNr"> 4885 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/7&quot;</span>)
<span id="L4886" class="LineNr"> 4886 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/8&quot;</span>)
<span id="L4887" class="LineNr"> 4887 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/9&quot;</span>)
<span id="L4888" class="LineNr"> 4888 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    69/multiply *(ebp+0xfffffff8) 0x00000001/imm32 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/10&quot;</span>)
<span id="L4889" class="LineNr"> 4889 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/11&quot;</span>)
<span id="L4890" class="LineNr"> 4890 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/12&quot;</span>)
<span id="L4891" class="LineNr"> 4891 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/13&quot;</span>)
<span id="L4892" class="LineNr"> 4892 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/14&quot;</span>)
<span id="L4893" class="LineNr"> 4893 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/15&quot;</span>)
<span id="L4894" class="LineNr"> 4894 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/16&quot;</span>)
<span id="L4895" class="LineNr"> 4895 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-index-into-array-of-bytes-using-offset-on-stack/17&quot;</span>)
<span id="L4896" class="LineNr"> 4896 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/18&quot;</span>)
<span id="L4897" class="LineNr"> 4897 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/19&quot;</span>)
<span id="L4898" class="LineNr"> 4898 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L4852'>test-convert-index-into-array-of-bytes-using-offset-on-stack</a>/20&quot;</span>)
<span id="L4899" class="LineNr"> 4899 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4900" class="LineNr"> 4900 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4901" class="LineNr"> 4901 </span>    5d/pop-to-ebp
<span id="L4902" class="LineNr"> 4902 </span>    c3/return
<span id="L4903" class="LineNr"> 4903 </span>
<span id="L4904" class="LineNr"> 4904 </span><span class="subxTest">test-convert-function-and-type-definition</span>:
<span id="L4905" class="LineNr"> 4905 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4906" class="LineNr"> 4906 </span>    55/push-ebp
<span id="L4907" class="LineNr"> 4907 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4908" class="LineNr"> 4908 </span>    <span class="subxComment"># setup</span>
<span id="L4909" class="LineNr"> 4909 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4910" class="LineNr"> 4910 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4911" class="LineNr"> 4911 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4912" class="LineNr"> 4912 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4913" class="LineNr"> 4913 </span>    <span class="subxComment">#</span>
<span id="L4914" class="LineNr"> 4914 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: (addr t) {\n&quot;</span>)
<span id="L4915" class="LineNr"> 4915 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var _a/eax: (addr t) &lt;- copy a\n&quot;</span>)
<span id="L4916" class="LineNr"> 4916 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> _a, x\n&quot;</span>)
<span id="L4917" class="LineNr"> 4917 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> _a, y\n&quot;</span>)
<span id="L4918" class="LineNr"> 4918 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4919" class="LineNr"> 4919 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L4920" class="LineNr"> 4920 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L4921" class="LineNr"> 4921 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L4922" class="LineNr"> 4922 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4923" class="LineNr"> 4923 </span>    <span class="subxComment"># convert</span>
<span id="L4924" class="LineNr"> 4924 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L4925" class="LineNr"> 4925 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4926" class="Folded"> 4926 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4932" class="LineNr"> 4932 </span>    <span class="subxComment"># check output</span>
<span id="L4933" class="LineNr"> 4933 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/0&quot;</span>)
<span id="L4934" class="LineNr"> 4934 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-and-type-definition/1&quot;</span>)
<span id="L4935" class="LineNr"> 4935 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/2&quot;</span>)
<span id="L4936" class="LineNr"> 4936 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/3&quot;</span>)
<span id="L4937" class="LineNr"> 4937 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/4&quot;</span>)
<span id="L4938" class="LineNr"> 4938 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/5&quot;</span>)
<span id="L4939" class="LineNr"> 4939 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/6&quot;</span>)
<span id="L4940" class="LineNr"> 4940 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/7&quot;</span>)
<span id="L4941" class="LineNr"> 4941 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/8&quot;</span>)
<span id="L4942" class="LineNr"> 4942 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + 0x00000000) 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/9&quot;</span>)
<span id="L4943" class="LineNr"> 4943 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + 0x00000004) 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/11&quot;</span>)
<span id="L4944" class="LineNr"> 4944 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/13&quot;</span>)
<span id="L4945" class="LineNr"> 4945 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/14&quot;</span>)
<span id="L4946" class="LineNr"> 4946 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/15&quot;</span>)
<span id="L4947" class="LineNr"> 4947 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/16&quot;</span>)
<span id="L4948" class="LineNr"> 4948 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-and-type-definition/17&quot;</span>)
<span id="L4949" class="LineNr"> 4949 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/18&quot;</span>)
<span id="L4950" class="LineNr"> 4950 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/19&quot;</span>)
<span id="L4951" class="LineNr"> 4951 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L4904'>test-convert-function-and-type-definition</a>/20&quot;</span>)
<span id="L4952" class="LineNr"> 4952 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4953" class="LineNr"> 4953 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L4954" class="LineNr"> 4954 </span>    5d/pop-to-ebp
<span id="L4955" class="LineNr"> 4955 </span>    c3/return
<span id="L4956" class="LineNr"> 4956 </span>
<span id="L4957" class="LineNr"> 4957 </span><span class="subxTest">test-type-definition-with-array</span>:
<span id="L4958" class="LineNr"> 4958 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L4959" class="LineNr"> 4959 </span>    55/push-ebp
<span id="L4960" class="LineNr"> 4960 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L4961" class="LineNr"> 4961 </span>    <span class="subxComment"># setup</span>
<span id="L4962" class="LineNr"> 4962 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L4963" class="LineNr"> 4963 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L4964" class="LineNr"> 4964 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L4965" class="LineNr"> 4965 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L4966" class="LineNr"> 4966 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L4967" class="LineNr"> 4967 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L4968" class="LineNr"> 4968 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L4969" class="LineNr"> 4969 </span>    68/push 0/imm32
<span id="L4970" class="LineNr"> 4970 </span>    68/push 0/imm32
<span id="L4971" class="LineNr"> 4971 </span>    89/&lt;- %edx 4/r32/esp
<span id="L4972" class="LineNr"> 4972 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L4973" class="LineNr"> 4973 </span>    <span class="subxComment">#</span>
<span id="L4974" class="LineNr"> 4974 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L4975" class="LineNr"> 4975 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: (array int 3)\n&quot;</span>)
<span id="L4976" class="LineNr"> 4976 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L4977" class="LineNr"> 4977 </span>    <span class="subxComment"># convert</span>
<span id="L4978" class="LineNr"> 4978 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L4979" class="LineNr"> 4979 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L4980" class="LineNr"> 4980 </span>    <span class="subxComment"># restore ed</span>
<span id="L4981" class="LineNr"> 4981 </span>    89/&lt;- %edx 4/r32/esp
<span id="L4982" class="LineNr"> 4982 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L4983" class="LineNr"> 4983 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L4984" class="Folded"> 4984 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L4990" class="LineNr"> 4990 </span>    <span class="subxComment"># check output</span>
<span id="L4991" class="LineNr"> 4991 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4957'>test-type-definition-with-array</a>: output should be empty&quot;</span>)
<span id="L4992" class="LineNr"> 4992 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;type t: 'array' elements not allowed for now&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L4957'>test-type-definition-with-array</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L4993" class="LineNr"> 4993 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L4994" class="LineNr"> 4994 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L4957'>test-type-definition-with-array</a>: exit status&quot;</span>)
<span id="L4995" class="LineNr"> 4995 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L4996" class="LineNr"> 4996 </span>    81 0/subop/add %esp 8/imm32
<span id="L4997" class="LineNr"> 4997 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L4998" class="LineNr"> 4998 </span>    5d/pop-to-ebp
<span id="L4999" class="LineNr"> 4999 </span>    c3/return
<span id="L5000" class="LineNr"> 5000 </span>
<span id="L5001" class="LineNr"> 5001 </span><span class="subxTest">test-type-definition-with-addr</span>:
<span id="L5002" class="LineNr"> 5002 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5003" class="LineNr"> 5003 </span>    55/push-ebp
<span id="L5004" class="LineNr"> 5004 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5005" class="LineNr"> 5005 </span>    <span class="subxComment"># setup</span>
<span id="L5006" class="LineNr"> 5006 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5007" class="LineNr"> 5007 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5008" class="LineNr"> 5008 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5009" class="LineNr"> 5009 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5010" class="LineNr"> 5010 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5011" class="LineNr"> 5011 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5012" class="LineNr"> 5012 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5013" class="LineNr"> 5013 </span>    68/push 0/imm32
<span id="L5014" class="LineNr"> 5014 </span>    68/push 0/imm32
<span id="L5015" class="LineNr"> 5015 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5016" class="LineNr"> 5016 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5017" class="LineNr"> 5017 </span>    <span class="subxComment">#</span>
<span id="L5018" class="LineNr"> 5018 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5019" class="LineNr"> 5019 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  a: (addr int)\n&quot;</span>)
<span id="L5020" class="LineNr"> 5020 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5021" class="LineNr"> 5021 </span>    <span class="subxComment"># convert</span>
<span id="L5022" class="LineNr"> 5022 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5023" class="LineNr"> 5023 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5024" class="LineNr"> 5024 </span>    <span class="subxComment"># restore ed</span>
<span id="L5025" class="LineNr"> 5025 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5026" class="LineNr"> 5026 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5027" class="LineNr"> 5027 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5028" class="Folded"> 5028 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5034" class="LineNr"> 5034 </span>    <span class="subxComment"># check output</span>
<span id="L5035" class="LineNr"> 5035 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5001'>test-type-definition-with-addr</a>: output should be empty&quot;</span>)
<span id="L5036" class="LineNr"> 5036 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;type t: 'addr' elements not allowed&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5001'>test-type-definition-with-addr</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5037" class="LineNr"> 5037 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5038" class="LineNr"> 5038 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5001'>test-type-definition-with-addr</a>: exit status&quot;</span>)
<span id="L5039" class="LineNr"> 5039 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5040" class="LineNr"> 5040 </span>    81 0/subop/add %esp 8/imm32
<span id="L5041" class="LineNr"> 5041 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5042" class="LineNr"> 5042 </span>    5d/pop-to-ebp
<span id="L5043" class="LineNr"> 5043 </span>    c3/return
<span id="L5044" class="LineNr"> 5044 </span>
<span id="L5045" class="LineNr"> 5045 </span><span class="subxTest">test-convert-function-with-local-var-with-user-defined-type</span>:
<span id="L5046" class="LineNr"> 5046 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5047" class="LineNr"> 5047 </span>    55/push-ebp
<span id="L5048" class="LineNr"> 5048 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5049" class="LineNr"> 5049 </span>    <span class="subxComment"># setup</span>
<span id="L5050" class="LineNr"> 5050 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5051" class="LineNr"> 5051 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5052" class="LineNr"> 5052 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5053" class="LineNr"> 5053 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5054" class="LineNr"> 5054 </span>    <span class="subxComment">#</span>
<span id="L5055" class="LineNr"> 5055 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5056" class="LineNr"> 5056 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5057" class="LineNr"> 5057 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5058" class="LineNr"> 5058 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5059" class="LineNr"> 5059 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5060" class="LineNr"> 5060 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5061" class="LineNr"> 5061 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5062" class="LineNr"> 5062 </span>    <span class="subxComment"># convert</span>
<span id="L5063" class="LineNr"> 5063 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5064" class="LineNr"> 5064 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5065" class="Folded"> 5065 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5071" class="LineNr"> 5071 </span>    <span class="subxComment"># check output</span>
<span id="L5072" class="LineNr"> 5072 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/0&quot;</span>)
<span id="L5073" class="LineNr"> 5073 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-with-user-defined-type/1&quot;</span>)
<span id="L5074" class="LineNr"> 5074 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/2&quot;</span>)
<span id="L5075" class="LineNr"> 5075 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/3&quot;</span>)
<span id="L5076" class="LineNr"> 5076 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/4&quot;</span>)
<span id="L5077" class="LineNr"> 5077 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/5&quot;</span>)
<span id="L5078" class="LineNr"> 5078 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/6&quot;</span>)
<span id="L5079" class="LineNr"> 5079 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/7&quot;</span>)
<span id="L5080" class="LineNr"> 5080 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000008/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/8&quot;</span>)
<span id="L5081" class="LineNr"> 5081 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/9&quot;</span>)
<span id="L5082" class="LineNr"> 5082 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/10&quot;</span>)
<span id="L5083" class="LineNr"> 5083 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-with-user-defined-type/11&quot;</span>)
<span id="L5084" class="LineNr"> 5084 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/12&quot;</span>)
<span id="L5085" class="LineNr"> 5085 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/13&quot;</span>)
<span id="L5086" class="LineNr"> 5086 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5045'>test-convert-function-with-local-var-with-user-defined-type</a>/14&quot;</span>)
<span id="L5087" class="LineNr"> 5087 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5088" class="LineNr"> 5088 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5089" class="LineNr"> 5089 </span>    5d/pop-to-ebp
<span id="L5090" class="LineNr"> 5090 </span>    c3/return
<span id="L5091" class="LineNr"> 5091 </span>
<span id="L5092" class="LineNr"> 5092 </span><span class="subxTest">test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</span>:
<span id="L5093" class="LineNr"> 5093 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5094" class="LineNr"> 5094 </span>    55/push-ebp
<span id="L5095" class="LineNr"> 5095 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5096" class="LineNr"> 5096 </span>    <span class="subxComment"># setup</span>
<span id="L5097" class="LineNr"> 5097 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5098" class="LineNr"> 5098 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5099" class="LineNr"> 5099 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5100" class="LineNr"> 5100 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5101" class="LineNr"> 5101 </span>    <span class="subxComment">#</span>
<span id="L5102" class="LineNr"> 5102 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5103" class="LineNr"> 5103 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5104" class="LineNr"> 5104 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5105" class="LineNr"> 5105 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5106" class="LineNr"> 5106 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: s\n&quot;</span>)
<span id="L5107" class="LineNr"> 5107 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5108" class="LineNr"> 5108 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type s {\n&quot;</span>)
<span id="L5109" class="LineNr"> 5109 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  z: int\n&quot;</span>)
<span id="L5110" class="LineNr"> 5110 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5111" class="LineNr"> 5111 </span>    <span class="subxComment"># convert</span>
<span id="L5112" class="LineNr"> 5112 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5113" class="LineNr"> 5113 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5114" class="Folded"> 5114 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5120" class="LineNr"> 5120 </span>    <span class="subxComment"># check output</span>
<span id="L5121" class="LineNr"> 5121 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/0&quot;</span>)
<span id="L5122" class="LineNr"> 5122 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type/1&quot;</span>)
<span id="L5123" class="LineNr"> 5123 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/2&quot;</span>)
<span id="L5124" class="LineNr"> 5124 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/3&quot;</span>)
<span id="L5125" class="LineNr"> 5125 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/4&quot;</span>)
<span id="L5126" class="LineNr"> 5126 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/5&quot;</span>)
<span id="L5127" class="LineNr"> 5127 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/7&quot;</span>)
<span id="L5128" class="LineNr"> 5128 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000004/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/8&quot;</span>)
<span id="L5129" class="LineNr"> 5129 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/9&quot;</span>)
<span id="L5130" class="LineNr"> 5130 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/10&quot;</span>)
<span id="L5131" class="LineNr"> 5131 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type/11&quot;</span>)
<span id="L5132" class="LineNr"> 5132 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/12&quot;</span>)
<span id="L5133" class="LineNr"> 5133 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/13&quot;</span>)
<span id="L5134" class="LineNr"> 5134 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5092'>test-convert-function-with-local-var-with-user-defined-type-containing-user-defined-type</a>/14&quot;</span>)
<span id="L5135" class="LineNr"> 5135 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5136" class="LineNr"> 5136 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5137" class="LineNr"> 5137 </span>    5d/pop-to-ebp
<span id="L5138" class="LineNr"> 5138 </span>    c3/return
<span id="L5139" class="LineNr"> 5139 </span>
<span id="L5140" class="LineNr"> 5140 </span><span class="subxTest">test-convert-function-call-with-arg-of-user-defined-type</span>:
<span id="L5141" class="LineNr"> 5141 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5142" class="LineNr"> 5142 </span>    55/push-ebp
<span id="L5143" class="LineNr"> 5143 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5144" class="LineNr"> 5144 </span>    <span class="subxComment"># setup</span>
<span id="L5145" class="LineNr"> 5145 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5146" class="LineNr"> 5146 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5147" class="LineNr"> 5147 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5148" class="LineNr"> 5148 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5149" class="LineNr"> 5149 </span>    <span class="subxComment">#</span>
<span id="L5150" class="LineNr"> 5150 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L5151" class="LineNr"> 5151 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5152" class="LineNr"> 5152 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  foo a\n&quot;</span>)
<span id="L5153" class="LineNr"> 5153 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5154" class="LineNr"> 5154 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: t {\n&quot;</span>)
<span id="L5155" class="LineNr"> 5155 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5156" class="LineNr"> 5156 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5157" class="LineNr"> 5157 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5158" class="LineNr"> 5158 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5159" class="LineNr"> 5159 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5160" class="LineNr"> 5160 </span>    <span class="subxComment"># convert</span>
<span id="L5161" class="LineNr"> 5161 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5162" class="LineNr"> 5162 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5163" class="Folded"> 5163 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5169" class="LineNr"> 5169 </span>    <span class="subxComment"># check output</span>
<span id="L5170" class="LineNr"> 5170 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;f:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/0&quot;</span>)
<span id="L5171" class="LineNr"> 5171 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/1&quot;</span>)
<span id="L5172" class="LineNr"> 5172 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/2&quot;</span>)
<span id="L5173" class="LineNr"> 5173 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/3&quot;</span>)
<span id="L5174" class="LineNr"> 5174 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/4&quot;</span>)
<span id="L5175" class="LineNr"> 5175 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:loop:&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/5&quot;</span>)
<span id="L5176" class="LineNr"> 5176 </span>    <span class="subxComment"># var a: t</span>
<span id="L5177" class="LineNr"> 5177 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/6&quot;</span>)
<span id="L5178" class="LineNr"> 5178 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/7&quot;</span>)
<span id="L5179" class="LineNr"> 5179 </span>    <span class="subxComment"># foo a</span>
<span id="L5180" class="LineNr"> 5180 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (foo *(ebp+0xfffffff8) *(ebp+0xfffffffc))&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/8&quot;</span>)
<span id="L5181" class="LineNr"> 5181 </span>    <span class="subxComment">#</span>
<span id="L5182" class="LineNr"> 5182 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000008/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/9&quot;</span>)
<span id="L5183" class="LineNr"> 5183 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/10&quot;</span>)
<span id="L5184" class="LineNr"> 5184 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:break:&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/11&quot;</span>)
<span id="L5185" class="LineNr"> 5185 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/12&quot;</span>)
<span id="L5186" class="LineNr"> 5186 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/13&quot;</span>)
<span id="L5187" class="LineNr"> 5187 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/14&quot;</span>)
<span id="L5188" class="LineNr"> 5188 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/15&quot;</span>)
<span id="L5189" class="LineNr"> 5189 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/16&quot;</span>)
<span id="L5190" class="LineNr"> 5190 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/17&quot;</span>)
<span id="L5191" class="LineNr"> 5191 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/18&quot;</span>)
<span id="L5192" class="LineNr"> 5192 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/19&quot;</span>)
<span id="L5193" class="LineNr"> 5193 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/20&quot;</span>)
<span id="L5194" class="LineNr"> 5194 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/21&quot;</span>)
<span id="L5195" class="LineNr"> 5195 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/22&quot;</span>)
<span id="L5196" class="LineNr"> 5196 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/23&quot;</span>)
<span id="L5197" class="LineNr"> 5197 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5198" class="LineNr"> 5198 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5199" class="LineNr"> 5199 </span>    5d/pop-to-ebp
<span id="L5200" class="LineNr"> 5200 </span>    c3/return
<span id="L5201" class="LineNr"> 5201 </span>
<span id="L5202" class="LineNr"> 5202 </span><span class="subxTest">test-convert-function-call-with-arg-of-user-defined-type-register-indirect</span>:
<span id="L5203" class="LineNr"> 5203 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5204" class="LineNr"> 5204 </span>    55/push-ebp
<span id="L5205" class="LineNr"> 5205 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5206" class="LineNr"> 5206 </span>    <span class="subxComment"># setup</span>
<span id="L5207" class="LineNr"> 5207 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5208" class="LineNr"> 5208 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5209" class="LineNr"> 5209 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5210" class="LineNr"> 5210 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5211" class="LineNr"> 5211 </span>    <span class="subxComment">#</span>
<span id="L5212" class="LineNr"> 5212 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L5213" class="LineNr"> 5213 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (addr t) &lt;- copy 0\n&quot;</span>)
<span id="L5214" class="LineNr"> 5214 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  foo *a\n&quot;</span>)
<span id="L5215" class="LineNr"> 5215 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5216" class="LineNr"> 5216 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: t {\n&quot;</span>)
<span id="L5217" class="LineNr"> 5217 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5218" class="LineNr"> 5218 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5219" class="LineNr"> 5219 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5220" class="LineNr"> 5220 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5221" class="LineNr"> 5221 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5222" class="LineNr"> 5222 </span>    <span class="subxComment"># convert</span>
<span id="L5223" class="LineNr"> 5223 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5224" class="LineNr"> 5224 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5225" class="Folded"> 5225 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5231" class="LineNr"> 5231 </span>    <span class="subxComment"># check output</span>
<span id="L5232" class="LineNr"> 5232 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;f:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/0&quot;</span>)
<span id="L5233" class="LineNr"> 5233 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/1&quot;</span>)
<span id="L5234" class="LineNr"> 5234 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/2&quot;</span>)
<span id="L5235" class="LineNr"> 5235 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/3&quot;</span>)
<span id="L5236" class="LineNr"> 5236 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/4&quot;</span>)
<span id="L5237" class="LineNr"> 5237 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:loop:&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/5&quot;</span>)
<span id="L5238" class="LineNr"> 5238 </span>    <span class="subxComment"># var a</span>
<span id="L5239" class="LineNr"> 5239 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/6&quot;</span>)
<span id="L5240" class="LineNr"> 5240 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/7&quot;</span>)
<span id="L5241" class="LineNr"> 5241 </span>    <span class="subxComment"># foo a</span>
<span id="L5242" class="LineNr"> 5242 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (foo *(eax+0x00000000) *(eax+0x00000004))&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/8&quot;</span>)
<span id="L5243" class="LineNr"> 5243 </span>    <span class="subxComment">#</span>
<span id="L5244" class="LineNr"> 5244 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/9&quot;</span>)
<span id="L5245" class="LineNr"> 5245 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/10&quot;</span>)
<span id="L5246" class="LineNr"> 5246 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:break:&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/11&quot;</span>)
<span id="L5247" class="LineNr"> 5247 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/12&quot;</span>)
<span id="L5248" class="LineNr"> 5248 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/13&quot;</span>)
<span id="L5249" class="LineNr"> 5249 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/14&quot;</span>)
<span id="L5250" class="LineNr"> 5250 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/15&quot;</span>)
<span id="L5251" class="LineNr"> 5251 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/16&quot;</span>)
<span id="L5252" class="LineNr"> 5252 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/17&quot;</span>)
<span id="L5253" class="LineNr"> 5253 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/18&quot;</span>)
<span id="L5254" class="LineNr"> 5254 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/19&quot;</span>)
<span id="L5255" class="LineNr"> 5255 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type/20&quot;</span>)
<span id="L5256" class="LineNr"> 5256 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/21&quot;</span>)
<span id="L5257" class="LineNr"> 5257 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/22&quot;</span>)
<span id="L5258" class="LineNr"> 5258 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5140'>test-convert-function-call-with-arg-of-user-defined-type</a>/23&quot;</span>)
<span id="L5259" class="LineNr"> 5259 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5260" class="LineNr"> 5260 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5261" class="LineNr"> 5261 </span>    5d/pop-to-ebp
<span id="L5262" class="LineNr"> 5262 </span>    c3/return
<span id="L5263" class="LineNr"> 5263 </span>
<span id="L5264" class="LineNr"> 5264 </span><span class="subxComment"># we don't have special support for call-by-reference; just explicitly create</span>
<span id="L5265" class="LineNr"> 5265 </span><span class="subxComment"># a new variable with the address of the arg</span>
<span id="L5266" class="LineNr"> 5266 </span><span class="subxTest">test-convert-function-call-with-arg-of-user-defined-type-by-reference</span>:
<span id="L5267" class="LineNr"> 5267 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5268" class="LineNr"> 5268 </span>    55/push-ebp
<span id="L5269" class="LineNr"> 5269 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5270" class="LineNr"> 5270 </span>    <span class="subxComment"># setup</span>
<span id="L5271" class="LineNr"> 5271 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5272" class="LineNr"> 5272 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5273" class="LineNr"> 5273 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5274" class="LineNr"> 5274 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5275" class="LineNr"> 5275 </span>    <span class="subxComment">#</span>
<span id="L5276" class="LineNr"> 5276 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn f {\n&quot;</span>)
<span id="L5277" class="LineNr"> 5277 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5278" class="LineNr"> 5278 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: (addr t) &lt;- address a\n&quot;</span>)
<span id="L5279" class="LineNr"> 5279 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  foo b\n&quot;</span>)
<span id="L5280" class="LineNr"> 5280 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5281" class="LineNr"> 5281 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo x: (addr t) {\n&quot;</span>)
<span id="L5282" class="LineNr"> 5282 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: (addr int) &lt;- copy x\n&quot;</span>)
<span id="L5283" class="LineNr"> 5283 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  increment *x\n&quot;</span>)
<span id="L5284" class="LineNr"> 5284 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5285" class="LineNr"> 5285 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5286" class="LineNr"> 5286 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5287" class="LineNr"> 5287 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5288" class="LineNr"> 5288 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5289" class="LineNr"> 5289 </span>    <span class="subxComment"># convert</span>
<span id="L5290" class="LineNr"> 5290 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5291" class="LineNr"> 5291 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5292" class="Folded"> 5292 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5298" class="LineNr"> 5298 </span>    <span class="subxComment"># check output</span>
<span id="L5299" class="LineNr"> 5299 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;f:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/0&quot;</span>)
<span id="L5300" class="LineNr"> 5300 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type-by-reference/1&quot;</span>)
<span id="L5301" class="LineNr"> 5301 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/2&quot;</span>)
<span id="L5302" class="LineNr"> 5302 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/3&quot;</span>)
<span id="L5303" class="LineNr"> 5303 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/4&quot;</span>)
<span id="L5304" class="LineNr"> 5304 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:loop:&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/5&quot;</span>)
<span id="L5305" class="LineNr"> 5305 </span>    <span class="subxComment"># var a: t</span>
<span id="L5306" class="LineNr"> 5306 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/6&quot;</span>)
<span id="L5307" class="LineNr"> 5307 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/7&quot;</span>)
<span id="L5308" class="LineNr"> 5308 </span>    <span class="subxComment"># var b/eax: (addr t)</span>
<span id="L5309" class="LineNr"> 5309 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/8&quot;</span>)
<span id="L5310" class="LineNr"> 5310 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp+0xfffffff8) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/9&quot;</span>)
<span id="L5311" class="LineNr"> 5311 </span>    <span class="subxComment"># foo a</span>
<span id="L5312" class="LineNr"> 5312 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    (foo %eax)&quot;</span>          <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/10&quot;</span>)
<span id="L5313" class="LineNr"> 5313 </span>    <span class="subxComment">#</span>
<span id="L5314" class="LineNr"> 5314 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/11&quot;</span>)
<span id="L5315" class="LineNr"> 5315 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000008/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/12&quot;</span>)
<span id="L5316" class="LineNr"> 5316 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/13&quot;</span>)
<span id="L5317" class="LineNr"> 5317 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$f:0x00000001:break:&quot;</span>    <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/14&quot;</span>)
<span id="L5318" class="LineNr"> 5318 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type-by-reference/15&quot;</span>)
<span id="L5319" class="LineNr"> 5319 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/16&quot;</span>)
<span id="L5320" class="LineNr"> 5320 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/17&quot;</span>)
<span id="L5321" class="LineNr"> 5321 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/18&quot;</span>)
<span id="L5322" class="LineNr"> 5322 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/19&quot;</span>)
<span id="L5323" class="LineNr"> 5323 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type-by-reference/20&quot;</span>)
<span id="L5324" class="LineNr"> 5324 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/21&quot;</span>)
<span id="L5325" class="LineNr"> 5325 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/22&quot;</span>)
<span id="L5326" class="LineNr"> 5326 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/23&quot;</span>)
<span id="L5327" class="LineNr"> 5327 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/24&quot;</span>)
<span id="L5328" class="LineNr"> 5328 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/25&quot;</span>)
<span id="L5329" class="LineNr"> 5329 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *(ebp+0x00000008) 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/26&quot;</span>)
<span id="L5330" class="LineNr"> 5330 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 0/subop/increment *ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/27&quot;</span>)
<span id="L5331" class="LineNr"> 5331 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/28&quot;</span>)
<span id="L5332" class="LineNr"> 5332 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/29&quot;</span>)
<span id="L5333" class="LineNr"> 5333 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000002:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/30&quot;</span>)
<span id="L5334" class="LineNr"> 5334 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-function-call-with-arg-of-user-defined-type-by-reference/31&quot;</span>)
<span id="L5335" class="LineNr"> 5335 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/32&quot;</span>)
<span id="L5336" class="LineNr"> 5336 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/33&quot;</span>)
<span id="L5337" class="LineNr"> 5337 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5266'>test-convert-function-call-with-arg-of-user-defined-type-by-reference</a>/34&quot;</span>)
<span id="L5338" class="LineNr"> 5338 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5339" class="LineNr"> 5339 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5340" class="LineNr"> 5340 </span>    5d/pop-to-ebp
<span id="L5341" class="LineNr"> 5341 </span>    c3/return
<span id="L5342" class="LineNr"> 5342 </span>
<span id="L5343" class="LineNr"> 5343 </span><span class="subxTest">test-convert-get-on-local-variable</span>:
<span id="L5344" class="LineNr"> 5344 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5345" class="LineNr"> 5345 </span>    55/push-ebp
<span id="L5346" class="LineNr"> 5346 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5347" class="LineNr"> 5347 </span>    <span class="subxComment"># setup</span>
<span id="L5348" class="LineNr"> 5348 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5349" class="LineNr"> 5349 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5350" class="LineNr"> 5350 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5351" class="LineNr"> 5351 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5352" class="LineNr"> 5352 </span>    <span class="subxComment">#</span>
<span id="L5353" class="LineNr"> 5353 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5354" class="LineNr"> 5354 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5355" class="LineNr"> 5355 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, y\n&quot;</span>)
<span id="L5356" class="LineNr"> 5356 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5357" class="LineNr"> 5357 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5358" class="LineNr"> 5358 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5359" class="LineNr"> 5359 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5360" class="LineNr"> 5360 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5361" class="LineNr"> 5361 </span>    <span class="subxComment"># convert</span>
<span id="L5362" class="LineNr"> 5362 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5363" class="LineNr"> 5363 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5364" class="Folded"> 5364 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5370" class="LineNr"> 5370 </span>    <span class="subxComment"># check output</span>
<span id="L5371" class="LineNr"> 5371 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/0&quot;</span>)
<span id="L5372" class="LineNr"> 5372 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-get-on-local-variable/1&quot;</span>)
<span id="L5373" class="LineNr"> 5373 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/2&quot;</span>)
<span id="L5374" class="LineNr"> 5374 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/3&quot;</span>)
<span id="L5375" class="LineNr"> 5375 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/4&quot;</span>)
<span id="L5376" class="LineNr"> 5376 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/5&quot;</span>)
<span id="L5377" class="LineNr"> 5377 </span>    <span class="subxComment"># var a</span>
<span id="L5378" class="LineNr"> 5378 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/6&quot;</span>)
<span id="L5379" class="LineNr"> 5379 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    68/push 0/imm32&quot;</span>     <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/7&quot;</span>)
<span id="L5380" class="LineNr"> 5380 </span>    <span class="subxComment"># var c</span>
<span id="L5381" class="LineNr"> 5381 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/8&quot;</span>)
<span id="L5382" class="LineNr"> 5382 </span>    <span class="subxComment"># get</span>
<span id="L5383" class="LineNr"> 5383 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp+0xfffffffc) 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/9&quot;</span>)
<span id="L5384" class="LineNr"> 5384 </span>    <span class="subxComment"># reclaim c</span>
<span id="L5385" class="LineNr"> 5385 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/10&quot;</span>)
<span id="L5386" class="LineNr"> 5386 </span>    <span class="subxComment"># reclaim a</span>
<span id="L5387" class="LineNr"> 5387 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    81 0/subop/add %esp 0x00000008/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/11&quot;</span>)
<span id="L5388" class="LineNr"> 5388 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/12&quot;</span>)
<span id="L5389" class="LineNr"> 5389 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/13&quot;</span>)
<span id="L5390" class="LineNr"> 5390 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-get-on-local-variable/14&quot;</span>)
<span id="L5391" class="LineNr"> 5391 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/15&quot;</span>)
<span id="L5392" class="LineNr"> 5392 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/16&quot;</span>)
<span id="L5393" class="LineNr"> 5393 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5343'>test-convert-get-on-local-variable</a>/17&quot;</span>)
<span id="L5394" class="LineNr"> 5394 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5395" class="LineNr"> 5395 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5396" class="LineNr"> 5396 </span>    5d/pop-to-ebp
<span id="L5397" class="LineNr"> 5397 </span>    c3/return
<span id="L5398" class="LineNr"> 5398 </span>
<span id="L5399" class="LineNr"> 5399 </span><span class="subxTest">test-convert-get-on-function-argument</span>:
<span id="L5400" class="LineNr"> 5400 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5401" class="LineNr"> 5401 </span>    55/push-ebp
<span id="L5402" class="LineNr"> 5402 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5403" class="LineNr"> 5403 </span>    <span class="subxComment"># setup</span>
<span id="L5404" class="LineNr"> 5404 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5405" class="LineNr"> 5405 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5406" class="LineNr"> 5406 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5407" class="LineNr"> 5407 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5408" class="LineNr"> 5408 </span>    <span class="subxComment">#</span>
<span id="L5409" class="LineNr"> 5409 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: t {\n&quot;</span>)
<span id="L5410" class="LineNr"> 5410 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, y\n&quot;</span>)
<span id="L5411" class="LineNr"> 5411 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5412" class="LineNr"> 5412 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5413" class="LineNr"> 5413 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5414" class="LineNr"> 5414 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5415" class="LineNr"> 5415 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5416" class="LineNr"> 5416 </span>    <span class="subxComment"># convert</span>
<span id="L5417" class="LineNr"> 5417 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5418" class="LineNr"> 5418 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5419" class="Folded"> 5419 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5425" class="LineNr"> 5425 </span>    <span class="subxComment"># check output</span>
<span id="L5426" class="LineNr"> 5426 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/0&quot;</span>)
<span id="L5427" class="LineNr"> 5427 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-get-on-function-argument/1&quot;</span>)
<span id="L5428" class="LineNr"> 5428 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/2&quot;</span>)
<span id="L5429" class="LineNr"> 5429 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/3&quot;</span>)
<span id="L5430" class="LineNr"> 5430 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/4&quot;</span>)
<span id="L5431" class="LineNr"> 5431 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/5&quot;</span>)
<span id="L5432" class="LineNr"> 5432 </span>    <span class="subxComment"># var c</span>
<span id="L5433" class="LineNr"> 5433 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/6&quot;</span>)
<span id="L5434" class="LineNr"> 5434 </span>    <span class="subxComment"># get</span>
<span id="L5435" class="LineNr"> 5435 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp+0x0000000c) 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/7&quot;</span>)
<span id="L5436" class="LineNr"> 5436 </span>    <span class="subxComment"># reclaim c</span>
<span id="L5437" class="LineNr"> 5437 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/8&quot;</span>)
<span id="L5438" class="LineNr"> 5438 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/9&quot;</span>)
<span id="L5439" class="LineNr"> 5439 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/10&quot;</span>)
<span id="L5440" class="LineNr"> 5440 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-get-on-function-argument/11&quot;</span>)
<span id="L5441" class="LineNr"> 5441 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/12&quot;</span>)
<span id="L5442" class="LineNr"> 5442 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/13&quot;</span>)
<span id="L5443" class="LineNr"> 5443 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5399'>test-convert-get-on-function-argument</a>/14&quot;</span>)
<span id="L5444" class="LineNr"> 5444 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5445" class="LineNr"> 5445 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5446" class="LineNr"> 5446 </span>    5d/pop-to-ebp
<span id="L5447" class="LineNr"> 5447 </span>    c3/return
<span id="L5448" class="LineNr"> 5448 </span>
<span id="L5449" class="LineNr"> 5449 </span><span class="subxTest">test-convert-get-on-function-argument-with-known-type</span>:
<span id="L5450" class="LineNr"> 5450 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5451" class="LineNr"> 5451 </span>    55/push-ebp
<span id="L5452" class="LineNr"> 5452 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5453" class="LineNr"> 5453 </span>    <span class="subxComment"># setup</span>
<span id="L5454" class="LineNr"> 5454 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5455" class="LineNr"> 5455 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5456" class="LineNr"> 5456 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5457" class="LineNr"> 5457 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5458" class="LineNr"> 5458 </span>    <span class="subxComment">#</span>
<span id="L5459" class="LineNr"> 5459 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5460" class="LineNr"> 5460 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5461" class="LineNr"> 5461 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L5462" class="LineNr"> 5462 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5463" class="LineNr"> 5463 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo a: t {\n&quot;</span>)
<span id="L5464" class="LineNr"> 5464 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, y\n&quot;</span>)
<span id="L5465" class="LineNr"> 5465 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5466" class="LineNr"> 5466 </span>    <span class="subxComment"># convert</span>
<span id="L5467" class="LineNr"> 5467 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5468" class="LineNr"> 5468 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5469" class="Folded"> 5469 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5475" class="LineNr"> 5475 </span>    <span class="subxComment"># check output</span>
<span id="L5476" class="LineNr"> 5476 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/0&quot;</span>)
<span id="L5477" class="LineNr"> 5477 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-get-on-function-argument-with-known-type/1&quot;</span>)
<span id="L5478" class="LineNr"> 5478 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/2&quot;</span>)
<span id="L5479" class="LineNr"> 5479 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/3&quot;</span>)
<span id="L5480" class="LineNr"> 5480 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/4&quot;</span>)
<span id="L5481" class="LineNr"> 5481 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/5&quot;</span>)
<span id="L5482" class="LineNr"> 5482 </span>    <span class="subxComment"># var c</span>
<span id="L5483" class="LineNr"> 5483 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/6&quot;</span>)
<span id="L5484" class="LineNr"> 5484 </span>    <span class="subxComment"># get</span>
<span id="L5485" class="LineNr"> 5485 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(ebp+0x0000000c) 0x00000001/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/7&quot;</span>)
<span id="L5486" class="LineNr"> 5486 </span>    <span class="subxComment"># reclaim c</span>
<span id="L5487" class="LineNr"> 5487 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/8&quot;</span>)
<span id="L5488" class="LineNr"> 5488 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/9&quot;</span>)
<span id="L5489" class="LineNr"> 5489 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/10&quot;</span>)
<span id="L5490" class="LineNr"> 5490 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-get-on-function-argument-with-known-type/11&quot;</span>)
<span id="L5491" class="LineNr"> 5491 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/12&quot;</span>)
<span id="L5492" class="LineNr"> 5492 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/13&quot;</span>)
<span id="L5493" class="LineNr"> 5493 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L5449'>test-convert-get-on-function-argument-with-known-type</a>/14&quot;</span>)
<span id="L5494" class="LineNr"> 5494 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5495" class="LineNr"> 5495 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5496" class="LineNr"> 5496 </span>    5d/pop-to-ebp
<span id="L5497" class="LineNr"> 5497 </span>    c3/return
<span id="L5498" class="LineNr"> 5498 </span>
<span id="L5499" class="LineNr"> 5499 </span><span class="subxTest">test-add-with-too-many-inouts</span>:
<span id="L5500" class="LineNr"> 5500 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5501" class="LineNr"> 5501 </span>    55/push-ebp
<span id="L5502" class="LineNr"> 5502 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5503" class="LineNr"> 5503 </span>    <span class="subxComment"># setup</span>
<span id="L5504" class="LineNr"> 5504 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5505" class="LineNr"> 5505 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5506" class="LineNr"> 5506 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5507" class="LineNr"> 5507 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5508" class="LineNr"> 5508 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5509" class="LineNr"> 5509 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5510" class="LineNr"> 5510 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5511" class="LineNr"> 5511 </span>    68/push 0/imm32
<span id="L5512" class="LineNr"> 5512 </span>    68/push 0/imm32
<span id="L5513" class="LineNr"> 5513 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5514" class="LineNr"> 5514 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5515" class="LineNr"> 5515 </span>    <span class="subxComment">#</span>
<span id="L5516" class="LineNr"> 5516 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5517" class="LineNr"> 5517 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: int\n&quot;</span>)
<span id="L5518" class="LineNr"> 5518 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/ecx: int &lt;- add a, 0\n&quot;</span>)
<span id="L5519" class="LineNr"> 5519 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5520" class="LineNr"> 5520 </span>    <span class="subxComment"># convert</span>
<span id="L5521" class="LineNr"> 5521 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5522" class="LineNr"> 5522 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5523" class="LineNr"> 5523 </span>    <span class="subxComment"># restore ed</span>
<span id="L5524" class="LineNr"> 5524 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5525" class="LineNr"> 5525 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5526" class="LineNr"> 5526 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5527" class="Folded"> 5527 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5533" class="LineNr"> 5533 </span>    <span class="subxComment"># check output</span>
<span id="L5534" class="LineNr"> 5534 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5499'>test-add-with-too-many-inouts</a>: output should be empty&quot;</span>)
<span id="L5535" class="LineNr"> 5535 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt add: too many inouts; most primitives support at most two arguments, across inouts and outputs&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5499'>test-add-with-too-many-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5536" class="LineNr"> 5536 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5537" class="LineNr"> 5537 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5499'>test-add-with-too-many-inouts</a>: exit status&quot;</span>)
<span id="L5538" class="LineNr"> 5538 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5539" class="LineNr"> 5539 </span>    81 0/subop/add %esp 8/imm32
<span id="L5540" class="LineNr"> 5540 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5541" class="LineNr"> 5541 </span>    5d/pop-to-ebp
<span id="L5542" class="LineNr"> 5542 </span>    c3/return
<span id="L5543" class="LineNr"> 5543 </span>
<span id="L5544" class="LineNr"> 5544 </span><span class="subxTest">test-add-with-too-many-inouts-2</span>:
<span id="L5545" class="LineNr"> 5545 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5546" class="LineNr"> 5546 </span>    55/push-ebp
<span id="L5547" class="LineNr"> 5547 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5548" class="LineNr"> 5548 </span>    <span class="subxComment"># setup</span>
<span id="L5549" class="LineNr"> 5549 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5550" class="LineNr"> 5550 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5551" class="LineNr"> 5551 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5552" class="LineNr"> 5552 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5553" class="LineNr"> 5553 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5554" class="LineNr"> 5554 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5555" class="LineNr"> 5555 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5556" class="LineNr"> 5556 </span>    68/push 0/imm32
<span id="L5557" class="LineNr"> 5557 </span>    68/push 0/imm32
<span id="L5558" class="LineNr"> 5558 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5559" class="LineNr"> 5559 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5560" class="LineNr"> 5560 </span>    <span class="subxComment">#</span>
<span id="L5561" class="LineNr"> 5561 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5562" class="LineNr"> 5562 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: int\n&quot;</span>)
<span id="L5563" class="LineNr"> 5563 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  add-to a, 0, 1\n&quot;</span>)
<span id="L5564" class="LineNr"> 5564 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5565" class="LineNr"> 5565 </span>    <span class="subxComment"># convert</span>
<span id="L5566" class="LineNr"> 5566 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5567" class="LineNr"> 5567 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5568" class="LineNr"> 5568 </span>    <span class="subxComment"># restore ed</span>
<span id="L5569" class="LineNr"> 5569 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5570" class="LineNr"> 5570 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5571" class="LineNr"> 5571 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5572" class="Folded"> 5572 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5578" class="LineNr"> 5578 </span>    <span class="subxComment"># check output</span>
<span id="L5579" class="LineNr"> 5579 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5544'>test-add-with-too-many-inouts-2</a>: output should be empty&quot;</span>)
<span id="L5580" class="LineNr"> 5580 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt add-to: too many inouts; most primitives support at most two arguments, across inouts and outputs&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5544'>test-add-with-too-many-inouts-2</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5581" class="LineNr"> 5581 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5582" class="LineNr"> 5582 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5544'>test-add-with-too-many-inouts-2</a>: exit status&quot;</span>)
<span id="L5583" class="LineNr"> 5583 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5584" class="LineNr"> 5584 </span>    81 0/subop/add %esp 8/imm32
<span id="L5585" class="LineNr"> 5585 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5586" class="LineNr"> 5586 </span>    5d/pop-to-ebp
<span id="L5587" class="LineNr"> 5587 </span>    c3/return
<span id="L5588" class="LineNr"> 5588 </span>
<span id="L5589" class="LineNr"> 5589 </span><span class="subxTest">test-add-with-too-many-outputs</span>:
<span id="L5590" class="LineNr"> 5590 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5591" class="LineNr"> 5591 </span>    55/push-ebp
<span id="L5592" class="LineNr"> 5592 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5593" class="LineNr"> 5593 </span>    <span class="subxComment"># setup</span>
<span id="L5594" class="LineNr"> 5594 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5595" class="LineNr"> 5595 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5596" class="LineNr"> 5596 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5597" class="LineNr"> 5597 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5598" class="LineNr"> 5598 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5599" class="LineNr"> 5599 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5600" class="LineNr"> 5600 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5601" class="LineNr"> 5601 </span>    68/push 0/imm32
<span id="L5602" class="LineNr"> 5602 </span>    68/push 0/imm32
<span id="L5603" class="LineNr"> 5603 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5604" class="LineNr"> 5604 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5605" class="LineNr"> 5605 </span>    <span class="subxComment">#</span>
<span id="L5606" class="LineNr"> 5606 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5607" class="LineNr"> 5607 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: int &lt;- copy 0\n&quot;</span>)
<span id="L5608" class="LineNr"> 5608 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/ebx: int &lt;- copy 0\n&quot;</span>)
<span id="L5609" class="LineNr"> 5609 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: int &lt;- copy 0\n&quot;</span>)
<span id="L5610" class="LineNr"> 5610 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  c, b &lt;- add a\n&quot;</span>)
<span id="L5611" class="LineNr"> 5611 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5612" class="LineNr"> 5612 </span>    <span class="subxComment"># convert</span>
<span id="L5613" class="LineNr"> 5613 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5614" class="LineNr"> 5614 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5615" class="LineNr"> 5615 </span>    <span class="subxComment"># restore ed</span>
<span id="L5616" class="LineNr"> 5616 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5617" class="LineNr"> 5617 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5618" class="LineNr"> 5618 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5619" class="Folded"> 5619 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5625" class="LineNr"> 5625 </span>    <span class="subxComment"># check output</span>
<span id="L5626" class="LineNr"> 5626 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5589'>test-add-with-too-many-outputs</a>: output should be empty&quot;</span>)
<span id="L5627" class="LineNr"> 5627 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt add: too many outputs; most primitives support at most one output&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5589'>test-add-with-too-many-outputs</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5628" class="LineNr"> 5628 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5629" class="LineNr"> 5629 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5589'>test-add-with-too-many-outputs</a>: exit status&quot;</span>)
<span id="L5630" class="LineNr"> 5630 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5631" class="LineNr"> 5631 </span>    81 0/subop/add %esp 8/imm32
<span id="L5632" class="LineNr"> 5632 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5633" class="LineNr"> 5633 </span>    5d/pop-to-ebp
<span id="L5634" class="LineNr"> 5634 </span>    c3/return
<span id="L5635" class="LineNr"> 5635 </span>
<span id="L5636" class="LineNr"> 5636 </span><span class="subxTest">test-add-with-non-number</span>:
<span id="L5637" class="LineNr"> 5637 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5638" class="LineNr"> 5638 </span>    55/push-ebp
<span id="L5639" class="LineNr"> 5639 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5640" class="LineNr"> 5640 </span>    <span class="subxComment"># setup</span>
<span id="L5641" class="LineNr"> 5641 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5642" class="LineNr"> 5642 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5643" class="LineNr"> 5643 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5644" class="LineNr"> 5644 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5645" class="LineNr"> 5645 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5646" class="LineNr"> 5646 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5647" class="LineNr"> 5647 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5648" class="LineNr"> 5648 </span>    68/push 0/imm32
<span id="L5649" class="LineNr"> 5649 </span>    68/push 0/imm32
<span id="L5650" class="LineNr"> 5650 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5651" class="LineNr"> 5651 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5652" class="LineNr"> 5652 </span>    <span class="subxComment">#</span>
<span id="L5653" class="LineNr"> 5653 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5654" class="LineNr"> 5654 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: int\n&quot;</span>)
<span id="L5655" class="LineNr"> 5655 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/ecx: (addr int) &lt;- add a\n&quot;</span>)
<span id="L5656" class="LineNr"> 5656 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5657" class="LineNr"> 5657 </span>    <span class="subxComment"># convert</span>
<span id="L5658" class="LineNr"> 5658 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5659" class="LineNr"> 5659 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5660" class="LineNr"> 5660 </span>    <span class="subxComment"># restore ed</span>
<span id="L5661" class="LineNr"> 5661 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5662" class="LineNr"> 5662 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5663" class="LineNr"> 5663 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5664" class="Folded"> 5664 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5670" class="LineNr"> 5670 </span>    <span class="subxComment"># check output</span>
<span id="L5671" class="LineNr"> 5671 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5636'>test-add-with-non-number</a>: output should be empty&quot;</span>)
<span id="L5672" class="LineNr"> 5672 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt add: only non-addr scalar args permitted&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5636'>test-add-with-non-number</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5673" class="LineNr"> 5673 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5674" class="LineNr"> 5674 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5636'>test-add-with-non-number</a>: exit status&quot;</span>)
<span id="L5675" class="LineNr"> 5675 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5676" class="LineNr"> 5676 </span>    81 0/subop/add %esp 8/imm32
<span id="L5677" class="LineNr"> 5677 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5678" class="LineNr"> 5678 </span>    5d/pop-to-ebp
<span id="L5679" class="LineNr"> 5679 </span>    c3/return
<span id="L5680" class="LineNr"> 5680 </span>
<span id="L5681" class="LineNr"> 5681 </span><span class="subxTest">test-add-with-addr-dereferenced</span>:
<span id="L5682" class="LineNr"> 5682 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5683" class="LineNr"> 5683 </span>    55/push-ebp
<span id="L5684" class="LineNr"> 5684 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5685" class="LineNr"> 5685 </span>    <span class="subxComment"># setup</span>
<span id="L5686" class="LineNr"> 5686 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5687" class="LineNr"> 5687 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5688" class="LineNr"> 5688 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5689" class="LineNr"> 5689 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5690" class="LineNr"> 5690 </span>    <span class="subxComment">#</span>
<span id="L5691" class="LineNr"> 5691 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5692" class="LineNr"> 5692 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (addr int) &lt;- copy 0\n&quot;</span>)
<span id="L5693" class="LineNr"> 5693 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  add-to *a, 1\n&quot;</span>)
<span id="L5694" class="LineNr"> 5694 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5695" class="LineNr"> 5695 </span>    <span class="subxComment"># convert</span>
<span id="L5696" class="LineNr"> 5696 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L5697" class="LineNr"> 5697 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5698" class="LineNr"> 5698 </span>    <span class="subxComment"># no error</span>
<span id="L5699" class="LineNr"> 5699 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5700" class="LineNr"> 5700 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L5701" class="LineNr"> 5701 </span>    5d/pop-to-ebp
<span id="L5702" class="LineNr"> 5702 </span>    c3/return
<span id="L5703" class="LineNr"> 5703 </span>
<span id="L5704" class="LineNr"> 5704 </span><span class="subxTest">test-get-with-wrong-field</span>:
<span id="L5705" class="LineNr"> 5705 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5706" class="LineNr"> 5706 </span>    55/push-ebp
<span id="L5707" class="LineNr"> 5707 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5708" class="LineNr"> 5708 </span>    <span class="subxComment"># setup</span>
<span id="L5709" class="LineNr"> 5709 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5710" class="LineNr"> 5710 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5711" class="LineNr"> 5711 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5712" class="LineNr"> 5712 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5713" class="LineNr"> 5713 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5714" class="LineNr"> 5714 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5715" class="LineNr"> 5715 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5716" class="LineNr"> 5716 </span>    68/push 0/imm32
<span id="L5717" class="LineNr"> 5717 </span>    68/push 0/imm32
<span id="L5718" class="LineNr"> 5718 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5719" class="LineNr"> 5719 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5720" class="LineNr"> 5720 </span>    <span class="subxComment">#</span>
<span id="L5721" class="LineNr"> 5721 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5722" class="LineNr"> 5722 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5723" class="LineNr"> 5723 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, y\n&quot;</span>)
<span id="L5724" class="LineNr"> 5724 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5725" class="LineNr"> 5725 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5726" class="LineNr"> 5726 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5727" class="LineNr"> 5727 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5728" class="LineNr"> 5728 </span>    <span class="subxComment"># convert</span>
<span id="L5729" class="LineNr"> 5729 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5730" class="LineNr"> 5730 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5731" class="LineNr"> 5731 </span>    <span class="subxComment"># restore ed</span>
<span id="L5732" class="LineNr"> 5732 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5733" class="LineNr"> 5733 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5734" class="LineNr"> 5734 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5735" class="Folded"> 5735 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5741" class="LineNr"> 5741 </span>    <span class="subxComment"># check output</span>
<span id="L5742" class="LineNr"> 5742 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5704'>test-get-with-wrong-field</a>: output should be empty&quot;</span>)
<span id="L5743" class="LineNr"> 5743 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: type 't' has no member called 'y'&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5704'>test-get-with-wrong-field</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5744" class="LineNr"> 5744 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5745" class="LineNr"> 5745 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5704'>test-get-with-wrong-field</a>: exit status&quot;</span>)
<span id="L5746" class="LineNr"> 5746 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5747" class="LineNr"> 5747 </span>    81 0/subop/add %esp 8/imm32
<span id="L5748" class="LineNr"> 5748 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5749" class="LineNr"> 5749 </span>    5d/pop-to-ebp
<span id="L5750" class="LineNr"> 5750 </span>    c3/return
<span id="L5751" class="LineNr"> 5751 </span>
<span id="L5752" class="LineNr"> 5752 </span><span class="subxTest">test-get-with-wrong-base-type</span>:
<span id="L5753" class="LineNr"> 5753 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5754" class="LineNr"> 5754 </span>    55/push-ebp
<span id="L5755" class="LineNr"> 5755 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5756" class="LineNr"> 5756 </span>    <span class="subxComment"># setup</span>
<span id="L5757" class="LineNr"> 5757 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5758" class="LineNr"> 5758 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5759" class="LineNr"> 5759 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5760" class="LineNr"> 5760 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5761" class="LineNr"> 5761 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5762" class="LineNr"> 5762 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5763" class="LineNr"> 5763 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5764" class="LineNr"> 5764 </span>    68/push 0/imm32
<span id="L5765" class="LineNr"> 5765 </span>    68/push 0/imm32
<span id="L5766" class="LineNr"> 5766 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5767" class="LineNr"> 5767 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5768" class="LineNr"> 5768 </span>    <span class="subxComment">#</span>
<span id="L5769" class="LineNr"> 5769 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5770" class="LineNr"> 5770 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: int\n&quot;</span>)
<span id="L5771" class="LineNr"> 5771 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, y\n&quot;</span>)
<span id="L5772" class="LineNr"> 5772 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5773" class="LineNr"> 5773 </span>    <span class="subxComment"># convert</span>
<span id="L5774" class="LineNr"> 5774 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5775" class="LineNr"> 5775 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5776" class="LineNr"> 5776 </span>    <span class="subxComment"># restore ed</span>
<span id="L5777" class="LineNr"> 5777 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5778" class="LineNr"> 5778 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5779" class="LineNr"> 5779 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5780" class="Folded"> 5780 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5786" class="LineNr"> 5786 </span>    <span class="subxComment"># check output</span>
<span id="L5787" class="LineNr"> 5787 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5752'>test-get-with-wrong-base-type</a>: output should be empty&quot;</span>)
<span id="L5788" class="LineNr"> 5788 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: var 'a' must have a 'type' definition&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5752'>test-get-with-wrong-base-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5789" class="LineNr"> 5789 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5790" class="LineNr"> 5790 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5752'>test-get-with-wrong-base-type</a>: exit status&quot;</span>)
<span id="L5791" class="LineNr"> 5791 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5792" class="LineNr"> 5792 </span>    81 0/subop/add %esp 8/imm32
<span id="L5793" class="LineNr"> 5793 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5794" class="LineNr"> 5794 </span>    5d/pop-to-ebp
<span id="L5795" class="LineNr"> 5795 </span>    c3/return
<span id="L5796" class="LineNr"> 5796 </span>
<span id="L5797" class="LineNr"> 5797 </span><span class="subxTest">test-get-with-wrong-base-type-2</span>:
<span id="L5798" class="LineNr"> 5798 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5799" class="LineNr"> 5799 </span>    55/push-ebp
<span id="L5800" class="LineNr"> 5800 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5801" class="LineNr"> 5801 </span>    <span class="subxComment"># setup</span>
<span id="L5802" class="LineNr"> 5802 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5803" class="LineNr"> 5803 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5804" class="LineNr"> 5804 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5805" class="LineNr"> 5805 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5806" class="LineNr"> 5806 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5807" class="LineNr"> 5807 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5808" class="LineNr"> 5808 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5809" class="LineNr"> 5809 </span>    68/push 0/imm32
<span id="L5810" class="LineNr"> 5810 </span>    68/push 0/imm32
<span id="L5811" class="LineNr"> 5811 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5812" class="LineNr"> 5812 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5813" class="LineNr"> 5813 </span>    <span class="subxComment">#</span>
<span id="L5814" class="LineNr"> 5814 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5815" class="LineNr"> 5815 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (addr t)\n&quot;</span>)
<span id="L5816" class="LineNr"> 5816 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, y\n&quot;</span>)
<span id="L5817" class="LineNr"> 5817 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5818" class="LineNr"> 5818 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5819" class="LineNr"> 5819 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5820" class="LineNr"> 5820 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5821" class="LineNr"> 5821 </span>    <span class="subxComment"># convert</span>
<span id="L5822" class="LineNr"> 5822 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5823" class="LineNr"> 5823 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5824" class="LineNr"> 5824 </span>    <span class="subxComment"># restore ed</span>
<span id="L5825" class="LineNr"> 5825 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5826" class="LineNr"> 5826 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5827" class="LineNr"> 5827 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5828" class="Folded"> 5828 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5834" class="LineNr"> 5834 </span>    <span class="subxComment"># check output</span>
<span id="L5835" class="LineNr"> 5835 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5797'>test-get-with-wrong-base-type-2</a>: output should be empty&quot;</span>)
<span id="L5836" class="LineNr"> 5836 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: var 'a' is an 'addr' type, and so must live in a register&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5797'>test-get-with-wrong-base-type-2</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5837" class="LineNr"> 5837 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5838" class="LineNr"> 5838 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5797'>test-get-with-wrong-base-type-2</a>: exit status&quot;</span>)
<span id="L5839" class="LineNr"> 5839 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5840" class="LineNr"> 5840 </span>    81 0/subop/add %esp 8/imm32
<span id="L5841" class="LineNr"> 5841 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5842" class="LineNr"> 5842 </span>    5d/pop-to-ebp
<span id="L5843" class="LineNr"> 5843 </span>    c3/return
<span id="L5844" class="LineNr"> 5844 </span>
<span id="L5845" class="LineNr"> 5845 </span><span class="subxTest">test-get-with-wrong-offset-type</span>:
<span id="L5846" class="LineNr"> 5846 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5847" class="LineNr"> 5847 </span>    55/push-ebp
<span id="L5848" class="LineNr"> 5848 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5849" class="LineNr"> 5849 </span>    <span class="subxComment"># setup</span>
<span id="L5850" class="LineNr"> 5850 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5851" class="LineNr"> 5851 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5852" class="LineNr"> 5852 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5853" class="LineNr"> 5853 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5854" class="LineNr"> 5854 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5855" class="LineNr"> 5855 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5856" class="LineNr"> 5856 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5857" class="LineNr"> 5857 </span>    68/push 0/imm32
<span id="L5858" class="LineNr"> 5858 </span>    68/push 0/imm32
<span id="L5859" class="LineNr"> 5859 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5860" class="LineNr"> 5860 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5861" class="LineNr"> 5861 </span>    <span class="subxComment">#</span>
<span id="L5862" class="LineNr"> 5862 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5863" class="LineNr"> 5863 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5864" class="LineNr"> 5864 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b: int\n&quot;</span>)
<span id="L5865" class="LineNr"> 5865 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, b\n&quot;</span>)
<span id="L5866" class="LineNr"> 5866 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5867" class="LineNr"> 5867 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5868" class="LineNr"> 5868 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5869" class="LineNr"> 5869 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5870" class="LineNr"> 5870 </span>    <span class="subxComment"># convert</span>
<span id="L5871" class="LineNr"> 5871 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5872" class="LineNr"> 5872 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5873" class="LineNr"> 5873 </span>    <span class="subxComment"># restore ed</span>
<span id="L5874" class="LineNr"> 5874 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5875" class="LineNr"> 5875 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5876" class="LineNr"> 5876 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5877" class="Folded"> 5877 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5883" class="LineNr"> 5883 </span>    <span class="subxComment"># check output</span>
<span id="L5884" class="LineNr"> 5884 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5845'>test-get-with-wrong-offset-type</a>: output should be empty&quot;</span>)
<span id="L5885" class="LineNr"> 5885 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: type 't' has no member called 'b'&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5845'>test-get-with-wrong-offset-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5886" class="LineNr"> 5886 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5887" class="LineNr"> 5887 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5845'>test-get-with-wrong-offset-type</a>: exit status&quot;</span>)
<span id="L5888" class="LineNr"> 5888 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5889" class="LineNr"> 5889 </span>    81 0/subop/add %esp 8/imm32
<span id="L5890" class="LineNr"> 5890 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5891" class="LineNr"> 5891 </span>    5d/pop-to-ebp
<span id="L5892" class="LineNr"> 5892 </span>    c3/return
<span id="L5893" class="LineNr"> 5893 </span>
<span id="L5894" class="LineNr"> 5894 </span><span class="subxTest">test-get-with-wrong-output-type</span>:
<span id="L5895" class="LineNr"> 5895 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5896" class="LineNr"> 5896 </span>    55/push-ebp
<span id="L5897" class="LineNr"> 5897 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5898" class="LineNr"> 5898 </span>    <span class="subxComment"># setup</span>
<span id="L5899" class="LineNr"> 5899 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5900" class="LineNr"> 5900 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5901" class="LineNr"> 5901 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5902" class="LineNr"> 5902 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5903" class="LineNr"> 5903 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5904" class="LineNr"> 5904 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5905" class="LineNr"> 5905 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5906" class="LineNr"> 5906 </span>    68/push 0/imm32
<span id="L5907" class="LineNr"> 5907 </span>    68/push 0/imm32
<span id="L5908" class="LineNr"> 5908 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5909" class="LineNr"> 5909 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5910" class="LineNr"> 5910 </span>    <span class="subxComment">#</span>
<span id="L5911" class="LineNr"> 5911 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5912" class="LineNr"> 5912 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5913" class="LineNr"> 5913 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c: (addr int)\n&quot;</span>)
<span id="L5914" class="LineNr"> 5914 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  c &lt;- <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L5915" class="LineNr"> 5915 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5916" class="LineNr"> 5916 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5917" class="LineNr"> 5917 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5918" class="LineNr"> 5918 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5919" class="LineNr"> 5919 </span>    <span class="subxComment"># convert</span>
<span id="L5920" class="LineNr"> 5920 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5921" class="LineNr"> 5921 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5922" class="LineNr"> 5922 </span>    <span class="subxComment"># restore ed</span>
<span id="L5923" class="LineNr"> 5923 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5924" class="LineNr"> 5924 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5925" class="LineNr"> 5925 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5926" class="Folded"> 5926 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5932" class="LineNr"> 5932 </span>    <span class="subxComment"># check output</span>
<span id="L5933" class="LineNr"> 5933 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5894'>test-get-with-wrong-output-type</a>: output should be empty&quot;</span>)
<span id="L5934" class="LineNr"> 5934 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: output 'c' is not in a register&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5894'>test-get-with-wrong-output-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5935" class="LineNr"> 5935 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5936" class="LineNr"> 5936 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5894'>test-get-with-wrong-output-type</a>: exit status&quot;</span>)
<span id="L5937" class="LineNr"> 5937 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5938" class="LineNr"> 5938 </span>    81 0/subop/add %esp 8/imm32
<span id="L5939" class="LineNr"> 5939 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5940" class="LineNr"> 5940 </span>    5d/pop-to-ebp
<span id="L5941" class="LineNr"> 5941 </span>    c3/return
<span id="L5942" class="LineNr"> 5942 </span>
<span id="L5943" class="LineNr"> 5943 </span><span class="subxTest">test-get-with-wrong-output-type-2</span>:
<span id="L5944" class="LineNr"> 5944 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5945" class="LineNr"> 5945 </span>    55/push-ebp
<span id="L5946" class="LineNr"> 5946 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5947" class="LineNr"> 5947 </span>    <span class="subxComment"># setup</span>
<span id="L5948" class="LineNr"> 5948 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5949" class="LineNr"> 5949 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5950" class="LineNr"> 5950 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5951" class="LineNr"> 5951 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L5952" class="LineNr"> 5952 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L5953" class="LineNr"> 5953 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L5954" class="LineNr"> 5954 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L5955" class="LineNr"> 5955 </span>    68/push 0/imm32
<span id="L5956" class="LineNr"> 5956 </span>    68/push 0/imm32
<span id="L5957" class="LineNr"> 5957 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5958" class="LineNr"> 5958 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L5959" class="LineNr"> 5959 </span>    <span class="subxComment">#</span>
<span id="L5960" class="LineNr"> 5960 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L5961" class="LineNr"> 5961 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L5962" class="LineNr"> 5962 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: int &lt;- <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L5963" class="LineNr"> 5963 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5964" class="LineNr"> 5964 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L5965" class="LineNr"> 5965 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L5966" class="LineNr"> 5966 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L5967" class="LineNr"> 5967 </span>    <span class="subxComment"># convert</span>
<span id="L5968" class="LineNr"> 5968 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L5969" class="LineNr"> 5969 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L5970" class="LineNr"> 5970 </span>    <span class="subxComment"># restore ed</span>
<span id="L5971" class="LineNr"> 5971 </span>    89/&lt;- %edx 4/r32/esp
<span id="L5972" class="LineNr"> 5972 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L5973" class="LineNr"> 5973 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L5974" class="Folded"> 5974 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L5980" class="LineNr"> 5980 </span>    <span class="subxComment"># check output</span>
<span id="L5981" class="LineNr"> 5981 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5943'>test-get-with-wrong-output-type-2</a>: output should be empty&quot;</span>)
<span id="L5982" class="LineNr"> 5982 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: output must be an address&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5943'>test-get-with-wrong-output-type-2</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L5983" class="LineNr"> 5983 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L5984" class="LineNr"> 5984 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5943'>test-get-with-wrong-output-type-2</a>: exit status&quot;</span>)
<span id="L5985" class="LineNr"> 5985 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L5986" class="LineNr"> 5986 </span>    81 0/subop/add %esp 8/imm32
<span id="L5987" class="LineNr"> 5987 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L5988" class="LineNr"> 5988 </span>    5d/pop-to-ebp
<span id="L5989" class="LineNr"> 5989 </span>    c3/return
<span id="L5990" class="LineNr"> 5990 </span>
<span id="L5991" class="LineNr"> 5991 </span><span class="subxTest">test-get-with-wrong-output-type-3</span>:
<span id="L5992" class="LineNr"> 5992 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L5993" class="LineNr"> 5993 </span>    55/push-ebp
<span id="L5994" class="LineNr"> 5994 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L5995" class="LineNr"> 5995 </span>    <span class="subxComment"># setup</span>
<span id="L5996" class="LineNr"> 5996 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L5997" class="LineNr"> 5997 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L5998" class="LineNr"> 5998 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L5999" class="LineNr"> 5999 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6000" class="LineNr"> 6000 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6001" class="LineNr"> 6001 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6002" class="LineNr"> 6002 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6003" class="LineNr"> 6003 </span>    68/push 0/imm32
<span id="L6004" class="LineNr"> 6004 </span>    68/push 0/imm32
<span id="L6005" class="LineNr"> 6005 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6006" class="LineNr"> 6006 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6007" class="LineNr"> 6007 </span>    <span class="subxComment">#</span>
<span id="L6008" class="LineNr"> 6008 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6009" class="LineNr"> 6009 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6010" class="LineNr"> 6010 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (array int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L6011" class="LineNr"> 6011 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6012" class="LineNr"> 6012 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6013" class="LineNr"> 6013 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6014" class="LineNr"> 6014 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6015" class="LineNr"> 6015 </span>    <span class="subxComment"># convert</span>
<span id="L6016" class="LineNr"> 6016 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6017" class="LineNr"> 6017 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6018" class="LineNr"> 6018 </span>    <span class="subxComment"># restore ed</span>
<span id="L6019" class="LineNr"> 6019 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6020" class="LineNr"> 6020 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6021" class="LineNr"> 6021 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6022" class="Folded"> 6022 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6028" class="LineNr"> 6028 </span>    <span class="subxComment"># check output</span>
<span id="L6029" class="LineNr"> 6029 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5991'>test-get-with-wrong-output-type-3</a>: output should be empty&quot;</span>)
<span id="L6030" class="LineNr"> 6030 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: output must be an address&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L5991'>test-get-with-wrong-output-type-3</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6031" class="LineNr"> 6031 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6032" class="LineNr"> 6032 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L5991'>test-get-with-wrong-output-type-3</a>: exit status&quot;</span>)
<span id="L6033" class="LineNr"> 6033 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6034" class="LineNr"> 6034 </span>    81 0/subop/add %esp 8/imm32
<span id="L6035" class="LineNr"> 6035 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6036" class="LineNr"> 6036 </span>    5d/pop-to-ebp
<span id="L6037" class="LineNr"> 6037 </span>    c3/return
<span id="L6038" class="LineNr"> 6038 </span>
<span id="L6039" class="LineNr"> 6039 </span><span class="subxTest">test-get-with-wrong-output-type-4</span>:
<span id="L6040" class="LineNr"> 6040 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6041" class="LineNr"> 6041 </span>    55/push-ebp
<span id="L6042" class="LineNr"> 6042 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6043" class="LineNr"> 6043 </span>    <span class="subxComment"># setup</span>
<span id="L6044" class="LineNr"> 6044 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6045" class="LineNr"> 6045 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6046" class="LineNr"> 6046 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6047" class="LineNr"> 6047 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6048" class="LineNr"> 6048 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6049" class="LineNr"> 6049 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6050" class="LineNr"> 6050 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6051" class="LineNr"> 6051 </span>    68/push 0/imm32
<span id="L6052" class="LineNr"> 6052 </span>    68/push 0/imm32
<span id="L6053" class="LineNr"> 6053 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6054" class="LineNr"> 6054 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6055" class="LineNr"> 6055 </span>    <span class="subxComment">#</span>
<span id="L6056" class="LineNr"> 6056 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6057" class="LineNr"> 6057 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6058" class="LineNr"> 6058 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr boolean) &lt;- <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L6059" class="LineNr"> 6059 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6060" class="LineNr"> 6060 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6061" class="LineNr"> 6061 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6062" class="LineNr"> 6062 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6063" class="LineNr"> 6063 </span>    <span class="subxComment"># convert</span>
<span id="L6064" class="LineNr"> 6064 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6065" class="LineNr"> 6065 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6066" class="LineNr"> 6066 </span>    <span class="subxComment"># restore ed</span>
<span id="L6067" class="LineNr"> 6067 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6068" class="LineNr"> 6068 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6069" class="LineNr"> 6069 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6070" class="Folded"> 6070 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6076" class="LineNr"> 6076 </span>    <span class="subxComment"># check output</span>
<span id="L6077" class="LineNr"> 6077 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6039'>test-get-with-wrong-output-type-4</a>: output should be empty&quot;</span>)
<span id="L6078" class="LineNr"> 6078 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: wrong output type for member 'x' of type 't'&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6039'>test-get-with-wrong-output-type-4</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6079" class="LineNr"> 6079 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6080" class="LineNr"> 6080 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6039'>test-get-with-wrong-output-type-4</a>: exit status&quot;</span>)
<span id="L6081" class="LineNr"> 6081 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6082" class="LineNr"> 6082 </span>    81 0/subop/add %esp 8/imm32
<span id="L6083" class="LineNr"> 6083 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6084" class="LineNr"> 6084 </span>    5d/pop-to-ebp
<span id="L6085" class="LineNr"> 6085 </span>    c3/return
<span id="L6086" class="LineNr"> 6086 </span>
<span id="L6087" class="LineNr"> 6087 </span><span class="subxTest">test-get-with-wrong-output-type-5</span>:
<span id="L6088" class="LineNr"> 6088 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6089" class="LineNr"> 6089 </span>    55/push-ebp
<span id="L6090" class="LineNr"> 6090 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6091" class="LineNr"> 6091 </span>    <span class="subxComment"># setup</span>
<span id="L6092" class="LineNr"> 6092 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6093" class="LineNr"> 6093 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6094" class="LineNr"> 6094 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6095" class="LineNr"> 6095 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6096" class="LineNr"> 6096 </span>    <span class="subxComment">#</span>
<span id="L6097" class="LineNr"> 6097 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6098" class="LineNr"> 6098 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6099" class="LineNr"> 6099 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr handle int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L6100" class="LineNr"> 6100 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6101" class="LineNr"> 6101 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6102" class="LineNr"> 6102 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: (handle int)\n&quot;</span>)
<span id="L6103" class="LineNr"> 6103 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6104" class="LineNr"> 6104 </span>    <span class="subxComment"># convert</span>
<span id="L6105" class="LineNr"> 6105 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L6106" class="LineNr"> 6106 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6107" class="LineNr"> 6107 </span>    <span class="subxComment"># no errors</span>
<span id="L6108" class="LineNr"> 6108 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6109" class="LineNr"> 6109 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L6110" class="LineNr"> 6110 </span>    5d/pop-to-ebp
<span id="L6111" class="LineNr"> 6111 </span>    c3/return
<span id="L6112" class="LineNr"> 6112 </span>
<span id="L6113" class="LineNr"> 6113 </span><span class="subxTest">test-get-with-too-few-inouts</span>:
<span id="L6114" class="LineNr"> 6114 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6115" class="LineNr"> 6115 </span>    55/push-ebp
<span id="L6116" class="LineNr"> 6116 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6117" class="LineNr"> 6117 </span>    <span class="subxComment"># setup</span>
<span id="L6118" class="LineNr"> 6118 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6119" class="LineNr"> 6119 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6120" class="LineNr"> 6120 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6121" class="LineNr"> 6121 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6122" class="LineNr"> 6122 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6123" class="LineNr"> 6123 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6124" class="LineNr"> 6124 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6125" class="LineNr"> 6125 </span>    68/push 0/imm32
<span id="L6126" class="LineNr"> 6126 </span>    68/push 0/imm32
<span id="L6127" class="LineNr"> 6127 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6128" class="LineNr"> 6128 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6129" class="LineNr"> 6129 </span>    <span class="subxComment">#</span>
<span id="L6130" class="LineNr"> 6130 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6131" class="LineNr"> 6131 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6132" class="LineNr"> 6132 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a\n&quot;</span>)
<span id="L6133" class="LineNr"> 6133 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6134" class="LineNr"> 6134 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6135" class="LineNr"> 6135 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6136" class="LineNr"> 6136 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6137" class="LineNr"> 6137 </span>    <span class="subxComment"># convert</span>
<span id="L6138" class="LineNr"> 6138 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6139" class="LineNr"> 6139 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6140" class="LineNr"> 6140 </span>    <span class="subxComment"># restore ed</span>
<span id="L6141" class="LineNr"> 6141 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6142" class="LineNr"> 6142 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6143" class="LineNr"> 6143 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6144" class="Folded"> 6144 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6150" class="LineNr"> 6150 </span>    <span class="subxComment"># check output</span>
<span id="L6151" class="LineNr"> 6151 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6113'>test-get-with-too-few-inouts</a>: output should be empty&quot;</span>)
<span id="L6152" class="LineNr"> 6152 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: too few inouts (2 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6113'>test-get-with-too-few-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6153" class="LineNr"> 6153 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6154" class="LineNr"> 6154 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6113'>test-get-with-too-few-inouts</a>: exit status&quot;</span>)
<span id="L6155" class="LineNr"> 6155 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6156" class="LineNr"> 6156 </span>    81 0/subop/add %esp 8/imm32
<span id="L6157" class="LineNr"> 6157 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6158" class="LineNr"> 6158 </span>    5d/pop-to-ebp
<span id="L6159" class="LineNr"> 6159 </span>    c3/return
<span id="L6160" class="LineNr"> 6160 </span>
<span id="L6161" class="LineNr"> 6161 </span><span class="subxTest">test-get-with-too-many-inouts</span>:
<span id="L6162" class="LineNr"> 6162 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6163" class="LineNr"> 6163 </span>    55/push-ebp
<span id="L6164" class="LineNr"> 6164 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6165" class="LineNr"> 6165 </span>    <span class="subxComment"># setup</span>
<span id="L6166" class="LineNr"> 6166 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6167" class="LineNr"> 6167 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6168" class="LineNr"> 6168 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6169" class="LineNr"> 6169 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6170" class="LineNr"> 6170 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6171" class="LineNr"> 6171 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6172" class="LineNr"> 6172 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6173" class="LineNr"> 6173 </span>    68/push 0/imm32
<span id="L6174" class="LineNr"> 6174 </span>    68/push 0/imm32
<span id="L6175" class="LineNr"> 6175 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6176" class="LineNr"> 6176 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6177" class="LineNr"> 6177 </span>    <span class="subxComment">#</span>
<span id="L6178" class="LineNr"> 6178 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6179" class="LineNr"> 6179 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6180" class="LineNr"> 6180 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- <a href='../131table.subx.html#L26'>get</a> a, x, 0\n&quot;</span>)
<span id="L6181" class="LineNr"> 6181 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6182" class="LineNr"> 6182 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6183" class="LineNr"> 6183 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6184" class="LineNr"> 6184 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6185" class="LineNr"> 6185 </span>    <span class="subxComment"># convert</span>
<span id="L6186" class="LineNr"> 6186 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6187" class="LineNr"> 6187 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6188" class="LineNr"> 6188 </span>    <span class="subxComment"># restore ed</span>
<span id="L6189" class="LineNr"> 6189 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6190" class="LineNr"> 6190 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6191" class="LineNr"> 6191 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6192" class="Folded"> 6192 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6198" class="LineNr"> 6198 </span>    <span class="subxComment"># check output</span>
<span id="L6199" class="LineNr"> 6199 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6161'>test-get-with-too-many-inouts</a>: output should be empty&quot;</span>)
<span id="L6200" class="LineNr"> 6200 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: too many inouts (2 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6161'>test-get-with-too-many-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6201" class="LineNr"> 6201 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6202" class="LineNr"> 6202 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6161'>test-get-with-too-many-inouts</a>: exit status&quot;</span>)
<span id="L6203" class="LineNr"> 6203 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6204" class="LineNr"> 6204 </span>    81 0/subop/add %esp 8/imm32
<span id="L6205" class="LineNr"> 6205 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6206" class="LineNr"> 6206 </span>    5d/pop-to-ebp
<span id="L6207" class="LineNr"> 6207 </span>    c3/return
<span id="L6208" class="LineNr"> 6208 </span>
<span id="L6209" class="LineNr"> 6209 </span><span class="subxTest">test-get-with-no-output</span>:
<span id="L6210" class="LineNr"> 6210 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6211" class="LineNr"> 6211 </span>    55/push-ebp
<span id="L6212" class="LineNr"> 6212 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6213" class="LineNr"> 6213 </span>    <span class="subxComment"># setup</span>
<span id="L6214" class="LineNr"> 6214 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6215" class="LineNr"> 6215 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6216" class="LineNr"> 6216 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6217" class="LineNr"> 6217 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6218" class="LineNr"> 6218 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6219" class="LineNr"> 6219 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6220" class="LineNr"> 6220 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6221" class="LineNr"> 6221 </span>    68/push 0/imm32
<span id="L6222" class="LineNr"> 6222 </span>    68/push 0/imm32
<span id="L6223" class="LineNr"> 6223 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6224" class="LineNr"> 6224 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6225" class="LineNr"> 6225 </span>    <span class="subxComment">#</span>
<span id="L6226" class="LineNr"> 6226 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6227" class="LineNr"> 6227 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6228" class="LineNr"> 6228 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L6229" class="LineNr"> 6229 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6230" class="LineNr"> 6230 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6231" class="LineNr"> 6231 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6232" class="LineNr"> 6232 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6233" class="LineNr"> 6233 </span>    <span class="subxComment"># convert</span>
<span id="L6234" class="LineNr"> 6234 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6235" class="LineNr"> 6235 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6236" class="LineNr"> 6236 </span>    <span class="subxComment"># restore ed</span>
<span id="L6237" class="LineNr"> 6237 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6238" class="LineNr"> 6238 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6239" class="LineNr"> 6239 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6240" class="Folded"> 6240 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6246" class="LineNr"> 6246 </span>    <span class="subxComment"># check output</span>
<span id="L6247" class="LineNr"> 6247 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6209'>test-get-with-no-output</a>: output should be empty&quot;</span>)
<span id="L6248" class="LineNr"> 6248 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: must have an output&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6209'>test-get-with-no-output</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6249" class="LineNr"> 6249 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6250" class="LineNr"> 6250 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6209'>test-get-with-no-output</a>: exit status&quot;</span>)
<span id="L6251" class="LineNr"> 6251 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6252" class="LineNr"> 6252 </span>    81 0/subop/add %esp 8/imm32
<span id="L6253" class="LineNr"> 6253 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6254" class="LineNr"> 6254 </span>    5d/pop-to-ebp
<span id="L6255" class="LineNr"> 6255 </span>    c3/return
<span id="L6256" class="LineNr"> 6256 </span>
<span id="L6257" class="LineNr"> 6257 </span><span class="subxTest">test-get-with-too-many-outputs</span>:
<span id="L6258" class="LineNr"> 6258 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6259" class="LineNr"> 6259 </span>    55/push-ebp
<span id="L6260" class="LineNr"> 6260 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6261" class="LineNr"> 6261 </span>    <span class="subxComment"># setup</span>
<span id="L6262" class="LineNr"> 6262 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6263" class="LineNr"> 6263 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6264" class="LineNr"> 6264 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6265" class="LineNr"> 6265 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6266" class="LineNr"> 6266 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6267" class="LineNr"> 6267 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6268" class="LineNr"> 6268 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6269" class="LineNr"> 6269 </span>    68/push 0/imm32
<span id="L6270" class="LineNr"> 6270 </span>    68/push 0/imm32
<span id="L6271" class="LineNr"> 6271 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6272" class="LineNr"> 6272 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6273" class="LineNr"> 6273 </span>    <span class="subxComment">#</span>
<span id="L6274" class="LineNr"> 6274 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6275" class="LineNr"> 6275 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: t\n&quot;</span>)
<span id="L6276" class="LineNr"> 6276 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b: int\n&quot;</span>)
<span id="L6277" class="LineNr"> 6277 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/eax: (addr int) &lt;- copy 0\n&quot;</span>)
<span id="L6278" class="LineNr"> 6278 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  c, b &lt;- <a href='../131table.subx.html#L26'>get</a> a, x\n&quot;</span>)
<span id="L6279" class="LineNr"> 6279 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6280" class="LineNr"> 6280 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)
<span id="L6281" class="LineNr"> 6281 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6282" class="LineNr"> 6282 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6283" class="LineNr"> 6283 </span>    <span class="subxComment"># convert</span>
<span id="L6284" class="LineNr"> 6284 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6285" class="LineNr"> 6285 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6286" class="LineNr"> 6286 </span>    <span class="subxComment"># restore ed</span>
<span id="L6287" class="LineNr"> 6287 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6288" class="LineNr"> 6288 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6289" class="LineNr"> 6289 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6290" class="Folded"> 6290 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6296" class="LineNr"> 6296 </span>    <span class="subxComment"># check output</span>
<span id="L6297" class="LineNr"> 6297 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6257'>test-get-with-too-many-outputs</a>: output should be empty&quot;</span>)
<span id="L6298" class="LineNr"> 6298 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt <a href='../131table.subx.html#L26'>get</a>: too many outputs (1 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6257'>test-get-with-too-many-outputs</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6299" class="LineNr"> 6299 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6300" class="LineNr"> 6300 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6257'>test-get-with-too-many-outputs</a>: exit status&quot;</span>)
<span id="L6301" class="LineNr"> 6301 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6302" class="LineNr"> 6302 </span>    81 0/subop/add %esp 8/imm32
<span id="L6303" class="LineNr"> 6303 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6304" class="LineNr"> 6304 </span>    5d/pop-to-ebp
<span id="L6305" class="LineNr"> 6305 </span>    c3/return
<span id="L6306" class="LineNr"> 6306 </span>
<span id="L6307" class="LineNr"> 6307 </span><span class="subxTest">test-convert-array-of-user-defined-types</span>:
<span id="L6308" class="LineNr"> 6308 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6309" class="LineNr"> 6309 </span>    55/push-ebp
<span id="L6310" class="LineNr"> 6310 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6311" class="LineNr"> 6311 </span>    <span class="subxComment"># setup</span>
<span id="L6312" class="LineNr"> 6312 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6313" class="LineNr"> 6313 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6314" class="LineNr"> 6314 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6315" class="LineNr"> 6315 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6316" class="LineNr"> 6316 </span>    <span class="subxComment">#</span>
<span id="L6317" class="LineNr"> 6317 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)  <span class="subxComment"># each t is 8 bytes, which is a power of 2</span>
<span id="L6318" class="LineNr"> 6318 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6319" class="LineNr"> 6319 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L6320" class="LineNr"> 6320 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6321" class="LineNr"> 6321 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6322" class="LineNr"> 6322 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array t) &lt;- copy 0\n&quot;</span>)
<span id="L6323" class="LineNr"> 6323 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var idx/ecx: int &lt;- copy 3\n&quot;</span>)
<span id="L6324" class="LineNr"> 6324 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr t) &lt;- index arr, idx\n&quot;</span>)
<span id="L6325" class="LineNr"> 6325 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6326" class="LineNr"> 6326 </span>    <span class="subxComment"># convert</span>
<span id="L6327" class="LineNr"> 6327 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L6328" class="LineNr"> 6328 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6329" class="Folded"> 6329 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6335" class="LineNr"> 6335 </span>    <span class="subxComment"># check output</span>
<span id="L6336" class="LineNr"> 6336 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                                        <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/0&quot;</span>)
<span id="L6337" class="LineNr"> 6337 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>                              <span class="Constant">&quot;F - test-convert-array-of-user-defined-types/1&quot;</span>)
<span id="L6338" class="LineNr"> 6338 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>                               <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/2&quot;</span>)
<span id="L6339" class="LineNr"> 6339 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/3&quot;</span>)
<span id="L6340" class="LineNr"> 6340 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/4&quot;</span>)
<span id="L6341" class="LineNr"> 6341 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>                       <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/5&quot;</span>)
<span id="L6342" class="LineNr"> 6342 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/6&quot;</span>)
<span id="L6343" class="LineNr"> 6343 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/7&quot;</span>)
<span id="L6344" class="LineNr"> 6344 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/8&quot;</span>)
<span id="L6345" class="LineNr"> 6345 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 3/imm32&quot;</span>                  <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/9&quot;</span>)
<span id="L6346" class="LineNr"> 6346 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8d/copy-address *(eax + ecx&lt;&lt;0x00000003 + 4) 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/11&quot;</span>)
<span id="L6347" class="LineNr"> 6347 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/13&quot;</span>)
<span id="L6348" class="LineNr"> 6348 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/14&quot;</span>)
<span id="L6349" class="LineNr"> 6349 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                                         <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/15&quot;</span>)
<span id="L6350" class="LineNr"> 6350 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/16&quot;</span>)
<span id="L6351" class="LineNr"> 6351 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>                              <span class="Constant">&quot;F - test-convert-array-of-user-defined-types/17&quot;</span>)
<span id="L6352" class="LineNr"> 6352 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>                      <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/18&quot;</span>)
<span id="L6353" class="LineNr"> 6353 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>                             <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/19&quot;</span>)
<span id="L6354" class="LineNr"> 6354 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>                                 <span class="Constant">&quot;F - <a href='mu.subx.html#L6307'>test-convert-array-of-user-defined-types</a>/20&quot;</span>)
<span id="L6355" class="LineNr"> 6355 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6356" class="LineNr"> 6356 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L6357" class="LineNr"> 6357 </span>    5d/pop-to-ebp
<span id="L6358" class="LineNr"> 6358 </span>    c3/return
<span id="L6359" class="LineNr"> 6359 </span>
<span id="L6360" class="LineNr"> 6360 </span><span class="subxTest">test-convert-length-of-array-of-user-defined-types-to-eax</span>:
<span id="L6361" class="LineNr"> 6361 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6362" class="LineNr"> 6362 </span>    55/push-ebp
<span id="L6363" class="LineNr"> 6363 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6364" class="LineNr"> 6364 </span>    <span class="subxComment"># setup</span>
<span id="L6365" class="LineNr"> 6365 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6366" class="LineNr"> 6366 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6367" class="LineNr"> 6367 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6368" class="LineNr"> 6368 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6369" class="LineNr"> 6369 </span>    <span class="subxComment">#</span>
<span id="L6370" class="LineNr"> 6370 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)  <span class="subxComment"># size = 12, which is not a power of 2</span>
<span id="L6371" class="LineNr"> 6371 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6372" class="LineNr"> 6372 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L6373" class="LineNr"> 6373 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  z: int\n&quot;</span>)
<span id="L6374" class="LineNr"> 6374 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6375" class="LineNr"> 6375 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6376" class="LineNr"> 6376 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array t) &lt;- copy 0\n&quot;</span>)
<span id="L6377" class="LineNr"> 6377 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/eax: (addr t) &lt;- length arr\n&quot;</span>)
<span id="L6378" class="LineNr"> 6378 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6379" class="LineNr"> 6379 </span>    <span class="subxComment"># convert</span>
<span id="L6380" class="LineNr"> 6380 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L6381" class="LineNr"> 6381 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6382" class="Folded"> 6382 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6388" class="LineNr"> 6388 </span>    <span class="subxComment"># check output</span>
<span id="L6389" class="LineNr"> 6389 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/0&quot;</span>)
<span id="L6390" class="LineNr"> 6390 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types-to-eax/1&quot;</span>)
<span id="L6391" class="LineNr"> 6391 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/2&quot;</span>)
<span id="L6392" class="LineNr"> 6392 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/3&quot;</span>)
<span id="L6393" class="LineNr"> 6393 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/4&quot;</span>)
<span id="L6394" class="LineNr"> 6394 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/5&quot;</span>)
<span id="L6395" class="LineNr"> 6395 </span>    <span class="subxComment"># var arr</span>
<span id="L6396" class="LineNr"> 6396 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/6&quot;</span>)
<span id="L6397" class="LineNr"> 6397 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/7&quot;</span>)
<span id="L6398" class="LineNr"> 6398 </span>    <span class="subxComment"># length instruction</span>
<span id="L6399" class="LineNr"> 6399 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    51/push-ecx&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/8&quot;</span>)
<span id="L6400" class="LineNr"> 6400 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    52/push-edx&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/9&quot;</span>)
<span id="L6401" class="LineNr"> 6401 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *eax 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/10&quot;</span>)
<span id="L6402" class="LineNr"> 6402 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    31/xor %edx 2/r32/edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/11&quot;</span>)
<span id="L6403" class="LineNr"> 6403 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0x0000000c/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/12&quot;</span>)
<span id="L6404" class="LineNr"> 6404 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    f7 7/subop/idiv-eax-edx-by %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/13&quot;</span>)
<span id="L6405" class="LineNr"> 6405 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    5a/pop-to-edx&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/14&quot;</span>)
<span id="L6406" class="LineNr"> 6406 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    59/pop-to-ecx&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/15&quot;</span>)
<span id="L6407" class="LineNr"> 6407 </span>    <span class="subxComment"># reclaim arr</span>
<span id="L6408" class="LineNr"> 6408 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/16&quot;</span>)
<span id="L6409" class="LineNr"> 6409 </span>    <span class="subxComment">#</span>
<span id="L6410" class="LineNr"> 6410 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/17&quot;</span>)
<span id="L6411" class="LineNr"> 6411 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/18&quot;</span>)
<span id="L6412" class="LineNr"> 6412 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types-to-eax/19&quot;</span>)
<span id="L6413" class="LineNr"> 6413 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/20&quot;</span>)
<span id="L6414" class="LineNr"> 6414 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/21&quot;</span>)
<span id="L6415" class="LineNr"> 6415 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L6360'>test-convert-length-of-array-of-user-defined-types-to-eax</a>/22&quot;</span>)
<span id="L6416" class="LineNr"> 6416 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6417" class="LineNr"> 6417 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L6418" class="LineNr"> 6418 </span>    5d/pop-to-ebp
<span id="L6419" class="LineNr"> 6419 </span>    c3/return
<span id="L6420" class="LineNr"> 6420 </span>
<span id="L6421" class="LineNr"> 6421 </span><span class="subxTest">test-convert-length-of-array-of-user-defined-types-to-ecx</span>:
<span id="L6422" class="LineNr"> 6422 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6423" class="LineNr"> 6423 </span>    55/push-ebp
<span id="L6424" class="LineNr"> 6424 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6425" class="LineNr"> 6425 </span>    <span class="subxComment"># setup</span>
<span id="L6426" class="LineNr"> 6426 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6427" class="LineNr"> 6427 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6428" class="LineNr"> 6428 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6429" class="LineNr"> 6429 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6430" class="LineNr"> 6430 </span>    <span class="subxComment">#</span>
<span id="L6431" class="LineNr"> 6431 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)  <span class="subxComment"># size = 12, which is not a power of 2</span>
<span id="L6432" class="LineNr"> 6432 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6433" class="LineNr"> 6433 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L6434" class="LineNr"> 6434 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  z: int\n&quot;</span>)
<span id="L6435" class="LineNr"> 6435 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6436" class="LineNr"> 6436 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6437" class="LineNr"> 6437 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array t) &lt;- copy 0\n&quot;</span>)
<span id="L6438" class="LineNr"> 6438 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ecx: (addr t) &lt;- length arr\n&quot;</span>)
<span id="L6439" class="LineNr"> 6439 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6440" class="LineNr"> 6440 </span>    <span class="subxComment"># convert</span>
<span id="L6441" class="LineNr"> 6441 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L6442" class="LineNr"> 6442 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6443" class="Folded"> 6443 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6449" class="LineNr"> 6449 </span>    <span class="subxComment"># check output</span>
<span id="L6450" class="LineNr"> 6450 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/0&quot;</span>)
<span id="L6451" class="LineNr"> 6451 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types-to-ecx/1&quot;</span>)
<span id="L6452" class="LineNr"> 6452 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/2&quot;</span>)
<span id="L6453" class="LineNr"> 6453 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/3&quot;</span>)
<span id="L6454" class="LineNr"> 6454 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/4&quot;</span>)
<span id="L6455" class="LineNr"> 6455 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/5&quot;</span>)
<span id="L6456" class="LineNr"> 6456 </span>    <span class="subxComment"># var a</span>
<span id="L6457" class="LineNr"> 6457 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/6&quot;</span>)
<span id="L6458" class="LineNr"> 6458 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/7&quot;</span>)
<span id="L6459" class="LineNr"> 6459 </span>    <span class="subxComment"># var x</span>
<span id="L6460" class="LineNr"> 6460 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/8&quot;</span>)
<span id="L6461" class="LineNr"> 6461 </span>    <span class="subxComment"># length instruction</span>
<span id="L6462" class="LineNr"> 6462 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    50/push-eax&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/9&quot;</span>)
<span id="L6463" class="LineNr"> 6463 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    52/push-edx&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/10&quot;</span>)
<span id="L6464" class="LineNr"> 6464 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *eax 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/11&quot;</span>)
<span id="L6465" class="LineNr"> 6465 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    31/xor %edx 2/r32/edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/12&quot;</span>)
<span id="L6466" class="LineNr"> 6466 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0x0000000c/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/13&quot;</span>)
<span id="L6467" class="LineNr"> 6467 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    f7 7/subop/idiv-eax-edx-by %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/14&quot;</span>)
<span id="L6468" class="LineNr"> 6468 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    89/&lt;- %ecx 0/r32/eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/15&quot;</span>)
<span id="L6469" class="LineNr"> 6469 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    5a/pop-to-edx&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/16&quot;</span>)
<span id="L6470" class="LineNr"> 6470 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    58/pop-to-eax&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/17&quot;</span>)
<span id="L6471" class="LineNr"> 6471 </span>    <span class="subxComment"># reclaim x</span>
<span id="L6472" class="LineNr"> 6472 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/18&quot;</span>)
<span id="L6473" class="LineNr"> 6473 </span>    <span class="subxComment"># reclaim a</span>
<span id="L6474" class="LineNr"> 6474 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/19&quot;</span>)
<span id="L6475" class="LineNr"> 6475 </span>    <span class="subxComment">#</span>
<span id="L6476" class="LineNr"> 6476 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/20&quot;</span>)
<span id="L6477" class="LineNr"> 6477 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/21&quot;</span>)
<span id="L6478" class="LineNr"> 6478 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types-to-ecx/22&quot;</span>)
<span id="L6479" class="LineNr"> 6479 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/23&quot;</span>)
<span id="L6480" class="LineNr"> 6480 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/24&quot;</span>)
<span id="L6481" class="LineNr"> 6481 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L6421'>test-convert-length-of-array-of-user-defined-types-to-ecx</a>/25&quot;</span>)
<span id="L6482" class="LineNr"> 6482 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6483" class="LineNr"> 6483 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L6484" class="LineNr"> 6484 </span>    5d/pop-to-ebp
<span id="L6485" class="LineNr"> 6485 </span>    c3/return
<span id="L6486" class="LineNr"> 6486 </span>
<span id="L6487" class="LineNr"> 6487 </span><span class="subxTest">test-convert-length-of-array-of-user-defined-types-to-edx</span>:
<span id="L6488" class="LineNr"> 6488 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6489" class="LineNr"> 6489 </span>    55/push-ebp
<span id="L6490" class="LineNr"> 6490 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6491" class="LineNr"> 6491 </span>    <span class="subxComment"># setup</span>
<span id="L6492" class="LineNr"> 6492 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6493" class="LineNr"> 6493 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6494" class="LineNr"> 6494 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6495" class="LineNr"> 6495 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6496" class="LineNr"> 6496 </span>    <span class="subxComment">#</span>
<span id="L6497" class="LineNr"> 6497 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)  <span class="subxComment"># size = 12, which is not a power of 2</span>
<span id="L6498" class="LineNr"> 6498 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6499" class="LineNr"> 6499 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L6500" class="LineNr"> 6500 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  z: int\n&quot;</span>)
<span id="L6501" class="LineNr"> 6501 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6502" class="LineNr"> 6502 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6503" class="LineNr"> 6503 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array t) &lt;- copy 0\n&quot;</span>)
<span id="L6504" class="LineNr"> 6504 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/edx: (addr t) &lt;- length arr\n&quot;</span>)
<span id="L6505" class="LineNr"> 6505 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6506" class="LineNr"> 6506 </span>    <span class="subxComment"># convert</span>
<span id="L6507" class="LineNr"> 6507 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L6508" class="LineNr"> 6508 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6509" class="Folded"> 6509 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6515" class="LineNr"> 6515 </span>    <span class="subxComment"># check output</span>
<span id="L6516" class="LineNr"> 6516 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/0&quot;</span>)
<span id="L6517" class="LineNr"> 6517 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types-to-edx/1&quot;</span>)
<span id="L6518" class="LineNr"> 6518 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/2&quot;</span>)
<span id="L6519" class="LineNr"> 6519 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/3&quot;</span>)
<span id="L6520" class="LineNr"> 6520 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/4&quot;</span>)
<span id="L6521" class="LineNr"> 6521 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/5&quot;</span>)
<span id="L6522" class="LineNr"> 6522 </span>    <span class="subxComment"># var a</span>
<span id="L6523" class="LineNr"> 6523 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/6&quot;</span>)
<span id="L6524" class="LineNr"> 6524 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/7&quot;</span>)
<span id="L6525" class="LineNr"> 6525 </span>    <span class="subxComment"># var x</span>
<span id="L6526" class="LineNr"> 6526 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/8&quot;</span>)
<span id="L6527" class="LineNr"> 6527 </span>    <span class="subxComment"># length instruction</span>
<span id="L6528" class="LineNr"> 6528 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    50/push-eax&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/9&quot;</span>)
<span id="L6529" class="LineNr"> 6529 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    51/push-ecx&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/10&quot;</span>)
<span id="L6530" class="LineNr"> 6530 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *eax 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/11&quot;</span>)
<span id="L6531" class="LineNr"> 6531 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    31/xor %edx 2/r32/edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/12&quot;</span>)
<span id="L6532" class="LineNr"> 6532 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0x0000000c/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/13&quot;</span>)
<span id="L6533" class="LineNr"> 6533 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    f7 7/subop/idiv-eax-edx-by %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/14&quot;</span>)
<span id="L6534" class="LineNr"> 6534 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    89/&lt;- %edx 0/r32/eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/15&quot;</span>)
<span id="L6535" class="LineNr"> 6535 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    59/pop-to-ecx&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/16&quot;</span>)
<span id="L6536" class="LineNr"> 6536 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    58/pop-to-eax&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/17&quot;</span>)
<span id="L6537" class="LineNr"> 6537 </span>    <span class="subxComment"># reclaim x</span>
<span id="L6538" class="LineNr"> 6538 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/18&quot;</span>)
<span id="L6539" class="LineNr"> 6539 </span>    <span class="subxComment"># reclaim a</span>
<span id="L6540" class="LineNr"> 6540 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/19&quot;</span>)
<span id="L6541" class="LineNr"> 6541 </span>    <span class="subxComment">#</span>
<span id="L6542" class="LineNr"> 6542 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/20&quot;</span>)
<span id="L6543" class="LineNr"> 6543 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/21&quot;</span>)
<span id="L6544" class="LineNr"> 6544 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types-to-edx/22&quot;</span>)
<span id="L6545" class="LineNr"> 6545 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/23&quot;</span>)
<span id="L6546" class="LineNr"> 6546 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/24&quot;</span>)
<span id="L6547" class="LineNr"> 6547 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L6487'>test-convert-length-of-array-of-user-defined-types-to-edx</a>/25&quot;</span>)
<span id="L6548" class="LineNr"> 6548 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6549" class="LineNr"> 6549 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L6550" class="LineNr"> 6550 </span>    5d/pop-to-ebp
<span id="L6551" class="LineNr"> 6551 </span>    c3/return
<span id="L6552" class="LineNr"> 6552 </span>
<span id="L6553" class="LineNr"> 6553 </span><span class="subxTest">test-convert-length-of-array-of-user-defined-types</span>:
<span id="L6554" class="LineNr"> 6554 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6555" class="LineNr"> 6555 </span>    55/push-ebp
<span id="L6556" class="LineNr"> 6556 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6557" class="LineNr"> 6557 </span>    <span class="subxComment"># setup</span>
<span id="L6558" class="LineNr"> 6558 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6559" class="LineNr"> 6559 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6560" class="LineNr"> 6560 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6561" class="LineNr"> 6561 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6562" class="LineNr"> 6562 </span>    <span class="subxComment">#</span>
<span id="L6563" class="LineNr"> 6563 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)  <span class="subxComment"># each t is 8 bytes, which is a power of 2</span>
<span id="L6564" class="LineNr"> 6564 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L6565" class="LineNr"> 6565 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L6566" class="LineNr"> 6566 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  z: int\n&quot;</span>)
<span id="L6567" class="LineNr"> 6567 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6568" class="LineNr"> 6568 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6569" class="LineNr"> 6569 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var arr/eax: (addr array t) &lt;- copy 0\n&quot;</span>)
<span id="L6570" class="LineNr"> 6570 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var x/ebx: (addr t) &lt;- length arr\n&quot;</span>)
<span id="L6571" class="LineNr"> 6571 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6572" class="LineNr"> 6572 </span>    <span class="subxComment"># convert</span>
<span id="L6573" class="LineNr"> 6573 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L6574" class="LineNr"> 6574 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6575" class="Folded"> 6575 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6581" class="LineNr"> 6581 </span>    <span class="subxComment"># check output</span>
<span id="L6582" class="LineNr"> 6582 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;foo:&quot;</span>                    <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/0&quot;</span>)
<span id="L6583" class="LineNr"> 6583 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . prologue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types/1&quot;</span>)
<span id="L6584" class="LineNr"> 6584 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  55/push-ebp&quot;</span>           <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/2&quot;</span>)
<span id="L6585" class="LineNr"> 6585 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/3&quot;</span>)
<span id="L6586" class="LineNr"> 6586 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  {&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/4&quot;</span>)
<span id="L6587" class="LineNr"> 6587 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:loop:&quot;</span>   <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/5&quot;</span>)
<span id="L6588" class="LineNr"> 6588 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/6&quot;</span>)
<span id="L6589" class="LineNr"> 6589 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b8/copy-to-eax 0/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/7&quot;</span>)
<span id="L6590" class="LineNr"> 6590 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    ff 6/subop/push %ebx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/8&quot;</span>)
<span id="L6591" class="LineNr"> 6591 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    50/push-eax&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/9&quot;</span>)
<span id="L6592" class="LineNr"> 6592 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    51/push-ecx&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/10&quot;</span>)
<span id="L6593" class="LineNr"> 6593 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    52/push-edx&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/11&quot;</span>)
<span id="L6594" class="LineNr"> 6594 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8b/-&gt; *eax 0x00000000/r32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/12&quot;</span>)
<span id="L6595" class="LineNr"> 6595 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    31/xor %edx 2/r32/edx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/13&quot;</span>)
<span id="L6596" class="LineNr"> 6596 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    b9/copy-to-ecx 0x0000000c/imm32&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/14&quot;</span>)
<span id="L6597" class="LineNr"> 6597 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    f7 7/subop/idiv-eax-edx-by %ecx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/15&quot;</span>)
<span id="L6598" class="LineNr"> 6598 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    89/&lt;- %ebx 0/r32/eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/16&quot;</span>)
<span id="L6599" class="LineNr"> 6599 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    5a/pop-to-edx&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/17&quot;</span>)
<span id="L6600" class="LineNr"> 6600 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    59/pop-to-ecx&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/18&quot;</span>)
<span id="L6601" class="LineNr"> 6601 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    58/pop-to-eax&quot;</span>       <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/19&quot;</span>)
<span id="L6602" class="LineNr"> 6602 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %ebx&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/20&quot;</span>)
<span id="L6603" class="LineNr"> 6603 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;    8f 0/subop/pop %eax&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/21&quot;</span>)
<span id="L6604" class="LineNr"> 6604 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  }&quot;</span>                     <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/22&quot;</span>)
<span id="L6605" class="LineNr"> 6605 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;$foo:0x00000001:break:&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/23&quot;</span>)
<span id="L6606" class="LineNr"> 6606 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  # . epilogue&quot;</span>          <span class="Constant">&quot;F - test-convert-length-of-array-of-user-defined-types/24&quot;</span>)
<span id="L6607" class="LineNr"> 6607 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/25&quot;</span>)
<span id="L6608" class="LineNr"> 6608 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  5d/pop-to-ebp&quot;</span>         <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/26&quot;</span>)
<span id="L6609" class="LineNr"> 6609 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;  c3/return&quot;</span>             <span class="Constant">&quot;F - <a href='mu.subx.html#L6553'>test-convert-length-of-array-of-user-defined-types</a>/27&quot;</span>)
<span id="L6610" class="LineNr"> 6610 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6611" class="LineNr"> 6611 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L6612" class="LineNr"> 6612 </span>    5d/pop-to-ebp
<span id="L6613" class="LineNr"> 6613 </span>    c3/return
<span id="L6614" class="LineNr"> 6614 </span>
<span id="L6615" class="LineNr"> 6615 </span><span class="subxTest">test-index-with-non-array-atom-base-type</span>:
<span id="L6616" class="LineNr"> 6616 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6617" class="LineNr"> 6617 </span>    55/push-ebp
<span id="L6618" class="LineNr"> 6618 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6619" class="LineNr"> 6619 </span>    <span class="subxComment"># setup</span>
<span id="L6620" class="LineNr"> 6620 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6621" class="LineNr"> 6621 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6622" class="LineNr"> 6622 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6623" class="LineNr"> 6623 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6624" class="LineNr"> 6624 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6625" class="LineNr"> 6625 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6626" class="LineNr"> 6626 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6627" class="LineNr"> 6627 </span>    68/push 0/imm32
<span id="L6628" class="LineNr"> 6628 </span>    68/push 0/imm32
<span id="L6629" class="LineNr"> 6629 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6630" class="LineNr"> 6630 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6631" class="LineNr"> 6631 </span>    <span class="subxComment">#</span>
<span id="L6632" class="LineNr"> 6632 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6633" class="LineNr"> 6633 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: int\n&quot;</span>)
<span id="L6634" class="LineNr"> 6634 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L6635" class="LineNr"> 6635 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6636" class="LineNr"> 6636 </span>    <span class="subxComment"># convert</span>
<span id="L6637" class="LineNr"> 6637 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6638" class="LineNr"> 6638 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6639" class="LineNr"> 6639 </span>    <span class="subxComment"># restore ed</span>
<span id="L6640" class="LineNr"> 6640 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6641" class="LineNr"> 6641 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6642" class="LineNr"> 6642 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6643" class="Folded"> 6643 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6649" class="LineNr"> 6649 </span>    <span class="subxComment"># check output</span>
<span id="L6650" class="LineNr"> 6650 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6615'>test-index-with-non-array-atom-base-type</a>: output should be empty&quot;</span>)
<span id="L6651" class="LineNr"> 6651 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: var 'a' is not an array&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6615'>test-index-with-non-array-atom-base-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6652" class="LineNr"> 6652 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6653" class="LineNr"> 6653 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6615'>test-index-with-non-array-atom-base-type</a>: exit status&quot;</span>)
<span id="L6654" class="LineNr"> 6654 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6655" class="LineNr"> 6655 </span>    81 0/subop/add %esp 8/imm32
<span id="L6656" class="LineNr"> 6656 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6657" class="LineNr"> 6657 </span>    5d/pop-to-ebp
<span id="L6658" class="LineNr"> 6658 </span>    c3/return
<span id="L6659" class="LineNr"> 6659 </span>
<span id="L6660" class="LineNr"> 6660 </span><span class="subxTest">test-index-with-non-array-compound-base-type</span>:
<span id="L6661" class="LineNr"> 6661 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6662" class="LineNr"> 6662 </span>    55/push-ebp
<span id="L6663" class="LineNr"> 6663 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6664" class="LineNr"> 6664 </span>    <span class="subxComment"># setup</span>
<span id="L6665" class="LineNr"> 6665 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6666" class="LineNr"> 6666 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6667" class="LineNr"> 6667 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6668" class="LineNr"> 6668 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6669" class="LineNr"> 6669 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6670" class="LineNr"> 6670 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6671" class="LineNr"> 6671 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6672" class="LineNr"> 6672 </span>    68/push 0/imm32
<span id="L6673" class="LineNr"> 6673 </span>    68/push 0/imm32
<span id="L6674" class="LineNr"> 6674 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6675" class="LineNr"> 6675 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6676" class="LineNr"> 6676 </span>    <span class="subxComment">#</span>
<span id="L6677" class="LineNr"> 6677 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6678" class="LineNr"> 6678 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (handle int)\n&quot;</span>)
<span id="L6679" class="LineNr"> 6679 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L6680" class="LineNr"> 6680 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6681" class="LineNr"> 6681 </span>    <span class="subxComment"># convert</span>
<span id="L6682" class="LineNr"> 6682 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6683" class="LineNr"> 6683 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6684" class="LineNr"> 6684 </span>    <span class="subxComment"># restore ed</span>
<span id="L6685" class="LineNr"> 6685 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6686" class="LineNr"> 6686 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6687" class="LineNr"> 6687 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6688" class="Folded"> 6688 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6694" class="LineNr"> 6694 </span>    <span class="subxComment"># check output</span>
<span id="L6695" class="LineNr"> 6695 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6660'>test-index-with-non-array-compound-base-type</a>: output should be empty&quot;</span>)
<span id="L6696" class="LineNr"> 6696 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: var 'a' is not an array&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6660'>test-index-with-non-array-compound-base-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6697" class="LineNr"> 6697 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6698" class="LineNr"> 6698 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6660'>test-index-with-non-array-compound-base-type</a>: exit status&quot;</span>)
<span id="L6699" class="LineNr"> 6699 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6700" class="LineNr"> 6700 </span>    81 0/subop/add %esp 8/imm32
<span id="L6701" class="LineNr"> 6701 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6702" class="LineNr"> 6702 </span>    5d/pop-to-ebp
<span id="L6703" class="LineNr"> 6703 </span>    c3/return
<span id="L6704" class="LineNr"> 6704 </span>
<span id="L6705" class="LineNr"> 6705 </span><span class="subxTest">test-index-with-non-array-compound-base-type-2</span>:
<span id="L6706" class="LineNr"> 6706 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6707" class="LineNr"> 6707 </span>    55/push-ebp
<span id="L6708" class="LineNr"> 6708 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6709" class="LineNr"> 6709 </span>    <span class="subxComment"># setup</span>
<span id="L6710" class="LineNr"> 6710 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6711" class="LineNr"> 6711 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6712" class="LineNr"> 6712 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6713" class="LineNr"> 6713 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6714" class="LineNr"> 6714 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6715" class="LineNr"> 6715 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6716" class="LineNr"> 6716 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6717" class="LineNr"> 6717 </span>    68/push 0/imm32
<span id="L6718" class="LineNr"> 6718 </span>    68/push 0/imm32
<span id="L6719" class="LineNr"> 6719 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6720" class="LineNr"> 6720 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6721" class="LineNr"> 6721 </span>    <span class="subxComment">#</span>
<span id="L6722" class="LineNr"> 6722 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6723" class="LineNr"> 6723 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (addr int)\n&quot;</span>)
<span id="L6724" class="LineNr"> 6724 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L6725" class="LineNr"> 6725 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6726" class="LineNr"> 6726 </span>    <span class="subxComment"># convert</span>
<span id="L6727" class="LineNr"> 6727 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6728" class="LineNr"> 6728 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6729" class="LineNr"> 6729 </span>    <span class="subxComment"># restore ed</span>
<span id="L6730" class="LineNr"> 6730 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6731" class="LineNr"> 6731 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6732" class="LineNr"> 6732 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6733" class="Folded"> 6733 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6739" class="LineNr"> 6739 </span>    <span class="subxComment"># check output</span>
<span id="L6740" class="LineNr"> 6740 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6705'>test-index-with-non-array-compound-base-type-2</a>: output should be empty&quot;</span>)
<span id="L6741" class="LineNr"> 6741 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: var 'a' is not an array&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6705'>test-index-with-non-array-compound-base-type-2</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6742" class="LineNr"> 6742 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6743" class="LineNr"> 6743 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6705'>test-index-with-non-array-compound-base-type-2</a>: exit status&quot;</span>)
<span id="L6744" class="LineNr"> 6744 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6745" class="LineNr"> 6745 </span>    81 0/subop/add %esp 8/imm32
<span id="L6746" class="LineNr"> 6746 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6747" class="LineNr"> 6747 </span>    5d/pop-to-ebp
<span id="L6748" class="LineNr"> 6748 </span>    c3/return
<span id="L6749" class="LineNr"> 6749 </span>
<span id="L6750" class="LineNr"> 6750 </span><span class="subxTest">test-index-with-array-atom-base-type</span>:
<span id="L6751" class="LineNr"> 6751 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6752" class="LineNr"> 6752 </span>    55/push-ebp
<span id="L6753" class="LineNr"> 6753 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6754" class="LineNr"> 6754 </span>    <span class="subxComment"># setup</span>
<span id="L6755" class="LineNr"> 6755 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6756" class="LineNr"> 6756 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6757" class="LineNr"> 6757 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6758" class="LineNr"> 6758 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6759" class="LineNr"> 6759 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6760" class="LineNr"> 6760 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6761" class="LineNr"> 6761 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6762" class="LineNr"> 6762 </span>    68/push 0/imm32
<span id="L6763" class="LineNr"> 6763 </span>    68/push 0/imm32
<span id="L6764" class="LineNr"> 6764 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6765" class="LineNr"> 6765 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6766" class="LineNr"> 6766 </span>    <span class="subxComment">#</span>
<span id="L6767" class="LineNr"> 6767 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6768" class="LineNr"> 6768 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: array\n&quot;</span>)
<span id="L6769" class="LineNr"> 6769 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L6770" class="LineNr"> 6770 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6771" class="LineNr"> 6771 </span>    <span class="subxComment"># convert</span>
<span id="L6772" class="LineNr"> 6772 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6773" class="LineNr"> 6773 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6774" class="LineNr"> 6774 </span>    <span class="subxComment"># restore ed</span>
<span id="L6775" class="LineNr"> 6775 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6776" class="LineNr"> 6776 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6777" class="LineNr"> 6777 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6778" class="Folded"> 6778 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6784" class="LineNr"> 6784 </span>    <span class="subxComment"># check output</span>
<span id="L6785" class="LineNr"> 6785 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6750'>test-index-with-array-atom-base-type</a>: output should be empty&quot;</span>)
<span id="L6786" class="LineNr"> 6786 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: array 'a' must specify the type of its elements&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6750'>test-index-with-array-atom-base-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6787" class="LineNr"> 6787 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6788" class="LineNr"> 6788 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6750'>test-index-with-array-atom-base-type</a>: exit status&quot;</span>)
<span id="L6789" class="LineNr"> 6789 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6790" class="LineNr"> 6790 </span>    81 0/subop/add %esp 8/imm32
<span id="L6791" class="LineNr"> 6791 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6792" class="LineNr"> 6792 </span>    5d/pop-to-ebp
<span id="L6793" class="LineNr"> 6793 </span>    c3/return
<span id="L6794" class="LineNr"> 6794 </span>
<span id="L6795" class="LineNr"> 6795 </span><span class="subxTest">test-index-with-addr-base-on-stack</span>:
<span id="L6796" class="LineNr"> 6796 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6797" class="LineNr"> 6797 </span>    55/push-ebp
<span id="L6798" class="LineNr"> 6798 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6799" class="LineNr"> 6799 </span>    <span class="subxComment"># setup</span>
<span id="L6800" class="LineNr"> 6800 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6801" class="LineNr"> 6801 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6802" class="LineNr"> 6802 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6803" class="LineNr"> 6803 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6804" class="LineNr"> 6804 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6805" class="LineNr"> 6805 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6806" class="LineNr"> 6806 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6807" class="LineNr"> 6807 </span>    68/push 0/imm32
<span id="L6808" class="LineNr"> 6808 </span>    68/push 0/imm32
<span id="L6809" class="LineNr"> 6809 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6810" class="LineNr"> 6810 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6811" class="LineNr"> 6811 </span>    <span class="subxComment">#</span>
<span id="L6812" class="LineNr"> 6812 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6813" class="LineNr"> 6813 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (addr array int)\n&quot;</span>)
<span id="L6814" class="LineNr"> 6814 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L6815" class="LineNr"> 6815 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6816" class="LineNr"> 6816 </span>    <span class="subxComment"># convert</span>
<span id="L6817" class="LineNr"> 6817 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6818" class="LineNr"> 6818 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6819" class="LineNr"> 6819 </span>    <span class="subxComment"># restore ed</span>
<span id="L6820" class="LineNr"> 6820 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6821" class="LineNr"> 6821 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6822" class="LineNr"> 6822 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6823" class="Folded"> 6823 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6829" class="LineNr"> 6829 </span>    <span class="subxComment"># check output</span>
<span id="L6830" class="LineNr"> 6830 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6795'>test-index-with-addr-base-on-stack</a>: output should be empty&quot;</span>)
<span id="L6831" class="LineNr"> 6831 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: var 'a' is an addr to an array, and so must live in a register&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6795'>test-index-with-addr-base-on-stack</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6832" class="LineNr"> 6832 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6833" class="LineNr"> 6833 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6795'>test-index-with-addr-base-on-stack</a>: exit status&quot;</span>)
<span id="L6834" class="LineNr"> 6834 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6835" class="LineNr"> 6835 </span>    81 0/subop/add %esp 8/imm32
<span id="L6836" class="LineNr"> 6836 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6837" class="LineNr"> 6837 </span>    5d/pop-to-ebp
<span id="L6838" class="LineNr"> 6838 </span>    c3/return
<span id="L6839" class="LineNr"> 6839 </span>
<span id="L6840" class="LineNr"> 6840 </span><span class="subxTest">test-index-with-array-base-in-register</span>:
<span id="L6841" class="LineNr"> 6841 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6842" class="LineNr"> 6842 </span>    55/push-ebp
<span id="L6843" class="LineNr"> 6843 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6844" class="LineNr"> 6844 </span>    <span class="subxComment"># setup</span>
<span id="L6845" class="LineNr"> 6845 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6846" class="LineNr"> 6846 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6847" class="LineNr"> 6847 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6848" class="LineNr"> 6848 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6849" class="LineNr"> 6849 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6850" class="LineNr"> 6850 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6851" class="LineNr"> 6851 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6852" class="LineNr"> 6852 </span>    68/push 0/imm32
<span id="L6853" class="LineNr"> 6853 </span>    68/push 0/imm32
<span id="L6854" class="LineNr"> 6854 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6855" class="LineNr"> 6855 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6856" class="LineNr"> 6856 </span>    <span class="subxComment">#</span>
<span id="L6857" class="LineNr"> 6857 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6858" class="LineNr"> 6858 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (array int 3) &lt;- copy 0\n&quot;</span>)
<span id="L6859" class="LineNr"> 6859 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L6860" class="LineNr"> 6860 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6861" class="LineNr"> 6861 </span>    <span class="subxComment"># convert</span>
<span id="L6862" class="LineNr"> 6862 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6863" class="LineNr"> 6863 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6864" class="LineNr"> 6864 </span>    <span class="subxComment"># restore ed</span>
<span id="L6865" class="LineNr"> 6865 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6866" class="LineNr"> 6866 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6867" class="LineNr"> 6867 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6868" class="Folded"> 6868 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6874" class="LineNr"> 6874 </span>    <span class="subxComment"># check output</span>
<span id="L6875" class="LineNr"> 6875 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6840'>test-index-with-array-base-in-register</a>: output should be empty&quot;</span>)
<span id="L6876" class="LineNr"> 6876 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: var 'a' is an array, and so must live on the stack&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6840'>test-index-with-array-base-in-register</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6877" class="LineNr"> 6877 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6878" class="LineNr"> 6878 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6840'>test-index-with-array-base-in-register</a>: exit status&quot;</span>)
<span id="L6879" class="LineNr"> 6879 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6880" class="LineNr"> 6880 </span>    81 0/subop/add %esp 8/imm32
<span id="L6881" class="LineNr"> 6881 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6882" class="LineNr"> 6882 </span>    5d/pop-to-ebp
<span id="L6883" class="LineNr"> 6883 </span>    c3/return
<span id="L6884" class="LineNr"> 6884 </span>
<span id="L6885" class="LineNr"> 6885 </span><span class="subxTest">test-index-with-wrong-index-type</span>:
<span id="L6886" class="LineNr"> 6886 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6887" class="LineNr"> 6887 </span>    55/push-ebp
<span id="L6888" class="LineNr"> 6888 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6889" class="LineNr"> 6889 </span>    <span class="subxComment"># setup</span>
<span id="L6890" class="LineNr"> 6890 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6891" class="LineNr"> 6891 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6892" class="LineNr"> 6892 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6893" class="LineNr"> 6893 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6894" class="LineNr"> 6894 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6895" class="LineNr"> 6895 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6896" class="LineNr"> 6896 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6897" class="LineNr"> 6897 </span>    68/push 0/imm32
<span id="L6898" class="LineNr"> 6898 </span>    68/push 0/imm32
<span id="L6899" class="LineNr"> 6899 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6900" class="LineNr"> 6900 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6901" class="LineNr"> 6901 </span>    <span class="subxComment">#</span>
<span id="L6902" class="LineNr"> 6902 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6903" class="LineNr"> 6903 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L6904" class="LineNr"> 6904 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b: boolean\n&quot;</span>)
<span id="L6905" class="LineNr"> 6905 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, b\n&quot;</span>)
<span id="L6906" class="LineNr"> 6906 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6907" class="LineNr"> 6907 </span>    <span class="subxComment"># convert</span>
<span id="L6908" class="LineNr"> 6908 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6909" class="LineNr"> 6909 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6910" class="LineNr"> 6910 </span>    <span class="subxComment"># restore ed</span>
<span id="L6911" class="LineNr"> 6911 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6912" class="LineNr"> 6912 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6913" class="LineNr"> 6913 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6914" class="Folded"> 6914 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6920" class="LineNr"> 6920 </span>    <span class="subxComment"># check output</span>
<span id="L6921" class="LineNr"> 6921 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6885'>test-index-with-wrong-index-type</a>: output should be empty&quot;</span>)
<span id="L6922" class="LineNr"> 6922 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: second argument 'b' must be an int or offset&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6885'>test-index-with-wrong-index-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6923" class="LineNr"> 6923 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6924" class="LineNr"> 6924 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6885'>test-index-with-wrong-index-type</a>: exit status&quot;</span>)
<span id="L6925" class="LineNr"> 6925 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6926" class="LineNr"> 6926 </span>    81 0/subop/add %esp 8/imm32
<span id="L6927" class="LineNr"> 6927 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6928" class="LineNr"> 6928 </span>    5d/pop-to-ebp
<span id="L6929" class="LineNr"> 6929 </span>    c3/return
<span id="L6930" class="LineNr"> 6930 </span>
<span id="L6931" class="LineNr"> 6931 </span><span class="subxTest">test-index-with-offset-atom-index-type</span>:
<span id="L6932" class="LineNr"> 6932 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6933" class="LineNr"> 6933 </span>    55/push-ebp
<span id="L6934" class="LineNr"> 6934 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6935" class="LineNr"> 6935 </span>    <span class="subxComment"># setup</span>
<span id="L6936" class="LineNr"> 6936 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6937" class="LineNr"> 6937 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6938" class="LineNr"> 6938 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6939" class="LineNr"> 6939 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6940" class="LineNr"> 6940 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6941" class="LineNr"> 6941 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6942" class="LineNr"> 6942 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6943" class="LineNr"> 6943 </span>    68/push 0/imm32
<span id="L6944" class="LineNr"> 6944 </span>    68/push 0/imm32
<span id="L6945" class="LineNr"> 6945 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6946" class="LineNr"> 6946 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6947" class="LineNr"> 6947 </span>    <span class="subxComment">#</span>
<span id="L6948" class="LineNr"> 6948 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6949" class="LineNr"> 6949 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L6950" class="LineNr"> 6950 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b: offset\n&quot;</span>)
<span id="L6951" class="LineNr"> 6951 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, b\n&quot;</span>)
<span id="L6952" class="LineNr"> 6952 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6953" class="LineNr"> 6953 </span>    <span class="subxComment"># convert</span>
<span id="L6954" class="LineNr"> 6954 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L6955" class="LineNr"> 6955 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L6956" class="LineNr"> 6956 </span>    <span class="subxComment"># restore ed</span>
<span id="L6957" class="LineNr"> 6957 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6958" class="LineNr"> 6958 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L6959" class="LineNr"> 6959 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L6960" class="Folded"> 6960 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L6966" class="LineNr"> 6966 </span>    <span class="subxComment"># check output</span>
<span id="L6967" class="LineNr"> 6967 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6931'>test-index-with-offset-atom-index-type</a>: output should be empty&quot;</span>)
<span id="L6968" class="LineNr"> 6968 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: offset 'b' must specify the type of array elements&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6931'>test-index-with-offset-atom-index-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L6969" class="LineNr"> 6969 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L6970" class="LineNr"> 6970 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6931'>test-index-with-offset-atom-index-type</a>: exit status&quot;</span>)
<span id="L6971" class="LineNr"> 6971 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L6972" class="LineNr"> 6972 </span>    81 0/subop/add %esp 8/imm32
<span id="L6973" class="LineNr"> 6973 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L6974" class="LineNr"> 6974 </span>    5d/pop-to-ebp
<span id="L6975" class="LineNr"> 6975 </span>    c3/return
<span id="L6976" class="LineNr"> 6976 </span>
<span id="L6977" class="LineNr"> 6977 </span><span class="subxTest">test-index-with-offset-on-stack</span>:
<span id="L6978" class="LineNr"> 6978 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L6979" class="LineNr"> 6979 </span>    55/push-ebp
<span id="L6980" class="LineNr"> 6980 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L6981" class="LineNr"> 6981 </span>    <span class="subxComment"># setup</span>
<span id="L6982" class="LineNr"> 6982 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L6983" class="LineNr"> 6983 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L6984" class="LineNr"> 6984 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L6985" class="LineNr"> 6985 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L6986" class="LineNr"> 6986 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L6987" class="LineNr"> 6987 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L6988" class="LineNr"> 6988 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L6989" class="LineNr"> 6989 </span>    68/push 0/imm32
<span id="L6990" class="LineNr"> 6990 </span>    68/push 0/imm32
<span id="L6991" class="LineNr"> 6991 </span>    89/&lt;- %edx 4/r32/esp
<span id="L6992" class="LineNr"> 6992 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L6993" class="LineNr"> 6993 </span>    <span class="subxComment">#</span>
<span id="L6994" class="LineNr"> 6994 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L6995" class="LineNr"> 6995 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (addr array int) &lt;- copy 0\n&quot;</span>)
<span id="L6996" class="LineNr"> 6996 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b: int\n&quot;</span>)
<span id="L6997" class="LineNr"> 6997 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, b\n&quot;</span>)
<span id="L6998" class="LineNr"> 6998 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L6999" class="LineNr"> 6999 </span>    <span class="subxComment"># convert</span>
<span id="L7000" class="LineNr"> 7000 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7001" class="LineNr"> 7001 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7002" class="LineNr"> 7002 </span>    <span class="subxComment"># restore ed</span>
<span id="L7003" class="LineNr"> 7003 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7004" class="LineNr"> 7004 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7005" class="LineNr"> 7005 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7006" class="Folded"> 7006 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7012" class="LineNr"> 7012 </span>    <span class="subxComment"># check output</span>
<span id="L7013" class="LineNr"> 7013 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6977'>test-index-with-offset-on-stack</a>: output should be empty&quot;</span>)
<span id="L7014" class="LineNr"> 7014 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: second argument 'b' must be in a register&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L6977'>test-index-with-offset-on-stack</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7015" class="LineNr"> 7015 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7016" class="LineNr"> 7016 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L6977'>test-index-with-offset-on-stack</a>: exit status&quot;</span>)
<span id="L7017" class="LineNr"> 7017 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7018" class="LineNr"> 7018 </span>    81 0/subop/add %esp 8/imm32
<span id="L7019" class="LineNr"> 7019 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7020" class="LineNr"> 7020 </span>    5d/pop-to-ebp
<span id="L7021" class="LineNr"> 7021 </span>    c3/return
<span id="L7022" class="LineNr"> 7022 </span>
<span id="L7023" class="LineNr"> 7023 </span><span class="subxTest">test-index-needs-offset-type</span>:
<span id="L7024" class="LineNr"> 7024 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7025" class="LineNr"> 7025 </span>    55/push-ebp
<span id="L7026" class="LineNr"> 7026 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7027" class="LineNr"> 7027 </span>    <span class="subxComment"># setup</span>
<span id="L7028" class="LineNr"> 7028 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7029" class="LineNr"> 7029 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7030" class="LineNr"> 7030 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7031" class="LineNr"> 7031 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7032" class="LineNr"> 7032 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7033" class="LineNr"> 7033 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7034" class="LineNr"> 7034 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7035" class="LineNr"> 7035 </span>    68/push 0/imm32
<span id="L7036" class="LineNr"> 7036 </span>    68/push 0/imm32
<span id="L7037" class="LineNr"> 7037 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7038" class="LineNr"> 7038 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7039" class="LineNr"> 7039 </span>    <span class="subxComment">#</span>
<span id="L7040" class="LineNr"> 7040 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7041" class="LineNr"> 7041 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/eax: (addr array t) &lt;- copy 0\n&quot;</span>)
<span id="L7042" class="LineNr"> 7042 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/ebx: int &lt;- copy 0\n&quot;</span>)
<span id="L7043" class="LineNr"> 7043 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, b\n&quot;</span>)
<span id="L7044" class="LineNr"> 7044 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7045" class="LineNr"> 7045 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;type t {\n&quot;</span>)  <span class="subxComment"># size 12 is not a power of two</span>
<span id="L7046" class="LineNr"> 7046 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  x: int\n&quot;</span>)
<span id="L7047" class="LineNr"> 7047 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  y: int\n&quot;</span>)
<span id="L7048" class="LineNr"> 7048 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  z: int\n&quot;</span>)
<span id="L7049" class="LineNr"> 7049 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7050" class="LineNr"> 7050 </span>    <span class="subxComment"># convert</span>
<span id="L7051" class="LineNr"> 7051 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7052" class="LineNr"> 7052 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7053" class="LineNr"> 7053 </span>    <span class="subxComment"># restore ed</span>
<span id="L7054" class="LineNr"> 7054 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7055" class="LineNr"> 7055 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7056" class="LineNr"> 7056 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7057" class="Folded"> 7057 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7063" class="LineNr"> 7063 </span>    <span class="subxComment"># check output</span>
<span id="L7064" class="LineNr"> 7064 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7023'>test-index-needs-offset-type</a>: output should be empty&quot;</span>)
<span id="L7065" class="LineNr"> 7065 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: cannot take an int for array 'a'; create an offset instead. See mu.md for details.&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7023'>test-index-needs-offset-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7066" class="LineNr"> 7066 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7067" class="LineNr"> 7067 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7023'>test-index-needs-offset-type</a>: exit status&quot;</span>)
<span id="L7068" class="LineNr"> 7068 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7069" class="LineNr"> 7069 </span>    81 0/subop/add %esp 8/imm32
<span id="L7070" class="LineNr"> 7070 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7071" class="LineNr"> 7071 </span>    5d/pop-to-ebp
<span id="L7072" class="LineNr"> 7072 </span>    c3/return
<span id="L7073" class="LineNr"> 7073 </span>
<span id="L7074" class="LineNr"> 7074 </span><span class="subxTest">test-index-with-output-not-address</span>:
<span id="L7075" class="LineNr"> 7075 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7076" class="LineNr"> 7076 </span>    55/push-ebp
<span id="L7077" class="LineNr"> 7077 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7078" class="LineNr"> 7078 </span>    <span class="subxComment"># setup</span>
<span id="L7079" class="LineNr"> 7079 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7080" class="LineNr"> 7080 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7081" class="LineNr"> 7081 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7082" class="LineNr"> 7082 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7083" class="LineNr"> 7083 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7084" class="LineNr"> 7084 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7085" class="LineNr"> 7085 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7086" class="LineNr"> 7086 </span>    68/push 0/imm32
<span id="L7087" class="LineNr"> 7087 </span>    68/push 0/imm32
<span id="L7088" class="LineNr"> 7088 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7089" class="LineNr"> 7089 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7090" class="LineNr"> 7090 </span>    <span class="subxComment">#</span>
<span id="L7091" class="LineNr"> 7091 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7092" class="LineNr"> 7092 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/ebx: (addr array boolean) &lt;- copy 0\n&quot;</span>)
<span id="L7093" class="LineNr"> 7093 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var o/edi: int &lt;- index a, 0\n&quot;</span>)
<span id="L7094" class="LineNr"> 7094 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7095" class="LineNr"> 7095 </span>    <span class="subxComment"># convert</span>
<span id="L7096" class="LineNr"> 7096 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7097" class="LineNr"> 7097 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7098" class="LineNr"> 7098 </span>    <span class="subxComment"># restore ed</span>
<span id="L7099" class="LineNr"> 7099 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7100" class="LineNr"> 7100 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7101" class="LineNr"> 7101 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7102" class="Folded"> 7102 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7108" class="LineNr"> 7108 </span>    <span class="subxComment"># check output</span>
<span id="L7109" class="LineNr"> 7109 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7074'>test-index-with-output-not-address</a>: output should be empty&quot;</span>)
<span id="L7110" class="LineNr"> 7110 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: output 'o' must be an address&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7074'>test-index-with-output-not-address</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7111" class="LineNr"> 7111 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7112" class="LineNr"> 7112 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7074'>test-index-with-output-not-address</a>: exit status&quot;</span>)
<span id="L7113" class="LineNr"> 7113 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7114" class="LineNr"> 7114 </span>    81 0/subop/add %esp 8/imm32
<span id="L7115" class="LineNr"> 7115 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7116" class="LineNr"> 7116 </span>    5d/pop-to-ebp
<span id="L7117" class="LineNr"> 7117 </span>    c3/return
<span id="L7118" class="LineNr"> 7118 </span>
<span id="L7119" class="LineNr"> 7119 </span><span class="subxTest">test-index-with-output-not-address-2</span>:
<span id="L7120" class="LineNr"> 7120 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7121" class="LineNr"> 7121 </span>    55/push-ebp
<span id="L7122" class="LineNr"> 7122 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7123" class="LineNr"> 7123 </span>    <span class="subxComment"># setup</span>
<span id="L7124" class="LineNr"> 7124 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7125" class="LineNr"> 7125 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7126" class="LineNr"> 7126 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7127" class="LineNr"> 7127 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7128" class="LineNr"> 7128 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7129" class="LineNr"> 7129 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7130" class="LineNr"> 7130 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7131" class="LineNr"> 7131 </span>    68/push 0/imm32
<span id="L7132" class="LineNr"> 7132 </span>    68/push 0/imm32
<span id="L7133" class="LineNr"> 7133 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7134" class="LineNr"> 7134 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7135" class="LineNr"> 7135 </span>    <span class="subxComment">#</span>
<span id="L7136" class="LineNr"> 7136 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7137" class="LineNr"> 7137 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/ebx: (addr array boolean) &lt;- copy 0\n&quot;</span>)
<span id="L7138" class="LineNr"> 7138 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var o/edi: (int) &lt;- index a, 0\n&quot;</span>)
<span id="L7139" class="LineNr"> 7139 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7140" class="LineNr"> 7140 </span>    <span class="subxComment"># convert</span>
<span id="L7141" class="LineNr"> 7141 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7142" class="LineNr"> 7142 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7143" class="LineNr"> 7143 </span>    <span class="subxComment"># restore ed</span>
<span id="L7144" class="LineNr"> 7144 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7145" class="LineNr"> 7145 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7146" class="LineNr"> 7146 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7147" class="Folded"> 7147 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7153" class="LineNr"> 7153 </span>    <span class="subxComment"># check output</span>
<span id="L7154" class="LineNr"> 7154 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7119'>test-index-with-output-not-address-2</a>: output should be empty&quot;</span>)
<span id="L7155" class="LineNr"> 7155 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: output 'o' must be an address&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7119'>test-index-with-output-not-address-2</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7156" class="LineNr"> 7156 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7157" class="LineNr"> 7157 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7119'>test-index-with-output-not-address-2</a>: exit status&quot;</span>)
<span id="L7158" class="LineNr"> 7158 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7159" class="LineNr"> 7159 </span>    81 0/subop/add %esp 8/imm32
<span id="L7160" class="LineNr"> 7160 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7161" class="LineNr"> 7161 </span>    5d/pop-to-ebp
<span id="L7162" class="LineNr"> 7162 </span>    c3/return
<span id="L7163" class="LineNr"> 7163 </span>
<span id="L7164" class="LineNr"> 7164 </span><span class="subxTest">test-index-with-wrong-output-type</span>:
<span id="L7165" class="LineNr"> 7165 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7166" class="LineNr"> 7166 </span>    55/push-ebp
<span id="L7167" class="LineNr"> 7167 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7168" class="LineNr"> 7168 </span>    <span class="subxComment"># setup</span>
<span id="L7169" class="LineNr"> 7169 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7170" class="LineNr"> 7170 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7171" class="LineNr"> 7171 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7172" class="LineNr"> 7172 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7173" class="LineNr"> 7173 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7174" class="LineNr"> 7174 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7175" class="LineNr"> 7175 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7176" class="LineNr"> 7176 </span>    68/push 0/imm32
<span id="L7177" class="LineNr"> 7177 </span>    68/push 0/imm32
<span id="L7178" class="LineNr"> 7178 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7179" class="LineNr"> 7179 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7180" class="LineNr"> 7180 </span>    <span class="subxComment">#</span>
<span id="L7181" class="LineNr"> 7181 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7182" class="LineNr"> 7182 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/ebx: (addr array boolean) &lt;- copy 0\n&quot;</span>)
<span id="L7183" class="LineNr"> 7183 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var o/edi: (addr int) &lt;- index a, 0\n&quot;</span>)
<span id="L7184" class="LineNr"> 7184 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7185" class="LineNr"> 7185 </span>    <span class="subxComment"># convert</span>
<span id="L7186" class="LineNr"> 7186 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7187" class="LineNr"> 7187 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7188" class="LineNr"> 7188 </span>    <span class="subxComment"># restore ed</span>
<span id="L7189" class="LineNr"> 7189 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7190" class="LineNr"> 7190 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7191" class="LineNr"> 7191 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7192" class="Folded"> 7192 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7198" class="LineNr"> 7198 </span>    <span class="subxComment"># check output</span>
<span id="L7199" class="LineNr"> 7199 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7164'>test-index-with-wrong-output-type</a>: output should be empty&quot;</span>)
<span id="L7200" class="LineNr"> 7200 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: output 'o' does not have the right type&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7164'>test-index-with-wrong-output-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7201" class="LineNr"> 7201 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7202" class="LineNr"> 7202 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7164'>test-index-with-wrong-output-type</a>: exit status&quot;</span>)
<span id="L7203" class="LineNr"> 7203 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7204" class="LineNr"> 7204 </span>    81 0/subop/add %esp 8/imm32
<span id="L7205" class="LineNr"> 7205 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7206" class="LineNr"> 7206 </span>    5d/pop-to-ebp
<span id="L7207" class="LineNr"> 7207 </span>    c3/return
<span id="L7208" class="LineNr"> 7208 </span>
<span id="L7209" class="LineNr"> 7209 </span><span class="subxTest">test-index-with-wrong-output-compound-type</span>:
<span id="L7210" class="LineNr"> 7210 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7211" class="LineNr"> 7211 </span>    55/push-ebp
<span id="L7212" class="LineNr"> 7212 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7213" class="LineNr"> 7213 </span>    <span class="subxComment"># setup</span>
<span id="L7214" class="LineNr"> 7214 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7215" class="LineNr"> 7215 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7216" class="LineNr"> 7216 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7217" class="LineNr"> 7217 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7218" class="LineNr"> 7218 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7219" class="LineNr"> 7219 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7220" class="LineNr"> 7220 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7221" class="LineNr"> 7221 </span>    68/push 0/imm32
<span id="L7222" class="LineNr"> 7222 </span>    68/push 0/imm32
<span id="L7223" class="LineNr"> 7223 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7224" class="LineNr"> 7224 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7225" class="LineNr"> 7225 </span>    <span class="subxComment">#</span>
<span id="L7226" class="LineNr"> 7226 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7227" class="LineNr"> 7227 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a/ebx: (addr array handle boolean) &lt;- copy 0\n&quot;</span>)
<span id="L7228" class="LineNr"> 7228 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var o/edi: (addr handle int) &lt;- index a, 0\n&quot;</span>)
<span id="L7229" class="LineNr"> 7229 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7230" class="LineNr"> 7230 </span>    <span class="subxComment"># convert</span>
<span id="L7231" class="LineNr"> 7231 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7232" class="LineNr"> 7232 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7233" class="LineNr"> 7233 </span>    <span class="subxComment"># restore ed</span>
<span id="L7234" class="LineNr"> 7234 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7235" class="LineNr"> 7235 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7236" class="LineNr"> 7236 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7237" class="Folded"> 7237 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7243" class="LineNr"> 7243 </span>    <span class="subxComment"># check output</span>
<span id="L7244" class="LineNr"> 7244 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7209'>test-index-with-wrong-output-compound-type</a>: output should be empty&quot;</span>)
<span id="L7245" class="LineNr"> 7245 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: output 'o' does not have the right type&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7209'>test-index-with-wrong-output-compound-type</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7246" class="LineNr"> 7246 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7247" class="LineNr"> 7247 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7209'>test-index-with-wrong-output-compound-type</a>: exit status&quot;</span>)
<span id="L7248" class="LineNr"> 7248 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7249" class="LineNr"> 7249 </span>    81 0/subop/add %esp 8/imm32
<span id="L7250" class="LineNr"> 7250 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7251" class="LineNr"> 7251 </span>    5d/pop-to-ebp
<span id="L7252" class="LineNr"> 7252 </span>    c3/return
<span id="L7253" class="LineNr"> 7253 </span>
<span id="L7254" class="LineNr"> 7254 </span><span class="subxTest">test-index-with-no-inouts</span>:
<span id="L7255" class="LineNr"> 7255 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7256" class="LineNr"> 7256 </span>    55/push-ebp
<span id="L7257" class="LineNr"> 7257 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7258" class="LineNr"> 7258 </span>    <span class="subxComment"># setup</span>
<span id="L7259" class="LineNr"> 7259 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7260" class="LineNr"> 7260 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7261" class="LineNr"> 7261 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7262" class="LineNr"> 7262 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7263" class="LineNr"> 7263 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7264" class="LineNr"> 7264 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7265" class="LineNr"> 7265 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7266" class="LineNr"> 7266 </span>    68/push 0/imm32
<span id="L7267" class="LineNr"> 7267 </span>    68/push 0/imm32
<span id="L7268" class="LineNr"> 7268 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7269" class="LineNr"> 7269 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7270" class="LineNr"> 7270 </span>    <span class="subxComment">#</span>
<span id="L7271" class="LineNr"> 7271 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7272" class="LineNr"> 7272 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index\n&quot;</span>)
<span id="L7273" class="LineNr"> 7273 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7274" class="LineNr"> 7274 </span>    <span class="subxComment"># convert</span>
<span id="L7275" class="LineNr"> 7275 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7276" class="LineNr"> 7276 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7277" class="LineNr"> 7277 </span>    <span class="subxComment"># restore ed</span>
<span id="L7278" class="LineNr"> 7278 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7279" class="LineNr"> 7279 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7280" class="LineNr"> 7280 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7281" class="Folded"> 7281 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7287" class="LineNr"> 7287 </span>    <span class="subxComment"># check output</span>
<span id="L7288" class="LineNr"> 7288 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7254'>test-index-with-no-inouts</a>: output should be empty&quot;</span>)
<span id="L7289" class="LineNr"> 7289 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: too few inouts (2 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7254'>test-index-with-no-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7290" class="LineNr"> 7290 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7291" class="LineNr"> 7291 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7254'>test-index-with-no-inouts</a>: exit status&quot;</span>)
<span id="L7292" class="LineNr"> 7292 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7293" class="LineNr"> 7293 </span>    81 0/subop/add %esp 8/imm32
<span id="L7294" class="LineNr"> 7294 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7295" class="LineNr"> 7295 </span>    5d/pop-to-ebp
<span id="L7296" class="LineNr"> 7296 </span>    c3/return
<span id="L7297" class="LineNr"> 7297 </span>
<span id="L7298" class="LineNr"> 7298 </span><span class="subxTest">test-index-with-too-few-inouts</span>:
<span id="L7299" class="LineNr"> 7299 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7300" class="LineNr"> 7300 </span>    55/push-ebp
<span id="L7301" class="LineNr"> 7301 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7302" class="LineNr"> 7302 </span>    <span class="subxComment"># setup</span>
<span id="L7303" class="LineNr"> 7303 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7304" class="LineNr"> 7304 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7305" class="LineNr"> 7305 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7306" class="LineNr"> 7306 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7307" class="LineNr"> 7307 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7308" class="LineNr"> 7308 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7309" class="LineNr"> 7309 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7310" class="LineNr"> 7310 </span>    68/push 0/imm32
<span id="L7311" class="LineNr"> 7311 </span>    68/push 0/imm32
<span id="L7312" class="LineNr"> 7312 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7313" class="LineNr"> 7313 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7314" class="LineNr"> 7314 </span>    <span class="subxComment">#</span>
<span id="L7315" class="LineNr"> 7315 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7316" class="LineNr"> 7316 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (array int 3)\n&quot;</span>)
<span id="L7317" class="LineNr"> 7317 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a\n&quot;</span>)
<span id="L7318" class="LineNr"> 7318 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7319" class="LineNr"> 7319 </span>    <span class="subxComment"># convert</span>
<span id="L7320" class="LineNr"> 7320 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7321" class="LineNr"> 7321 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7322" class="LineNr"> 7322 </span>    <span class="subxComment"># restore ed</span>
<span id="L7323" class="LineNr"> 7323 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7324" class="LineNr"> 7324 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7325" class="LineNr"> 7325 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7326" class="Folded"> 7326 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7332" class="LineNr"> 7332 </span>    <span class="subxComment"># check output</span>
<span id="L7333" class="LineNr"> 7333 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7298'>test-index-with-too-few-inouts</a>: output should be empty&quot;</span>)
<span id="L7334" class="LineNr"> 7334 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: too few inouts (2 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7298'>test-index-with-too-few-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7335" class="LineNr"> 7335 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7336" class="LineNr"> 7336 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7298'>test-index-with-too-few-inouts</a>: exit status&quot;</span>)
<span id="L7337" class="LineNr"> 7337 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7338" class="LineNr"> 7338 </span>    81 0/subop/add %esp 8/imm32
<span id="L7339" class="LineNr"> 7339 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7340" class="LineNr"> 7340 </span>    5d/pop-to-ebp
<span id="L7341" class="LineNr"> 7341 </span>    c3/return
<span id="L7342" class="LineNr"> 7342 </span>
<span id="L7343" class="LineNr"> 7343 </span><span class="subxTest">test-index-with-too-many-inouts</span>:
<span id="L7344" class="LineNr"> 7344 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7345" class="LineNr"> 7345 </span>    55/push-ebp
<span id="L7346" class="LineNr"> 7346 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7347" class="LineNr"> 7347 </span>    <span class="subxComment"># setup</span>
<span id="L7348" class="LineNr"> 7348 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7349" class="LineNr"> 7349 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7350" class="LineNr"> 7350 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7351" class="LineNr"> 7351 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7352" class="LineNr"> 7352 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7353" class="LineNr"> 7353 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7354" class="LineNr"> 7354 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7355" class="LineNr"> 7355 </span>    68/push 0/imm32
<span id="L7356" class="LineNr"> 7356 </span>    68/push 0/imm32
<span id="L7357" class="LineNr"> 7357 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7358" class="LineNr"> 7358 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7359" class="LineNr"> 7359 </span>    <span class="subxComment">#</span>
<span id="L7360" class="LineNr"> 7360 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7361" class="LineNr"> 7361 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (array int 3)\n&quot;</span>)
<span id="L7362" class="LineNr"> 7362 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- index a, 0, 0\n&quot;</span>)
<span id="L7363" class="LineNr"> 7363 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7364" class="LineNr"> 7364 </span>    <span class="subxComment"># convert</span>
<span id="L7365" class="LineNr"> 7365 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7366" class="LineNr"> 7366 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7367" class="LineNr"> 7367 </span>    <span class="subxComment"># restore ed</span>
<span id="L7368" class="LineNr"> 7368 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7369" class="LineNr"> 7369 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7370" class="LineNr"> 7370 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7371" class="Folded"> 7371 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7377" class="LineNr"> 7377 </span>    <span class="subxComment"># check output</span>
<span id="L7378" class="LineNr"> 7378 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7343'>test-index-with-too-many-inouts</a>: output should be empty&quot;</span>)
<span id="L7379" class="LineNr"> 7379 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: too many inouts (2 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7343'>test-index-with-too-many-inouts</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7380" class="LineNr"> 7380 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7381" class="LineNr"> 7381 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7343'>test-index-with-too-many-inouts</a>: exit status&quot;</span>)
<span id="L7382" class="LineNr"> 7382 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7383" class="LineNr"> 7383 </span>    81 0/subop/add %esp 8/imm32
<span id="L7384" class="LineNr"> 7384 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7385" class="LineNr"> 7385 </span>    5d/pop-to-ebp
<span id="L7386" class="LineNr"> 7386 </span>    c3/return
<span id="L7387" class="LineNr"> 7387 </span>
<span id="L7388" class="LineNr"> 7388 </span><span class="subxTest">test-index-with-no-output</span>:
<span id="L7389" class="LineNr"> 7389 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7390" class="LineNr"> 7390 </span>    55/push-ebp
<span id="L7391" class="LineNr"> 7391 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7392" class="LineNr"> 7392 </span>    <span class="subxComment"># setup</span>
<span id="L7393" class="LineNr"> 7393 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7394" class="LineNr"> 7394 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7395" class="LineNr"> 7395 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7396" class="LineNr"> 7396 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7397" class="LineNr"> 7397 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7398" class="LineNr"> 7398 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7399" class="LineNr"> 7399 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7400" class="LineNr"> 7400 </span>    68/push 0/imm32
<span id="L7401" class="LineNr"> 7401 </span>    68/push 0/imm32
<span id="L7402" class="LineNr"> 7402 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7403" class="LineNr"> 7403 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7404" class="LineNr"> 7404 </span>    <span class="subxComment">#</span>
<span id="L7405" class="LineNr"> 7405 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7406" class="LineNr"> 7406 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (array int 3)\n&quot;</span>)
<span id="L7407" class="LineNr"> 7407 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  index a, 0\n&quot;</span>)
<span id="L7408" class="LineNr"> 7408 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7409" class="LineNr"> 7409 </span>    <span class="subxComment"># convert</span>
<span id="L7410" class="LineNr"> 7410 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7411" class="LineNr"> 7411 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7412" class="LineNr"> 7412 </span>    <span class="subxComment"># restore ed</span>
<span id="L7413" class="LineNr"> 7413 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7414" class="LineNr"> 7414 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7415" class="LineNr"> 7415 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7416" class="Folded"> 7416 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7422" class="LineNr"> 7422 </span>    <span class="subxComment"># check output</span>
<span id="L7423" class="LineNr"> 7423 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7388'>test-index-with-no-output</a>: output should be empty&quot;</span>)
<span id="L7424" class="LineNr"> 7424 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: must have an output&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7388'>test-index-with-no-output</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7425" class="LineNr"> 7425 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7426" class="LineNr"> 7426 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7388'>test-index-with-no-output</a>: exit status&quot;</span>)
<span id="L7427" class="LineNr"> 7427 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7428" class="LineNr"> 7428 </span>    81 0/subop/add %esp 8/imm32
<span id="L7429" class="LineNr"> 7429 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7430" class="LineNr"> 7430 </span>    5d/pop-to-ebp
<span id="L7431" class="LineNr"> 7431 </span>    c3/return
<span id="L7432" class="LineNr"> 7432 </span>
<span id="L7433" class="LineNr"> 7433 </span><span class="subxTest">test-index-with-too-many-outputs</span>:
<span id="L7434" class="LineNr"> 7434 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7435" class="LineNr"> 7435 </span>    55/push-ebp
<span id="L7436" class="LineNr"> 7436 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7437" class="LineNr"> 7437 </span>    <span class="subxComment"># setup</span>
<span id="L7438" class="LineNr"> 7438 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L7439" class="LineNr"> 7439 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-input-buffered-file-&gt;buffer)
<span id="L7440" class="LineNr"> 7440 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L7441" class="LineNr"> 7441 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L7442" class="LineNr"> 7442 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>)
<span id="L7443" class="LineNr"> 7443 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-error-buffered-file-&gt;buffer)
<span id="L7444" class="LineNr"> 7444 </span>    <span class="subxComment"># var ed/edx: exit-descriptor = tailor-exit-descriptor(16)</span>
<span id="L7445" class="LineNr"> 7445 </span>    68/push 0/imm32
<span id="L7446" class="LineNr"> 7446 </span>    68/push 0/imm32
<span id="L7447" class="LineNr"> 7447 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7448" class="LineNr"> 7448 </span>    (<a href='../110stop.subx.html#L44'>tailor-exit-descriptor</a> %edx 0x10)
<span id="L7449" class="LineNr"> 7449 </span>    <span class="subxComment">#</span>
<span id="L7450" class="LineNr"> 7450 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;fn foo {\n&quot;</span>)
<span id="L7451" class="LineNr"> 7451 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var a: (array int 3)\n&quot;</span>)
<span id="L7452" class="LineNr"> 7452 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var b/eax: (addr int) &lt;- copy 0\n&quot;</span>)
<span id="L7453" class="LineNr"> 7453 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  var c/ecx: (addr int) &lt;- copy 0\n&quot;</span>)
<span id="L7454" class="LineNr"> 7454 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;  b, c &lt;- index a, 0\n&quot;</span>)
<span id="L7455" class="LineNr"> 7455 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;}\n&quot;</span>)
<span id="L7456" class="LineNr"> 7456 </span>    <span class="subxComment"># convert</span>
<span id="L7457" class="LineNr"> 7457 </span>    (<a href='mu.subx.html#L500'>convert-mu</a> <a href='../112read-byte.subx.html#L357'>_test-input-buffered-file</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a> %edx)
<span id="L7458" class="LineNr"> 7458 </span>    <span class="subxComment"># registers except esp clobbered at this point</span>
<span id="L7459" class="LineNr"> 7459 </span>    <span class="subxComment"># restore ed</span>
<span id="L7460" class="LineNr"> 7460 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7461" class="LineNr"> 7461 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L7462" class="LineNr"> 7462 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L390'>_test-error-buffered-file</a>)
<span id="L7463" class="Folded"> 7463 </span><span class="Folded">+--  6 lines: #?     # dump _test-error-stream ---------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7469" class="LineNr"> 7469 </span>    <span class="subxComment"># check output</span>
<span id="L7470" class="LineNr"> 7470 </span>    (<a href='../109stream-equal.subx.html#L194'>check-stream-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>  <span class="Constant">&quot;&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7433'>test-index-with-too-many-outputs</a>: output should be empty&quot;</span>)
<span id="L7471" class="LineNr"> 7471 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L372'>_test-error-stream</a>  <span class="Constant">&quot;fn foo: stmt index: too many outputs (1 required)&quot;</span>  <span class="Constant">&quot;F - <a href='mu.subx.html#L7433'>test-index-with-too-many-outputs</a>: <a href='../114error.subx.html#L9'>error</a> message&quot;</span>)
<span id="L7472" class="LineNr"> 7472 </span>    <span class="subxComment"># check that stop(1) was called</span>
<span id="L7473" class="LineNr"> 7473 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L7433'>test-index-with-too-many-outputs</a>: exit status&quot;</span>)
<span id="L7474" class="LineNr"> 7474 </span>    <span class="subxComment"># don't restore from ebp</span>
<span id="L7475" class="LineNr"> 7475 </span>    81 0/subop/add %esp 8/imm32
<span id="L7476" class="LineNr"> 7476 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7477" class="LineNr"> 7477 </span>    5d/pop-to-ebp
<span id="L7478" class="LineNr"> 7478 </span>    c3/return
<span id="L7479" class="LineNr"> 7479 </span>
<span id="L7480" class="LineNr"> 7480 </span><span class="subxComment">#######################################################</span>
<span id="L7481" class="LineNr"> 7481 </span><span class="subxComment"># Parsing</span>
<span id="L7482" class="LineNr"> 7482 </span><span class="subxComment">#######################################################</span>
<span id="L7483" class="LineNr"> 7483 </span>
<span id="L7484" class="LineNr"> 7484 </span>== data
<span id="L7485" class="LineNr"> 7485 </span>
<span id="L7486" class="LineNr"> 7486 </span><span class="subxComment"># Global state added to each var record when parsing a function</span>
<span id="L7487" class="LineNr"> 7487 </span><span class="SpecialChar">Next-block-index</span>:  <span class="subxComment"># (addr int)</span>
<span id="L7488" class="LineNr"> 7488 </span>    1/imm32
<span id="L7489" class="LineNr"> 7489 </span>
<span id="L7490" class="LineNr"> 7490 </span><span class="SpecialChar">Curr-block-depth</span>:  <span class="subxComment"># (addr int)</span>
<span id="L7491" class="LineNr"> 7491 </span>    1/imm32
<span id="L7492" class="LineNr"> 7492 </span>
<span id="L7493" class="LineNr"> 7493 </span>== code
<span id="L7494" class="LineNr"> 7494 </span>
<span id="L7495" class="LineNr"> 7495 </span><span class="subxFunction">parse-mu</span>:  <span class="subxComment"># in: (addr buffered-file), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L7496" class="LineNr"> 7496 </span>    <span class="subxComment"># pseudocode</span>
<span id="L7497" class="LineNr"> 7497 </span>    <span class="subxComment">#   var curr-function: (addr handle function) = Program-&gt;functions</span>
<span id="L7498" class="LineNr"> 7498 </span>    <span class="subxComment">#   var curr-signature: (addr handle function) = Program-&gt;signatures</span>
<span id="L7499" class="LineNr"> 7499 </span>    <span class="subxComment">#   var curr-type: (addr handle typeinfo) = Program-&gt;types</span>
<span id="L7500" class="LineNr"> 7500 </span>    <span class="subxComment">#   var line: (stream byte 512)</span>
<span id="L7501" class="LineNr"> 7501 </span>    <span class="subxComment">#   var word-slice: slice</span>
<span id="L7502" class="LineNr"> 7502 </span>    <span class="subxComment">#   while true                                  # line loop</span>
<span id="L7503" class="LineNr"> 7503 </span>    <span class="subxComment">#     clear-stream(line)</span>
<span id="L7504" class="LineNr"> 7504 </span>    <span class="subxComment">#     read-line-buffered(in, line)</span>
<span id="L7505" class="LineNr"> 7505 </span>    <span class="subxComment">#     if (line-&gt;write == 0) break               # end of file</span>
<span id="L7506" class="LineNr"> 7506 </span>    <span class="subxComment">#     word-slice = next-mu-token(line)</span>
<span id="L7507" class="LineNr"> 7507 </span>    <span class="subxComment">#     if slice-empty?(word-slice)               # end of line</span>
<span id="L7508" class="LineNr"> 7508 </span>    <span class="subxComment">#       continue</span>
<span id="L7509" class="LineNr"> 7509 </span>    <span class="subxComment">#     else if slice-starts-with?(word-slice, &quot;#&quot;)  # comment</span>
<span id="L7510" class="LineNr"> 7510 </span>    <span class="subxComment">#       continue                                # end of line</span>
<span id="L7511" class="LineNr"> 7511 </span>    <span class="subxComment">#     else if slice-equal?(word-slice, &quot;fn&quot;)</span>
<span id="L7512" class="LineNr"> 7512 </span>    <span class="subxComment">#       var new-function: (handle function) = allocate(function)</span>
<span id="L7513" class="LineNr"> 7513 </span>    <span class="subxComment">#       var vars: (stack live-var 256)</span>
<span id="L7514" class="LineNr"> 7514 </span>    <span class="subxComment">#       populate-mu-function-header(line, new-function, vars)</span>
<span id="L7515" class="LineNr"> 7515 </span>    <span class="subxComment">#       populate-mu-function-body(in, new-function, vars)</span>
<span id="L7516" class="LineNr"> 7516 </span>    <span class="subxComment">#       assert(vars-&gt;top == 0)</span>
<span id="L7517" class="LineNr"> 7517 </span>    <span class="subxComment">#       *curr-function = new-function</span>
<span id="L7518" class="LineNr"> 7518 </span>    <span class="subxComment">#       curr-function = &amp;new-function-&gt;next</span>
<span id="L7519" class="LineNr"> 7519 </span>    <span class="subxComment">#     else if slice-equal?(word-slice, &quot;sig&quot;)</span>
<span id="L7520" class="LineNr"> 7520 </span>    <span class="subxComment">#       var new-function: (handle function) = allocate(function)</span>
<span id="L7521" class="LineNr"> 7521 </span>    <span class="subxComment">#       populate-mu-function-signature(line, new-function)</span>
<span id="L7522" class="LineNr"> 7522 </span>    <span class="subxComment">#       *curr-signature = new-function</span>
<span id="L7523" class="LineNr"> 7523 </span>    <span class="subxComment">#       curr-signature = &amp;new-function-&gt;next</span>
<span id="L7524" class="LineNr"> 7524 </span>    <span class="subxComment">#     else if slice-equal?(word-slice, &quot;type&quot;)</span>
<span id="L7525" class="LineNr"> 7525 </span>    <span class="subxComment">#       word-slice = next-mu-token(line)</span>
<span id="L7526" class="LineNr"> 7526 </span>    <span class="subxComment">#       type-id = pos-or-insert-slice(Type-id, word-slice)</span>
<span id="L7527" class="LineNr"> 7527 </span>    <span class="subxComment">#       var new-type: (handle typeinfo) = find-or-create-typeinfo(type-id)</span>
<span id="L7528" class="LineNr"> 7528 </span>    <span class="subxComment">#       assert(next-word(line) == &quot;{&quot;)</span>
<span id="L7529" class="LineNr"> 7529 </span>    <span class="subxComment">#       populate-mu-type(in, new-type)</span>
<span id="L7530" class="LineNr"> 7530 </span>    <span class="subxComment">#     else</span>
<span id="L7531" class="LineNr"> 7531 </span>    <span class="subxComment">#       abort()</span>
<span id="L7532" class="LineNr"> 7532 </span>    <span class="subxComment">#</span>
<span id="L7533" class="LineNr"> 7533 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7534" class="LineNr"> 7534 </span>    55/push-ebp
<span id="L7535" class="LineNr"> 7535 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7536" class="LineNr"> 7536 </span>    <span class="subxComment"># var curr-signature: (addr handle function) at *(ebp-4)</span>
<span id="L7537" class="LineNr"> 7537 </span>    68/push <a href='mu.subx.html#L247'>_Program-signatures</a>/imm32
<span id="L7538" class="LineNr"> 7538 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L7539" class="LineNr"> 7539 </span>    50/push-eax
<span id="L7540" class="LineNr"> 7540 </span>    51/push-ecx
<span id="L7541" class="LineNr"> 7541 </span>    52/push-edx
<span id="L7542" class="LineNr"> 7542 </span>    53/push-ebx
<span id="L7543" class="LineNr"> 7543 </span>    56/push-esi
<span id="L7544" class="LineNr"> 7544 </span>    57/push-edi
<span id="L7545" class="LineNr"> 7545 </span>    <span class="subxComment"># var line/ecx: (stream byte 512)</span>
<span id="L7546" class="LineNr"> 7546 </span>    81 5/subop/subtract %esp 0x200/imm32
<span id="L7547" class="LineNr"> 7547 </span>    68/push 0x200/imm32/size
<span id="L7548" class="LineNr"> 7548 </span>    68/push 0/imm32/read
<span id="L7549" class="LineNr"> 7549 </span>    68/push 0/imm32/write
<span id="L7550" class="LineNr"> 7550 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L7551" class="LineNr"> 7551 </span>    <span class="subxComment"># var word-slice/edx: slice</span>
<span id="L7552" class="LineNr"> 7552 </span>    68/push 0/imm32/end
<span id="L7553" class="LineNr"> 7553 </span>    68/push 0/imm32/start
<span id="L7554" class="LineNr"> 7554 </span>    89/&lt;- %edx 4/r32/esp
<span id="L7555" class="LineNr"> 7555 </span>    <span class="subxComment"># var curr-function/edi: (addr handle function)</span>
<span id="L7556" class="LineNr"> 7556 </span>    bf/copy-to-edi <a href='mu.subx.html#L239'>_Program-functions</a>/imm32
<span id="L7557" class="LineNr"> 7557 </span>    <span class="subxComment"># var vars/ebx: (stack live-var 256)</span>
<span id="L7558" class="LineNr"> 7558 </span>    81 5/subop/subtract %esp 0xc00/imm32
<span id="L7559" class="LineNr"> 7559 </span>    68/push 0xc00/imm32/size
<span id="L7560" class="LineNr"> 7560 </span>    68/push 0/imm32/top
<span id="L7561" class="LineNr"> 7561 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L7562" class="LineNr"> 7562 </span>    {
<span id="L7563" class="LineNr"> 7563 </span><span class="Constant">$parse-mu:line-loop</span>:
<span id="L7564" class="LineNr"> 7564 </span>      (<a href='../106stream.subx.html#L17'>clear-stream</a> %ecx)
<span id="L7565" class="LineNr"> 7565 </span>      (<a href='../122read-line.subx.html#L9'>read-line-buffered</a> *(ebp+8) %ecx)
<span id="L7566" class="LineNr"> 7566 </span>      <span class="subxComment"># if (line-&gt;write == 0) break</span>
<span id="L7567" class="LineNr"> 7567 </span>      81 7/subop/compare *ecx 0/imm32
<span id="L7568" class="LineNr"> 7568 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L7569" class="Folded"> 7569 </span><span class="Folded">+--  6 lines: #?       # dump line ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L7575" class="LineNr"> 7575 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> %ecx %edx)
<span id="L7576" class="LineNr"> 7576 </span>      <span class="subxComment"># if slice-empty?(word-slice) continue</span>
<span id="L7577" class="LineNr"> 7577 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L7578" class="LineNr"> 7578 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7579" class="LineNr"> 7579 </span>      0f 85/jump-if-!= <span class="Constant">loop</span>/disp32
<span id="L7580" class="LineNr"> 7580 </span>      <span class="subxComment"># if (*word-slice-&gt;start == &quot;#&quot;) continue</span>
<span id="L7581" class="LineNr"> 7581 </span>      <span class="subxS1Comment"># . eax = *word-slice-&gt;start</span>
<span id="L7582" class="LineNr"> 7582 </span>      8b/-&gt; *edx 0/r32/eax
<span id="L7583" class="LineNr"> 7583 </span>      8a/copy-byte *eax 0/r32/AL
<span id="L7584" class="LineNr"> 7584 </span>      81 4/subop/and %eax 0xff/imm32
<span id="L7585" class="LineNr"> 7585 </span>      <span class="subxS1Comment"># . if (eax == '#') continue</span>
<span id="L7586" class="LineNr"> 7586 </span>      3d/compare-eax-and 0x23/imm32/hash
<span id="L7587" class="LineNr"> 7587 </span>      0f 84/jump-if-= <span class="Constant">loop</span>/disp32
<span id="L7588" class="LineNr"> 7588 </span>      <span class="subxComment"># if (slice-equal?(word-slice, &quot;fn&quot;)) parse a function</span>
<span id="L7589" class="LineNr"> 7589 </span>      {
<span id="L7590" class="LineNr"> 7590 </span><span class="Constant">$parse-mu:fn</span>:
<span id="L7591" class="LineNr"> 7591 </span>        (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;fn&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L7592" class="LineNr"> 7592 </span>        3d/compare-eax-and 0/imm32/false
<span id="L7593" class="LineNr"> 7593 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L7594" class="LineNr"> 7594 </span>        <span class="subxComment"># var new-function/esi: (handle function)</span>
<span id="L7595" class="LineNr"> 7595 </span>        68/push 0/imm32
<span id="L7596" class="LineNr"> 7596 </span>        68/push 0/imm32
<span id="L7597" class="LineNr"> 7597 </span>        89/&lt;- %esi 4/r32/esp
<span id="L7598" class="LineNr"> 7598 </span>        <span class="subxComment"># populate-mu-function(line, in, vars, new-function)</span>
<span id="L7599" class="LineNr"> 7599 </span>        (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span> %esi)
<span id="L7600" class="LineNr"> 7600 </span>        <span class="subxComment"># var new-function-addr/eax: (addr function)</span>
<span id="L7601" class="LineNr"> 7601 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7602" class="LineNr"> 7602 </span>        <span class="subxComment"># initialize vars</span>
<span id="L7603" class="LineNr"> 7603 </span>        (<a href='../203stack.subx.html#L13'>clear-stack</a> %ebx)
<span id="L7604" class="LineNr"> 7604 </span>        <span class="subxComment">#</span>
<span id="L7605" class="LineNr"> 7605 </span>        (<a href='mu.subx.html#L7744'>populate-mu-function-header</a> %ecx %eax %ebx *(ebp+0xc) *(ebp+0x10))
<span id="L7606" class="LineNr"> 7606 </span>        (<a href='mu.subx.html#L9414'>populate-mu-function-body</a> *(ebp+8) %eax %ebx *(ebp+0xc) *(ebp+0x10))
<span id="L7607" class="LineNr"> 7607 </span>        <span class="subxComment"># *curr-function = new-function</span>
<span id="L7608" class="LineNr"> 7608 </span>        8b/-&gt; *esi 0/r32/eax
<span id="L7609" class="LineNr"> 7609 </span>        89/&lt;- *edi 0/r32/eax
<span id="L7610" class="LineNr"> 7610 </span>        8b/-&gt; *(esi+4) 0/r32/eax
<span id="L7611" class="LineNr"> 7611 </span>        89/&lt;- *(edi+4) 0/r32/eax
<span id="L7612" class="LineNr"> 7612 </span>        <span class="subxComment"># curr-function = &amp;new-function-&gt;next</span>
<span id="L7613" class="LineNr"> 7613 </span>        <span class="subxS1Comment"># . var tmp/eax: (addr function) = lookup(new-function)</span>
<span id="L7614" class="LineNr"> 7614 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7615" class="LineNr"> 7615 </span>        <span class="subxS1Comment"># . curr-function = &amp;tmp-&gt;next</span>
<span id="L7616" class="LineNr"> 7616 </span>        8d/copy-address *(eax+0x20) 7/r32/edi  <span class="subxComment"># Function-next</span>
<span id="L7617" class="LineNr"> 7617 </span>        <span class="subxComment"># reclaim new-function</span>
<span id="L7618" class="LineNr"> 7618 </span>        81 0/subop/add %esp 8/imm32
<span id="L7619" class="LineNr"> 7619 </span>        <span class="subxComment">#</span>
<span id="L7620" class="LineNr"> 7620 </span>        e9/jump $parse-mu:line-loop/disp32
<span id="L7621" class="LineNr"> 7621 </span>      }
<span id="L7622" class="LineNr"> 7622 </span>      <span class="subxComment"># if (slice-equal?(word-slice, &quot;sig&quot;)) parse a function signature</span>
<span id="L7623" class="LineNr"> 7623 </span>      <span class="subxComment"># Function signatures are for providing types to SubX functions.</span>
<span id="L7624" class="LineNr"> 7624 </span>      {
<span id="L7625" class="LineNr"> 7625 </span><span class="Constant">$parse-mu:sig</span>:
<span id="L7626" class="LineNr"> 7626 </span>        (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;sig&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L7627" class="LineNr"> 7627 </span>        3d/compare-eax-and 0/imm32/false
<span id="L7628" class="LineNr"> 7628 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L7629" class="LineNr"> 7629 </span>        <span class="subxComment"># edi = curr-function</span>
<span id="L7630" class="LineNr"> 7630 </span>        57/push-edi
<span id="L7631" class="LineNr"> 7631 </span>        8b/-&gt; *(ebp-4) 7/r32/edi
<span id="L7632" class="LineNr"> 7632 </span>        <span class="subxComment"># var new-function/esi: (handle function)</span>
<span id="L7633" class="LineNr"> 7633 </span>        68/push 0/imm32
<span id="L7634" class="LineNr"> 7634 </span>        68/push 0/imm32
<span id="L7635" class="LineNr"> 7635 </span>        89/&lt;- %esi 4/r32/esp
<span id="L7636" class="LineNr"> 7636 </span>        <span class="subxComment"># populate-mu-function(line, in, vars, new-function)</span>
<span id="L7637" class="LineNr"> 7637 </span>        (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span> %esi)
<span id="L7638" class="LineNr"> 7638 </span>        <span class="subxComment"># var new-function-addr/eax: (addr function)</span>
<span id="L7639" class="LineNr"> 7639 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7640" class="LineNr"> 7640 </span>        <span class="subxComment">#</span>
<span id="L7641" class="LineNr"> 7641 </span>        (<a href='mu.subx.html#L7941'>populate-mu-function-signature</a> %ecx %eax *(ebp+0xc) *(ebp+0x10))
<span id="L7642" class="LineNr"> 7642 </span>        <span class="subxComment"># *curr-signature = new-function</span>
<span id="L7643" class="LineNr"> 7643 </span>        8b/-&gt; *esi 0/r32/eax
<span id="L7644" class="LineNr"> 7644 </span>        89/&lt;- *edi 0/r32/eax
<span id="L7645" class="LineNr"> 7645 </span>        8b/-&gt; *(esi+4) 0/r32/eax
<span id="L7646" class="LineNr"> 7646 </span>        89/&lt;- *(edi+4) 0/r32/eax
<span id="L7647" class="LineNr"> 7647 </span>        <span class="subxComment"># curr-signature = &amp;new-function-&gt;next</span>
<span id="L7648" class="LineNr"> 7648 </span>        <span class="subxS1Comment"># . var tmp/eax: (addr function) = lookup(new-function)</span>
<span id="L7649" class="LineNr"> 7649 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7650" class="LineNr"> 7650 </span>        <span class="subxS1Comment"># . curr-function = &amp;tmp-&gt;next</span>
<span id="L7651" class="LineNr"> 7651 </span>        8d/copy-address *(eax+0x20) 7/r32/edi  <span class="subxComment"># Function-next</span>
<span id="L7652" class="LineNr"> 7652 </span>        <span class="subxComment"># reclaim new-function</span>
<span id="L7653" class="LineNr"> 7653 </span>        81 0/subop/add %esp 8/imm32
<span id="L7654" class="LineNr"> 7654 </span>        <span class="subxComment"># save curr-function</span>
<span id="L7655" class="LineNr"> 7655 </span>        89/&lt;- *(ebp-4) 7/r32/edi
<span id="L7656" class="LineNr"> 7656 </span>        <span class="subxComment"># restore edi</span>
<span id="L7657" class="LineNr"> 7657 </span>        5f/pop-to-edi
<span id="L7658" class="LineNr"> 7658 </span>        <span class="subxComment">#</span>
<span id="L7659" class="LineNr"> 7659 </span>        e9/jump $parse-mu:line-loop/disp32
<span id="L7660" class="LineNr"> 7660 </span>      }
<span id="L7661" class="LineNr"> 7661 </span>      <span class="subxComment"># if (slice-equal?(word-slice, &quot;type&quot;)) parse a type (struct/record) definition</span>
<span id="L7662" class="LineNr"> 7662 </span>      {
<span id="L7663" class="LineNr"> 7663 </span><span class="Constant">$parse-mu:type</span>:
<span id="L7664" class="LineNr"> 7664 </span>        (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;type&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L7665" class="LineNr"> 7665 </span>        3d/compare-eax-and 0/imm32
<span id="L7666" class="LineNr"> 7666 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L7667" class="LineNr"> 7667 </span>        (<a href='mu.subx.html#L8647'>next-mu-token</a> %ecx %edx)
<span id="L7668" class="LineNr"> 7668 </span>        <span class="subxComment"># var type-id/eax: int</span>
<span id="L7669" class="LineNr"> 7669 </span>        (<a href='mu.subx.html#L8817'>pos-or-insert-slice</a> <span class="SpecialChar"><a href='mu.subx.html#L391'>Type-id</a></span> %edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L7670" class="LineNr"> 7670 </span>        <span class="subxComment"># spill</span>
<span id="L7671" class="LineNr"> 7671 </span>        51/push-ecx
<span id="L7672" class="LineNr"> 7672 </span>        <span class="subxComment"># var new-type/ecx: (handle typeinfo)</span>
<span id="L7673" class="LineNr"> 7673 </span>        68/push 0/imm32
<span id="L7674" class="LineNr"> 7674 </span>        68/push 0/imm32
<span id="L7675" class="LineNr"> 7675 </span>        89/&lt;- %ecx 4/r32/esp
<span id="L7676" class="LineNr"> 7676 </span>        (<a href='mu.subx.html#L11452'>find-or-create-typeinfo</a> %eax %ecx)
<span id="L7677" class="LineNr"> 7677 </span>        <span class="subxComment">#</span>
<span id="L7678" class="LineNr"> 7678 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7679" class="LineNr"> 7679 </span>        <span class="subxComment"># TODO: ensure that 'line' has nothing else but '{'</span>
<span id="L7680" class="LineNr"> 7680 </span><span class="CommentedCode">#? (dump-typeinfos &quot;=== aaa\n&quot;)</span>
<span id="L7681" class="LineNr"> 7681 </span>        (<a href='mu.subx.html#L11686'>populate-mu-type</a> *(ebp+8) %eax *(ebp+0xc) *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L7682" class="LineNr"> 7682 </span><span class="CommentedCode">#? (dump-typeinfos &quot;=== zzz\n&quot;)</span>
<span id="L7683" class="LineNr"> 7683 </span>        <span class="subxComment"># reclaim new-type</span>
<span id="L7684" class="LineNr"> 7684 </span>        81 0/subop/add %esp 8/imm32
<span id="L7685" class="LineNr"> 7685 </span>        <span class="subxComment"># restore</span>
<span id="L7686" class="LineNr"> 7686 </span>        59/pop-to-ecx
<span id="L7687" class="LineNr"> 7687 </span>        e9/jump $parse-mu:line-loop/disp32
<span id="L7688" class="LineNr"> 7688 </span>      }
<span id="L7689" class="LineNr"> 7689 </span>      <span class="subxComment"># otherwise abort</span>
<span id="L7690" class="LineNr"> 7690 </span>      e9/jump $parse-mu:error1/disp32
<span id="L7691" class="LineNr"> 7691 </span>    } <span class="subxComment"># end line loop</span>
<span id="L7692" class="LineNr"> 7692 </span><span class="Constant">$parse-mu:end</span>:
<span id="L7693" class="LineNr"> 7693 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L7694" class="LineNr"> 7694 </span>    81 0/subop/add %esp 0x20c/imm32  <span class="subxComment"># line</span>
<span id="L7695" class="LineNr"> 7695 </span>    81 0/subop/add %esp 0xc08/imm32  <span class="subxComment"># vars</span>
<span id="L7696" class="LineNr"> 7696 </span>    81 0/subop/add %esp 8/imm32
<span id="L7697" class="LineNr"> 7697 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L7698" class="LineNr"> 7698 </span>    5f/pop-to-edi
<span id="L7699" class="LineNr"> 7699 </span>    5e/pop-to-esi
<span id="L7700" class="LineNr"> 7700 </span>    5b/pop-to-ebx
<span id="L7701" class="LineNr"> 7701 </span>    5a/pop-to-edx
<span id="L7702" class="LineNr"> 7702 </span>    59/pop-to-ecx
<span id="L7703" class="LineNr"> 7703 </span>    58/pop-to-eax
<span id="L7704" class="LineNr"> 7704 </span>    <span class="subxS1Comment"># . reclaim local</span>
<span id="L7705" class="LineNr"> 7705 </span>    81 0/subop/add %esp 4/imm32
<span id="L7706" class="LineNr"> 7706 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7707" class="LineNr"> 7707 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L7708" class="LineNr"> 7708 </span>    5d/pop-to-ebp
<span id="L7709" class="LineNr"> 7709 </span>    c3/return
<span id="L7710" class="LineNr"> 7710 </span>
<span id="L7711" class="LineNr"> 7711 </span><span class="Constant">$parse-mu:error1</span>:
<span id="L7712" class="LineNr"> 7712 </span>    <span class="subxComment"># error(&quot;unexpected top-level command: &quot; word-slice &quot;\n&quot;)</span>
<span id="L7713" class="LineNr"> 7713 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;unexpected top-level command: &quot;</span>)
<span id="L7714" class="LineNr"> 7714 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0xc) %edx)
<span id="L7715" class="LineNr"> 7715 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;\n&quot;</span>)
<span id="L7716" class="LineNr"> 7716 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L7717" class="LineNr"> 7717 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L7718" class="LineNr"> 7718 </span>    <span class="subxComment"># never gets here</span>
<span id="L7719" class="LineNr"> 7719 </span>
<span id="L7720" class="LineNr"> 7720 </span><span class="Constant">$parse-mu:error2</span>:
<span id="L7721" class="LineNr"> 7721 </span>    <span class="subxComment"># error(vars-&gt;top &quot; vars not reclaimed after fn '&quot; new-function-&gt;name &quot;'\n&quot;)</span>
<span id="L7722" class="LineNr"> 7722 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+0xc) *ebx)
<span id="L7723" class="LineNr"> 7723 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot; vars not reclaimed after fn '&quot;</span>)
<span id="L7724" class="LineNr"> 7724 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0xc) *eax)  <span class="subxComment"># Function-name</span>
<span id="L7725" class="LineNr"> 7725 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L7726" class="LineNr"> 7726 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L7727" class="LineNr"> 7727 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L7728" class="LineNr"> 7728 </span>    <span class="subxComment"># never gets here</span>
<span id="L7729" class="LineNr"> 7729 </span>
<span id="L7730" class="LineNr"> 7730 </span><span class="subxComment"># scenarios considered:</span>
<span id="L7731" class="LineNr"> 7731 </span><span class="subxComment">#  fn foo  # no block</span>
<span id="L7732" class="LineNr"> 7732 </span><span class="subxComment">#  fn foo {</span>
<span id="L7733" class="LineNr"> 7733 </span><span class="subxComment">#  fn foo { {</span>
<span id="L7734" class="LineNr"> 7734 </span><span class="subxComment">#  fn foo { }</span>
<span id="L7735" class="LineNr"> 7735 </span><span class="subxComment">#  fn foo { } {</span>
<span id="L7736" class="LineNr"> 7736 </span><span class="subxComment">#  fn foo x {</span>
<span id="L7737" class="LineNr"> 7737 </span><span class="subxComment">#  fn foo x: {</span>
<span id="L7738" class="LineNr"> 7738 </span><span class="subxComment">#  fn foo x: int {</span>
<span id="L7739" class="LineNr"> 7739 </span><span class="subxComment">#  fn foo x: int {</span>
<span id="L7740" class="LineNr"> 7740 </span><span class="subxComment">#  fn foo x: int -&gt; y/eax: int {</span>
<span id="L7741" class="LineNr"> 7741 </span><span class="subxComment"># TODO:</span>
<span id="L7742" class="LineNr"> 7742 </span><span class="subxComment">#   disallow outputs of type `(... addr ...)`</span>
<span id="L7743" class="LineNr"> 7743 </span><span class="subxComment">#   disallow inputs of type `(... addr ... addr ...)`</span>
<span id="L7744" class="LineNr"> 7744 </span><span class="subxFunction">populate-mu-function-header</span>:  <span class="subxComment"># first-line: (addr stream byte), out: (addr function), vars: (addr stack live-var), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L7745" class="LineNr"> 7745 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L7746" class="LineNr"> 7746 </span>    <span class="subxComment">#   var word-slice: slice</span>
<span id="L7747" class="LineNr"> 7747 </span>    <span class="subxComment">#   next-mu-token(first-line, word-slice)</span>
<span id="L7748" class="LineNr"> 7748 </span>    <span class="subxComment">#   assert(word-slice not in '{' '}' '-&gt;')</span>
<span id="L7749" class="LineNr"> 7749 </span>    <span class="subxComment">#   out-&gt;name = slice-to-string(word-slice)</span>
<span id="L7750" class="LineNr"> 7750 </span>    <span class="subxComment">#   ## inouts</span>
<span id="L7751" class="LineNr"> 7751 </span>    <span class="subxComment">#   while true</span>
<span id="L7752" class="LineNr"> 7752 </span>    <span class="subxComment">#     word-slice = next-mu-token(first-line)</span>
<span id="L7753" class="LineNr"> 7753 </span>    <span class="subxComment">#     if (word-slice == '{') goto done</span>
<span id="L7754" class="LineNr"> 7754 </span>    <span class="subxComment">#     if (word-slice == '-&gt;') break</span>
<span id="L7755" class="LineNr"> 7755 </span>    <span class="subxComment">#     assert(word-slice != '}')</span>
<span id="L7756" class="LineNr"> 7756 </span>    <span class="subxComment">#     var v: (handle var) = parse-var-with-type(word-slice, first-line)</span>
<span id="L7757" class="LineNr"> 7757 </span>    <span class="subxComment">#     assert(v-&gt;register == null)</span>
<span id="L7758" class="LineNr"> 7758 </span>    <span class="subxComment">#     # v-&gt;block-depth is implicitly 0</span>
<span id="L7759" class="LineNr"> 7759 </span>    <span class="subxComment">#     out-&gt;inouts = append(v, out-&gt;inouts)</span>
<span id="L7760" class="LineNr"> 7760 </span>    <span class="subxComment">#     push(vars, {v, false})</span>
<span id="L7761" class="LineNr"> 7761 </span>    <span class="subxComment">#   ## outputs</span>
<span id="L7762" class="LineNr"> 7762 </span>    <span class="subxComment">#   while true</span>
<span id="L7763" class="LineNr"> 7763 </span>    <span class="subxComment">#     word-slice = next-mu-token(first-line)</span>
<span id="L7764" class="LineNr"> 7764 </span>    <span class="subxComment">#     if (word-slice == '{') break</span>
<span id="L7765" class="LineNr"> 7765 </span>    <span class="subxComment">#     assert(word-slice not in '}' '-&gt;')</span>
<span id="L7766" class="LineNr"> 7766 </span>    <span class="subxComment">#     var v: (handle var) = parse-var-with-type(word-slice, first-line)</span>
<span id="L7767" class="LineNr"> 7767 </span>    <span class="subxComment">#     assert(v-&gt;register != null)</span>
<span id="L7768" class="LineNr"> 7768 </span>    <span class="subxComment">#     out-&gt;outputs = append(v, out-&gt;outputs)</span>
<span id="L7769" class="LineNr"> 7769 </span>    <span class="subxComment">#   done:</span>
<span id="L7770" class="LineNr"> 7770 </span>    <span class="subxComment">#</span>
<span id="L7771" class="LineNr"> 7771 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7772" class="LineNr"> 7772 </span>    55/push-ebp
<span id="L7773" class="LineNr"> 7773 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7774" class="LineNr"> 7774 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L7775" class="LineNr"> 7775 </span>    50/push-eax
<span id="L7776" class="LineNr"> 7776 </span>    51/push-ecx
<span id="L7777" class="LineNr"> 7777 </span>    52/push-edx
<span id="L7778" class="LineNr"> 7778 </span>    53/push-ebx
<span id="L7779" class="LineNr"> 7779 </span>    57/push-edi
<span id="L7780" class="LineNr"> 7780 </span>    <span class="subxComment"># edi = out</span>
<span id="L7781" class="LineNr"> 7781 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L7782" class="LineNr"> 7782 </span>    <span class="subxComment"># var word-slice/ecx: slice</span>
<span id="L7783" class="LineNr"> 7783 </span>    68/push 0/imm32/end
<span id="L7784" class="LineNr"> 7784 </span>    68/push 0/imm32/start
<span id="L7785" class="LineNr"> 7785 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L7786" class="LineNr"> 7786 </span>    <span class="subxComment"># var v/ebx: (handle var)</span>
<span id="L7787" class="LineNr"> 7787 </span>    68/push 0/imm32
<span id="L7788" class="LineNr"> 7788 </span>    68/push 0/imm32
<span id="L7789" class="LineNr"> 7789 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L7790" class="LineNr"> 7790 </span>    <span class="subxComment"># read function name</span>
<span id="L7791" class="LineNr"> 7791 </span>    (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L7792" class="LineNr"> 7792 </span>    <span class="subxComment"># error checking</span>
<span id="L7793" class="LineNr"> 7793 </span>    <span class="subxComment"># if (word-slice == '{') abort</span>
<span id="L7794" class="LineNr"> 7794 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7795" class="LineNr"> 7795 </span>    3d/compare-eax-and 0/imm32/false
<span id="L7796" class="LineNr"> 7796 </span>    0f 85/jump-if-!= $populate-mu-function-header:error1/disp32
<span id="L7797" class="LineNr"> 7797 </span>    <span class="subxComment"># if (word-slice == '-&gt;') abort</span>
<span id="L7798" class="LineNr"> 7798 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7799" class="LineNr"> 7799 </span>    3d/compare-eax-and 0/imm32/false
<span id="L7800" class="LineNr"> 7800 </span>    0f 85/jump-if-!= $populate-mu-function-header:error1/disp32
<span id="L7801" class="LineNr"> 7801 </span>    <span class="subxComment"># if (word-slice == '}') abort</span>
<span id="L7802" class="LineNr"> 7802 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7803" class="LineNr"> 7803 </span>    3d/compare-eax-and 0/imm32/false
<span id="L7804" class="LineNr"> 7804 </span>    0f 85/jump-if-!= $populate-mu-function-header:error1/disp32
<span id="L7805" class="LineNr"> 7805 </span>    <span class="subxComment"># save function name</span>
<span id="L7806" class="LineNr"> 7806 </span>    (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %ecx %edi)  <span class="subxComment"># Function-name</span>
<span id="L7807" class="LineNr"> 7807 </span>    <span class="subxComment"># save function inouts</span>
<span id="L7808" class="LineNr"> 7808 </span>    {
<span id="L7809" class="LineNr"> 7809 </span><span class="Constant">$populate-mu-function-header:check-for-inout</span>:
<span id="L7810" class="LineNr"> 7810 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L7811" class="LineNr"> 7811 </span>      <span class="subxComment"># if (word-slice == '{') goto done</span>
<span id="L7812" class="LineNr"> 7812 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7813" class="LineNr"> 7813 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7814" class="LineNr"> 7814 </span>      0f 85/jump-if-!= $populate-mu-function-header:done/disp32
<span id="L7815" class="LineNr"> 7815 </span>      <span class="subxComment"># if (word-slice == '-&gt;') break</span>
<span id="L7816" class="LineNr"> 7816 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7817" class="LineNr"> 7817 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7818" class="LineNr"> 7818 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L7819" class="LineNr"> 7819 </span>      <span class="subxComment"># if (word-slice == '}') abort</span>
<span id="L7820" class="LineNr"> 7820 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7821" class="LineNr"> 7821 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7822" class="LineNr"> 7822 </span>      0f 85/jump-if-!= $populate-mu-function-header:error1/disp32
<span id="L7823" class="LineNr"> 7823 </span>      <span class="subxComment"># v = parse-var-with-type(word-slice, first-line)</span>
<span id="L7824" class="LineNr"> 7824 </span>      (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx *(ebp+8) %ebx *(ebp+0x14) *(ebp+0x18))
<span id="L7825" class="LineNr"> 7825 </span>      <span class="subxComment"># assert(v-&gt;register == null)</span>
<span id="L7826" class="LineNr"> 7826 </span>      <span class="subxS1Comment"># . eax: (addr var) = lookup(v)</span>
<span id="L7827" class="LineNr"> 7827 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7828" class="LineNr"> 7828 </span>      81 7/subop/compare *(eax+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L7829" class="LineNr"> 7829 </span>      0f 85/jump-if-!= $populate-mu-function-header:error2/disp32
<span id="L7830" class="LineNr"> 7830 </span>      <span class="subxComment"># v-&gt;block-depth is implicitly 0</span>
<span id="L7831" class="LineNr"> 7831 </span>      <span class="subxComment">#</span>
<span id="L7832" class="LineNr"> 7832 </span>      <span class="subxComment"># out-&gt;inouts = append(v, out-&gt;inouts)</span>
<span id="L7833" class="LineNr"> 7833 </span>      8d/copy-address *(edi+8) 0/r32/eax  <span class="subxComment"># Function-inouts</span>
<span id="L7834" class="LineNr"> 7834 </span>      (<a href='mu.subx.html#L11221'>append-list</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *ebx *(ebx+4)  *(edi+8) *(edi+0xc)  %eax)  <span class="subxComment"># Function-inouts, Function-inouts</span>
<span id="L7835" class="LineNr"> 7835 </span>      <span class="subxComment"># push(vars, {v, false})</span>
<span id="L7836" class="LineNr"> 7836 </span>      (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *ebx)
<span id="L7837" class="LineNr"> 7837 </span>      (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(ebx+4))
<span id="L7838" class="LineNr"> 7838 </span>      (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) 0)  <span class="subxComment"># false</span>
<span id="L7839" class="LineNr"> 7839 </span>      <span class="subxComment">#</span>
<span id="L7840" class="LineNr"> 7840 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L7841" class="LineNr"> 7841 </span>    }
<span id="L7842" class="LineNr"> 7842 </span>    <span class="subxComment"># save function outputs</span>
<span id="L7843" class="LineNr"> 7843 </span>    {
<span id="L7844" class="LineNr"> 7844 </span><span class="Constant">$populate-mu-function-header:check-for-out</span>:
<span id="L7845" class="LineNr"> 7845 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L7846" class="LineNr"> 7846 </span>      <span class="subxComment"># if (word-slice == '{') break</span>
<span id="L7847" class="LineNr"> 7847 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7848" class="LineNr"> 7848 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7849" class="LineNr"> 7849 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L7850" class="LineNr"> 7850 </span>      <span class="subxComment"># if (word-slice == '-&gt;') abort</span>
<span id="L7851" class="LineNr"> 7851 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7852" class="LineNr"> 7852 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7853" class="LineNr"> 7853 </span>      0f 85/jump-if-!= $populate-mu-function-header:error1/disp32
<span id="L7854" class="LineNr"> 7854 </span>      <span class="subxComment"># if (word-slice == '}') abort</span>
<span id="L7855" class="LineNr"> 7855 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7856" class="LineNr"> 7856 </span>      3d/compare-eax-and 0/imm32/false
<span id="L7857" class="LineNr"> 7857 </span>      0f 85/jump-if-!= $populate-mu-function-header:error1/disp32
<span id="L7858" class="LineNr"> 7858 </span>      <span class="subxComment"># v = parse-var-with-type(word-slice, first-line)</span>
<span id="L7859" class="LineNr"> 7859 </span>      (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx *(ebp+8) %ebx *(ebp+0x14) *(ebp+0x18))
<span id="L7860" class="LineNr"> 7860 </span>      <span class="subxComment"># assert(var-&gt;register != null)</span>
<span id="L7861" class="LineNr"> 7861 </span>      <span class="subxS1Comment"># . eax: (addr var) = lookup(v)</span>
<span id="L7862" class="LineNr"> 7862 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7863" class="LineNr"> 7863 </span>      81 7/subop/compare *(eax+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L7864" class="LineNr"> 7864 </span>      0f 84/jump-if-= $populate-mu-function-header:error3/disp32
<span id="L7865" class="LineNr"> 7865 </span>      <span class="subxComment"># out-&gt;outputs = append(v, out-&gt;outputs)</span>
<span id="L7866" class="LineNr"> 7866 </span>      8d/copy-address *(edi+0x10) 0/r32/eax  <span class="subxComment"># Function-outputs</span>
<span id="L7867" class="LineNr"> 7867 </span>      (<a href='mu.subx.html#L11221'>append-list</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *ebx *(ebx+4)  *(edi+0x10) *(edi+0x14)  %eax)  <span class="subxComment"># Function-outputs, Function-outputs</span>
<span id="L7868" class="LineNr"> 7868 </span>      <span class="subxComment">#</span>
<span id="L7869" class="LineNr"> 7869 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L7870" class="LineNr"> 7870 </span>    }
<span id="L7871" class="LineNr"> 7871 </span><span class="Constant">$populate-mu-function-header:done</span>:
<span id="L7872" class="LineNr"> 7872 </span>    (<a href='mu.subx.html#L9726'>check-no-tokens-left</a> *(ebp+8))
<span id="L7873" class="LineNr"> 7873 </span><span class="Constant">$populate-mu-function-header:end</span>:
<span id="L7874" class="LineNr"> 7874 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L7875" class="LineNr"> 7875 </span>    81 0/subop/add %esp 0x10/imm32
<span id="L7876" class="LineNr"> 7876 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L7877" class="LineNr"> 7877 </span>    5f/pop-to-edi
<span id="L7878" class="LineNr"> 7878 </span>    5b/pop-to-ebx
<span id="L7879" class="LineNr"> 7879 </span>    5a/pop-to-edx
<span id="L7880" class="LineNr"> 7880 </span>    59/pop-to-ecx
<span id="L7881" class="LineNr"> 7881 </span>    58/pop-to-eax
<span id="L7882" class="LineNr"> 7882 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L7883" class="LineNr"> 7883 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L7884" class="LineNr"> 7884 </span>    5d/pop-to-ebp
<span id="L7885" class="LineNr"> 7885 </span>    c3/return
<span id="L7886" class="LineNr"> 7886 </span>
<span id="L7887" class="LineNr"> 7887 </span><span class="Constant">$populate-mu-function-header:error1</span>:
<span id="L7888" class="LineNr"> 7888 </span>    <span class="subxComment"># error(&quot;function header not in form 'fn &lt;name&gt; {'&quot;)</span>
<span id="L7889" class="LineNr"> 7889 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;function header not in form 'fn &lt;name&gt; [inouts] [-&gt; outputs] {' -- '&quot;</span>)
<span id="L7890" class="LineNr"> 7890 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L7891" class="LineNr"> 7891 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L7892" class="LineNr"> 7892 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x14) *(ebp+8))
<span id="L7893" class="LineNr"> 7893 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L7894" class="LineNr"> 7894 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L7895" class="LineNr"> 7895 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L7896" class="LineNr"> 7896 </span>    <span class="subxComment"># never gets here</span>
<span id="L7897" class="LineNr"> 7897 </span>
<span id="L7898" class="LineNr"> 7898 </span><span class="Constant">$populate-mu-function-header:error2</span>:
<span id="L7899" class="LineNr"> 7899 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: function inout '&quot; var &quot;' cannot be in a register&quot;)</span>
<span id="L7900" class="LineNr"> 7900 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L7901" class="LineNr"> 7901 </span>    50/push-eax
<span id="L7902" class="LineNr"> 7902 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L7903" class="LineNr"> 7903 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L7904" class="LineNr"> 7904 </span>    58/pop-to-eax
<span id="L7905" class="LineNr"> 7905 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: function inout '&quot;</span>)
<span id="L7906" class="LineNr"> 7906 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L7907" class="LineNr"> 7907 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L7908" class="LineNr"> 7908 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;' cannot be in a register&quot;</span>)
<span id="L7909" class="LineNr"> 7909 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L7910" class="LineNr"> 7910 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L7911" class="LineNr"> 7911 </span>    <span class="subxComment"># never gets here</span>
<span id="L7912" class="LineNr"> 7912 </span>
<span id="L7913" class="LineNr"> 7913 </span><span class="Constant">$populate-mu-function-header:error3</span>:
<span id="L7914" class="LineNr"> 7914 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: function output '&quot; var &quot;' must be in a register&quot;)</span>
<span id="L7915" class="LineNr"> 7915 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L7916" class="LineNr"> 7916 </span>    50/push-eax
<span id="L7917" class="LineNr"> 7917 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L7918" class="LineNr"> 7918 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L7919" class="LineNr"> 7919 </span>    58/pop-to-eax
<span id="L7920" class="LineNr"> 7920 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: function output '&quot;</span>)
<span id="L7921" class="LineNr"> 7921 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L7922" class="LineNr"> 7922 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L7923" class="LineNr"> 7923 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L7924" class="LineNr"> 7924 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;' must be in a register, in instruction '&quot;</span>)
<span id="L7925" class="LineNr"> 7925 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L7926" class="LineNr"> 7926 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x14) *(ebp+8))
<span id="L7927" class="LineNr"> 7927 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L7928" class="LineNr"> 7928 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L7929" class="LineNr"> 7929 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L7930" class="LineNr"> 7930 </span>    <span class="subxComment"># never gets here</span>
<span id="L7931" class="LineNr"> 7931 </span>
<span id="L7932" class="LineNr"> 7932 </span><span class="subxComment"># scenarios considered:</span>
<span id="L7933" class="LineNr"> 7933 </span><span class="subxComment">#  fn foo</span>
<span id="L7934" class="LineNr"> 7934 </span><span class="subxComment">#  fn foo {</span>
<span id="L7935" class="LineNr"> 7935 </span><span class="subxComment">#  fn foo x</span>
<span id="L7936" class="LineNr"> 7936 </span><span class="subxComment">#  fn foo x: int</span>
<span id="L7937" class="LineNr"> 7937 </span><span class="subxComment">#  fn foo x: int -&gt; y/eax: int</span>
<span id="L7938" class="LineNr"> 7938 </span><span class="subxComment"># TODO:</span>
<span id="L7939" class="LineNr"> 7939 </span><span class="subxComment">#   disallow outputs of type `(... addr ...)`</span>
<span id="L7940" class="LineNr"> 7940 </span><span class="subxComment">#   disallow inputs of type `(... addr ... addr ...)`</span>
<span id="L7941" class="LineNr"> 7941 </span><span class="subxFunction">populate-mu-function-signature</span>:  <span class="subxComment"># first-line: (addr stream byte), out: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L7942" class="LineNr"> 7942 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L7943" class="LineNr"> 7943 </span>    <span class="subxComment">#   var word-slice: slice</span>
<span id="L7944" class="LineNr"> 7944 </span>    <span class="subxComment">#   next-mu-token(first-line, word-slice)</span>
<span id="L7945" class="LineNr"> 7945 </span>    <span class="subxComment">#   assert(word-slice not in '{' '}' '-&gt;')</span>
<span id="L7946" class="LineNr"> 7946 </span>    <span class="subxComment">#   out-&gt;name = slice-to-string(word-slice)</span>
<span id="L7947" class="LineNr"> 7947 </span>    <span class="subxComment">#   ## inouts</span>
<span id="L7948" class="LineNr"> 7948 </span>    <span class="subxComment">#   while true</span>
<span id="L7949" class="LineNr"> 7949 </span>    <span class="subxComment">#     word-slice = next-mu-token(first-line)</span>
<span id="L7950" class="LineNr"> 7950 </span>    <span class="subxComment">#     if slice-empty?(word-slice) break</span>
<span id="L7951" class="LineNr"> 7951 </span>    <span class="subxComment">#     if (word-slice == '-&gt;') break</span>
<span id="L7952" class="LineNr"> 7952 </span>    <span class="subxComment">#     assert(word-slice not in '{' '}')</span>
<span id="L7953" class="LineNr"> 7953 </span>    <span class="subxComment">#     var v: (handle var) = parse-var-with-type(word-slice, first-line)</span>
<span id="L7954" class="LineNr"> 7954 </span>    <span class="subxComment">#     assert(v-&gt;register == null)</span>
<span id="L7955" class="LineNr"> 7955 </span>    <span class="subxComment">#     # v-&gt;block-depth is implicitly 0</span>
<span id="L7956" class="LineNr"> 7956 </span>    <span class="subxComment">#     out-&gt;inouts = append(v, out-&gt;inouts)</span>
<span id="L7957" class="LineNr"> 7957 </span>    <span class="subxComment">#   ## outputs</span>
<span id="L7958" class="LineNr"> 7958 </span>    <span class="subxComment">#   while true</span>
<span id="L7959" class="LineNr"> 7959 </span>    <span class="subxComment">#     word-slice = next-mu-token(first-line)</span>
<span id="L7960" class="LineNr"> 7960 </span>    <span class="subxComment">#     if slice-empty?(word-slice) break</span>
<span id="L7961" class="LineNr"> 7961 </span>    <span class="subxComment">#     assert(word-slice not in '{' '}' '-&gt;')</span>
<span id="L7962" class="LineNr"> 7962 </span>    <span class="subxComment">#     var v: (handle var) = parse-var-with-type(word-slice, first-line)</span>
<span id="L7963" class="LineNr"> 7963 </span>    <span class="subxComment">#     assert(v-&gt;register != null)</span>
<span id="L7964" class="LineNr"> 7964 </span>    <span class="subxComment">#     out-&gt;outputs = append(v, out-&gt;outputs)</span>
<span id="L7965" class="LineNr"> 7965 </span>    <span class="subxComment">#</span>
<span id="L7966" class="LineNr"> 7966 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L7967" class="LineNr"> 7967 </span>    55/push-ebp
<span id="L7968" class="LineNr"> 7968 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L7969" class="LineNr"> 7969 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L7970" class="LineNr"> 7970 </span>    50/push-eax
<span id="L7971" class="LineNr"> 7971 </span>    51/push-ecx
<span id="L7972" class="LineNr"> 7972 </span>    52/push-edx
<span id="L7973" class="LineNr"> 7973 </span>    53/push-ebx
<span id="L7974" class="LineNr"> 7974 </span>    57/push-edi
<span id="L7975" class="LineNr"> 7975 </span>    <span class="subxComment"># edi = out</span>
<span id="L7976" class="LineNr"> 7976 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L7977" class="LineNr"> 7977 </span>    <span class="subxComment"># var word-slice/ecx: slice</span>
<span id="L7978" class="LineNr"> 7978 </span>    68/push 0/imm32/end
<span id="L7979" class="LineNr"> 7979 </span>    68/push 0/imm32/start
<span id="L7980" class="LineNr"> 7980 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L7981" class="LineNr"> 7981 </span>    <span class="subxComment"># var v/ebx: (handle var)</span>
<span id="L7982" class="LineNr"> 7982 </span>    68/push 0/imm32
<span id="L7983" class="LineNr"> 7983 </span>    68/push 0/imm32
<span id="L7984" class="LineNr"> 7984 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L7985" class="LineNr"> 7985 </span>    <span class="subxComment"># read function name</span>
<span id="L7986" class="LineNr"> 7986 </span>    (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L7987" class="LineNr"> 7987 </span>    <span class="subxComment"># error checking</span>
<span id="L7988" class="LineNr"> 7988 </span>    <span class="subxComment"># if (word-slice == '{') abort</span>
<span id="L7989" class="LineNr"> 7989 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7990" class="LineNr"> 7990 </span>    3d/compare-eax-and 0/imm32/false
<span id="L7991" class="LineNr"> 7991 </span>    0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L7992" class="LineNr"> 7992 </span>    <span class="subxComment"># if (word-slice == '-&gt;') abort</span>
<span id="L7993" class="LineNr"> 7993 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7994" class="LineNr"> 7994 </span>    3d/compare-eax-and 0/imm32/false
<span id="L7995" class="LineNr"> 7995 </span>    0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L7996" class="LineNr"> 7996 </span>    <span class="subxComment"># if (word-slice == '}') abort</span>
<span id="L7997" class="LineNr"> 7997 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L7998" class="LineNr"> 7998 </span>    3d/compare-eax-and 0/imm32/false
<span id="L7999" class="LineNr"> 7999 </span>    0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L8000" class="LineNr"> 8000 </span>    <span class="subxComment"># save function name</span>
<span id="L8001" class="LineNr"> 8001 </span>    (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %ecx %edi)  <span class="subxComment"># Function-name</span>
<span id="L8002" class="LineNr"> 8002 </span>    <span class="subxComment"># save function inouts</span>
<span id="L8003" class="LineNr"> 8003 </span>    {
<span id="L8004" class="LineNr"> 8004 </span><span class="Constant">$populate-mu-function-signature:check-for-inout</span>:
<span id="L8005" class="LineNr"> 8005 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L8006" class="LineNr"> 8006 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8007" class="LineNr"> 8007 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8008" class="LineNr"> 8008 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L8009" class="LineNr"> 8009 </span>      <span class="subxComment"># if (word-slice == '-&gt;') break</span>
<span id="L8010" class="LineNr"> 8010 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L8011" class="LineNr"> 8011 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8012" class="LineNr"> 8012 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L8013" class="LineNr"> 8013 </span>      <span class="subxComment"># if (word-slice == '{') abort</span>
<span id="L8014" class="LineNr"> 8014 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L8015" class="LineNr"> 8015 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8016" class="LineNr"> 8016 </span>      0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L8017" class="LineNr"> 8017 </span>      <span class="subxComment"># if (word-slice == '}') abort</span>
<span id="L8018" class="LineNr"> 8018 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L8019" class="LineNr"> 8019 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8020" class="LineNr"> 8020 </span>      0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L8021" class="LineNr"> 8021 </span>      <span class="subxComment"># v = parse-var-with-type(word-slice, first-line)</span>
<span id="L8022" class="LineNr"> 8022 </span>      (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx *(ebp+8) %ebx *(ebp+0x10) *(ebp+0x14))
<span id="L8023" class="LineNr"> 8023 </span>      <span class="subxComment"># assert(v-&gt;register == null)</span>
<span id="L8024" class="LineNr"> 8024 </span>      <span class="subxS1Comment"># . eax: (addr var) = lookup(v)</span>
<span id="L8025" class="LineNr"> 8025 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8026" class="LineNr"> 8026 </span>      81 7/subop/compare *(eax+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L8027" class="LineNr"> 8027 </span>      0f 85/jump-if-!= $populate-mu-function-signature:error2/disp32
<span id="L8028" class="LineNr"> 8028 </span>      <span class="subxComment"># v-&gt;block-depth is implicitly 0</span>
<span id="L8029" class="LineNr"> 8029 </span>      <span class="subxComment">#</span>
<span id="L8030" class="LineNr"> 8030 </span>      <span class="subxComment"># out-&gt;inouts = append(v, out-&gt;inouts)</span>
<span id="L8031" class="LineNr"> 8031 </span>      8d/copy-address *(edi+8) 0/r32/eax  <span class="subxComment"># Function-inouts</span>
<span id="L8032" class="LineNr"> 8032 </span>      (<a href='mu.subx.html#L11221'>append-list</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *ebx *(ebx+4)  *(edi+8) *(edi+0xc)  %eax)  <span class="subxComment"># Function-inouts, Function-inouts</span>
<span id="L8033" class="LineNr"> 8033 </span>      <span class="subxComment">#</span>
<span id="L8034" class="LineNr"> 8034 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L8035" class="LineNr"> 8035 </span>    }
<span id="L8036" class="LineNr"> 8036 </span>    <span class="subxComment"># save function outputs</span>
<span id="L8037" class="LineNr"> 8037 </span>    {
<span id="L8038" class="LineNr"> 8038 </span><span class="Constant">$populate-mu-function-signature:check-for-out</span>:
<span id="L8039" class="LineNr"> 8039 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L8040" class="LineNr"> 8040 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8041" class="LineNr"> 8041 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8042" class="LineNr"> 8042 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L8043" class="LineNr"> 8043 </span>      <span class="subxComment"># if (word-slice == '{') abort</span>
<span id="L8044" class="LineNr"> 8044 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L8045" class="LineNr"> 8045 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8046" class="LineNr"> 8046 </span>      0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L8047" class="LineNr"> 8047 </span>      <span class="subxComment"># if (word-slice == '-&gt;') abort</span>
<span id="L8048" class="LineNr"> 8048 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L8049" class="LineNr"> 8049 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8050" class="LineNr"> 8050 </span>      0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L8051" class="LineNr"> 8051 </span>      <span class="subxComment"># if (word-slice == '}') abort</span>
<span id="L8052" class="LineNr"> 8052 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)   <span class="subxComment"># =&gt; eax</span>
<span id="L8053" class="LineNr"> 8053 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8054" class="LineNr"> 8054 </span>      0f 85/jump-if-!= $populate-mu-function-signature:error1/disp32
<span id="L8055" class="LineNr"> 8055 </span>      <span class="subxComment"># v = parse-var-with-type(word-slice, first-line)</span>
<span id="L8056" class="LineNr"> 8056 </span>      (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx *(ebp+8) %ebx *(ebp+0x10) *(ebp+0x14))
<span id="L8057" class="LineNr"> 8057 </span>      <span class="subxComment"># assert(var-&gt;register != null)</span>
<span id="L8058" class="LineNr"> 8058 </span>      <span class="subxS1Comment"># . eax: (addr var) = lookup(v)</span>
<span id="L8059" class="LineNr"> 8059 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8060" class="LineNr"> 8060 </span>      81 7/subop/compare *(eax+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L8061" class="LineNr"> 8061 </span>      0f 84/jump-if-= $populate-mu-function-signature:error3/disp32
<span id="L8062" class="LineNr"> 8062 </span>      <span class="subxComment"># out-&gt;outputs = append(v, out-&gt;outputs)</span>
<span id="L8063" class="LineNr"> 8063 </span>      8d/copy-address *(edi+0x10) 0/r32/eax  <span class="subxComment"># Function-outputs</span>
<span id="L8064" class="LineNr"> 8064 </span>      (<a href='mu.subx.html#L11221'>append-list</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *ebx *(ebx+4)  *(edi+0x10) *(edi+0x14)  %eax)  <span class="subxComment"># Function-outputs, Function-outputs</span>
<span id="L8065" class="LineNr"> 8065 </span>      <span class="subxComment">#</span>
<span id="L8066" class="LineNr"> 8066 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L8067" class="LineNr"> 8067 </span>    }
<span id="L8068" class="LineNr"> 8068 </span><span class="Constant">$populate-mu-function-signature:done</span>:
<span id="L8069" class="LineNr"> 8069 </span>    (<a href='mu.subx.html#L9726'>check-no-tokens-left</a> *(ebp+8))
<span id="L8070" class="LineNr"> 8070 </span><span class="Constant">$populate-mu-function-signature:end</span>:
<span id="L8071" class="LineNr"> 8071 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L8072" class="LineNr"> 8072 </span>    81 0/subop/add %esp 0x10/imm32
<span id="L8073" class="LineNr"> 8073 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L8074" class="LineNr"> 8074 </span>    5f/pop-to-edi
<span id="L8075" class="LineNr"> 8075 </span>    5b/pop-to-ebx
<span id="L8076" class="LineNr"> 8076 </span>    5a/pop-to-edx
<span id="L8077" class="LineNr"> 8077 </span>    59/pop-to-ecx
<span id="L8078" class="LineNr"> 8078 </span>    58/pop-to-eax
<span id="L8079" class="LineNr"> 8079 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8080" class="LineNr"> 8080 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8081" class="LineNr"> 8081 </span>    5d/pop-to-ebp
<span id="L8082" class="LineNr"> 8082 </span>    c3/return
<span id="L8083" class="LineNr"> 8083 </span>
<span id="L8084" class="LineNr"> 8084 </span><span class="Constant">$populate-mu-function-signature:error1</span>:
<span id="L8085" class="LineNr"> 8085 </span>    <span class="subxComment"># error(&quot;function signature not in form 'fn &lt;name&gt; {'&quot;)</span>
<span id="L8086" class="LineNr"> 8086 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;function signature not in form 'fn &lt;name&gt; [inouts] [-&gt; outputs] {' -- '&quot;</span>)
<span id="L8087" class="LineNr"> 8087 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L8088" class="LineNr"> 8088 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L8089" class="LineNr"> 8089 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x10) *(ebp+8))
<span id="L8090" class="LineNr"> 8090 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L8091" class="LineNr"> 8091 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L8092" class="LineNr"> 8092 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L8093" class="LineNr"> 8093 </span>    <span class="subxComment"># never gets here</span>
<span id="L8094" class="LineNr"> 8094 </span>
<span id="L8095" class="LineNr"> 8095 </span><span class="Constant">$populate-mu-function-signature:error2</span>:
<span id="L8096" class="LineNr"> 8096 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: function inout '&quot; var &quot;' cannot be in a register&quot;)</span>
<span id="L8097" class="LineNr"> 8097 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L8098" class="LineNr"> 8098 </span>    50/push-eax
<span id="L8099" class="LineNr"> 8099 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L8100" class="LineNr"> 8100 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L8101" class="LineNr"> 8101 </span>    58/pop-to-eax
<span id="L8102" class="LineNr"> 8102 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: function inout '&quot;</span>)
<span id="L8103" class="LineNr"> 8103 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8104" class="LineNr"> 8104 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L8105" class="LineNr"> 8105 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' cannot be in a register&quot;</span>)
<span id="L8106" class="LineNr"> 8106 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L8107" class="LineNr"> 8107 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L8108" class="LineNr"> 8108 </span>    <span class="subxComment"># never gets here</span>
<span id="L8109" class="LineNr"> 8109 </span>
<span id="L8110" class="LineNr"> 8110 </span><span class="Constant">$populate-mu-function-signature:error3</span>:
<span id="L8111" class="LineNr"> 8111 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: function output '&quot; var &quot;' must be in a register&quot;)</span>
<span id="L8112" class="LineNr"> 8112 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L8113" class="LineNr"> 8113 </span>    50/push-eax
<span id="L8114" class="LineNr"> 8114 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L8115" class="LineNr"> 8115 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L8116" class="LineNr"> 8116 </span>    58/pop-to-eax
<span id="L8117" class="LineNr"> 8117 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: function output '&quot;</span>)
<span id="L8118" class="LineNr"> 8118 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8119" class="LineNr"> 8119 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8120" class="LineNr"> 8120 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L8121" class="LineNr"> 8121 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must be in a register, in instruction '&quot;</span>)
<span id="L8122" class="LineNr"> 8122 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L8123" class="LineNr"> 8123 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x10) *(ebp+8))
<span id="L8124" class="LineNr"> 8124 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L8125" class="LineNr"> 8125 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L8126" class="LineNr"> 8126 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L8127" class="LineNr"> 8127 </span>    <span class="subxComment"># never gets here</span>
<span id="L8128" class="LineNr"> 8128 </span>
<span id="L8129" class="LineNr"> 8129 </span><span class="subxTest">test-function-header-with-arg</span>:
<span id="L8130" class="LineNr"> 8130 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8131" class="LineNr"> 8131 </span>    55/push-ebp
<span id="L8132" class="LineNr"> 8132 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8133" class="LineNr"> 8133 </span>    <span class="subxComment"># setup</span>
<span id="L8134" class="LineNr"> 8134 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L8135" class="LineNr"> 8135 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;foo n: int {\n&quot;</span>)
<span id="L8136" class="LineNr"> 8136 </span>    <span class="subxComment"># var result/ecx: function</span>
<span id="L8137" class="LineNr"> 8137 </span>    2b/subtract *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span> 4/r32/esp
<span id="L8138" class="LineNr"> 8138 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8139" class="LineNr"> 8139 </span>    (<a href='../120allocate.subx.html#L877'>zero-out</a> %ecx *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span>)
<span id="L8140" class="LineNr"> 8140 </span>    <span class="subxComment"># var vars/ebx: (stack live-var 16)</span>
<span id="L8141" class="LineNr"> 8141 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L8142" class="LineNr"> 8142 </span>    68/push 0xc0/imm32/size
<span id="L8143" class="LineNr"> 8143 </span>    68/push 0/imm32/top
<span id="L8144" class="LineNr"> 8144 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L8145" class="LineNr"> 8145 </span>    <span class="subxComment"># convert</span>
<span id="L8146" class="LineNr"> 8146 </span>    (<a href='mu.subx.html#L7744'>populate-mu-function-header</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L8147" class="LineNr"> 8147 </span>    <span class="subxComment"># check result-&gt;name</span>
<span id="L8148" class="LineNr"> 8148 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L8149" class="LineNr"> 8149 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;foo&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8129'>test-function-header-with-arg</a>/name&quot;</span>)
<span id="L8150" class="LineNr"> 8150 </span>    <span class="subxComment"># var v/edx: (addr var) = result-&gt;inouts-&gt;value</span>
<span id="L8151" class="LineNr"> 8151 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Function-inouts Function-inouts =&gt; eax</span>
<span id="L8152" class="LineNr"> 8152 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8153" class="LineNr"> 8153 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8154" class="LineNr"> 8154 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8155" class="LineNr"> 8155 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8156" class="LineNr"> 8156 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;n&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8129'>test-function-header-with-arg</a>/inout:0&quot;</span>)
<span id="L8157" class="LineNr"> 8157 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8158" class="LineNr"> 8158 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8159" class="LineNr"> 8159 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8129'>test-function-header-with-arg</a>/inout:0/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8160" class="LineNr"> 8160 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8129'>test-function-header-with-arg</a>/inout:0/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8161" class="LineNr"> 8161 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8129'>test-function-header-with-arg</a>/inout:0/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8162" class="LineNr"> 8162 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8163" class="LineNr"> 8163 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8164" class="LineNr"> 8164 </span>    5d/pop-to-ebp
<span id="L8165" class="LineNr"> 8165 </span>    c3/return
<span id="L8166" class="LineNr"> 8166 </span>
<span id="L8167" class="LineNr"> 8167 </span><span class="subxTest">test-function-header-with-multiple-args</span>:
<span id="L8168" class="LineNr"> 8168 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8169" class="LineNr"> 8169 </span>    55/push-ebp
<span id="L8170" class="LineNr"> 8170 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8171" class="LineNr"> 8171 </span>    <span class="subxComment"># setup</span>
<span id="L8172" class="LineNr"> 8172 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L8173" class="LineNr"> 8173 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;foo a: int, b: int c: int {\n&quot;</span>)
<span id="L8174" class="LineNr"> 8174 </span>    <span class="subxComment"># result/ecx: function</span>
<span id="L8175" class="LineNr"> 8175 </span>    2b/subtract *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span> 4/r32/esp
<span id="L8176" class="LineNr"> 8176 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8177" class="LineNr"> 8177 </span>    (<a href='../120allocate.subx.html#L877'>zero-out</a> %ecx *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span>)
<span id="L8178" class="LineNr"> 8178 </span>    <span class="subxComment"># var vars/ebx: (stack live-var 16)</span>
<span id="L8179" class="LineNr"> 8179 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L8180" class="LineNr"> 8180 </span>    68/push 0xc0/imm32/size
<span id="L8181" class="LineNr"> 8181 </span>    68/push 0/imm32/top
<span id="L8182" class="LineNr"> 8182 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L8183" class="LineNr"> 8183 </span>    <span class="subxComment"># convert</span>
<span id="L8184" class="LineNr"> 8184 </span>    (<a href='mu.subx.html#L7744'>populate-mu-function-header</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L8185" class="LineNr"> 8185 </span>    <span class="subxComment"># check result-&gt;name</span>
<span id="L8186" class="LineNr"> 8186 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L8187" class="LineNr"> 8187 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;foo&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/name&quot;</span>)
<span id="L8188" class="LineNr"> 8188 </span>    <span class="subxComment"># var inouts/edx: (addr list var) = lookup(result-&gt;inouts)</span>
<span id="L8189" class="LineNr"> 8189 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Function-inouts Function-inouts =&gt; eax</span>
<span id="L8190" class="LineNr"> 8190 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8191" class="LineNr"> 8191 </span><span class="Constant">$test-function-header-with-multiple-args:inout0</span>:
<span id="L8192" class="LineNr"> 8192 </span>    <span class="subxComment"># var v/ebx: (addr var) = lookup(inouts-&gt;value)</span>
<span id="L8193" class="LineNr"> 8193 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8194" class="LineNr"> 8194 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8195" class="LineNr"> 8195 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8196" class="LineNr"> 8196 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8197" class="LineNr"> 8197 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;a&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:0&quot;</span>)  <span class="subxComment"># Var-name</span>
<span id="L8198" class="LineNr"> 8198 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8199" class="LineNr"> 8199 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8200" class="LineNr"> 8200 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:0/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8201" class="LineNr"> 8201 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:0/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8202" class="LineNr"> 8202 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:0/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8203" class="LineNr"> 8203 </span><span class="Constant">$test-function-header-with-multiple-args:inout1</span>:
<span id="L8204" class="LineNr"> 8204 </span>    <span class="subxComment"># inouts = lookup(inouts-&gt;next)</span>
<span id="L8205" class="LineNr"> 8205 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L8206" class="LineNr"> 8206 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8207" class="LineNr"> 8207 </span>    <span class="subxComment"># v = lookup(inouts-&gt;value)</span>
<span id="L8208" class="LineNr"> 8208 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8209" class="LineNr"> 8209 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8210" class="LineNr"> 8210 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8211" class="LineNr"> 8211 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8212" class="LineNr"> 8212 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;b&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:1&quot;</span>)  <span class="subxComment"># Var-name</span>
<span id="L8213" class="LineNr"> 8213 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8214" class="LineNr"> 8214 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8215" class="LineNr"> 8215 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:1/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8216" class="LineNr"> 8216 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:1/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8217" class="LineNr"> 8217 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:1/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8218" class="LineNr"> 8218 </span><span class="Constant">$test-function-header-with-multiple-args:inout2</span>:
<span id="L8219" class="LineNr"> 8219 </span>    <span class="subxComment"># inouts = lookup(inouts-&gt;next)</span>
<span id="L8220" class="LineNr"> 8220 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L8221" class="LineNr"> 8221 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8222" class="LineNr"> 8222 </span>    <span class="subxComment"># v = lookup(inouts-&gt;value)</span>
<span id="L8223" class="LineNr"> 8223 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8224" class="LineNr"> 8224 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8225" class="LineNr"> 8225 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8226" class="LineNr"> 8226 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8227" class="LineNr"> 8227 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;c&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:2&quot;</span>)  <span class="subxComment"># Var-name</span>
<span id="L8228" class="LineNr"> 8228 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8229" class="LineNr"> 8229 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8230" class="LineNr"> 8230 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:2/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8231" class="LineNr"> 8231 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:2/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8232" class="LineNr"> 8232 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8167'>test-function-header-with-multiple-args</a>/inout:2/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8233" class="LineNr"> 8233 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8234" class="LineNr"> 8234 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8235" class="LineNr"> 8235 </span>    5d/pop-to-ebp
<span id="L8236" class="LineNr"> 8236 </span>    c3/return
<span id="L8237" class="LineNr"> 8237 </span>
<span id="L8238" class="LineNr"> 8238 </span><span class="subxTest">test-function-header-with-multiple-args-and-outputs</span>:
<span id="L8239" class="LineNr"> 8239 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8240" class="LineNr"> 8240 </span>    55/push-ebp
<span id="L8241" class="LineNr"> 8241 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8242" class="LineNr"> 8242 </span>    <span class="subxComment"># setup</span>
<span id="L8243" class="LineNr"> 8243 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L8244" class="LineNr"> 8244 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;foo a: int, b: int, c: int -&gt; x/ecx: int y/edx: int {\n&quot;</span>)
<span id="L8245" class="LineNr"> 8245 </span>    <span class="subxComment"># result/ecx: function</span>
<span id="L8246" class="LineNr"> 8246 </span>    2b/subtract *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span> 4/r32/esp
<span id="L8247" class="LineNr"> 8247 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8248" class="LineNr"> 8248 </span>    (<a href='../120allocate.subx.html#L877'>zero-out</a> %ecx *<span class="SpecialChar"><a href='mu.subx.html#L273'>Function-size</a></span>)
<span id="L8249" class="LineNr"> 8249 </span>    <span class="subxComment"># var vars/ebx: (stack live-var 16)</span>
<span id="L8250" class="LineNr"> 8250 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L8251" class="LineNr"> 8251 </span>    68/push 0xc0/imm32/size
<span id="L8252" class="LineNr"> 8252 </span>    68/push 0/imm32/top
<span id="L8253" class="LineNr"> 8253 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L8254" class="LineNr"> 8254 </span>    <span class="subxComment"># convert</span>
<span id="L8255" class="LineNr"> 8255 </span>    (<a href='mu.subx.html#L7744'>populate-mu-function-header</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L8256" class="LineNr"> 8256 </span>    <span class="subxComment"># check result-&gt;name</span>
<span id="L8257" class="LineNr"> 8257 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L8258" class="LineNr"> 8258 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;foo&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/name&quot;</span>)
<span id="L8259" class="LineNr"> 8259 </span>    <span class="subxComment"># var inouts/edx: (addr list var) = lookup(result-&gt;inouts)</span>
<span id="L8260" class="LineNr"> 8260 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Function-inouts Function-inouts =&gt; eax</span>
<span id="L8261" class="LineNr"> 8261 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8262" class="LineNr"> 8262 </span><span class="Constant">$test-function-header-with-multiple-args-and-outputs:inout0</span>:
<span id="L8263" class="LineNr"> 8263 </span>    <span class="subxComment"># var v/ebx: (addr var) = lookup(inouts-&gt;value)</span>
<span id="L8264" class="LineNr"> 8264 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8265" class="LineNr"> 8265 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8266" class="LineNr"> 8266 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8267" class="LineNr"> 8267 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8268" class="LineNr"> 8268 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;a&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:0&quot;</span>)
<span id="L8269" class="LineNr"> 8269 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8270" class="LineNr"> 8270 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8271" class="LineNr"> 8271 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:0/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8272" class="LineNr"> 8272 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:0/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8273" class="LineNr"> 8273 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:0/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8274" class="LineNr"> 8274 </span><span class="Constant">$test-function-header-with-multiple-args-and-outputs:inout1</span>:
<span id="L8275" class="LineNr"> 8275 </span>    <span class="subxComment"># inouts = lookup(inouts-&gt;next)</span>
<span id="L8276" class="LineNr"> 8276 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L8277" class="LineNr"> 8277 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8278" class="LineNr"> 8278 </span>    <span class="subxComment"># v = lookup(inouts-&gt;value)</span>
<span id="L8279" class="LineNr"> 8279 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8280" class="LineNr"> 8280 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8281" class="LineNr"> 8281 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8282" class="LineNr"> 8282 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8283" class="LineNr"> 8283 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;b&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:1&quot;</span>)
<span id="L8284" class="LineNr"> 8284 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8285" class="LineNr"> 8285 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8286" class="LineNr"> 8286 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:1/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8287" class="LineNr"> 8287 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:1/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8288" class="LineNr"> 8288 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:1/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8289" class="LineNr"> 8289 </span><span class="Constant">$test-function-header-with-multiple-args-and-outputs:inout2</span>:
<span id="L8290" class="LineNr"> 8290 </span>    <span class="subxComment"># inouts = lookup(inouts-&gt;next)</span>
<span id="L8291" class="LineNr"> 8291 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L8292" class="LineNr"> 8292 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8293" class="LineNr"> 8293 </span>    <span class="subxComment"># v = lookup(inouts-&gt;value)</span>
<span id="L8294" class="LineNr"> 8294 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8295" class="LineNr"> 8295 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8296" class="LineNr"> 8296 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8297" class="LineNr"> 8297 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8298" class="LineNr"> 8298 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;c&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:2&quot;</span>)
<span id="L8299" class="LineNr"> 8299 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8300" class="LineNr"> 8300 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8301" class="LineNr"> 8301 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:2/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8302" class="LineNr"> 8302 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:2/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8303" class="LineNr"> 8303 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/inout:2/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8304" class="LineNr"> 8304 </span><span class="Constant">$test-function-header-with-multiple-args-and-outputs:out0</span>:
<span id="L8305" class="LineNr"> 8305 </span>    <span class="subxComment"># var outputs/edx: (addr list var) = lookup(result-&gt;outputs)</span>
<span id="L8306" class="LineNr"> 8306 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x10) *(ecx+0x14))  <span class="subxComment"># Function-outputs Function-outputs =&gt; eax</span>
<span id="L8307" class="LineNr"> 8307 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8308" class="LineNr"> 8308 </span>    <span class="subxComment"># v = lookup(outputs-&gt;value)</span>
<span id="L8309" class="LineNr"> 8309 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8310" class="LineNr"> 8310 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8311" class="LineNr"> 8311 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8312" class="LineNr"> 8312 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8313" class="LineNr"> 8313 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;x&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:0&quot;</span>)
<span id="L8314" class="LineNr"> 8314 </span>    <span class="subxComment"># check v-&gt;register</span>
<span id="L8315" class="LineNr"> 8315 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L8316" class="LineNr"> 8316 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;ecx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:0/register&quot;</span>)
<span id="L8317" class="LineNr"> 8317 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8318" class="LineNr"> 8318 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8319" class="LineNr"> 8319 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:0/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8320" class="LineNr"> 8320 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:0/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8321" class="LineNr"> 8321 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:0/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8322" class="LineNr"> 8322 </span><span class="Constant">$test-function-header-with-multiple-args-and-outputs:out1</span>:
<span id="L8323" class="LineNr"> 8323 </span>    <span class="subxComment"># outputs = lookup(outputs-&gt;next)</span>
<span id="L8324" class="LineNr"> 8324 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L8325" class="LineNr"> 8325 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8326" class="LineNr"> 8326 </span>    <span class="subxComment"># v = lookup(inouts-&gt;value)</span>
<span id="L8327" class="LineNr"> 8327 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L8328" class="LineNr"> 8328 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L8329" class="LineNr"> 8329 </span>    <span class="subxComment"># check v-&gt;name</span>
<span id="L8330" class="LineNr"> 8330 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8331" class="LineNr"> 8331 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;y&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:1&quot;</span>)
<span id="L8332" class="LineNr"> 8332 </span>    <span class="subxComment"># check v-&gt;register</span>
<span id="L8333" class="LineNr"> 8333 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L8334" class="LineNr"> 8334 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;edx&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:1/register&quot;</span>)
<span id="L8335" class="LineNr"> 8335 </span>    <span class="subxComment"># check v-&gt;type</span>
<span id="L8336" class="LineNr"> 8336 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8337" class="LineNr"> 8337 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:1/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8338" class="LineNr"> 8338 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:1/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8339" class="LineNr"> 8339 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0c) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8238'>test-function-header-with-multiple-args-and-outputs</a>/output:1/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8340" class="LineNr"> 8340 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8341" class="LineNr"> 8341 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8342" class="LineNr"> 8342 </span>    5d/pop-to-ebp
<span id="L8343" class="LineNr"> 8343 </span>    c3/return
<span id="L8344" class="LineNr"> 8344 </span>
<span id="L8345" class="LineNr"> 8345 </span><span class="subxComment"># format for variables with types</span>
<span id="L8346" class="LineNr"> 8346 </span><span class="subxComment">#   x: int</span>
<span id="L8347" class="LineNr"> 8347 </span><span class="subxComment">#   x: int,</span>
<span id="L8348" class="LineNr"> 8348 </span><span class="subxComment">#   x/eax: int</span>
<span id="L8349" class="LineNr"> 8349 </span><span class="subxComment">#   x/eax: int,</span>
<span id="L8350" class="LineNr"> 8350 </span><span class="subxComment"># ignores at most one trailing comma</span>
<span id="L8351" class="LineNr"> 8351 </span><span class="subxComment"># WARNING: modifies name</span>
<span id="L8352" class="LineNr"> 8352 </span><span class="subxFunction">parse-var-with-type</span>:  <span class="subxComment"># name: (addr slice), first-line: (addr stream byte), out: (addr handle var), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L8353" class="LineNr"> 8353 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L8354" class="LineNr"> 8354 </span>    <span class="subxComment">#   var s: slice</span>
<span id="L8355" class="LineNr"> 8355 </span>    <span class="subxComment">#   if (!slice-ends-with(name, &quot;:&quot;))</span>
<span id="L8356" class="LineNr"> 8356 </span>    <span class="subxComment">#     abort</span>
<span id="L8357" class="LineNr"> 8357 </span>    <span class="subxComment">#   --name-&gt;end to skip ':'</span>
<span id="L8358" class="LineNr"> 8358 </span>    <span class="subxComment">#   next-token-from-slice(name-&gt;start, name-&gt;end, '/', s)</span>
<span id="L8359" class="LineNr"> 8359 </span>    <span class="subxComment">#   new-var-from-slice(s, out)</span>
<span id="L8360" class="LineNr"> 8360 </span>    <span class="subxComment">#   ## register</span>
<span id="L8361" class="LineNr"> 8361 </span>    <span class="subxComment">#   next-token-from-slice(s-&gt;end, name-&gt;end, '/', s)</span>
<span id="L8362" class="LineNr"> 8362 </span>    <span class="subxComment">#   if (!slice-empty?(s))</span>
<span id="L8363" class="LineNr"> 8363 </span>    <span class="subxComment">#     out-&gt;register = slice-to-string(s)</span>
<span id="L8364" class="LineNr"> 8364 </span>    <span class="subxComment">#   ## type</span>
<span id="L8365" class="LineNr"> 8365 </span>    <span class="subxComment">#   var type: (handle type-tree) = parse-type(first-line)</span>
<span id="L8366" class="LineNr"> 8366 </span>    <span class="subxComment">#   out-&gt;type = type</span>
<span id="L8367" class="LineNr"> 8367 </span>    <span class="subxComment">#</span>
<span id="L8368" class="LineNr"> 8368 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8369" class="LineNr"> 8369 </span>    55/push-ebp
<span id="L8370" class="LineNr"> 8370 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8371" class="LineNr"> 8371 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L8372" class="LineNr"> 8372 </span>    50/push-eax
<span id="L8373" class="LineNr"> 8373 </span>    51/push-ecx
<span id="L8374" class="LineNr"> 8374 </span>    52/push-edx
<span id="L8375" class="LineNr"> 8375 </span>    53/push-ebx
<span id="L8376" class="LineNr"> 8376 </span>    56/push-esi
<span id="L8377" class="LineNr"> 8377 </span>    57/push-edi
<span id="L8378" class="LineNr"> 8378 </span>    <span class="subxComment"># esi = name</span>
<span id="L8379" class="LineNr"> 8379 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L8380" class="LineNr"> 8380 </span>    <span class="subxComment"># if (!slice-ends-with?(name, &quot;:&quot;)) abort</span>
<span id="L8381" class="LineNr"> 8381 </span>    8b/-&gt; *(esi+4) 1/r32/ecx  <span class="subxComment"># Slice-end</span>
<span id="L8382" class="LineNr"> 8382 </span>    49/decrement-ecx
<span id="L8383" class="LineNr"> 8383 </span>    8a/copy-byte *ecx 1/r32/CL
<span id="L8384" class="LineNr"> 8384 </span>    81 4/subop/and %ecx 0xff/imm32
<span id="L8385" class="LineNr"> 8385 </span>    81 7/subop/compare %ecx 0x3a/imm32/colon
<span id="L8386" class="LineNr"> 8386 </span>    0f 85/jump-if-!= $parse-var-with-type:abort/disp32
<span id="L8387" class="LineNr"> 8387 </span>    <span class="subxComment"># --name-&gt;end to skip ':'</span>
<span id="L8388" class="LineNr"> 8388 </span>    ff 1/subop/decrement *(esi+4)
<span id="L8389" class="LineNr"> 8389 </span>    <span class="subxComment"># var s/ecx: slice</span>
<span id="L8390" class="LineNr"> 8390 </span>    68/push 0/imm32/end
<span id="L8391" class="LineNr"> 8391 </span>    68/push 0/imm32/start
<span id="L8392" class="LineNr"> 8392 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8393" class="LineNr"> 8393 </span><span class="Constant">$parse-var-with-type:parse-name</span>:
<span id="L8394" class="LineNr"> 8394 </span>    (<a href='../124next-token.subx.html#L163'>next-token-from-slice</a> *esi *(esi+4) 0x2f %ecx)  <span class="subxComment"># Slice-start, Slice-end, '/'</span>
<span id="L8395" class="LineNr"> 8395 </span><span class="Constant">$parse-var-with-type:create-var</span>:
<span id="L8396" class="LineNr"> 8396 </span>    <span class="subxComment"># new-var-from-slice(s, out)</span>
<span id="L8397" class="LineNr"> 8397 </span>    (<a href='mu.subx.html#L11144'>new-var-from-slice</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %ecx *(ebp+0x10))
<span id="L8398" class="LineNr"> 8398 </span>    <span class="subxComment"># save out-&gt;register</span>
<span id="L8399" class="LineNr"> 8399 </span><span class="Constant">$parse-var-with-type:save-register</span>:
<span id="L8400" class="LineNr"> 8400 </span>    <span class="subxS1Comment"># . var out-addr/edi: (addr var) = lookup(*out)</span>
<span id="L8401" class="LineNr"> 8401 </span>    8b/-&gt; *(ebp+0x10) 7/r32/edi
<span id="L8402" class="LineNr"> 8402 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8403" class="LineNr"> 8403 </span>    89/&lt;- %edi 0/r32/eax
<span id="L8404" class="LineNr"> 8404 </span>    <span class="subxS1Comment"># . s = next-token(...)</span>
<span id="L8405" class="LineNr"> 8405 </span>    (<a href='../124next-token.subx.html#L163'>next-token-from-slice</a> *(ecx+4) *(esi+4) 0x2f %ecx)  <span class="subxComment"># s-&gt;end, name-&gt;end, '/'</span>
<span id="L8406" class="LineNr"> 8406 </span>    <span class="subxS1Comment"># . if (!slice-empty?(s)) out-&gt;register = slice-to-string(s)</span>
<span id="L8407" class="LineNr"> 8407 </span>    {
<span id="L8408" class="LineNr"> 8408 </span><span class="Constant">$parse-var-with-type:write-register</span>:
<span id="L8409" class="LineNr"> 8409 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8410" class="LineNr"> 8410 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8411" class="LineNr"> 8411 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8412" class="LineNr"> 8412 </span>      <span class="subxComment"># out-&gt;register = slice-to-string(s)</span>
<span id="L8413" class="LineNr"> 8413 </span>      8d/copy-address *(edi+0x18) 0/r32/eax  <span class="subxComment"># Var-register</span>
<span id="L8414" class="LineNr"> 8414 </span>      (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %ecx %eax)
<span id="L8415" class="LineNr"> 8415 </span>    }
<span id="L8416" class="LineNr"> 8416 </span><span class="Constant">$parse-var-with-type:save-type</span>:
<span id="L8417" class="LineNr"> 8417 </span>    8d/copy-address *(edi+8) 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L8418" class="LineNr"> 8418 </span>    (<a href='mu.subx.html#L8445'>parse-type</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *(ebp+0xc) %eax *(ebp+0x14) *(ebp+0x18))
<span id="L8419" class="LineNr"> 8419 </span><span class="Constant">$parse-var-with-type:end</span>:
<span id="L8420" class="LineNr"> 8420 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L8421" class="LineNr"> 8421 </span>    81 0/subop/add %esp 8/imm32
<span id="L8422" class="LineNr"> 8422 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L8423" class="LineNr"> 8423 </span>    5f/pop-to-edi
<span id="L8424" class="LineNr"> 8424 </span>    5e/pop-to-esi
<span id="L8425" class="LineNr"> 8425 </span>    5b/pop-to-ebx
<span id="L8426" class="LineNr"> 8426 </span>    5a/pop-to-edx
<span id="L8427" class="LineNr"> 8427 </span>    59/pop-to-ecx
<span id="L8428" class="LineNr"> 8428 </span>    58/pop-to-eax
<span id="L8429" class="LineNr"> 8429 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8430" class="LineNr"> 8430 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8431" class="LineNr"> 8431 </span>    5d/pop-to-ebp
<span id="L8432" class="LineNr"> 8432 </span>    c3/return
<span id="L8433" class="LineNr"> 8433 </span>
<span id="L8434" class="LineNr"> 8434 </span><span class="Constant">$parse-var-with-type:abort</span>:
<span id="L8435" class="LineNr"> 8435 </span>    <span class="subxComment"># error(&quot;var should have form 'name: type' in '&quot; line &quot;'\n&quot;)</span>
<span id="L8436" class="LineNr"> 8436 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;var should have form 'name: type' in '&quot;</span>)
<span id="L8437" class="LineNr"> 8437 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L8438" class="LineNr"> 8438 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+0xc))
<span id="L8439" class="LineNr"> 8439 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x14) *(ebp+0xc))
<span id="L8440" class="LineNr"> 8440 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L8441" class="LineNr"> 8441 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L8442" class="LineNr"> 8442 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L8443" class="LineNr"> 8443 </span>    <span class="subxComment"># never gets here</span>
<span id="L8444" class="LineNr"> 8444 </span>
<span id="L8445" class="LineNr"> 8445 </span><span class="subxFunction">parse-type</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), in: (addr stream byte), out: (addr handle type-tree), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L8446" class="LineNr"> 8446 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L8447" class="LineNr"> 8447 </span>    <span class="subxComment">#   var s: slice = next-mu-token(in)</span>
<span id="L8448" class="LineNr"> 8448 </span>    <span class="subxComment">#   assert s != &quot;&quot;</span>
<span id="L8449" class="LineNr"> 8449 </span>    <span class="subxComment">#   assert s != &quot;-&gt;&quot;</span>
<span id="L8450" class="LineNr"> 8450 </span>    <span class="subxComment">#   assert s != &quot;{&quot;</span>
<span id="L8451" class="LineNr"> 8451 </span>    <span class="subxComment">#   assert s != &quot;}&quot;</span>
<span id="L8452" class="LineNr"> 8452 </span>    <span class="subxComment">#   if s == &quot;)&quot;</span>
<span id="L8453" class="LineNr"> 8453 </span>    <span class="subxComment">#     return</span>
<span id="L8454" class="LineNr"> 8454 </span>    <span class="subxComment">#   out = allocate(Type-tree)</span>
<span id="L8455" class="LineNr"> 8455 </span>    <span class="subxComment">#   if s != &quot;(&quot;</span>
<span id="L8456" class="LineNr"> 8456 </span>    <span class="subxComment">#     HACK: if s is an int, parse and return it</span>
<span id="L8457" class="LineNr"> 8457 </span>    <span class="subxComment">#     out-&gt;is-atom? = true</span>
<span id="L8458" class="LineNr"> 8458 </span>    <span class="subxComment">#     if (s[0] == &quot;_&quot;)</span>
<span id="L8459" class="LineNr"> 8459 </span>    <span class="subxComment">#       out-&gt;value = type-parameter</span>
<span id="L8460" class="LineNr"> 8460 </span>    <span class="subxComment">#       out-&gt;parameter-name = slice-to-string(ad, s)</span>
<span id="L8461" class="LineNr"> 8461 </span>    <span class="subxComment">#     else</span>
<span id="L8462" class="LineNr"> 8462 </span>    <span class="subxComment">#       out-&gt;value = pos-or-insert-slice(Type-id, s)</span>
<span id="L8463" class="LineNr"> 8463 </span>    <span class="subxComment">#     return</span>
<span id="L8464" class="LineNr"> 8464 </span>    <span class="subxComment">#   out-&gt;left = parse-type(ad, in)</span>
<span id="L8465" class="LineNr"> 8465 </span>    <span class="subxComment">#   out-&gt;right = parse-type-tree(ad, in)</span>
<span id="L8466" class="LineNr"> 8466 </span>    <span class="subxComment">#</span>
<span id="L8467" class="LineNr"> 8467 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8468" class="LineNr"> 8468 </span>    55/push-ebp
<span id="L8469" class="LineNr"> 8469 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8470" class="LineNr"> 8470 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L8471" class="LineNr"> 8471 </span>    50/push-eax
<span id="L8472" class="LineNr"> 8472 </span>    51/push-ecx
<span id="L8473" class="LineNr"> 8473 </span>    52/push-edx
<span id="L8474" class="LineNr"> 8474 </span>    <span class="subxComment"># clear out</span>
<span id="L8475" class="LineNr"> 8475 </span>    (<a href='../120allocate.subx.html#L877'>zero-out</a> *(ebp+0x10) *<span class="SpecialChar"><a href='../120allocate.subx.html#L23'>Handle-size</a></span>)
<span id="L8476" class="LineNr"> 8476 </span>    <span class="subxComment"># var s/ecx: slice</span>
<span id="L8477" class="LineNr"> 8477 </span>    68/push 0/imm32
<span id="L8478" class="LineNr"> 8478 </span>    68/push 0/imm32
<span id="L8479" class="LineNr"> 8479 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8480" class="LineNr"> 8480 </span>    <span class="subxComment"># s = next-mu-token(in)</span>
<span id="L8481" class="LineNr"> 8481 </span>    (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+0xc) %ecx)
<span id="L8482" class="LineNr"> 8482 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;tok: &quot;)</span>
<span id="L8483" class="LineNr"> 8483 </span><span class="CommentedCode">#?     (write-slice-buffered Stderr %ecx)</span>
<span id="L8484" class="LineNr"> 8484 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;$\n&quot;)</span>
<span id="L8485" class="LineNr"> 8485 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L8486" class="LineNr"> 8486 </span>    <span class="subxComment"># assert s != &quot;&quot;</span>
<span id="L8487" class="LineNr"> 8487 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L8488" class="LineNr"> 8488 </span>    3d/compare-eax-and 0/imm32/false
<span id="L8489" class="LineNr"> 8489 </span>    0f 85/jump-if-!= $parse-type:abort/disp32
<span id="L8490" class="LineNr"> 8490 </span>    <span class="subxComment"># assert s != &quot;{&quot;</span>
<span id="L8491" class="LineNr"> 8491 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;{&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L8492" class="LineNr"> 8492 </span>    3d/compare-eax-and 0/imm32/false
<span id="L8493" class="LineNr"> 8493 </span>    0f 85/jump-if-!= $parse-type:abort/disp32
<span id="L8494" class="LineNr"> 8494 </span>    <span class="subxComment"># assert s != &quot;}&quot;</span>
<span id="L8495" class="LineNr"> 8495 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;}&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L8496" class="LineNr"> 8496 </span>    3d/compare-eax-and 0/imm32/false
<span id="L8497" class="LineNr"> 8497 </span>    0f 85/jump-if-!= $parse-type:abort/disp32
<span id="L8498" class="LineNr"> 8498 </span>    <span class="subxComment"># assert s != &quot;-&gt;&quot;</span>
<span id="L8499" class="LineNr"> 8499 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;-&gt;&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L8500" class="LineNr"> 8500 </span>    3d/compare-eax-and 0/imm32/false
<span id="L8501" class="LineNr"> 8501 </span>    0f 85/jump-if-!= $parse-type:abort/disp32
<span id="L8502" class="LineNr"> 8502 </span>    <span class="subxComment"># if (s == &quot;)&quot;) return</span>
<span id="L8503" class="LineNr"> 8503 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;)&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L8504" class="LineNr"> 8504 </span>    3d/compare-eax-and 0/imm32/false
<span id="L8505" class="LineNr"> 8505 </span>    0f 85/jump-if-!= $parse-type:end/disp32
<span id="L8506" class="LineNr"> 8506 </span>    <span class="subxComment"># out = new tree</span>
<span id="L8507" class="LineNr"> 8507 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L385'>Type-tree-size</a></span> *(ebp+0x10))
<span id="L8508" class="LineNr"> 8508 </span>    <span class="subxComment"># var out-addr/edx: (addr type-tree) = lookup(*out)</span>
<span id="L8509" class="LineNr"> 8509 </span>    8b/-&gt; *(ebp+0x10) 2/r32/edx
<span id="L8510" class="LineNr"> 8510 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8511" class="LineNr"> 8511 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8512" class="LineNr"> 8512 </span>    {
<span id="L8513" class="LineNr"> 8513 </span>      <span class="subxComment"># if (s != &quot;(&quot;) break</span>
<span id="L8514" class="LineNr"> 8514 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;(&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L8515" class="LineNr"> 8515 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8516" class="LineNr"> 8516 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L8517" class="LineNr"> 8517 </span>      <span class="subxComment"># if s is a number, store it in the type's size field</span>
<span id="L8518" class="LineNr"> 8518 </span>      {
<span id="L8519" class="LineNr"> 8519 </span><span class="Constant">$parse-type:check-for-int</span>:
<span id="L8520" class="LineNr"> 8520 </span>        <span class="subxComment"># var tmp/eax: byte = *s-&gt;slice</span>
<span id="L8521" class="LineNr"> 8521 </span>        8b/-&gt; *ecx 0/r32/eax
<span id="L8522" class="LineNr"> 8522 </span>        8a/copy-byte *eax 0/r32/AL
<span id="L8523" class="LineNr"> 8523 </span>        81 4/subop/and %eax 0xff/imm32
<span id="L8524" class="LineNr"> 8524 </span>        <span class="subxComment"># TODO: raise an error on `var x: (array int a)`</span>
<span id="L8525" class="LineNr"> 8525 </span>        (<a href='../126write-int-decimal.subx.html#L306'>is-decimal-digit?</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L8526" class="LineNr"> 8526 </span>        3d/compare-eax-and 0/imm32/false
<span id="L8527" class="LineNr"> 8527 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L8528" class="LineNr"> 8528 </span>        <span class="subxComment">#</span>
<span id="L8529" class="LineNr"> 8529 </span>        (<a href='../118parse-hex.subx.html#L9'>is-hex-int?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8530" class="LineNr"> 8530 </span>        3d/compare-eax-and 0/imm32/false
<span id="L8531" class="LineNr"> 8531 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L8532" class="LineNr"> 8532 </span><span class="Constant">$parse-type:int</span>:
<span id="L8533" class="LineNr"> 8533 </span>        (<a href='mu.subx.html#L11047'>check-mu-hex-int</a> %ecx *(ebp+0x14) *(ebp+0x18))
<span id="L8534" class="LineNr"> 8534 </span>        (<a href='../118parse-hex.subx.html#L387'>parse-hex-int-from-slice</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8535" class="LineNr"> 8535 </span>        c7 0/subop/copy *(edx+4) 9/imm32/type-id-array-capacity  <span class="subxComment"># Type-tree-value</span>
<span id="L8536" class="LineNr"> 8536 </span>        89/&lt;- *(edx+8) 0/r32/eax  <span class="subxComment"># Type-tree-value-size</span>
<span id="L8537" class="LineNr"> 8537 </span>        e9/jump $parse-type:end/disp32
<span id="L8538" class="LineNr"> 8538 </span>      }
<span id="L8539" class="LineNr"> 8539 </span><span class="Constant">$parse-type:atom</span>:
<span id="L8540" class="LineNr"> 8540 </span>      <span class="subxComment"># out-&gt;is-atom? = true</span>
<span id="L8541" class="LineNr"> 8541 </span>      c7 0/subop/copy *edx 1/imm32/true  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8542" class="LineNr"> 8542 </span>      {
<span id="L8543" class="LineNr"> 8543 </span><span class="Constant">$parse-type:check-for-type-parameter</span>:
<span id="L8544" class="LineNr"> 8544 </span>        <span class="subxComment"># var tmp/eax: byte = *s-&gt;slice</span>
<span id="L8545" class="LineNr"> 8545 </span>        8b/-&gt; *ecx 0/r32/eax
<span id="L8546" class="LineNr"> 8546 </span>        8a/copy-byte *eax 0/r32/AL
<span id="L8547" class="LineNr"> 8547 </span>        81 4/subop/and %eax 0xff/imm32
<span id="L8548" class="LineNr"> 8548 </span>        <span class="subxComment"># if (tmp != '_') break</span>
<span id="L8549" class="LineNr"> 8549 </span>        3d/compare-eax-and 0x5f/imm32/_
<span id="L8550" class="LineNr"> 8550 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8551" class="LineNr"> 8551 </span><span class="Constant">$parse-type:type-parameter</span>:
<span id="L8552" class="LineNr"> 8552 </span>        <span class="subxComment"># out-&gt;value = type-parameter</span>
<span id="L8553" class="LineNr"> 8553 </span>        c7 0/subop/copy *(edx+4) 0xa/imm32/type-parameter  <span class="subxComment"># Type-tree-value</span>
<span id="L8554" class="LineNr"> 8554 </span>        <span class="subxComment"># out-&gt;parameter-name = slice-to-string(ad, s)</span>
<span id="L8555" class="LineNr"> 8555 </span>        8d/copy-address *(edx+8) 0/r32/eax  <span class="subxComment"># Type-tree-parameter-name</span>
<span id="L8556" class="LineNr"> 8556 </span>        (<a href='../123slice.subx.html#L1043'>slice-to-string</a> *(ebp+8) %ecx %eax)
<span id="L8557" class="LineNr"> 8557 </span>        e9/jump $parse-type:end/disp32
<span id="L8558" class="LineNr"> 8558 </span>      }
<span id="L8559" class="LineNr"> 8559 </span><span class="Constant">$parse-type:non-type-parameter</span>:
<span id="L8560" class="LineNr"> 8560 </span>      <span class="subxComment"># out-&gt;value = pos-or-insert-slice(Type-id, s)</span>
<span id="L8561" class="LineNr"> 8561 </span>      (<a href='mu.subx.html#L8817'>pos-or-insert-slice</a> <span class="SpecialChar"><a href='mu.subx.html#L391'>Type-id</a></span> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8562" class="LineNr"> 8562 </span>      89/&lt;- *(edx+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L8563" class="LineNr"> 8563 </span>      e9/jump $parse-type:end/disp32
<span id="L8564" class="LineNr"> 8564 </span>    }
<span id="L8565" class="LineNr"> 8565 </span><span class="Constant">$parse-type:non-atom</span>:
<span id="L8566" class="LineNr"> 8566 </span>    <span class="subxComment"># otherwise s == &quot;(&quot;</span>
<span id="L8567" class="LineNr"> 8567 </span>    <span class="subxComment"># out-&gt;left = parse-type(ad, in)</span>
<span id="L8568" class="LineNr"> 8568 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Type-tree-left</span>
<span id="L8569" class="LineNr"> 8569 </span>    (<a href='mu.subx.html#L8445'>parse-type</a> *(ebp+8) *(ebp+0xc) %eax *(ebp+0x14) *(ebp+0x18))
<span id="L8570" class="LineNr"> 8570 </span>    <span class="subxComment"># out-&gt;right = parse-type-tree(ad, in)</span>
<span id="L8571" class="LineNr"> 8571 </span>    8d/copy-address *(edx+0xc) 0/r32/eax  <span class="subxComment"># Type-tree-right</span>
<span id="L8572" class="LineNr"> 8572 </span>    (<a href='mu.subx.html#L8594'>parse-type-tree</a> *(ebp+8) *(ebp+0xc) %eax *(ebp+0x14) *(ebp+0x18))
<span id="L8573" class="LineNr"> 8573 </span><span class="Constant">$parse-type:end</span>:
<span id="L8574" class="LineNr"> 8574 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L8575" class="LineNr"> 8575 </span>    81 0/subop/add %esp 8/imm32
<span id="L8576" class="LineNr"> 8576 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L8577" class="LineNr"> 8577 </span>    5a/pop-to-edx
<span id="L8578" class="LineNr"> 8578 </span>    59/pop-to-ecx
<span id="L8579" class="LineNr"> 8579 </span>    58/pop-to-eax
<span id="L8580" class="LineNr"> 8580 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8581" class="LineNr"> 8581 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8582" class="LineNr"> 8582 </span>    5d/pop-to-ebp
<span id="L8583" class="LineNr"> 8583 </span>    c3/return
<span id="L8584" class="LineNr"> 8584 </span>
<span id="L8585" class="LineNr"> 8585 </span><span class="Constant">$parse-type:abort</span>:
<span id="L8586" class="LineNr"> 8586 </span>    <span class="subxComment"># error(&quot;unexpected token when parsing type: '&quot; s &quot;'\n&quot;)</span>
<span id="L8587" class="LineNr"> 8587 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;unexpected token when parsing type: '&quot;</span>)
<span id="L8588" class="LineNr"> 8588 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x14) %ecx)
<span id="L8589" class="LineNr"> 8589 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L8590" class="LineNr"> 8590 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L8591" class="LineNr"> 8591 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L8592" class="LineNr"> 8592 </span>    <span class="subxComment"># never gets here</span>
<span id="L8593" class="LineNr"> 8593 </span>
<span id="L8594" class="LineNr"> 8594 </span><span class="subxFunction">parse-type-tree</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), in: (addr stream byte), out: (addr handle type-tree), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L8595" class="LineNr"> 8595 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L8596" class="LineNr"> 8596 </span>    <span class="subxComment">#   var tmp: (handle type-tree) = parse-type(ad, in)</span>
<span id="L8597" class="LineNr"> 8597 </span>    <span class="subxComment">#   if tmp == 0</span>
<span id="L8598" class="LineNr"> 8598 </span>    <span class="subxComment">#     return 0</span>
<span id="L8599" class="LineNr"> 8599 </span>    <span class="subxComment">#   out = allocate(Type-tree)</span>
<span id="L8600" class="LineNr"> 8600 </span>    <span class="subxComment">#   out-&gt;left = tmp</span>
<span id="L8601" class="LineNr"> 8601 </span>    <span class="subxComment">#   out-&gt;right = parse-type-tree(ad, in)</span>
<span id="L8602" class="LineNr"> 8602 </span>    <span class="subxComment">#</span>
<span id="L8603" class="LineNr"> 8603 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8604" class="LineNr"> 8604 </span>    55/push-ebp
<span id="L8605" class="LineNr"> 8605 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8606" class="LineNr"> 8606 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L8607" class="LineNr"> 8607 </span>    50/push-eax
<span id="L8608" class="LineNr"> 8608 </span>    51/push-ecx
<span id="L8609" class="LineNr"> 8609 </span>    52/push-edx
<span id="L8610" class="LineNr"> 8610 </span>    <span class="subxComment">#</span>
<span id="L8611" class="LineNr"> 8611 </span>    (<a href='../120allocate.subx.html#L877'>zero-out</a> *(ebp+0x10) *<span class="SpecialChar"><a href='../120allocate.subx.html#L23'>Handle-size</a></span>)
<span id="L8612" class="LineNr"> 8612 </span>    <span class="subxComment"># var tmp/ecx: (handle type-tree)</span>
<span id="L8613" class="LineNr"> 8613 </span>    68/push 0/imm32
<span id="L8614" class="LineNr"> 8614 </span>    68/push 0/imm32
<span id="L8615" class="LineNr"> 8615 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8616" class="LineNr"> 8616 </span>    <span class="subxComment"># tmp = parse-type(ad, in)</span>
<span id="L8617" class="LineNr"> 8617 </span>    (<a href='mu.subx.html#L8445'>parse-type</a> *(ebp+8) *(ebp+0xc) %ecx *(ebp+0x14) *(ebp+0x18))
<span id="L8618" class="LineNr"> 8618 </span>    <span class="subxComment"># if (tmp == 0) return</span>
<span id="L8619" class="LineNr"> 8619 </span>    81 7/subop/compare *ecx 0/imm32
<span id="L8620" class="LineNr"> 8620 </span>    74/jump-if-= $parse-type-tree:end/disp8
<span id="L8621" class="LineNr"> 8621 </span>    <span class="subxComment"># out = new tree</span>
<span id="L8622" class="LineNr"> 8622 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L385'>Type-tree-size</a></span> *(ebp+0x10))
<span id="L8623" class="LineNr"> 8623 </span>    <span class="subxComment"># var out-addr/edx: (addr tree) = lookup(*out)</span>
<span id="L8624" class="LineNr"> 8624 </span>    8b/-&gt; *(ebp+0x10) 2/r32/edx
<span id="L8625" class="LineNr"> 8625 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8626" class="LineNr"> 8626 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8627" class="LineNr"> 8627 </span>    <span class="subxComment"># out-&gt;left = tmp</span>
<span id="L8628" class="LineNr"> 8628 </span>    8b/-&gt; *ecx 0/r32/eax
<span id="L8629" class="LineNr"> 8629 </span>    89/&lt;- *(edx+4) 0/r32/eax  <span class="subxComment"># Type-tree-left</span>
<span id="L8630" class="LineNr"> 8630 </span>    8b/-&gt; *(ecx+4) 0/r32/eax
<span id="L8631" class="LineNr"> 8631 </span>    89/&lt;- *(edx+8) 0/r32/eax  <span class="subxComment"># Type-tree-left</span>
<span id="L8632" class="LineNr"> 8632 </span>    <span class="subxComment"># out-&gt;right = parse-type-tree(ad, in)</span>
<span id="L8633" class="LineNr"> 8633 </span>    8d/copy-address *(edx+0xc) 0/r32/eax  <span class="subxComment"># Type-tree-right</span>
<span id="L8634" class="LineNr"> 8634 </span>    (<a href='mu.subx.html#L8594'>parse-type-tree</a> *(ebp+8) *(ebp+0xc) %eax *(ebp+0x14) *(ebp+0x18))
<span id="L8635" class="LineNr"> 8635 </span><span class="Constant">$parse-type-tree:end</span>:
<span id="L8636" class="LineNr"> 8636 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L8637" class="LineNr"> 8637 </span>    81 0/subop/add %esp 8/imm32
<span id="L8638" class="LineNr"> 8638 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L8639" class="LineNr"> 8639 </span>    5a/pop-to-edx
<span id="L8640" class="LineNr"> 8640 </span>    59/pop-to-ecx
<span id="L8641" class="LineNr"> 8641 </span>    58/pop-to-eax
<span id="L8642" class="LineNr"> 8642 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8643" class="LineNr"> 8643 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8644" class="LineNr"> 8644 </span>    5d/pop-to-ebp
<span id="L8645" class="LineNr"> 8645 </span>    c3/return
<span id="L8646" class="LineNr"> 8646 </span>
<span id="L8647" class="LineNr"> 8647 </span><span class="subxFunction">next-mu-token</span>:  <span class="subxComment"># in: (addr stream byte), out: (addr slice)</span>
<span id="L8648" class="LineNr"> 8648 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L8649" class="LineNr"> 8649 </span>    <span class="subxComment"># start:</span>
<span id="L8650" class="LineNr"> 8650 </span>    <span class="subxComment">#   skip-chars-matching-whitespace(in)</span>
<span id="L8651" class="LineNr"> 8651 </span>    <span class="subxComment">#   if in-&gt;read &gt;= in-&gt;write              # end of in</span>
<span id="L8652" class="LineNr"> 8652 </span>    <span class="subxComment">#     out = {0, 0}</span>
<span id="L8653" class="LineNr"> 8653 </span>    <span class="subxComment">#     return</span>
<span id="L8654" class="LineNr"> 8654 </span>    <span class="subxComment">#   out-&gt;start = &amp;in-&gt;data[in-&gt;read]</span>
<span id="L8655" class="LineNr"> 8655 </span>    <span class="subxComment">#   var curr-byte/eax: byte = in-&gt;data[in-&gt;read]</span>
<span id="L8656" class="LineNr"> 8656 </span>    <span class="subxComment">#   if curr-&gt;byte == ','                  # comment token</span>
<span id="L8657" class="LineNr"> 8657 </span>    <span class="subxComment">#     ++in-&gt;read</span>
<span id="L8658" class="LineNr"> 8658 </span>    <span class="subxComment">#     goto start</span>
<span id="L8659" class="LineNr"> 8659 </span>    <span class="subxComment">#   if curr-byte == '#'                   # comment</span>
<span id="L8660" class="LineNr"> 8660 </span>    <span class="subxComment">#     goto done                             # treat as eof</span>
<span id="L8661" class="LineNr"> 8661 </span>    <span class="subxComment">#   if curr-byte == '&quot;'                   # string literal</span>
<span id="L8662" class="LineNr"> 8662 </span>    <span class="subxComment">#     skip-string(in)</span>
<span id="L8663" class="LineNr"> 8663 </span>    <span class="subxComment">#     goto done                           # no metadata</span>
<span id="L8664" class="LineNr"> 8664 </span>    <span class="subxComment">#   if curr-byte == '('</span>
<span id="L8665" class="LineNr"> 8665 </span>    <span class="subxComment">#     ++in-&gt;read</span>
<span id="L8666" class="LineNr"> 8666 </span>    <span class="subxComment">#     goto done</span>
<span id="L8667" class="LineNr"> 8667 </span>    <span class="subxComment">#   if curr-byte == ')'</span>
<span id="L8668" class="LineNr"> 8668 </span>    <span class="subxComment">#     ++in-&gt;read</span>
<span id="L8669" class="LineNr"> 8669 </span>    <span class="subxComment">#     goto done</span>
<span id="L8670" class="LineNr"> 8670 </span>    <span class="subxComment">#   # read a word</span>
<span id="L8671" class="LineNr"> 8671 </span>    <span class="subxComment">#   while true</span>
<span id="L8672" class="LineNr"> 8672 </span>    <span class="subxComment">#     if in-&gt;read &gt;= in-&gt;write</span>
<span id="L8673" class="LineNr"> 8673 </span>    <span class="subxComment">#       break</span>
<span id="L8674" class="LineNr"> 8674 </span>    <span class="subxComment">#     curr-byte = in-&gt;data[in-&gt;read]</span>
<span id="L8675" class="LineNr"> 8675 </span>    <span class="subxComment">#     if curr-byte == ' '</span>
<span id="L8676" class="LineNr"> 8676 </span>    <span class="subxComment">#       break</span>
<span id="L8677" class="LineNr"> 8677 </span>    <span class="subxComment">#     if curr-byte == '\r'</span>
<span id="L8678" class="LineNr"> 8678 </span>    <span class="subxComment">#       break</span>
<span id="L8679" class="LineNr"> 8679 </span>    <span class="subxComment">#     if curr-byte == '\n'</span>
<span id="L8680" class="LineNr"> 8680 </span>    <span class="subxComment">#       break</span>
<span id="L8681" class="LineNr"> 8681 </span>    <span class="subxComment">#     if curr-byte == '('</span>
<span id="L8682" class="LineNr"> 8682 </span>    <span class="subxComment">#       break</span>
<span id="L8683" class="LineNr"> 8683 </span>    <span class="subxComment">#     if curr-byte == ')'</span>
<span id="L8684" class="LineNr"> 8684 </span>    <span class="subxComment">#       break</span>
<span id="L8685" class="LineNr"> 8685 </span>    <span class="subxComment">#     if curr-byte == ','</span>
<span id="L8686" class="LineNr"> 8686 </span>    <span class="subxComment">#       break</span>
<span id="L8687" class="LineNr"> 8687 </span>    <span class="subxComment">#     ++in-&gt;read</span>
<span id="L8688" class="LineNr"> 8688 </span>    <span class="subxComment"># done:</span>
<span id="L8689" class="LineNr"> 8689 </span>    <span class="subxComment">#   out-&gt;end = &amp;in-&gt;data[in-&gt;read]</span>
<span id="L8690" class="LineNr"> 8690 </span>    <span class="subxComment">#</span>
<span id="L8691" class="LineNr"> 8691 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8692" class="LineNr"> 8692 </span>    55/push-ebp
<span id="L8693" class="LineNr"> 8693 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8694" class="LineNr"> 8694 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L8695" class="LineNr"> 8695 </span>    50/push-eax
<span id="L8696" class="LineNr"> 8696 </span>    51/push-ecx
<span id="L8697" class="LineNr"> 8697 </span>    56/push-esi
<span id="L8698" class="LineNr"> 8698 </span>    57/push-edi
<span id="L8699" class="LineNr"> 8699 </span>    <span class="subxComment"># esi = in</span>
<span id="L8700" class="LineNr"> 8700 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L8701" class="LineNr"> 8701 </span>    <span class="subxComment"># edi = out</span>
<span id="L8702" class="LineNr"> 8702 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L8703" class="LineNr"> 8703 </span><span class="Constant">$next-mu-token:start</span>:
<span id="L8704" class="LineNr"> 8704 </span>    (<a href='../124next-token.subx.html#L464'>skip-chars-matching-whitespace</a> %esi)
<span id="L8705" class="LineNr"> 8705 </span><span class="Constant">$next-mu-token:check0</span>:
<span id="L8706" class="LineNr"> 8706 </span>    <span class="subxComment"># if (in-&gt;read &gt;= in-&gt;write) return out = {0, 0}</span>
<span id="L8707" class="LineNr"> 8707 </span>    <span class="subxS1Comment"># . ecx = in-&gt;read</span>
<span id="L8708" class="LineNr"> 8708 </span>    8b/-&gt; *(esi+4) 1/r32/ecx
<span id="L8709" class="LineNr"> 8709 </span>    <span class="subxS1Comment"># . if (ecx &gt;= in-&gt;write) return out = {0, 0}</span>
<span id="L8710" class="LineNr"> 8710 </span>    3b/compare&lt;- *esi 1/r32/ecx
<span id="L8711" class="LineNr"> 8711 </span>    c7 0/subop/copy *edi 0/imm32
<span id="L8712" class="LineNr"> 8712 </span>    c7 0/subop/copy *(edi+4) 0/imm32
<span id="L8713" class="LineNr"> 8713 </span>    0f 8d/jump-if-&gt;= $next-mu-token:end/disp32
<span id="L8714" class="LineNr"> 8714 </span>    <span class="subxComment"># out-&gt;start = &amp;in-&gt;data[in-&gt;read]</span>
<span id="L8715" class="LineNr"> 8715 </span>    8d/copy-address *(esi+ecx+0xc) 0/r32/eax
<span id="L8716" class="LineNr"> 8716 </span>    89/&lt;- *edi 0/r32/eax
<span id="L8717" class="LineNr"> 8717 </span>    <span class="subxComment"># var curr-byte/eax: byte = in-&gt;data[in-&gt;read]</span>
<span id="L8718" class="LineNr"> 8718 </span>    31/xor-with %eax 0/r32/eax
<span id="L8719" class="LineNr"> 8719 </span>    8a/copy-byte *(esi+ecx+0xc) 0/r32/AL
<span id="L8720" class="LineNr"> 8720 </span>    {
<span id="L8721" class="LineNr"> 8721 </span><span class="Constant">$next-mu-token:check-for-comma</span>:
<span id="L8722" class="LineNr"> 8722 </span>      <span class="subxComment"># if (curr-byte != ',') break</span>
<span id="L8723" class="LineNr"> 8723 </span>      3d/compare-eax-and 0x2c/imm32/comma
<span id="L8724" class="LineNr"> 8724 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8725" class="LineNr"> 8725 </span>      <span class="subxComment"># ++in-&gt;read</span>
<span id="L8726" class="LineNr"> 8726 </span>      ff 0/subop/increment *(esi+4)
<span id="L8727" class="LineNr"> 8727 </span>      <span class="subxComment"># restart</span>
<span id="L8728" class="LineNr"> 8728 </span>      e9/jump $next-mu-token:start/disp32
<span id="L8729" class="LineNr"> 8729 </span>    }
<span id="L8730" class="LineNr"> 8730 </span>    {
<span id="L8731" class="LineNr"> 8731 </span><span class="Constant">$next-mu-token:check-for-comment</span>:
<span id="L8732" class="LineNr"> 8732 </span>      <span class="subxComment"># if (curr-byte != '#') break</span>
<span id="L8733" class="LineNr"> 8733 </span>      3d/compare-eax-and 0x23/imm32/pound
<span id="L8734" class="LineNr"> 8734 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8735" class="LineNr"> 8735 </span>      <span class="subxComment"># return eof</span>
<span id="L8736" class="LineNr"> 8736 </span>      e9/jump $next-mu-token:done/disp32
<span id="L8737" class="LineNr"> 8737 </span>    }
<span id="L8738" class="LineNr"> 8738 </span>    {
<span id="L8739" class="LineNr"> 8739 </span><span class="Constant">$next-mu-token:check-for-string-literal</span>:
<span id="L8740" class="LineNr"> 8740 </span>      <span class="subxComment"># if (curr-byte != '&quot;') break</span>
<span id="L8741" class="LineNr"> 8741 </span>      3d/compare-eax-and 0x22/imm32/dquote
<span id="L8742" class="LineNr"> 8742 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8743" class="LineNr"> 8743 </span>      (<a href='../124next-token.subx.html#L1171'>skip-string</a> %esi)
<span id="L8744" class="LineNr"> 8744 </span>      <span class="subxComment"># return</span>
<span id="L8745" class="LineNr"> 8745 </span>      e9/jump $next-mu-token:done/disp32
<span id="L8746" class="LineNr"> 8746 </span>    }
<span id="L8747" class="LineNr"> 8747 </span>    {
<span id="L8748" class="LineNr"> 8748 </span><span class="Constant">$next-mu-token:check-for-open-paren</span>:
<span id="L8749" class="LineNr"> 8749 </span>      <span class="subxComment"># if (curr-byte != '(') break</span>
<span id="L8750" class="LineNr"> 8750 </span>      3d/compare-eax-and 0x28/imm32/open-paren
<span id="L8751" class="LineNr"> 8751 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8752" class="LineNr"> 8752 </span>      <span class="subxComment"># ++in-&gt;read</span>
<span id="L8753" class="LineNr"> 8753 </span>      ff 0/subop/increment *(esi+4)
<span id="L8754" class="LineNr"> 8754 </span>      <span class="subxComment"># return</span>
<span id="L8755" class="LineNr"> 8755 </span>      e9/jump $next-mu-token:done/disp32
<span id="L8756" class="LineNr"> 8756 </span>    }
<span id="L8757" class="LineNr"> 8757 </span>    {
<span id="L8758" class="LineNr"> 8758 </span><span class="Constant">$next-mu-token:check-for-close-paren</span>:
<span id="L8759" class="LineNr"> 8759 </span>      <span class="subxComment"># if (curr-byte != ')') break</span>
<span id="L8760" class="LineNr"> 8760 </span>      3d/compare-eax-and 0x29/imm32/close-paren
<span id="L8761" class="LineNr"> 8761 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8762" class="LineNr"> 8762 </span>      <span class="subxComment"># ++in-&gt;read</span>
<span id="L8763" class="LineNr"> 8763 </span>      ff 0/subop/increment *(esi+4)
<span id="L8764" class="LineNr"> 8764 </span>      <span class="subxComment"># return</span>
<span id="L8765" class="LineNr"> 8765 </span>      e9/jump $next-mu-token:done/disp32
<span id="L8766" class="LineNr"> 8766 </span>    }
<span id="L8767" class="LineNr"> 8767 </span>    {
<span id="L8768" class="LineNr"> 8768 </span><span class="Constant">$next-mu-token:regular-word-without-metadata</span>:
<span id="L8769" class="LineNr"> 8769 </span>      <span class="subxComment"># if (in-&gt;read &gt;= in-&gt;write) break</span>
<span id="L8770" class="LineNr"> 8770 </span>      <span class="subxS1Comment"># . ecx = in-&gt;read</span>
<span id="L8771" class="LineNr"> 8771 </span>      8b/-&gt; *(esi+4) 1/r32/ecx
<span id="L8772" class="LineNr"> 8772 </span>      <span class="subxS1Comment"># . if (ecx &gt;= in-&gt;write) break</span>
<span id="L8773" class="LineNr"> 8773 </span>      3b/compare&lt;- *esi 1/r32/ecx
<span id="L8774" class="LineNr"> 8774 </span>      7d/jump-if-&gt;= <span class="Constant">break</span>/disp8
<span id="L8775" class="LineNr"> 8775 </span>      <span class="subxComment"># var c/eax: byte = in-&gt;data[in-&gt;read]</span>
<span id="L8776" class="LineNr"> 8776 </span>      31/xor-with %eax 0/r32/eax
<span id="L8777" class="LineNr"> 8777 </span>      8a/copy-byte *(esi+ecx+0xc) 0/r32/AL
<span id="L8778" class="LineNr"> 8778 </span>      <span class="subxComment"># if (c == ' ') break</span>
<span id="L8779" class="LineNr"> 8779 </span>      3d/compare-eax-and 0x20/imm32/space
<span id="L8780" class="LineNr"> 8780 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L8781" class="LineNr"> 8781 </span>      <span class="subxComment"># if (c == '\r') break</span>
<span id="L8782" class="LineNr"> 8782 </span>      3d/compare-eax-and 0xd/imm32/carriage-return
<span id="L8783" class="LineNr"> 8783 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L8784" class="LineNr"> 8784 </span>      <span class="subxComment"># if (c == '\n') break</span>
<span id="L8785" class="LineNr"> 8785 </span>      3d/compare-eax-and 0xa/imm32/newline
<span id="L8786" class="LineNr"> 8786 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L8787" class="LineNr"> 8787 </span>      <span class="subxComment"># if (c == '(') break</span>
<span id="L8788" class="LineNr"> 8788 </span>      3d/compare-eax-and 0x28/imm32/open-paren
<span id="L8789" class="LineNr"> 8789 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L8790" class="LineNr"> 8790 </span>      <span class="subxComment"># if (c == ')') break</span>
<span id="L8791" class="LineNr"> 8791 </span>      3d/compare-eax-and 0x29/imm32/close-paren
<span id="L8792" class="LineNr"> 8792 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L8793" class="LineNr"> 8793 </span>      <span class="subxComment"># if (c == ',') break</span>
<span id="L8794" class="LineNr"> 8794 </span>      3d/compare-eax-and 0x2c/imm32/comma
<span id="L8795" class="LineNr"> 8795 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L8796" class="LineNr"> 8796 </span>      <span class="subxComment"># ++in-&gt;read</span>
<span id="L8797" class="LineNr"> 8797 </span>      ff 0/subop/increment *(esi+4)
<span id="L8798" class="LineNr"> 8798 </span>      <span class="subxComment">#</span>
<span id="L8799" class="LineNr"> 8799 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L8800" class="LineNr"> 8800 </span>    }
<span id="L8801" class="LineNr"> 8801 </span><span class="Constant">$next-mu-token:done</span>:
<span id="L8802" class="LineNr"> 8802 </span>    <span class="subxComment"># out-&gt;end = &amp;in-&gt;data[in-&gt;read]</span>
<span id="L8803" class="LineNr"> 8803 </span>    8b/-&gt; *(esi+4) 1/r32/ecx
<span id="L8804" class="LineNr"> 8804 </span>    8d/copy-address *(esi+ecx+0xc) 0/r32/eax
<span id="L8805" class="LineNr"> 8805 </span>    89/&lt;- *(edi+4) 0/r32/eax
<span id="L8806" class="LineNr"> 8806 </span><span class="Constant">$next-mu-token:end</span>:
<span id="L8807" class="LineNr"> 8807 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L8808" class="LineNr"> 8808 </span>    5f/pop-to-edi
<span id="L8809" class="LineNr"> 8809 </span>    5e/pop-to-esi
<span id="L8810" class="LineNr"> 8810 </span>    59/pop-to-ecx
<span id="L8811" class="LineNr"> 8811 </span>    58/pop-to-eax
<span id="L8812" class="LineNr"> 8812 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8813" class="LineNr"> 8813 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8814" class="LineNr"> 8814 </span>    5d/pop-to-ebp
<span id="L8815" class="LineNr"> 8815 </span>    c3/return
<span id="L8816" class="LineNr"> 8816 </span>
<span id="L8817" class="LineNr"> 8817 </span><span class="subxFunction">pos-or-insert-slice</span>:  <span class="subxComment"># arr: (addr stream (addr array byte)), s: (addr slice) -&gt; index/eax: int</span>
<span id="L8818" class="LineNr"> 8818 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8819" class="LineNr"> 8819 </span>    55/push-ebp
<span id="L8820" class="LineNr"> 8820 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8821" class="LineNr"> 8821 </span>    <span class="subxComment"># if (pos-slice(arr, s) != -1) return it</span>
<span id="L8822" class="LineNr"> 8822 </span>    (<a href='mu.subx.html#L8845'>pos-slice</a> *(ebp+8) *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L8823" class="LineNr"> 8823 </span>    3d/compare-eax-and -1/imm32
<span id="L8824" class="LineNr"> 8824 </span>    75/jump-if-!= $pos-or-insert-slice:end/disp8
<span id="L8825" class="LineNr"> 8825 </span><span class="Constant">$pos-or-insert-slice:insert</span>:
<span id="L8826" class="LineNr"> 8826 </span>    <span class="subxComment"># var s2/eax: (handle array byte)</span>
<span id="L8827" class="LineNr"> 8827 </span>    68/push 0/imm32
<span id="L8828" class="LineNr"> 8828 </span>    68/push 0/imm32
<span id="L8829" class="LineNr"> 8829 </span>    89/&lt;- %eax 4/r32/esp
<span id="L8830" class="LineNr"> 8830 </span>    (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *(ebp+0xc) %eax)
<span id="L8831" class="LineNr"> 8831 </span>    <span class="subxComment"># throw away alloc-id</span>
<span id="L8832" class="LineNr"> 8832 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8833" class="LineNr"> 8833 </span>    (<a href='../202write-int.subx.html#L8'>write-int</a> *(ebp+8) %eax)
<span id="L8834" class="LineNr"> 8834 </span>    (<a href='mu.subx.html#L8845'>pos-slice</a> *(ebp+8) *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L8835" class="LineNr"> 8835 </span><span class="Constant">$pos-or-insert-slice:end</span>:
<span id="L8836" class="LineNr"> 8836 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L8837" class="LineNr"> 8837 </span>    81 0/subop/add %esp 8/imm32
<span id="L8838" class="LineNr"> 8838 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8839" class="LineNr"> 8839 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8840" class="LineNr"> 8840 </span>    5d/pop-to-ebp
<span id="L8841" class="LineNr"> 8841 </span>    c3/return
<span id="L8842" class="LineNr"> 8842 </span>
<span id="L8843" class="LineNr"> 8843 </span><span class="subxComment"># return the index in an array of strings matching 's', -1 if not found</span>
<span id="L8844" class="LineNr"> 8844 </span><span class="subxComment"># index is denominated in elements, not bytes</span>
<span id="L8845" class="LineNr"> 8845 </span><span class="subxFunction">pos-slice</span>:  <span class="subxComment"># arr: (addr stream (addr array byte)), s: (addr slice) -&gt; index/eax: int</span>
<span id="L8846" class="LineNr"> 8846 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8847" class="LineNr"> 8847 </span>    55/push-ebp
<span id="L8848" class="LineNr"> 8848 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8849" class="LineNr"> 8849 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L8850" class="LineNr"> 8850 </span>    51/push-ecx
<span id="L8851" class="LineNr"> 8851 </span>    52/push-edx
<span id="L8852" class="LineNr"> 8852 </span>    53/push-ebx
<span id="L8853" class="LineNr"> 8853 </span>    56/push-esi
<span id="L8854" class="LineNr"> 8854 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;pos-slice: &quot;)</span>
<span id="L8855" class="LineNr"> 8855 </span><span class="CommentedCode">#?     (write-slice-buffered Stderr *(ebp+0xc))</span>
<span id="L8856" class="LineNr"> 8856 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;\n&quot;)</span>
<span id="L8857" class="LineNr"> 8857 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L8858" class="LineNr"> 8858 </span>    <span class="subxComment"># esi = arr</span>
<span id="L8859" class="LineNr"> 8859 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L8860" class="LineNr"> 8860 </span>    <span class="subxComment"># var index/ecx: int = 0</span>
<span id="L8861" class="LineNr"> 8861 </span>    b9/copy-to-ecx 0/imm32
<span id="L8862" class="LineNr"> 8862 </span>    <span class="subxComment"># var curr/edx: (addr (addr array byte)) = arr-&gt;data</span>
<span id="L8863" class="LineNr"> 8863 </span>    8d/copy-address *(esi+0xc) 2/r32/edx
<span id="L8864" class="LineNr"> 8864 </span>    <span class="subxComment"># var max/ebx: (addr (addr array byte)) = &amp;arr-&gt;data[arr-&gt;write]</span>
<span id="L8865" class="LineNr"> 8865 </span>    8b/-&gt; *esi 3/r32/ebx
<span id="L8866" class="LineNr"> 8866 </span>    8d/copy-address *(esi+ebx+0xc) 3/r32/ebx
<span id="L8867" class="LineNr"> 8867 </span>    {
<span id="L8868" class="LineNr"> 8868 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;  &quot;)</span>
<span id="L8869" class="LineNr"> 8869 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %ecx)</span>
<span id="L8870" class="LineNr"> 8870 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;\n&quot;)</span>
<span id="L8871" class="LineNr"> 8871 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L8872" class="LineNr"> 8872 </span>      <span class="subxComment"># if (curr &gt;= max) return -1</span>
<span id="L8873" class="LineNr"> 8873 </span>      39/compare %edx 3/r32/ebx
<span id="L8874" class="LineNr"> 8874 </span>      b8/copy-to-eax -1/imm32
<span id="L8875" class="LineNr"> 8875 </span>      73/jump-if-addr&gt;= $pos-slice:end/disp8
<span id="L8876" class="LineNr"> 8876 </span>      <span class="subxComment"># if (slice-equal?(s, *curr)) break</span>
<span id="L8877" class="LineNr"> 8877 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> *(ebp+0xc) *edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L8878" class="LineNr"> 8878 </span>      3d/compare-eax-and 0/imm32/false
<span id="L8879" class="LineNr"> 8879 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L8880" class="LineNr"> 8880 </span>      <span class="subxComment"># ++index</span>
<span id="L8881" class="LineNr"> 8881 </span>      41/increment-ecx
<span id="L8882" class="LineNr"> 8882 </span>      <span class="subxComment"># curr += 4</span>
<span id="L8883" class="LineNr"> 8883 </span>      81 0/subop/add %edx 4/imm32
<span id="L8884" class="LineNr"> 8884 </span>      <span class="subxComment">#</span>
<span id="L8885" class="LineNr"> 8885 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L8886" class="LineNr"> 8886 </span>    }
<span id="L8887" class="LineNr"> 8887 </span>    <span class="subxComment"># return index</span>
<span id="L8888" class="LineNr"> 8888 </span>    89/&lt;- %eax 1/r32/ecx
<span id="L8889" class="LineNr"> 8889 </span><span class="Constant">$pos-slice:end</span>:
<span id="L8890" class="LineNr"> 8890 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;=&gt; &quot;)</span>
<span id="L8891" class="LineNr"> 8891 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L8892" class="LineNr"> 8892 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;\n&quot;)</span>
<span id="L8893" class="LineNr"> 8893 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L8894" class="LineNr"> 8894 </span>    5e/pop-to-esi
<span id="L8895" class="LineNr"> 8895 </span>    5b/pop-to-ebx
<span id="L8896" class="LineNr"> 8896 </span>    5a/pop-to-edx
<span id="L8897" class="LineNr"> 8897 </span>    59/pop-to-ecx
<span id="L8898" class="LineNr"> 8898 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8899" class="LineNr"> 8899 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8900" class="LineNr"> 8900 </span>    5d/pop-to-ebp
<span id="L8901" class="LineNr"> 8901 </span>    c3/return
<span id="L8902" class="LineNr"> 8902 </span>
<span id="L8903" class="LineNr"> 8903 </span><span class="subxTest">test-parse-var-with-type</span>:
<span id="L8904" class="LineNr"> 8904 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8905" class="LineNr"> 8905 </span>    55/push-ebp
<span id="L8906" class="LineNr"> 8906 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8907" class="LineNr"> 8907 </span>    <span class="subxComment"># (eax..ecx) = &quot;x:&quot;</span>
<span id="L8908" class="LineNr"> 8908 </span>    b8/copy-to-eax <span class="Constant">&quot;x:&quot;</span>/imm32
<span id="L8909" class="LineNr"> 8909 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L8910" class="LineNr"> 8910 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L8911" class="LineNr"> 8911 </span>    05/add-to-eax 4/imm32
<span id="L8912" class="LineNr"> 8912 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L8913" class="LineNr"> 8913 </span>    51/push-ecx
<span id="L8914" class="LineNr"> 8914 </span>    50/push-eax
<span id="L8915" class="LineNr"> 8915 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8916" class="LineNr"> 8916 </span>    <span class="subxComment"># _test-input-stream contains &quot;int&quot;</span>
<span id="L8917" class="LineNr"> 8917 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L8918" class="LineNr"> 8918 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;int&quot;</span>)
<span id="L8919" class="LineNr"> 8919 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L8920" class="LineNr"> 8920 </span>    68/push 0/imm32
<span id="L8921" class="LineNr"> 8921 </span>    68/push 0/imm32
<span id="L8922" class="LineNr"> 8922 </span>    89/&lt;- %edx 4/r32/esp
<span id="L8923" class="LineNr"> 8923 </span>    <span class="subxComment">#</span>
<span id="L8924" class="LineNr"> 8924 </span>    (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %edx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L8925" class="LineNr"> 8925 </span>    <span class="subxComment"># var v-addr/edx: (addr var) = lookup(v)</span>
<span id="L8926" class="LineNr"> 8926 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8927" class="LineNr"> 8927 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8928" class="LineNr"> 8928 </span>    <span class="subxComment"># check v-addr-&gt;name</span>
<span id="L8929" class="LineNr"> 8929 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8930" class="LineNr"> 8930 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;x&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8903'>test-parse-var-with-type</a>/name&quot;</span>)
<span id="L8931" class="LineNr"> 8931 </span>    <span class="subxComment"># check v-addr-&gt;type</span>
<span id="L8932" class="LineNr"> 8932 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8933" class="LineNr"> 8933 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8903'>test-parse-var-with-type</a>/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8934" class="LineNr"> 8934 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8903'>test-parse-var-with-type</a>/type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L8935" class="LineNr"> 8935 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8903'>test-parse-var-with-type</a>/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8936" class="LineNr"> 8936 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8937" class="LineNr"> 8937 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8938" class="LineNr"> 8938 </span>    5d/pop-to-ebp
<span id="L8939" class="LineNr"> 8939 </span>    c3/return
<span id="L8940" class="LineNr"> 8940 </span>
<span id="L8941" class="LineNr"> 8941 </span><span class="subxTest">test-parse-var-with-type-and-register</span>:
<span id="L8942" class="LineNr"> 8942 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8943" class="LineNr"> 8943 </span>    55/push-ebp
<span id="L8944" class="LineNr"> 8944 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8945" class="LineNr"> 8945 </span>    <span class="subxComment"># (eax..ecx) = &quot;x/eax:&quot;</span>
<span id="L8946" class="LineNr"> 8946 </span>    b8/copy-to-eax <span class="Constant">&quot;x/eax:&quot;</span>/imm32
<span id="L8947" class="LineNr"> 8947 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L8948" class="LineNr"> 8948 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L8949" class="LineNr"> 8949 </span>    05/add-to-eax 4/imm32
<span id="L8950" class="LineNr"> 8950 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L8951" class="LineNr"> 8951 </span>    51/push-ecx
<span id="L8952" class="LineNr"> 8952 </span>    50/push-eax
<span id="L8953" class="LineNr"> 8953 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8954" class="LineNr"> 8954 </span>    <span class="subxComment"># _test-input-stream contains &quot;int&quot;</span>
<span id="L8955" class="LineNr"> 8955 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L8956" class="LineNr"> 8956 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;int&quot;</span>)
<span id="L8957" class="LineNr"> 8957 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L8958" class="LineNr"> 8958 </span>    68/push 0/imm32
<span id="L8959" class="LineNr"> 8959 </span>    68/push 0/imm32
<span id="L8960" class="LineNr"> 8960 </span>    89/&lt;- %edx 4/r32/esp
<span id="L8961" class="LineNr"> 8961 </span>    <span class="subxComment">#</span>
<span id="L8962" class="LineNr"> 8962 </span>    (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %edx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L8963" class="LineNr"> 8963 </span>    <span class="subxComment"># var v-addr/edx: (addr var) = lookup(v)</span>
<span id="L8964" class="LineNr"> 8964 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L8965" class="LineNr"> 8965 </span>    89/&lt;- %edx 0/r32/eax
<span id="L8966" class="LineNr"> 8966 </span>    <span class="subxComment"># check v-addr-&gt;name</span>
<span id="L8967" class="LineNr"> 8967 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L8968" class="LineNr"> 8968 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;x&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8941'>test-parse-var-with-type-and-register</a>/name&quot;</span>)
<span id="L8969" class="LineNr"> 8969 </span>    <span class="subxComment"># check v-addr-&gt;register</span>
<span id="L8970" class="LineNr"> 8970 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x18) *(edx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L8971" class="LineNr"> 8971 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8941'>test-parse-var-with-type-and-register</a>/register&quot;</span>)
<span id="L8972" class="LineNr"> 8972 </span>    <span class="subxComment"># check v-addr-&gt;type</span>
<span id="L8973" class="LineNr"> 8973 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L8974" class="LineNr"> 8974 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8941'>test-parse-var-with-type-and-register</a>/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L8975" class="LineNr"> 8975 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8941'>test-parse-var-with-type-and-register</a>/type:1&quot;</span>)  <span class="subxComment"># Type-tree-left</span>
<span id="L8976" class="LineNr"> 8976 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8941'>test-parse-var-with-type-and-register</a>/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L8977" class="LineNr"> 8977 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L8978" class="LineNr"> 8978 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L8979" class="LineNr"> 8979 </span>    5d/pop-to-ebp
<span id="L8980" class="LineNr"> 8980 </span>    c3/return
<span id="L8981" class="LineNr"> 8981 </span>
<span id="L8982" class="LineNr"> 8982 </span><span class="subxTest">test-parse-var-with-trailing-characters</span>:
<span id="L8983" class="LineNr"> 8983 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L8984" class="LineNr"> 8984 </span>    55/push-ebp
<span id="L8985" class="LineNr"> 8985 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L8986" class="LineNr"> 8986 </span>    <span class="subxComment"># (eax..ecx) = &quot;x:&quot;</span>
<span id="L8987" class="LineNr"> 8987 </span>    b8/copy-to-eax <span class="Constant">&quot;x:&quot;</span>/imm32
<span id="L8988" class="LineNr"> 8988 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L8989" class="LineNr"> 8989 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L8990" class="LineNr"> 8990 </span>    05/add-to-eax 4/imm32
<span id="L8991" class="LineNr"> 8991 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L8992" class="LineNr"> 8992 </span>    51/push-ecx
<span id="L8993" class="LineNr"> 8993 </span>    50/push-eax
<span id="L8994" class="LineNr"> 8994 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L8995" class="LineNr"> 8995 </span>    <span class="subxComment"># _test-input-stream contains &quot;int,&quot;</span>
<span id="L8996" class="LineNr"> 8996 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L8997" class="LineNr"> 8997 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;int,&quot;</span>)
<span id="L8998" class="LineNr"> 8998 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L8999" class="LineNr"> 8999 </span>    68/push 0/imm32
<span id="L9000" class="LineNr"> 9000 </span>    68/push 0/imm32
<span id="L9001" class="LineNr"> 9001 </span>    89/&lt;- %edx 4/r32/esp
<span id="L9002" class="LineNr"> 9002 </span>    <span class="subxComment">#</span>
<span id="L9003" class="LineNr"> 9003 </span>    (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %edx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L9004" class="LineNr"> 9004 </span>    <span class="subxComment"># var v-addr/edx: (addr var) = lookup(v)</span>
<span id="L9005" class="LineNr"> 9005 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9006" class="LineNr"> 9006 </span>    89/&lt;- %edx 0/r32/eax
<span id="L9007" class="LineNr"> 9007 </span>    <span class="subxComment"># check v-addr-&gt;name</span>
<span id="L9008" class="LineNr"> 9008 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L9009" class="LineNr"> 9009 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;x&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L8982'>test-parse-var-with-trailing-characters</a>/name&quot;</span>)
<span id="L9010" class="LineNr"> 9010 </span>    <span class="subxComment"># check v-addr-&gt;register</span>
<span id="L9011" class="LineNr"> 9011 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+0x18) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8982'>test-parse-var-with-trailing-characters</a>/register&quot;</span>)  <span class="subxComment"># Var-register</span>
<span id="L9012" class="LineNr"> 9012 </span>    <span class="subxComment"># check v-addr-&gt;type</span>
<span id="L9013" class="LineNr"> 9013 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L9014" class="LineNr"> 9014 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8982'>test-parse-var-with-trailing-characters</a>/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L9015" class="LineNr"> 9015 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L8982'>test-parse-var-with-trailing-characters</a>/type:1&quot;</span>)  <span class="subxComment"># Type-tree-left</span>
<span id="L9016" class="LineNr"> 9016 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L8982'>test-parse-var-with-trailing-characters</a>/type:1&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L9017" class="LineNr"> 9017 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9018" class="LineNr"> 9018 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9019" class="LineNr"> 9019 </span>    5d/pop-to-ebp
<span id="L9020" class="LineNr"> 9020 </span>    c3/return
<span id="L9021" class="LineNr"> 9021 </span>
<span id="L9022" class="LineNr"> 9022 </span><span class="subxTest">test-parse-var-with-register-and-trailing-characters</span>:
<span id="L9023" class="LineNr"> 9023 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9024" class="LineNr"> 9024 </span>    55/push-ebp
<span id="L9025" class="LineNr"> 9025 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9026" class="LineNr"> 9026 </span>    <span class="subxComment"># (eax..ecx) = &quot;x/eax:&quot;</span>
<span id="L9027" class="LineNr"> 9027 </span>    b8/copy-to-eax <span class="Constant">&quot;x/eax:&quot;</span>/imm32
<span id="L9028" class="LineNr"> 9028 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9029" class="LineNr"> 9029 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9030" class="LineNr"> 9030 </span>    05/add-to-eax 4/imm32
<span id="L9031" class="LineNr"> 9031 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9032" class="LineNr"> 9032 </span>    51/push-ecx
<span id="L9033" class="LineNr"> 9033 </span>    50/push-eax
<span id="L9034" class="LineNr"> 9034 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9035" class="LineNr"> 9035 </span>    <span class="subxComment"># _test-input-stream contains &quot;int,&quot;</span>
<span id="L9036" class="LineNr"> 9036 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L9037" class="LineNr"> 9037 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;int,&quot;</span>)
<span id="L9038" class="LineNr"> 9038 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L9039" class="LineNr"> 9039 </span>    68/push 0/imm32
<span id="L9040" class="LineNr"> 9040 </span>    68/push 0/imm32
<span id="L9041" class="LineNr"> 9041 </span>    89/&lt;- %edx 4/r32/esp
<span id="L9042" class="LineNr"> 9042 </span>    <span class="subxComment">#</span>
<span id="L9043" class="LineNr"> 9043 </span>    (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %edx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L9044" class="LineNr"> 9044 </span>    <span class="subxComment"># var v-addr/edx: (addr var) = lookup(v)</span>
<span id="L9045" class="LineNr"> 9045 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9046" class="LineNr"> 9046 </span>    89/&lt;- %edx 0/r32/eax
<span id="L9047" class="LineNr"> 9047 </span>    <span class="subxComment"># check v-addr-&gt;name</span>
<span id="L9048" class="LineNr"> 9048 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L9049" class="LineNr"> 9049 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;x&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L9022'>test-parse-var-with-register-and-trailing-characters</a>/name&quot;</span>)
<span id="L9050" class="LineNr"> 9050 </span>    <span class="subxComment"># check v-addr-&gt;register</span>
<span id="L9051" class="LineNr"> 9051 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x18) *(edx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L9052" class="LineNr"> 9052 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L9022'>test-parse-var-with-register-and-trailing-characters</a>/register&quot;</span>)
<span id="L9053" class="LineNr"> 9053 </span>    <span class="subxComment"># check v-addr-&gt;type</span>
<span id="L9054" class="LineNr"> 9054 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L9055" class="LineNr"> 9055 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9022'>test-parse-var-with-register-and-trailing-characters</a>/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L9056" class="LineNr"> 9056 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9022'>test-parse-var-with-register-and-trailing-characters</a>/type:1&quot;</span>)  <span class="subxComment"># Type-tree-left</span>
<span id="L9057" class="LineNr"> 9057 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9022'>test-parse-var-with-register-and-trailing-characters</a>/type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L9058" class="LineNr"> 9058 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9059" class="LineNr"> 9059 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9060" class="LineNr"> 9060 </span>    5d/pop-to-ebp
<span id="L9061" class="LineNr"> 9061 </span>    c3/return
<span id="L9062" class="LineNr"> 9062 </span>
<span id="L9063" class="LineNr"> 9063 </span><span class="subxTest">test-parse-var-with-compound-type</span>:
<span id="L9064" class="LineNr"> 9064 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9065" class="LineNr"> 9065 </span>    55/push-ebp
<span id="L9066" class="LineNr"> 9066 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9067" class="LineNr"> 9067 </span>    <span class="subxComment"># (eax..ecx) = &quot;x:&quot;</span>
<span id="L9068" class="LineNr"> 9068 </span>    b8/copy-to-eax <span class="Constant">&quot;x:&quot;</span>/imm32
<span id="L9069" class="LineNr"> 9069 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9070" class="LineNr"> 9070 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9071" class="LineNr"> 9071 </span>    05/add-to-eax 4/imm32
<span id="L9072" class="LineNr"> 9072 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9073" class="LineNr"> 9073 </span>    51/push-ecx
<span id="L9074" class="LineNr"> 9074 </span>    50/push-eax
<span id="L9075" class="LineNr"> 9075 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9076" class="LineNr"> 9076 </span>    <span class="subxComment"># _test-input-stream contains &quot;(addr int)&quot;</span>
<span id="L9077" class="LineNr"> 9077 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L9078" class="LineNr"> 9078 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;(addr int)&quot;</span>)
<span id="L9079" class="LineNr"> 9079 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L9080" class="LineNr"> 9080 </span>    68/push 0/imm32
<span id="L9081" class="LineNr"> 9081 </span>    68/push 0/imm32
<span id="L9082" class="LineNr"> 9082 </span>    89/&lt;- %edx 4/r32/esp
<span id="L9083" class="LineNr"> 9083 </span>    <span class="subxComment">#</span>
<span id="L9084" class="LineNr"> 9084 </span>    (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %edx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L9085" class="LineNr"> 9085 </span>    <span class="subxComment"># var v-addr/edx: (addr var) = lookup(v)</span>
<span id="L9086" class="LineNr"> 9086 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9087" class="LineNr"> 9087 </span>    89/&lt;- %edx 0/r32/eax
<span id="L9088" class="LineNr"> 9088 </span>    <span class="subxComment"># check v-addr-&gt;name</span>
<span id="L9089" class="LineNr"> 9089 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L9090" class="LineNr"> 9090 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;x&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/name&quot;</span>)
<span id="L9091" class="LineNr"> 9091 </span>    <span class="subxComment"># check v-addr-&gt;register</span>
<span id="L9092" class="LineNr"> 9092 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(edx+0x18) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/register&quot;</span>)  <span class="subxComment"># Var-register</span>
<span id="L9093" class="LineNr"> 9093 </span>    <span class="subxH1Comment"># - check v-addr-&gt;type</span>
<span id="L9094" class="LineNr"> 9094 </span>    <span class="subxComment"># var type/edx: (addr type-tree) = var-&gt;type</span>
<span id="L9095" class="LineNr"> 9095 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L9096" class="LineNr"> 9096 </span>    89/&lt;- %edx 0/r32/eax
<span id="L9097" class="LineNr"> 9097 </span>    <span class="subxComment"># type is a non-atom</span>
<span id="L9098" class="LineNr"> 9098 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *edx 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L9099" class="LineNr"> 9099 </span>    <span class="subxComment"># type-&gt;left == atom(addr)</span>
<span id="L9100" class="LineNr"> 9100 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L9101" class="LineNr"> 9101 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/type:1&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L9102" class="LineNr"> 9102 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/type:2&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L9103" class="LineNr"> 9103 </span>    <span class="subxComment"># type-&gt;right-&gt;left == atom(int)</span>
<span id="L9104" class="LineNr"> 9104 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0xc) *(edx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L9105" class="LineNr"> 9105 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L9106" class="LineNr"> 9106 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/type:3&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L9107" class="LineNr"> 9107 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/type:4&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L9108" class="LineNr"> 9108 </span>    <span class="subxComment"># type-&gt;right-&gt;right == null</span>
<span id="L9109" class="LineNr"> 9109 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9063'>test-parse-var-with-compound-type</a>/type:5&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L9110" class="LineNr"> 9110 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9111" class="LineNr"> 9111 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9112" class="LineNr"> 9112 </span>    5d/pop-to-ebp
<span id="L9113" class="LineNr"> 9113 </span>    c3/return
<span id="L9114" class="LineNr"> 9114 </span>
<span id="L9115" class="LineNr"> 9115 </span><span class="subxComment"># identifier starts with a letter or '$' or '_'</span>
<span id="L9116" class="LineNr"> 9116 </span><span class="subxComment"># no constraints at the moment on later letters</span>
<span id="L9117" class="LineNr"> 9117 </span><span class="subxComment"># all we really want to do so far is exclude '{', '}' and '-&gt;'</span>
<span id="L9118" class="LineNr"> 9118 </span><span class="subxFunction">is-identifier?</span>:  <span class="subxComment"># in: (addr slice) -&gt; result/eax: boolean</span>
<span id="L9119" class="LineNr"> 9119 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9120" class="LineNr"> 9120 </span>    55/push-ebp
<span id="L9121" class="LineNr"> 9121 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9122" class="LineNr"> 9122 </span>    <span class="subxComment"># if (slice-empty?(in)) return false</span>
<span id="L9123" class="LineNr"> 9123 </span>    (<a href='../123slice.subx.html#L9'>slice-empty?</a> *(ebp+8))  <span class="subxComment"># =&gt; eax</span>
<span id="L9124" class="LineNr"> 9124 </span>    3d/compare-eax-and 0/imm32/false
<span id="L9125" class="LineNr"> 9125 </span>    75/jump-if-!= $is-identifier?:false/disp8
<span id="L9126" class="LineNr"> 9126 </span>    <span class="subxComment"># var c/eax: byte = *in-&gt;start</span>
<span id="L9127" class="LineNr"> 9127 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L9128" class="LineNr"> 9128 </span>    8b/-&gt; *eax 0/r32/eax
<span id="L9129" class="LineNr"> 9129 </span>    8a/copy-byte *eax 0/r32/AL
<span id="L9130" class="LineNr"> 9130 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L9131" class="LineNr"> 9131 </span>    <span class="subxComment"># if (c == '$') return true</span>
<span id="L9132" class="LineNr"> 9132 </span>    3d/compare-eax-and 0x24/imm32/$
<span id="L9133" class="LineNr"> 9133 </span>    74/jump-if-= $is-identifier?:true/disp8
<span id="L9134" class="LineNr"> 9134 </span>    <span class="subxComment"># if (c == '_') return true</span>
<span id="L9135" class="LineNr"> 9135 </span>    3d/compare-eax-and 0x5f/imm32/_
<span id="L9136" class="LineNr"> 9136 </span>    74/jump-if-= $is-identifier?:true/disp8
<span id="L9137" class="LineNr"> 9137 </span>    <span class="subxComment"># drop case</span>
<span id="L9138" class="LineNr"> 9138 </span>    25/and-eax-with 0x5f/imm32
<span id="L9139" class="LineNr"> 9139 </span>    <span class="subxComment"># if (c &lt; 'A') return false</span>
<span id="L9140" class="LineNr"> 9140 </span>    3d/compare-eax-and 0x41/imm32/A
<span id="L9141" class="LineNr"> 9141 </span>    7c/jump-if-&lt; $is-identifier?:false/disp8
<span id="L9142" class="LineNr"> 9142 </span>    <span class="subxComment"># if (c &gt; 'Z') return false</span>
<span id="L9143" class="LineNr"> 9143 </span>    3d/compare-eax-and 0x5a/imm32/Z
<span id="L9144" class="LineNr"> 9144 </span>    7f/jump-if-&gt; $is-identifier?:false/disp8
<span id="L9145" class="LineNr"> 9145 </span>    <span class="subxComment"># otherwise return true</span>
<span id="L9146" class="LineNr"> 9146 </span><span class="Constant">$is-identifier?:true</span>:
<span id="L9147" class="LineNr"> 9147 </span>    b8/copy-to-eax 1/imm32/true
<span id="L9148" class="LineNr"> 9148 </span>    eb/jump $is-identifier?:end/disp8
<span id="L9149" class="LineNr"> 9149 </span><span class="Constant">$is-identifier?:false</span>:
<span id="L9150" class="LineNr"> 9150 </span>    b8/copy-to-eax 0/imm32/false
<span id="L9151" class="LineNr"> 9151 </span><span class="Constant">$is-identifier?:end</span>:
<span id="L9152" class="LineNr"> 9152 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9153" class="LineNr"> 9153 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9154" class="LineNr"> 9154 </span>    5d/pop-to-ebp
<span id="L9155" class="LineNr"> 9155 </span>    c3/return
<span id="L9156" class="LineNr"> 9156 </span>
<span id="L9157" class="LineNr"> 9157 </span><span class="subxTest">test-is-identifier-dollar</span>:
<span id="L9158" class="LineNr"> 9158 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9159" class="LineNr"> 9159 </span>    55/push-ebp
<span id="L9160" class="LineNr"> 9160 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9161" class="LineNr"> 9161 </span>    <span class="subxComment"># (eax..ecx) = &quot;$a&quot;</span>
<span id="L9162" class="LineNr"> 9162 </span>    b8/copy-to-eax <span class="Constant">&quot;$a&quot;</span>/imm32
<span id="L9163" class="LineNr"> 9163 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9164" class="LineNr"> 9164 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9165" class="LineNr"> 9165 </span>    05/add-to-eax 4/imm32
<span id="L9166" class="LineNr"> 9166 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9167" class="LineNr"> 9167 </span>    51/push-ecx
<span id="L9168" class="LineNr"> 9168 </span>    50/push-eax
<span id="L9169" class="LineNr"> 9169 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9170" class="LineNr"> 9170 </span>    <span class="subxComment">#</span>
<span id="L9171" class="LineNr"> 9171 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9172" class="LineNr"> 9172 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 1 <span class="Constant">&quot;F - test-is-identifier-dollar&quot;</span>)
<span id="L9173" class="LineNr"> 9173 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9174" class="LineNr"> 9174 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9175" class="LineNr"> 9175 </span>    5d/pop-to-ebp
<span id="L9176" class="LineNr"> 9176 </span>    c3/return
<span id="L9177" class="LineNr"> 9177 </span>
<span id="L9178" class="LineNr"> 9178 </span><span class="subxTest">test-is-identifier-underscore</span>:
<span id="L9179" class="LineNr"> 9179 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9180" class="LineNr"> 9180 </span>    55/push-ebp
<span id="L9181" class="LineNr"> 9181 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9182" class="LineNr"> 9182 </span>    <span class="subxComment"># (eax..ecx) = &quot;_a&quot;</span>
<span id="L9183" class="LineNr"> 9183 </span>    b8/copy-to-eax <span class="Constant">&quot;_a&quot;</span>/imm32
<span id="L9184" class="LineNr"> 9184 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9185" class="LineNr"> 9185 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9186" class="LineNr"> 9186 </span>    05/add-to-eax 4/imm32
<span id="L9187" class="LineNr"> 9187 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9188" class="LineNr"> 9188 </span>    51/push-ecx
<span id="L9189" class="LineNr"> 9189 </span>    50/push-eax
<span id="L9190" class="LineNr"> 9190 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9191" class="LineNr"> 9191 </span>    <span class="subxComment">#</span>
<span id="L9192" class="LineNr"> 9192 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9193" class="LineNr"> 9193 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 1 <span class="Constant">&quot;F - test-is-identifier-underscore&quot;</span>)
<span id="L9194" class="LineNr"> 9194 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9195" class="LineNr"> 9195 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9196" class="LineNr"> 9196 </span>    5d/pop-to-ebp
<span id="L9197" class="LineNr"> 9197 </span>    c3/return
<span id="L9198" class="LineNr"> 9198 </span>
<span id="L9199" class="LineNr"> 9199 </span><span class="subxTest">test-is-identifier-a</span>:
<span id="L9200" class="LineNr"> 9200 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9201" class="LineNr"> 9201 </span>    55/push-ebp
<span id="L9202" class="LineNr"> 9202 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9203" class="LineNr"> 9203 </span>    <span class="subxComment"># (eax..ecx) = &quot;a$&quot;</span>
<span id="L9204" class="LineNr"> 9204 </span>    b8/copy-to-eax <span class="Constant">&quot;a$&quot;</span>/imm32
<span id="L9205" class="LineNr"> 9205 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9206" class="LineNr"> 9206 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9207" class="LineNr"> 9207 </span>    05/add-to-eax 4/imm32
<span id="L9208" class="LineNr"> 9208 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9209" class="LineNr"> 9209 </span>    51/push-ecx
<span id="L9210" class="LineNr"> 9210 </span>    50/push-eax
<span id="L9211" class="LineNr"> 9211 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9212" class="LineNr"> 9212 </span>    <span class="subxComment">#</span>
<span id="L9213" class="LineNr"> 9213 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9214" class="LineNr"> 9214 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 1 <span class="Constant">&quot;F - test-is-identifier-a&quot;</span>)
<span id="L9215" class="LineNr"> 9215 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9216" class="LineNr"> 9216 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9217" class="LineNr"> 9217 </span>    5d/pop-to-ebp
<span id="L9218" class="LineNr"> 9218 </span>    c3/return
<span id="L9219" class="LineNr"> 9219 </span>
<span id="L9220" class="LineNr"> 9220 </span><span class="subxTest">test-is-identifier-z</span>:
<span id="L9221" class="LineNr"> 9221 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9222" class="LineNr"> 9222 </span>    55/push-ebp
<span id="L9223" class="LineNr"> 9223 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9224" class="LineNr"> 9224 </span>    <span class="subxComment"># (eax..ecx) = &quot;z$&quot;</span>
<span id="L9225" class="LineNr"> 9225 </span>    b8/copy-to-eax <span class="Constant">&quot;z$&quot;</span>/imm32
<span id="L9226" class="LineNr"> 9226 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9227" class="LineNr"> 9227 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9228" class="LineNr"> 9228 </span>    05/add-to-eax 4/imm32
<span id="L9229" class="LineNr"> 9229 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9230" class="LineNr"> 9230 </span>    51/push-ecx
<span id="L9231" class="LineNr"> 9231 </span>    50/push-eax
<span id="L9232" class="LineNr"> 9232 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9233" class="LineNr"> 9233 </span>    <span class="subxComment">#</span>
<span id="L9234" class="LineNr"> 9234 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9235" class="LineNr"> 9235 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 1 <span class="Constant">&quot;F - test-is-identifier-z&quot;</span>)
<span id="L9236" class="LineNr"> 9236 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9237" class="LineNr"> 9237 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9238" class="LineNr"> 9238 </span>    5d/pop-to-ebp
<span id="L9239" class="LineNr"> 9239 </span>    c3/return
<span id="L9240" class="LineNr"> 9240 </span>
<span id="L9241" class="LineNr"> 9241 </span><span class="subxTest">test-is-identifier-A</span>:
<span id="L9242" class="LineNr"> 9242 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9243" class="LineNr"> 9243 </span>    55/push-ebp
<span id="L9244" class="LineNr"> 9244 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9245" class="LineNr"> 9245 </span>    <span class="subxComment"># (eax..ecx) = &quot;A$&quot;</span>
<span id="L9246" class="LineNr"> 9246 </span>    b8/copy-to-eax <span class="Constant">&quot;A$&quot;</span>/imm32
<span id="L9247" class="LineNr"> 9247 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9248" class="LineNr"> 9248 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9249" class="LineNr"> 9249 </span>    05/add-to-eax 4/imm32
<span id="L9250" class="LineNr"> 9250 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9251" class="LineNr"> 9251 </span>    51/push-ecx
<span id="L9252" class="LineNr"> 9252 </span>    50/push-eax
<span id="L9253" class="LineNr"> 9253 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9254" class="LineNr"> 9254 </span>    <span class="subxComment">#</span>
<span id="L9255" class="LineNr"> 9255 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9256" class="LineNr"> 9256 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 1 <span class="Constant">&quot;F - test-is-identifier-A&quot;</span>)
<span id="L9257" class="LineNr"> 9257 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9258" class="LineNr"> 9258 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9259" class="LineNr"> 9259 </span>    5d/pop-to-ebp
<span id="L9260" class="LineNr"> 9260 </span>    c3/return
<span id="L9261" class="LineNr"> 9261 </span>
<span id="L9262" class="LineNr"> 9262 </span><span class="subxTest">test-is-identifier-Z</span>:
<span id="L9263" class="LineNr"> 9263 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9264" class="LineNr"> 9264 </span>    55/push-ebp
<span id="L9265" class="LineNr"> 9265 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9266" class="LineNr"> 9266 </span>    <span class="subxComment"># (eax..ecx) = &quot;Z$&quot;</span>
<span id="L9267" class="LineNr"> 9267 </span>    b8/copy-to-eax <span class="Constant">&quot;Z$&quot;</span>/imm32
<span id="L9268" class="LineNr"> 9268 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9269" class="LineNr"> 9269 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9270" class="LineNr"> 9270 </span>    05/add-to-eax 4/imm32
<span id="L9271" class="LineNr"> 9271 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9272" class="LineNr"> 9272 </span>    51/push-ecx
<span id="L9273" class="LineNr"> 9273 </span>    50/push-eax
<span id="L9274" class="LineNr"> 9274 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9275" class="LineNr"> 9275 </span>    <span class="subxComment">#</span>
<span id="L9276" class="LineNr"> 9276 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9277" class="LineNr"> 9277 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 1 <span class="Constant">&quot;F - test-is-identifier-Z&quot;</span>)
<span id="L9278" class="LineNr"> 9278 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9279" class="LineNr"> 9279 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9280" class="LineNr"> 9280 </span>    5d/pop-to-ebp
<span id="L9281" class="LineNr"> 9281 </span>    c3/return
<span id="L9282" class="LineNr"> 9282 </span>
<span id="L9283" class="LineNr"> 9283 </span><span class="subxTest">test-is-identifier-at</span>:
<span id="L9284" class="LineNr"> 9284 </span>    <span class="subxComment"># character before 'A' is invalid</span>
<span id="L9285" class="LineNr"> 9285 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9286" class="LineNr"> 9286 </span>    55/push-ebp
<span id="L9287" class="LineNr"> 9287 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9288" class="LineNr"> 9288 </span>    <span class="subxComment"># (eax..ecx) = &quot;@a&quot;</span>
<span id="L9289" class="LineNr"> 9289 </span>    b8/copy-to-eax <span class="Constant">&quot;@a&quot;</span>/imm32
<span id="L9290" class="LineNr"> 9290 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9291" class="LineNr"> 9291 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9292" class="LineNr"> 9292 </span>    05/add-to-eax 4/imm32
<span id="L9293" class="LineNr"> 9293 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9294" class="LineNr"> 9294 </span>    51/push-ecx
<span id="L9295" class="LineNr"> 9295 </span>    50/push-eax
<span id="L9296" class="LineNr"> 9296 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9297" class="LineNr"> 9297 </span>    <span class="subxComment">#</span>
<span id="L9298" class="LineNr"> 9298 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9299" class="LineNr"> 9299 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 0 <span class="Constant">&quot;F - test-is-identifier-@&quot;</span>)
<span id="L9300" class="LineNr"> 9300 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9301" class="LineNr"> 9301 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9302" class="LineNr"> 9302 </span>    5d/pop-to-ebp
<span id="L9303" class="LineNr"> 9303 </span>    c3/return
<span id="L9304" class="LineNr"> 9304 </span>
<span id="L9305" class="LineNr"> 9305 </span><span class="subxTest">test-is-identifier-square-bracket</span>:
<span id="L9306" class="LineNr"> 9306 </span>    <span class="subxComment"># character after 'Z' is invalid</span>
<span id="L9307" class="LineNr"> 9307 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9308" class="LineNr"> 9308 </span>    55/push-ebp
<span id="L9309" class="LineNr"> 9309 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9310" class="LineNr"> 9310 </span>    <span class="subxComment"># (eax..ecx) = &quot;[a&quot;</span>
<span id="L9311" class="LineNr"> 9311 </span>    b8/copy-to-eax <span class="Constant">&quot;[a&quot;</span>/imm32
<span id="L9312" class="LineNr"> 9312 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9313" class="LineNr"> 9313 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9314" class="LineNr"> 9314 </span>    05/add-to-eax 4/imm32
<span id="L9315" class="LineNr"> 9315 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9316" class="LineNr"> 9316 </span>    51/push-ecx
<span id="L9317" class="LineNr"> 9317 </span>    50/push-eax
<span id="L9318" class="LineNr"> 9318 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9319" class="LineNr"> 9319 </span>    <span class="subxComment">#</span>
<span id="L9320" class="LineNr"> 9320 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9321" class="LineNr"> 9321 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 0 <span class="Constant">&quot;F - test-is-identifier-@&quot;</span>)
<span id="L9322" class="LineNr"> 9322 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9323" class="LineNr"> 9323 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9324" class="LineNr"> 9324 </span>    5d/pop-to-ebp
<span id="L9325" class="LineNr"> 9325 </span>    c3/return
<span id="L9326" class="LineNr"> 9326 </span>
<span id="L9327" class="LineNr"> 9327 </span><span class="subxTest">test-is-identifier-backtick</span>:
<span id="L9328" class="LineNr"> 9328 </span>    <span class="subxComment"># character before 'a' is invalid</span>
<span id="L9329" class="LineNr"> 9329 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9330" class="LineNr"> 9330 </span>    55/push-ebp
<span id="L9331" class="LineNr"> 9331 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9332" class="LineNr"> 9332 </span>    <span class="subxComment"># (eax..ecx) = &quot;`a&quot;</span>
<span id="L9333" class="LineNr"> 9333 </span>    b8/copy-to-eax <span class="Constant">&quot;`a&quot;</span>/imm32
<span id="L9334" class="LineNr"> 9334 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9335" class="LineNr"> 9335 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9336" class="LineNr"> 9336 </span>    05/add-to-eax 4/imm32
<span id="L9337" class="LineNr"> 9337 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9338" class="LineNr"> 9338 </span>    51/push-ecx
<span id="L9339" class="LineNr"> 9339 </span>    50/push-eax
<span id="L9340" class="LineNr"> 9340 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9341" class="LineNr"> 9341 </span>    <span class="subxComment">#</span>
<span id="L9342" class="LineNr"> 9342 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9343" class="LineNr"> 9343 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 0 <span class="Constant">&quot;F - test-is-identifier-backtick&quot;</span>)
<span id="L9344" class="LineNr"> 9344 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9345" class="LineNr"> 9345 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9346" class="LineNr"> 9346 </span>    5d/pop-to-ebp
<span id="L9347" class="LineNr"> 9347 </span>    c3/return
<span id="L9348" class="LineNr"> 9348 </span>
<span id="L9349" class="LineNr"> 9349 </span><span class="subxTest">test-is-identifier-curly-brace-open</span>:
<span id="L9350" class="LineNr"> 9350 </span>    <span class="subxComment"># character after 'z' is invalid; also used for blocks</span>
<span id="L9351" class="LineNr"> 9351 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9352" class="LineNr"> 9352 </span>    55/push-ebp
<span id="L9353" class="LineNr"> 9353 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9354" class="LineNr"> 9354 </span>    <span class="subxComment"># (eax..ecx) = &quot;{a&quot;</span>
<span id="L9355" class="LineNr"> 9355 </span>    b8/copy-to-eax <span class="Constant">&quot;{a&quot;</span>/imm32
<span id="L9356" class="LineNr"> 9356 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9357" class="LineNr"> 9357 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9358" class="LineNr"> 9358 </span>    05/add-to-eax 4/imm32
<span id="L9359" class="LineNr"> 9359 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9360" class="LineNr"> 9360 </span>    51/push-ecx
<span id="L9361" class="LineNr"> 9361 </span>    50/push-eax
<span id="L9362" class="LineNr"> 9362 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9363" class="LineNr"> 9363 </span>    <span class="subxComment">#</span>
<span id="L9364" class="LineNr"> 9364 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9365" class="LineNr"> 9365 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 0 <span class="Constant">&quot;F - test-is-identifier-curly-brace-open&quot;</span>)
<span id="L9366" class="LineNr"> 9366 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9367" class="LineNr"> 9367 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9368" class="LineNr"> 9368 </span>    5d/pop-to-ebp
<span id="L9369" class="LineNr"> 9369 </span>    c3/return
<span id="L9370" class="LineNr"> 9370 </span>
<span id="L9371" class="LineNr"> 9371 </span><span class="subxTest">test-is-identifier-curly-brace-close</span>:
<span id="L9372" class="LineNr"> 9372 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9373" class="LineNr"> 9373 </span>    55/push-ebp
<span id="L9374" class="LineNr"> 9374 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9375" class="LineNr"> 9375 </span>    <span class="subxComment"># (eax..ecx) = &quot;}a&quot;</span>
<span id="L9376" class="LineNr"> 9376 </span>    b8/copy-to-eax <span class="Constant">&quot;}a&quot;</span>/imm32
<span id="L9377" class="LineNr"> 9377 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9378" class="LineNr"> 9378 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9379" class="LineNr"> 9379 </span>    05/add-to-eax 4/imm32
<span id="L9380" class="LineNr"> 9380 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9381" class="LineNr"> 9381 </span>    51/push-ecx
<span id="L9382" class="LineNr"> 9382 </span>    50/push-eax
<span id="L9383" class="LineNr"> 9383 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9384" class="LineNr"> 9384 </span>    <span class="subxComment">#</span>
<span id="L9385" class="LineNr"> 9385 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9386" class="LineNr"> 9386 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 0 <span class="Constant">&quot;F - test-is-identifier-curly-brace-close&quot;</span>)
<span id="L9387" class="LineNr"> 9387 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9388" class="LineNr"> 9388 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9389" class="LineNr"> 9389 </span>    5d/pop-to-ebp
<span id="L9390" class="LineNr"> 9390 </span>    c3/return
<span id="L9391" class="LineNr"> 9391 </span>
<span id="L9392" class="LineNr"> 9392 </span><span class="subxTest">test-is-identifier-hyphen</span>:
<span id="L9393" class="LineNr"> 9393 </span>    <span class="subxComment"># disallow leading '-' since '-&gt;' has special meaning</span>
<span id="L9394" class="LineNr"> 9394 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9395" class="LineNr"> 9395 </span>    55/push-ebp
<span id="L9396" class="LineNr"> 9396 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9397" class="LineNr"> 9397 </span>    <span class="subxComment"># (eax..ecx) = &quot;-a&quot;</span>
<span id="L9398" class="LineNr"> 9398 </span>    b8/copy-to-eax <span class="Constant">&quot;-a&quot;</span>/imm32
<span id="L9399" class="LineNr"> 9399 </span>    8b/-&gt; *eax 1/r32/ecx
<span id="L9400" class="LineNr"> 9400 </span>    8d/copy-address *(eax+ecx+4) 1/r32/ecx
<span id="L9401" class="LineNr"> 9401 </span>    05/add-to-eax 4/imm32
<span id="L9402" class="LineNr"> 9402 </span>    <span class="subxComment"># var slice/ecx: slice = {eax, ecx}</span>
<span id="L9403" class="LineNr"> 9403 </span>    51/push-ecx
<span id="L9404" class="LineNr"> 9404 </span>    50/push-eax
<span id="L9405" class="LineNr"> 9405 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9406" class="LineNr"> 9406 </span>    <span class="subxComment">#</span>
<span id="L9407" class="LineNr"> 9407 </span>    (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)
<span id="L9408" class="LineNr"> 9408 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> %eax 0 <span class="Constant">&quot;F - test-is-identifier-hyphen&quot;</span>)
<span id="L9409" class="LineNr"> 9409 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9410" class="LineNr"> 9410 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9411" class="LineNr"> 9411 </span>    5d/pop-to-ebp
<span id="L9412" class="LineNr"> 9412 </span>    c3/return
<span id="L9413" class="LineNr"> 9413 </span>
<span id="L9414" class="LineNr"> 9414 </span><span class="subxFunction">populate-mu-function-body</span>:  <span class="subxComment"># in: (addr buffered-file), out: (addr function), vars: (addr stack live-var), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L9415" class="LineNr"> 9415 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9416" class="LineNr"> 9416 </span>    55/push-ebp
<span id="L9417" class="LineNr"> 9417 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9418" class="LineNr"> 9418 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L9419" class="LineNr"> 9419 </span>    50/push-eax
<span id="L9420" class="LineNr"> 9420 </span>    56/push-esi
<span id="L9421" class="LineNr"> 9421 </span>    57/push-edi
<span id="L9422" class="LineNr"> 9422 </span>    <span class="subxComment"># esi = in</span>
<span id="L9423" class="LineNr"> 9423 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L9424" class="LineNr"> 9424 </span>    <span class="subxComment"># edi = out</span>
<span id="L9425" class="LineNr"> 9425 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L9426" class="LineNr"> 9426 </span>    <span class="subxComment"># initialize some global state</span>
<span id="L9427" class="LineNr"> 9427 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 1/imm32
<span id="L9428" class="LineNr"> 9428 </span>    <span class="subxComment"># parse-mu-block(in, vars, out, out-&gt;body)</span>
<span id="L9429" class="LineNr"> 9429 </span>    8d/copy-address *(edi+0x18) 0/r32/eax  <span class="subxComment"># Function-body</span>
<span id="L9430" class="LineNr"> 9430 </span>    (<a href='mu.subx.html#L9442'>parse-mu-block</a> %esi *(ebp+0x10) %edi %eax *(ebp+0x14) *(ebp+0x18))
<span id="L9431" class="LineNr"> 9431 </span><span class="Constant">$populate-mu-function-body:end</span>:
<span id="L9432" class="LineNr"> 9432 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L9433" class="LineNr"> 9433 </span>    5f/pop-to-edi
<span id="L9434" class="LineNr"> 9434 </span>    5e/pop-to-esi
<span id="L9435" class="LineNr"> 9435 </span>    58/pop-to-eax
<span id="L9436" class="LineNr"> 9436 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9437" class="LineNr"> 9437 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9438" class="LineNr"> 9438 </span>    5d/pop-to-ebp
<span id="L9439" class="LineNr"> 9439 </span>    c3/return
<span id="L9440" class="LineNr"> 9440 </span>
<span id="L9441" class="LineNr"> 9441 </span><span class="subxComment"># parses a block, assuming that the leading '{' has already been read by the caller</span>
<span id="L9442" class="LineNr"> 9442 </span><span class="subxFunction">parse-mu-block</span>:  <span class="subxComment"># in: (addr buffered-file), vars: (addr stack live-var), fn: (addr function), out: (addr handle block), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L9443" class="LineNr"> 9443 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L9444" class="LineNr"> 9444 </span>    <span class="subxComment">#   var line: (stream byte 512)</span>
<span id="L9445" class="LineNr"> 9445 </span>    <span class="subxComment">#   var word-slice: slice</span>
<span id="L9446" class="LineNr"> 9446 </span>    <span class="subxComment">#   allocate(Heap, Stmt-size, out)</span>
<span id="L9447" class="LineNr"> 9447 </span>    <span class="subxComment">#   var out-addr: (addr block) = lookup(*out)</span>
<span id="L9448" class="LineNr"> 9448 </span>    <span class="subxComment">#   out-addr-&gt;tag = 0/block</span>
<span id="L9449" class="LineNr"> 9449 </span>    <span class="subxComment">#   out-addr-&gt;var = some unique name</span>
<span id="L9450" class="LineNr"> 9450 </span>    <span class="subxComment">#   push(vars, {out-addr-&gt;var, false})</span>
<span id="L9451" class="LineNr"> 9451 </span>    <span class="subxComment">#   while true                                  # line loop</span>
<span id="L9452" class="LineNr"> 9452 </span>    <span class="subxComment">#     clear-stream(line)</span>
<span id="L9453" class="LineNr"> 9453 </span>    <span class="subxComment">#     read-line-buffered(in, line)</span>
<span id="L9454" class="LineNr"> 9454 </span>    <span class="subxComment">#     if (line-&gt;write == 0) break               # end of file</span>
<span id="L9455" class="LineNr"> 9455 </span>    <span class="subxComment">#     word-slice = next-mu-token(line)</span>
<span id="L9456" class="LineNr"> 9456 </span>    <span class="subxComment">#     if slice-empty?(word-slice)               # end of line</span>
<span id="L9457" class="LineNr"> 9457 </span>    <span class="subxComment">#       continue</span>
<span id="L9458" class="LineNr"> 9458 </span>    <span class="subxComment">#     else if slice-starts-with?(word-slice, &quot;#&quot;)</span>
<span id="L9459" class="LineNr"> 9459 </span>    <span class="subxComment">#       continue</span>
<span id="L9460" class="LineNr"> 9460 </span>    <span class="subxComment">#     else if slice-equal?(word-slice, &quot;{&quot;)</span>
<span id="L9461" class="LineNr"> 9461 </span>    <span class="subxComment">#       assert(no-tokens-in(line))</span>
<span id="L9462" class="LineNr"> 9462 </span>    <span class="subxComment">#       block = parse-mu-block(in, vars, fn)</span>
<span id="L9463" class="LineNr"> 9463 </span>    <span class="subxComment">#       append-to-block(out-addr, block)</span>
<span id="L9464" class="LineNr"> 9464 </span>    <span class="subxComment">#     else if slice-equal?(word-slice, &quot;}&quot;)</span>
<span id="L9465" class="LineNr"> 9465 </span>    <span class="subxComment">#       break</span>
<span id="L9466" class="LineNr"> 9466 </span>    <span class="subxComment">#     else if slice-ends-with?(word-slice, &quot;:&quot;)</span>
<span id="L9467" class="LineNr"> 9467 </span>    <span class="subxComment">#       # TODO: error-check the rest of 'line'</span>
<span id="L9468" class="LineNr"> 9468 </span>    <span class="subxComment">#       --word-slice-&gt;end to skip ':'</span>
<span id="L9469" class="LineNr"> 9469 </span>    <span class="subxComment">#       named-block = parse-mu-named-block(word-slice, in, vars, fn)</span>
<span id="L9470" class="LineNr"> 9470 </span>    <span class="subxComment">#       append-to-block(out-addr, named-block)</span>
<span id="L9471" class="LineNr"> 9471 </span>    <span class="subxComment">#     else if slice-equal?(word-slice, &quot;var&quot;)</span>
<span id="L9472" class="LineNr"> 9472 </span>    <span class="subxComment">#       var-def = parse-mu-var-def(line, vars, fn)</span>
<span id="L9473" class="LineNr"> 9473 </span>    <span class="subxComment">#       append-to-block(out-addr, var-def)</span>
<span id="L9474" class="LineNr"> 9474 </span>    <span class="subxComment">#     else</span>
<span id="L9475" class="LineNr"> 9475 </span>    <span class="subxComment">#       stmt = parse-mu-stmt(line, vars, fn)</span>
<span id="L9476" class="LineNr"> 9476 </span>    <span class="subxComment">#       append-to-block(out-addr, stmt)</span>
<span id="L9477" class="LineNr"> 9477 </span>    <span class="subxComment">#   pop(vars)</span>
<span id="L9478" class="LineNr"> 9478 </span>    <span class="subxComment">#</span>
<span id="L9479" class="LineNr"> 9479 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9480" class="LineNr"> 9480 </span>    55/push-ebp
<span id="L9481" class="LineNr"> 9481 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9482" class="LineNr"> 9482 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L9483" class="LineNr"> 9483 </span>    50/push-eax
<span id="L9484" class="LineNr"> 9484 </span>    51/push-ecx
<span id="L9485" class="LineNr"> 9485 </span>    52/push-edx
<span id="L9486" class="LineNr"> 9486 </span>    53/push-ebx
<span id="L9487" class="LineNr"> 9487 </span>    57/push-edi
<span id="L9488" class="LineNr"> 9488 </span>    <span class="subxComment"># var line/ecx: (stream byte 512)</span>
<span id="L9489" class="LineNr"> 9489 </span>    81 5/subop/subtract %esp 0x200/imm32
<span id="L9490" class="LineNr"> 9490 </span>    68/push 0x200/imm32/size
<span id="L9491" class="LineNr"> 9491 </span>    68/push 0/imm32/read
<span id="L9492" class="LineNr"> 9492 </span>    68/push 0/imm32/write
<span id="L9493" class="LineNr"> 9493 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9494" class="LineNr"> 9494 </span>    <span class="subxComment"># var word-slice/edx: slice</span>
<span id="L9495" class="LineNr"> 9495 </span>    68/push 0/imm32/end
<span id="L9496" class="LineNr"> 9496 </span>    68/push 0/imm32/start
<span id="L9497" class="LineNr"> 9497 </span>    89/&lt;- %edx 4/r32/esp
<span id="L9498" class="LineNr"> 9498 </span>    <span class="subxComment"># allocate into out</span>
<span id="L9499" class="LineNr"> 9499 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L326'>Stmt-size</a></span> *(ebp+0x14))
<span id="L9500" class="LineNr"> 9500 </span>    <span class="subxComment"># var out-addr/edi: (addr block) = lookup(*out)</span>
<span id="L9501" class="LineNr"> 9501 </span>    8b/-&gt; *(ebp+0x14) 7/r32/edi
<span id="L9502" class="LineNr"> 9502 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9503" class="LineNr"> 9503 </span>    89/&lt;- %edi 0/r32/eax
<span id="L9504" class="LineNr"> 9504 </span>    <span class="subxComment"># out-addr-&gt;tag is 0 (block) by default</span>
<span id="L9505" class="LineNr"> 9505 </span>    <span class="subxComment"># set out-addr-&gt;var</span>
<span id="L9506" class="LineNr"> 9506 </span>    8d/copy-address *(edi+0xc) 0/r32/eax  <span class="subxComment"># Block-var</span>
<span id="L9507" class="LineNr"> 9507 </span>    (<a href='mu.subx.html#L9662'>new-block-name</a> *(ebp+0x10) %eax)
<span id="L9508" class="LineNr"> 9508 </span>    <span class="subxComment"># push(vars, out-addr-&gt;var)</span>
<span id="L9509" class="LineNr"> 9509 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0xc) *(edi+0xc))  <span class="subxComment"># Block-var</span>
<span id="L9510" class="LineNr"> 9510 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0xc) *(edi+0x10))  <span class="subxComment"># Block-var</span>
<span id="L9511" class="LineNr"> 9511 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0xc) 0)  <span class="subxComment"># false</span>
<span id="L9512" class="LineNr"> 9512 </span>    <span class="subxComment"># increment *Curr-block-depth</span>
<span id="L9513" class="LineNr"> 9513 </span>    ff 0/subop/increment *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>
<span id="L9514" class="LineNr"> 9514 </span>    {
<span id="L9515" class="LineNr"> 9515 </span><span class="Constant">$parse-mu-block:line-loop</span>:
<span id="L9516" class="LineNr"> 9516 </span>      <span class="subxComment"># line = read-line-buffered(in)</span>
<span id="L9517" class="LineNr"> 9517 </span>      (<a href='../106stream.subx.html#L17'>clear-stream</a> %ecx)
<span id="L9518" class="LineNr"> 9518 </span>      (<a href='../122read-line.subx.html#L9'>read-line-buffered</a> *(ebp+8) %ecx)
<span id="L9519" class="LineNr"> 9519 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;line: &quot;)</span>
<span id="L9520" class="LineNr"> 9520 </span><span class="CommentedCode">#?       (write-stream-data Stderr %ecx)</span>
<span id="L9521" class="LineNr"> 9521 </span><span class="CommentedCode">#? #?       (write-buffered Stderr Newline)  # line has its own newline</span>
<span id="L9522" class="LineNr"> 9522 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L9523" class="LineNr"> 9523 </span><span class="CommentedCode">#?       (rewind-stream %ecx)</span>
<span id="L9524" class="LineNr"> 9524 </span>      <span class="subxComment"># if (line-&gt;write == 0) break</span>
<span id="L9525" class="LineNr"> 9525 </span>      81 7/subop/compare *ecx 0/imm32
<span id="L9526" class="LineNr"> 9526 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L9527" class="LineNr"> 9527 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;vars:\n&quot;)</span>
<span id="L9528" class="LineNr"> 9528 </span><span class="CommentedCode">#?       (dump-vars *(ebp+0xc))</span>
<span id="L9529" class="LineNr"> 9529 </span>      <span class="subxComment"># word-slice = next-mu-token(line)</span>
<span id="L9530" class="LineNr"> 9530 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> %ecx %edx)
<span id="L9531" class="LineNr"> 9531 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;word: &quot;)</span>
<span id="L9532" class="LineNr"> 9532 </span><span class="CommentedCode">#?       (write-slice-buffered Stderr %edx)</span>
<span id="L9533" class="LineNr"> 9533 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L9534" class="LineNr"> 9534 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L9535" class="LineNr"> 9535 </span>      <span class="subxComment"># if slice-empty?(word-slice) continue</span>
<span id="L9536" class="LineNr"> 9536 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %edx)
<span id="L9537" class="LineNr"> 9537 </span>      3d/compare-eax-and 0/imm32/false
<span id="L9538" class="LineNr"> 9538 </span>      0f 85/jump-if-!= <span class="Constant">loop</span>/disp32
<span id="L9539" class="LineNr"> 9539 </span>      <span class="subxComment"># if (slice-starts-with?(word-slice, '#') continue</span>
<span id="L9540" class="LineNr"> 9540 </span>      <span class="subxS1Comment"># . eax = *word-slice-&gt;start</span>
<span id="L9541" class="LineNr"> 9541 </span>      8b/-&gt; *edx 0/r32/eax
<span id="L9542" class="LineNr"> 9542 </span>      8a/copy-byte *eax 0/r32/AL
<span id="L9543" class="LineNr"> 9543 </span>      81 4/subop/and %eax 0xff/imm32
<span id="L9544" class="LineNr"> 9544 </span>      <span class="subxS1Comment"># . if (eax == '#') continue</span>
<span id="L9545" class="LineNr"> 9545 </span>      3d/compare-eax-and 0x23/imm32/hash
<span id="L9546" class="LineNr"> 9546 </span>      0f 84/jump-if-= <span class="Constant">loop</span>/disp32
<span id="L9547" class="LineNr"> 9547 </span>      <span class="subxComment"># if slice-equal?(word-slice, &quot;{&quot;)</span>
<span id="L9548" class="LineNr"> 9548 </span>      {
<span id="L9549" class="LineNr"> 9549 </span><span class="Constant">$parse-mu-block:check-for-block</span>:
<span id="L9550" class="LineNr"> 9550 </span>        (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;{&quot;</span>)
<span id="L9551" class="LineNr"> 9551 </span>        3d/compare-eax-and 0/imm32/false
<span id="L9552" class="LineNr"> 9552 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L9553" class="LineNr"> 9553 </span>        (<a href='mu.subx.html#L9726'>check-no-tokens-left</a> %ecx)
<span id="L9554" class="LineNr"> 9554 </span>        <span class="subxComment"># parse new block and append</span>
<span id="L9555" class="LineNr"> 9555 </span>        <span class="subxS1Comment"># . var tmp/eax: (handle block)</span>
<span id="L9556" class="LineNr"> 9556 </span>        68/push 0/imm32
<span id="L9557" class="LineNr"> 9557 </span>        68/push 0/imm32
<span id="L9558" class="LineNr"> 9558 </span>        89/&lt;- %eax 4/r32/esp
<span id="L9559" class="LineNr"> 9559 </span>        <span class="subxS1Comment"># .</span>
<span id="L9560" class="LineNr"> 9560 </span>        (<a href='mu.subx.html#L9442'>parse-mu-block</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) %eax *(ebp+0x18) *(ebp+0x1c))
<span id="L9561" class="LineNr"> 9561 </span>        (<a href='mu.subx.html#L11337'>append-to-block</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %edi  *eax *(eax+4))
<span id="L9562" class="LineNr"> 9562 </span>        <span class="subxS1Comment"># . reclaim tmp</span>
<span id="L9563" class="LineNr"> 9563 </span>        81 0/subop/add %esp 8/imm32
<span id="L9564" class="LineNr"> 9564 </span>        <span class="subxS1Comment"># .</span>
<span id="L9565" class="LineNr"> 9565 </span>        e9/jump $parse-mu-block:line-loop/disp32
<span id="L9566" class="LineNr"> 9566 </span>      }
<span id="L9567" class="LineNr"> 9567 </span>      <span class="subxComment"># if slice-equal?(word-slice, &quot;}&quot;) break</span>
<span id="L9568" class="LineNr"> 9568 </span><span class="Constant">$parse-mu-block:check-for-end</span>:
<span id="L9569" class="LineNr"> 9569 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;}&quot;</span>)
<span id="L9570" class="LineNr"> 9570 </span>      3d/compare-eax-and 0/imm32/false
<span id="L9571" class="LineNr"> 9571 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L9572" class="LineNr"> 9572 </span>      <span class="subxComment"># if slice-ends-with?(word-slice, &quot;:&quot;) parse named block and append</span>
<span id="L9573" class="LineNr"> 9573 </span>      {
<span id="L9574" class="LineNr"> 9574 </span><span class="Constant">$parse-mu-block:check-for-named-block</span>:
<span id="L9575" class="LineNr"> 9575 </span>        <span class="subxS1Comment"># . eax = *(word-slice-&gt;end-1)</span>
<span id="L9576" class="LineNr"> 9576 </span>        8b/-&gt; *(edx+4) 0/r32/eax
<span id="L9577" class="LineNr"> 9577 </span>        48/decrement-eax
<span id="L9578" class="LineNr"> 9578 </span>        8a/copy-byte *eax 0/r32/AL
<span id="L9579" class="LineNr"> 9579 </span>        81 4/subop/and %eax 0xff/imm32
<span id="L9580" class="LineNr"> 9580 </span>        <span class="subxS1Comment"># . if (eax != ':') break</span>
<span id="L9581" class="LineNr"> 9581 </span>        3d/compare-eax-and 0x3a/imm32/colon
<span id="L9582" class="LineNr"> 9582 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L9583" class="LineNr"> 9583 </span>        <span class="subxComment"># TODO: error-check the rest of 'line'</span>
<span id="L9584" class="LineNr"> 9584 </span>        <span class="subxComment">#</span>
<span id="L9585" class="LineNr"> 9585 </span>        <span class="subxComment"># skip ':'</span>
<span id="L9586" class="LineNr"> 9586 </span>        ff 1/subop/decrement *(edx+4)  <span class="subxComment"># Slice-end</span>
<span id="L9587" class="LineNr"> 9587 </span>        <span class="subxComment"># var tmp/eax: (handle block)</span>
<span id="L9588" class="LineNr"> 9588 </span>        68/push 0/imm32
<span id="L9589" class="LineNr"> 9589 </span>        68/push 0/imm32
<span id="L9590" class="LineNr"> 9590 </span>        89/&lt;- %eax 4/r32/esp
<span id="L9591" class="LineNr"> 9591 </span>        <span class="subxComment">#</span>
<span id="L9592" class="LineNr"> 9592 </span>        (<a href='mu.subx.html#L9772'>parse-mu-named-block</a> %edx *(ebp+8) *(ebp+0xc) *(ebp+0x10) %eax *(ebp+0x18) *(ebp+0x1c))
<span id="L9593" class="LineNr"> 9593 </span>        (<a href='mu.subx.html#L11337'>append-to-block</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %edi  *eax *(eax+4))
<span id="L9594" class="LineNr"> 9594 </span>        <span class="subxComment"># reclaim tmp</span>
<span id="L9595" class="LineNr"> 9595 </span>        81 0/subop/add %esp 8/imm32
<span id="L9596" class="LineNr"> 9596 </span>        <span class="subxComment">#</span>
<span id="L9597" class="LineNr"> 9597 </span>        e9/jump $parse-mu-block:line-loop/disp32
<span id="L9598" class="LineNr"> 9598 </span>      }
<span id="L9599" class="LineNr"> 9599 </span>      <span class="subxComment"># if slice-equal?(word-slice, &quot;var&quot;)</span>
<span id="L9600" class="LineNr"> 9600 </span>      {
<span id="L9601" class="LineNr"> 9601 </span><span class="Constant">$parse-mu-block:check-for-var</span>:
<span id="L9602" class="LineNr"> 9602 </span>        (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;var&quot;</span>)
<span id="L9603" class="LineNr"> 9603 </span>        3d/compare-eax-and 0/imm32/false
<span id="L9604" class="LineNr"> 9604 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L9605" class="LineNr"> 9605 </span>        <span class="subxComment"># var tmp/eax: (handle block)</span>
<span id="L9606" class="LineNr"> 9606 </span>        68/push 0/imm32
<span id="L9607" class="LineNr"> 9607 </span>        68/push 0/imm32
<span id="L9608" class="LineNr"> 9608 </span>        89/&lt;- %eax 4/r32/esp
<span id="L9609" class="LineNr"> 9609 </span>        <span class="subxComment">#</span>
<span id="L9610" class="LineNr"> 9610 </span>        (<a href='mu.subx.html#L9828'>parse-mu-var-def</a> %ecx *(ebp+0xc) %eax *(ebp+0x10) *(ebp+0x18) *(ebp+0x1c))
<span id="L9611" class="LineNr"> 9611 </span>        (<a href='mu.subx.html#L11337'>append-to-block</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %edi  *eax *(eax+4))
<span id="L9612" class="LineNr"> 9612 </span>        <span class="subxComment"># reclaim tmp</span>
<span id="L9613" class="LineNr"> 9613 </span>        81 0/subop/add %esp 8/imm32
<span id="L9614" class="LineNr"> 9614 </span>        <span class="subxComment">#</span>
<span id="L9615" class="LineNr"> 9615 </span>        e9/jump $parse-mu-block:line-loop/disp32
<span id="L9616" class="LineNr"> 9616 </span>      }
<span id="L9617" class="LineNr"> 9617 </span><span class="Constant">$parse-mu-block:regular-stmt</span>:
<span id="L9618" class="LineNr"> 9618 </span>      <span class="subxComment"># otherwise</span>
<span id="L9619" class="LineNr"> 9619 </span>      <span class="subxComment"># var tmp/eax: (handle block)</span>
<span id="L9620" class="LineNr"> 9620 </span>      68/push 0/imm32
<span id="L9621" class="LineNr"> 9621 </span>      68/push 0/imm32
<span id="L9622" class="LineNr"> 9622 </span>      89/&lt;- %eax 4/r32/esp
<span id="L9623" class="LineNr"> 9623 </span>      <span class="subxComment">#</span>
<span id="L9624" class="LineNr"> 9624 </span>      (<a href='mu.subx.html#L10032'>parse-mu-stmt</a> %ecx *(ebp+0xc) *(ebp+0x10) %eax *(ebp+0x18) *(ebp+0x1c))
<span id="L9625" class="LineNr"> 9625 </span>      (<a href='mu.subx.html#L11337'>append-to-block</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %edi  *eax *(eax+4))
<span id="L9626" class="LineNr"> 9626 </span>      <span class="subxComment"># reclaim tmp</span>
<span id="L9627" class="LineNr"> 9627 </span>      81 0/subop/add %esp 8/imm32
<span id="L9628" class="LineNr"> 9628 </span>      <span class="subxComment">#</span>
<span id="L9629" class="LineNr"> 9629 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L9630" class="LineNr"> 9630 </span>    } <span class="subxComment"># end line loop</span>
<span id="L9631" class="LineNr"> 9631 </span>    (<a href='mu.subx.html#L15761'>clean-up-blocks</a> *(ebp+0xc) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> *(ebp+0x10))
<span id="L9632" class="LineNr"> 9632 </span>    <span class="subxComment"># decrement *Curr-block-depth</span>
<span id="L9633" class="LineNr"> 9633 </span>    ff 1/subop/decrement *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>
<span id="L9634" class="LineNr"> 9634 </span>    <span class="subxComment"># pop(vars)</span>
<span id="L9635" class="LineNr"> 9635 </span>    (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L9636" class="LineNr"> 9636 </span>    (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L9637" class="LineNr"> 9637 </span>    (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L9638" class="LineNr"> 9638 </span><span class="Constant">$parse-mu-block:end</span>:
<span id="L9639" class="LineNr"> 9639 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L9640" class="LineNr"> 9640 </span>    81 0/subop/add %esp 0x214/imm32
<span id="L9641" class="LineNr"> 9641 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L9642" class="LineNr"> 9642 </span>    5f/pop-to-edi
<span id="L9643" class="LineNr"> 9643 </span>    5b/pop-to-ebx
<span id="L9644" class="LineNr"> 9644 </span>    5a/pop-to-edx
<span id="L9645" class="LineNr"> 9645 </span>    59/pop-to-ecx
<span id="L9646" class="LineNr"> 9646 </span>    58/pop-to-eax
<span id="L9647" class="LineNr"> 9647 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9648" class="LineNr"> 9648 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9649" class="LineNr"> 9649 </span>    5d/pop-to-ebp
<span id="L9650" class="LineNr"> 9650 </span>    c3/return
<span id="L9651" class="LineNr"> 9651 </span>
<span id="L9652" class="LineNr"> 9652 </span><span class="Constant">$parse-mu-block:abort</span>:
<span id="L9653" class="LineNr"> 9653 </span>    <span class="subxComment"># error(&quot;'{' or '}' should be on its own line, but got '&quot;)</span>
<span id="L9654" class="LineNr"> 9654 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'{' or '}' should be on its own line, but got '&quot;</span>)
<span id="L9655" class="LineNr"> 9655 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> %ecx)
<span id="L9656" class="LineNr"> 9656 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x18) %ecx)
<span id="L9657" class="LineNr"> 9657 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L9658" class="LineNr"> 9658 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L9659" class="LineNr"> 9659 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L9660" class="LineNr"> 9660 </span>    <span class="subxComment"># never gets here</span>
<span id="L9661" class="LineNr"> 9661 </span>
<span id="L9662" class="LineNr"> 9662 </span><span class="subxFunction">new-block-name</span>:  <span class="subxComment"># fn: (addr function), out: (addr handle var)</span>
<span id="L9663" class="LineNr"> 9663 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9664" class="LineNr"> 9664 </span>    55/push-ebp
<span id="L9665" class="LineNr"> 9665 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9666" class="LineNr"> 9666 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L9667" class="LineNr"> 9667 </span>    50/push-eax
<span id="L9668" class="LineNr"> 9668 </span>    51/push-ecx
<span id="L9669" class="LineNr"> 9669 </span>    52/push-edx
<span id="L9670" class="LineNr"> 9670 </span>    <span class="subxComment"># var n/ecx: int = len(fn-&gt;name) + 10 for an int + 2 for '$:'</span>
<span id="L9671" class="LineNr"> 9671 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L9672" class="LineNr"> 9672 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L9673" class="LineNr"> 9673 </span>    8b/-&gt; *eax 0/r32/eax  <span class="subxComment"># String-size</span>
<span id="L9674" class="LineNr"> 9674 </span>    05/add-to-eax 0xd/imm32  <span class="subxComment"># 10 + 2 for '$:'</span>
<span id="L9675" class="LineNr"> 9675 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L9676" class="LineNr"> 9676 </span>    <span class="subxComment"># var name/edx: (stream byte n)</span>
<span id="L9677" class="LineNr"> 9677 </span>    29/subtract-from %esp 1/r32/ecx
<span id="L9678" class="LineNr"> 9678 </span>    ff 6/subop/push %ecx
<span id="L9679" class="LineNr"> 9679 </span>    68/push 0/imm32/read
<span id="L9680" class="LineNr"> 9680 </span>    68/push 0/imm32/write
<span id="L9681" class="LineNr"> 9681 </span>    89/&lt;- %edx 4/r32/esp
<span id="L9682" class="LineNr"> 9682 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> %edx)
<span id="L9683" class="LineNr"> 9683 </span>    <span class="subxComment"># eax = fn-&gt;name</span>
<span id="L9684" class="LineNr"> 9684 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L9685" class="LineNr"> 9685 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L9686" class="LineNr"> 9686 </span>    <span class="subxComment"># construct result using Next-block-index (and increment it)</span>
<span id="L9687" class="LineNr"> 9687 </span>    (<a href='../108write.subx.html#L24'>write</a> %edx <span class="Constant">&quot;$&quot;</span>)
<span id="L9688" class="LineNr"> 9688 </span>    (<a href='../108write.subx.html#L24'>write</a> %edx %eax)
<span id="L9689" class="LineNr"> 9689 </span>    (<a href='../108write.subx.html#L24'>write</a> %edx <span class="Constant">&quot;:&quot;</span>)
<span id="L9690" class="LineNr"> 9690 </span>    (<a href='../117write-int-hex.subx.html#L178'>write-int32-hex</a> %edx *<span class="SpecialChar"><a href='mu.subx.html#L7487'>Next-block-index</a></span>)
<span id="L9691" class="LineNr"> 9691 </span>    ff 0/subop/increment *<span class="SpecialChar"><a href='mu.subx.html#L7487'>Next-block-index</a></span>
<span id="L9692" class="LineNr"> 9692 </span>    <span class="subxComment"># var s/eax: slice = {name-&gt;data, name-&gt;data + name-&gt;write}  (clobbering edx)</span>
<span id="L9693" class="LineNr"> 9693 </span>    <span class="subxS1Comment"># . eax = name-&gt;write</span>
<span id="L9694" class="LineNr"> 9694 </span>    8b/-&gt; *edx 0/r32/eax
<span id="L9695" class="LineNr"> 9695 </span>    <span class="subxS1Comment"># . edx = name-&gt;data</span>
<span id="L9696" class="LineNr"> 9696 </span>    8d/copy-address *(edx+0xc) 2/r32/edx
<span id="L9697" class="LineNr"> 9697 </span>    <span class="subxS1Comment"># . eax = name-&gt;write + name-&gt;data</span>
<span id="L9698" class="LineNr"> 9698 </span>    01/add-to %eax 2/r32/edx
<span id="L9699" class="LineNr"> 9699 </span>    <span class="subxS1Comment"># . push {edx, eax}</span>
<span id="L9700" class="LineNr"> 9700 </span>    ff 6/subop/push %eax
<span id="L9701" class="LineNr"> 9701 </span>    ff 6/subop/push %edx
<span id="L9702" class="LineNr"> 9702 </span>    89/&lt;- %eax 4/r32/esp
<span id="L9703" class="LineNr"> 9703 </span>    <span class="subxComment"># out = new literal(s)</span>
<span id="L9704" class="LineNr"> 9704 </span>    (<a href='mu.subx.html#L11105'>new-literal</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %eax *(ebp+0xc))
<span id="L9705" class="LineNr"> 9705 </span><span class="CommentedCode">#?     8b/-&gt; *(ebp+0xc) 0/r32/eax</span>
<span id="L9706" class="LineNr"> 9706 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;type allocid in caller after new-literal: &quot;)</span>
<span id="L9707" class="LineNr"> 9707 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr *(eax+8))</span>
<span id="L9708" class="LineNr"> 9708 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot; for var &quot;)</span>
<span id="L9709" class="LineNr"> 9709 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L9710" class="LineNr"> 9710 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L9711" class="LineNr"> 9711 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L9712" class="LineNr"> 9712 </span><span class="Constant">$new-block-name:end</span>:
<span id="L9713" class="LineNr"> 9713 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L9714" class="LineNr"> 9714 </span>    81 0/subop/add %ecx 0xc/imm32  <span class="subxComment"># name.{read/write/len}</span>
<span id="L9715" class="LineNr"> 9715 </span>    81 0/subop/add %ecx 8/imm32  <span class="subxComment"># slice</span>
<span id="L9716" class="LineNr"> 9716 </span>    01/add-to %esp 1/r32/ecx
<span id="L9717" class="LineNr"> 9717 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L9718" class="LineNr"> 9718 </span>    5a/pop-to-edx
<span id="L9719" class="LineNr"> 9719 </span>    59/pop-to-ecx
<span id="L9720" class="LineNr"> 9720 </span>    58/pop-to-eax
<span id="L9721" class="LineNr"> 9721 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9722" class="LineNr"> 9722 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9723" class="LineNr"> 9723 </span>    5d/pop-to-ebp
<span id="L9724" class="LineNr"> 9724 </span>    c3/return
<span id="L9725" class="LineNr"> 9725 </span>
<span id="L9726" class="LineNr"> 9726 </span><span class="subxFunction">check-no-tokens-left</span>:  <span class="subxComment"># line: (addr stream byte)</span>
<span id="L9727" class="LineNr"> 9727 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9728" class="LineNr"> 9728 </span>    55/push-ebp
<span id="L9729" class="LineNr"> 9729 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9730" class="LineNr"> 9730 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L9731" class="LineNr"> 9731 </span>    50/push-eax
<span id="L9732" class="LineNr"> 9732 </span>    51/push-ecx
<span id="L9733" class="LineNr"> 9733 </span>    <span class="subxComment"># var s/ecx: slice</span>
<span id="L9734" class="LineNr"> 9734 </span>    68/push 0/imm32/end
<span id="L9735" class="LineNr"> 9735 </span>    68/push 0/imm32/start
<span id="L9736" class="LineNr"> 9736 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9737" class="LineNr"> 9737 </span>    <span class="subxComment">#</span>
<span id="L9738" class="LineNr"> 9738 </span>    (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L9739" class="LineNr"> 9739 </span>    <span class="subxComment"># if slice-empty?(s) return</span>
<span id="L9740" class="LineNr"> 9740 </span>    (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)
<span id="L9741" class="LineNr"> 9741 </span>    3d/compare-eax-and 0/imm32/false
<span id="L9742" class="LineNr"> 9742 </span>    75/jump-if-!= $check-no-tokens-left:end/disp8
<span id="L9743" class="LineNr"> 9743 </span>    <span class="subxComment"># if (slice-starts-with?(s, '#') return</span>
<span id="L9744" class="LineNr"> 9744 </span>    <span class="subxS1Comment"># . eax = *s-&gt;start</span>
<span id="L9745" class="LineNr"> 9745 </span>    8b/-&gt; *edx 0/r32/eax
<span id="L9746" class="LineNr"> 9746 </span>    8a/copy-byte *eax 0/r32/AL
<span id="L9747" class="LineNr"> 9747 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L9748" class="LineNr"> 9748 </span>    <span class="subxS1Comment"># . if (eax == '#') continue</span>
<span id="L9749" class="LineNr"> 9749 </span>    3d/compare-eax-and 0x23/imm32/hash
<span id="L9750" class="LineNr"> 9750 </span>    74/jump-if-= $check-no-tokens-left:end/disp8
<span id="L9751" class="LineNr"> 9751 </span>    <span class="subxComment"># abort</span>
<span id="L9752" class="LineNr"> 9752 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;'{' or '}' should be on its own line, but got '&quot;</span>)
<span id="L9753" class="LineNr"> 9753 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> %ecx)
<span id="L9754" class="LineNr"> 9754 </span>    (<a href='../113write-stream.subx.html#L17'>write-stream</a> 2 %ecx)
<span id="L9755" class="LineNr"> 9755 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;'\n&quot;</span>)
<span id="L9756" class="LineNr"> 9756 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L9757" class="LineNr"> 9757 </span>    <span class="subxS1Comment"># . syscall(exit, 1)</span>
<span id="L9758" class="LineNr"> 9758 </span>    bb/copy-to-ebx  1/imm32
<span id="L9759" class="LineNr"> 9759 </span>    e8/call syscall_exit/disp32
<span id="L9760" class="LineNr"> 9760 </span>    <span class="subxComment"># never gets here</span>
<span id="L9761" class="LineNr"> 9761 </span><span class="Constant">$check-no-tokens-left:end</span>:
<span id="L9762" class="LineNr"> 9762 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L9763" class="LineNr"> 9763 </span>    81 0/subop/add %esp 8/imm32
<span id="L9764" class="LineNr"> 9764 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L9765" class="LineNr"> 9765 </span>    59/pop-to-ecx
<span id="L9766" class="LineNr"> 9766 </span>    58/pop-to-eax
<span id="L9767" class="LineNr"> 9767 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9768" class="LineNr"> 9768 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9769" class="LineNr"> 9769 </span>    5d/pop-to-ebp
<span id="L9770" class="LineNr"> 9770 </span>    c3/return
<span id="L9771" class="LineNr"> 9771 </span>
<span id="L9772" class="LineNr"> 9772 </span><span class="subxFunction">parse-mu-named-block</span>:  <span class="subxComment"># name: (addr slice), in: (addr buffered-file), vars: (addr stack live-var), fn: (addr function), out: (addr handle stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L9773" class="LineNr"> 9773 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L9774" class="LineNr"> 9774 </span>    <span class="subxComment">#   var v: (handle var)</span>
<span id="L9775" class="LineNr"> 9775 </span>    <span class="subxComment">#   new-literal(name, v)</span>
<span id="L9776" class="LineNr"> 9776 </span>    <span class="subxComment">#   push(vars, {v, false})</span>
<span id="L9777" class="LineNr"> 9777 </span>    <span class="subxComment">#   parse-mu-block(in, vars, fn, out)</span>
<span id="L9778" class="LineNr"> 9778 </span>    <span class="subxComment">#   pop(vars)</span>
<span id="L9779" class="LineNr"> 9779 </span>    <span class="subxComment">#   out-&gt;tag = block</span>
<span id="L9780" class="LineNr"> 9780 </span>    <span class="subxComment">#   out-&gt;var = v</span>
<span id="L9781" class="LineNr"> 9781 </span>    <span class="subxComment">#</span>
<span id="L9782" class="LineNr"> 9782 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9783" class="LineNr"> 9783 </span>    55/push-ebp
<span id="L9784" class="LineNr"> 9784 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9785" class="LineNr"> 9785 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L9786" class="LineNr"> 9786 </span>    50/push-eax
<span id="L9787" class="LineNr"> 9787 </span>    51/push-ecx
<span id="L9788" class="LineNr"> 9788 </span>    57/push-edi
<span id="L9789" class="LineNr"> 9789 </span>    <span class="subxComment"># var v/ecx: (handle var)</span>
<span id="L9790" class="LineNr"> 9790 </span>    68/push 0/imm32
<span id="L9791" class="LineNr"> 9791 </span>    68/push 0/imm32
<span id="L9792" class="LineNr"> 9792 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9793" class="LineNr"> 9793 </span>    <span class="subxComment">#</span>
<span id="L9794" class="LineNr"> 9794 </span>    (<a href='mu.subx.html#L11105'>new-literal</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *(ebp+8) %ecx)
<span id="L9795" class="LineNr"> 9795 </span>    <span class="subxComment"># push(vars, v)</span>
<span id="L9796" class="LineNr"> 9796 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *ecx)
<span id="L9797" class="LineNr"> 9797 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(ecx+4))
<span id="L9798" class="LineNr"> 9798 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) 0)  <span class="subxComment"># false</span>
<span id="L9799" class="LineNr"> 9799 </span>    <span class="subxComment">#</span>
<span id="L9800" class="LineNr"> 9800 </span>    (<a href='mu.subx.html#L9442'>parse-mu-block</a> *(ebp+0xc) *(ebp+0x10) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c) *(ebp+0x20))
<span id="L9801" class="LineNr"> 9801 </span>    <span class="subxComment"># pop v off vars</span>
<span id="L9802" class="LineNr"> 9802 </span>    (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L9803" class="LineNr"> 9803 </span>    (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L9804" class="LineNr"> 9804 </span>    (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L9805" class="LineNr"> 9805 </span>    <span class="subxComment"># var out-addr/edi: (addr stmt) = lookup(*out)</span>
<span id="L9806" class="LineNr"> 9806 </span>    8b/-&gt; *(ebp+0x18) 7/r32/edi
<span id="L9807" class="LineNr"> 9807 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9808" class="LineNr"> 9808 </span>    89/&lt;- %edi 0/r32/eax
<span id="L9809" class="LineNr"> 9809 </span>    <span class="subxComment"># out-addr-&gt;tag = named-block</span>
<span id="L9810" class="LineNr"> 9810 </span>    c7 0/subop/copy *edi 0/imm32/block  <span class="subxComment"># Stmt-tag</span>
<span id="L9811" class="LineNr"> 9811 </span>    <span class="subxComment"># out-addr-&gt;var = v</span>
<span id="L9812" class="LineNr"> 9812 </span>    8b/-&gt; *ecx 0/r32/eax
<span id="L9813" class="LineNr"> 9813 </span>    89/&lt;- *(edi+0xc) 0/r32/eax  <span class="subxComment"># Block-var</span>
<span id="L9814" class="LineNr"> 9814 </span>    8b/-&gt; *(ecx+4) 0/r32/eax
<span id="L9815" class="LineNr"> 9815 </span>    89/&lt;- *(edi+0x10) 0/r32/eax  <span class="subxComment"># Block-var</span>
<span id="L9816" class="LineNr"> 9816 </span><span class="Constant">$parse-mu-named-block:end</span>:
<span id="L9817" class="LineNr"> 9817 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L9818" class="LineNr"> 9818 </span>    81 0/subop/add %esp 8/imm32
<span id="L9819" class="LineNr"> 9819 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L9820" class="LineNr"> 9820 </span>    5f/pop-to-edi
<span id="L9821" class="LineNr"> 9821 </span>    59/pop-to-ecx
<span id="L9822" class="LineNr"> 9822 </span>    58/pop-to-eax
<span id="L9823" class="LineNr"> 9823 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9824" class="LineNr"> 9824 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9825" class="LineNr"> 9825 </span>    5d/pop-to-ebp
<span id="L9826" class="LineNr"> 9826 </span>    c3/return
<span id="L9827" class="LineNr"> 9827 </span>
<span id="L9828" class="LineNr"> 9828 </span><span class="subxFunction">parse-mu-var-def</span>:  <span class="subxComment"># line: (addr stream byte), vars: (addr stack live-var), out: (addr handle stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L9829" class="LineNr"> 9829 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9830" class="LineNr"> 9830 </span>    55/push-ebp
<span id="L9831" class="LineNr"> 9831 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9832" class="LineNr"> 9832 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L9833" class="LineNr"> 9833 </span>    50/push-eax
<span id="L9834" class="LineNr"> 9834 </span>    51/push-ecx
<span id="L9835" class="LineNr"> 9835 </span>    52/push-edx
<span id="L9836" class="LineNr"> 9836 </span>    53/push-ebx
<span id="L9837" class="LineNr"> 9837 </span>    57/push-edi
<span id="L9838" class="LineNr"> 9838 </span>    <span class="subxComment"># edi = out</span>
<span id="L9839" class="LineNr"> 9839 </span>    8b/-&gt; *(ebp+0x10) 7/r32/edi
<span id="L9840" class="LineNr"> 9840 </span>    <span class="subxComment"># var word-slice/ecx: slice</span>
<span id="L9841" class="LineNr"> 9841 </span>    68/push 0/imm32/end
<span id="L9842" class="LineNr"> 9842 </span>    68/push 0/imm32/start
<span id="L9843" class="LineNr"> 9843 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9844" class="LineNr"> 9844 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L9845" class="LineNr"> 9845 </span>    68/push 0/imm32
<span id="L9846" class="LineNr"> 9846 </span>    68/push 0/imm32
<span id="L9847" class="LineNr"> 9847 </span>    89/&lt;- %edx 4/r32/esp
<span id="L9848" class="LineNr"> 9848 </span>    <span class="subxComment"># v = parse-var-with-type(next-mu-token(line))</span>
<span id="L9849" class="LineNr"> 9849 </span>    (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L9850" class="LineNr"> 9850 </span>    (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %ecx *(ebp+8) %edx *(ebp+0x18) *(ebp+0x1c))
<span id="L9851" class="LineNr"> 9851 </span>    <span class="subxComment"># var v-addr/eax: (addr var)</span>
<span id="L9852" class="LineNr"> 9852 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9853" class="LineNr"> 9853 </span>    <span class="subxComment"># v-&gt;block-depth = *Curr-block-depth</span>
<span id="L9854" class="LineNr"> 9854 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 3/r32/ebx
<span id="L9855" class="LineNr"> 9855 </span>    89/&lt;- *(eax+0x10) 3/r32/ebx  <span class="subxComment"># Var-block-depth</span>
<span id="L9856" class="LineNr"> 9856 </span>    <span class="subxComment"># either v has no register and there's no more to this line</span>
<span id="L9857" class="LineNr"> 9857 </span>    8b/-&gt; *(eax+0x18) 0/r32/eax  <span class="subxComment"># Var-register</span>
<span id="L9858" class="LineNr"> 9858 </span>    3d/compare-eax-and 0/imm32
<span id="L9859" class="LineNr"> 9859 </span>    {
<span id="L9860" class="LineNr"> 9860 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L9861" class="LineNr"> 9861 </span>      <span class="subxComment"># TODO: disallow vars of type 'byte' on the stack</span>
<span id="L9862" class="LineNr"> 9862 </span>      <span class="subxComment"># ensure that there's nothing else on this line</span>
<span id="L9863" class="LineNr"> 9863 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L9864" class="LineNr"> 9864 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L9865" class="LineNr"> 9865 </span>      3d/compare-eax-and 0/imm32/false
<span id="L9866" class="LineNr"> 9866 </span>      0f 84/jump-if-= $parse-mu-var-def:error2/disp32
<span id="L9867" class="LineNr"> 9867 </span>      <span class="subxComment">#</span>
<span id="L9868" class="LineNr"> 9868 </span>      (<a href='mu.subx.html#L11168'>new-var-def</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *edx *(edx+4)  %edi)
<span id="L9869" class="LineNr"> 9869 </span>      e9/jump $parse-mu-var-def:update-vars/disp32
<span id="L9870" class="LineNr"> 9870 </span>    }
<span id="L9871" class="LineNr"> 9871 </span>    <span class="subxComment"># or v has a register and there's more to this line</span>
<span id="L9872" class="LineNr"> 9872 </span>    {
<span id="L9873" class="LineNr"> 9873 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L9874" class="LineNr"> 9874 </span>      <span class="subxComment"># TODO: disallow vars of type 'byte' in registers 'esi' or 'edi'</span>
<span id="L9875" class="LineNr"> 9875 </span>      <span class="subxComment"># TODO: vars of type 'byte' should only be initialized by clearing to 0</span>
<span id="L9876" class="LineNr"> 9876 </span>      <span class="subxComment"># ensure that the next word is '&lt;-'</span>
<span id="L9877" class="LineNr"> 9877 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L9878" class="LineNr"> 9878 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;&lt;-&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L9879" class="LineNr"> 9879 </span>      3d/compare-eax-and 0/imm32/false
<span id="L9880" class="LineNr"> 9880 </span>      0f 84/jump-if-= $parse-mu-var-def:error1/disp32
<span id="L9881" class="LineNr"> 9881 </span>      <span class="subxComment">#</span>
<span id="L9882" class="LineNr"> 9882 </span>      (<a href='mu.subx.html#L11196'>new-reg-var-def</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *edx *(edx+4)  %edi)
<span id="L9883" class="LineNr"> 9883 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9884" class="LineNr"> 9884 </span>      (<a href='mu.subx.html#L10165'>add-operation-and-inputs-to-stmt</a> %eax *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L9885" class="LineNr"> 9885 </span>    }
<span id="L9886" class="LineNr"> 9886 </span><span class="Constant">$parse-mu-var-def:update-vars</span>:
<span id="L9887" class="LineNr"> 9887 </span>    <span class="subxComment"># push 'v' at end of function</span>
<span id="L9888" class="LineNr"> 9888 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0xc) *edx)
<span id="L9889" class="LineNr"> 9889 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0xc) *(edx+4))
<span id="L9890" class="LineNr"> 9890 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0xc) 0)  <span class="subxComment"># Live-var-register-spilled is unused during parsing</span>
<span id="L9891" class="LineNr"> 9891 </span><span class="Constant">$parse-mu-var-def:end</span>:
<span id="L9892" class="LineNr"> 9892 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L9893" class="LineNr"> 9893 </span>    81 0/subop/add %esp 0x10/imm32
<span id="L9894" class="LineNr"> 9894 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L9895" class="LineNr"> 9895 </span>    5f/pop-to-edi
<span id="L9896" class="LineNr"> 9896 </span>    5b/pop-to-ebx
<span id="L9897" class="LineNr"> 9897 </span>    5a/pop-to-edx
<span id="L9898" class="LineNr"> 9898 </span>    59/pop-to-ecx
<span id="L9899" class="LineNr"> 9899 </span>    58/pop-to-eax
<span id="L9900" class="LineNr"> 9900 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9901" class="LineNr"> 9901 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9902" class="LineNr"> 9902 </span>    5d/pop-to-ebp
<span id="L9903" class="LineNr"> 9903 </span>    c3/return
<span id="L9904" class="LineNr"> 9904 </span>
<span id="L9905" class="LineNr"> 9905 </span><span class="Constant">$parse-mu-var-def:error1</span>:
<span id="L9906" class="LineNr"> 9906 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L9907" class="LineNr"> 9907 </span>    <span class="subxComment"># error(&quot;register variable requires a valid instruction to initialize but got '&quot; line &quot;'\n&quot;)</span>
<span id="L9908" class="LineNr"> 9908 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;register variable requires a valid instruction to initialize but got '&quot;</span>)
<span id="L9909" class="LineNr"> 9909 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L9910" class="LineNr"> 9910 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x18) *(ebp+8))
<span id="L9911" class="LineNr"> 9911 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L9912" class="LineNr"> 9912 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L9913" class="LineNr"> 9913 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L9914" class="LineNr"> 9914 </span>    <span class="subxComment"># never gets here</span>
<span id="L9915" class="LineNr"> 9915 </span>
<span id="L9916" class="LineNr"> 9916 </span><span class="Constant">$parse-mu-var-def:error2</span>:
<span id="L9917" class="LineNr"> 9917 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L9918" class="LineNr"> 9918 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: var &quot; var &quot;: variables on the stack can't take an initializer\n&quot;)</span>
<span id="L9919" class="LineNr"> 9919 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L9920" class="LineNr"> 9920 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L9921" class="LineNr"> 9921 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L9922" class="LineNr"> 9922 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L9923" class="LineNr"> 9923 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: var &quot;</span>)
<span id="L9924" class="LineNr"> 9924 </span>    <span class="subxComment"># var v-addr/eax: (addr var) = lookup(v)</span>
<span id="L9925" class="LineNr"> 9925 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9926" class="LineNr"> 9926 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L9927" class="LineNr"> 9927 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L9928" class="LineNr"> 9928 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: variables on the stack can't take an initializer\n&quot;</span>)
<span id="L9929" class="LineNr"> 9929 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L9930" class="LineNr"> 9930 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L9931" class="LineNr"> 9931 </span>    <span class="subxComment"># never gets here</span>
<span id="L9932" class="LineNr"> 9932 </span>
<span id="L9933" class="LineNr"> 9933 </span><span class="subxTest">test-parse-mu-var-def</span>:
<span id="L9934" class="LineNr"> 9934 </span>    <span class="subxComment"># 'var n: int'</span>
<span id="L9935" class="LineNr"> 9935 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9936" class="LineNr"> 9936 </span>    55/push-ebp
<span id="L9937" class="LineNr"> 9937 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9938" class="LineNr"> 9938 </span>    <span class="subxComment"># setup</span>
<span id="L9939" class="LineNr"> 9939 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L9940" class="LineNr"> 9940 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;n: int\n&quot;</span>)  <span class="subxComment"># caller has consumed the 'var'</span>
<span id="L9941" class="LineNr"> 9941 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 1/imm32
<span id="L9942" class="LineNr"> 9942 </span>    <span class="subxComment"># var out/esi: (handle stmt)</span>
<span id="L9943" class="LineNr"> 9943 </span>    68/push 0/imm32
<span id="L9944" class="LineNr"> 9944 </span>    68/push 0/imm32
<span id="L9945" class="LineNr"> 9945 </span>    89/&lt;- %esi 4/r32/esp
<span id="L9946" class="LineNr"> 9946 </span>    <span class="subxComment"># var vars/ecx: (stack (addr var) 16)</span>
<span id="L9947" class="LineNr"> 9947 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L9948" class="LineNr"> 9948 </span>    68/push 0xc0/imm32/size
<span id="L9949" class="LineNr"> 9949 </span>    68/push 0/imm32/top
<span id="L9950" class="LineNr"> 9950 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9951" class="LineNr"> 9951 </span>    (<a href='../203stack.subx.html#L13'>clear-stack</a> %ecx)
<span id="L9952" class="LineNr"> 9952 </span>    <span class="subxComment"># convert</span>
<span id="L9953" class="LineNr"> 9953 </span>    (<a href='mu.subx.html#L9828'>parse-mu-var-def</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx %esi 0 <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L9954" class="LineNr"> 9954 </span>    <span class="subxComment"># var out-addr/esi: (addr stmt)</span>
<span id="L9955" class="LineNr"> 9955 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L9956" class="LineNr"> 9956 </span>    89/&lt;- %esi 0/r32/eax
<span id="L9957" class="LineNr"> 9957 </span>    <span class="subxComment">#</span>
<span id="L9958" class="LineNr"> 9958 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *esi 2 <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/tag&quot;</span>)  <span class="subxComment"># Stmt-tag is var-def</span>
<span id="L9959" class="LineNr"> 9959 </span>    <span class="subxComment"># var v/ecx: (addr var) = lookup(out-&gt;var)</span>
<span id="L9960" class="LineNr"> 9960 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Vardef-var Vardef-var =&gt; eax</span>
<span id="L9961" class="LineNr"> 9961 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L9962" class="LineNr"> 9962 </span>    <span class="subxComment"># v-&gt;name</span>
<span id="L9963" class="LineNr"> 9963 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L9964" class="LineNr"> 9964 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;n&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/var-name&quot;</span>)
<span id="L9965" class="LineNr"> 9965 </span>    <span class="subxComment"># v-&gt;register</span>
<span id="L9966" class="LineNr"> 9966 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(ecx+0x18) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/var-register&quot;</span>)  <span class="subxComment"># Var-register</span>
<span id="L9967" class="LineNr"> 9967 </span>    <span class="subxComment"># v-&gt;block-depth</span>
<span id="L9968" class="LineNr"> 9968 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(ecx+0x10) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/output-block-depth&quot;</span>)  <span class="subxComment"># Var-block-depth</span>
<span id="L9969" class="LineNr"> 9969 </span>    <span class="subxComment"># v-&gt;type == int</span>
<span id="L9970" class="LineNr"> 9970 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L9971" class="LineNr"> 9971 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/var-type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L9972" class="LineNr"> 9972 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/var-type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L9973" class="LineNr"> 9973 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9933'>test-parse-mu-var-def</a>/var-type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L9974" class="LineNr"> 9974 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L9975" class="LineNr"> 9975 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L9976" class="LineNr"> 9976 </span>    5d/pop-to-ebp
<span id="L9977" class="LineNr"> 9977 </span>    c3/return
<span id="L9978" class="LineNr"> 9978 </span>
<span id="L9979" class="LineNr"> 9979 </span><span class="subxTest">test-parse-mu-reg-var-def</span>:
<span id="L9980" class="LineNr"> 9980 </span>    <span class="subxComment"># 'var n/eax: int &lt;- copy 0'</span>
<span id="L9981" class="LineNr"> 9981 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L9982" class="LineNr"> 9982 </span>    55/push-ebp
<span id="L9983" class="LineNr"> 9983 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L9984" class="LineNr"> 9984 </span>    <span class="subxComment"># setup</span>
<span id="L9985" class="LineNr"> 9985 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L9986" class="LineNr"> 9986 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;n/eax: int &lt;- copy 0\n&quot;</span>)  <span class="subxComment"># caller has consumed the 'var'</span>
<span id="L9987" class="LineNr"> 9987 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 1/imm32
<span id="L9988" class="LineNr"> 9988 </span>    <span class="subxComment"># var out/esi: (handle stmt)</span>
<span id="L9989" class="LineNr"> 9989 </span>    68/push 0/imm32
<span id="L9990" class="LineNr"> 9990 </span>    68/push 0/imm32
<span id="L9991" class="LineNr"> 9991 </span>    89/&lt;- %esi 4/r32/esp
<span id="L9992" class="LineNr"> 9992 </span>    <span class="subxComment"># var vars/ecx: (stack (addr var) 16)</span>
<span id="L9993" class="LineNr"> 9993 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L9994" class="LineNr"> 9994 </span>    68/push 0xc0/imm32/size
<span id="L9995" class="LineNr"> 9995 </span>    68/push 0/imm32/top
<span id="L9996" class="LineNr"> 9996 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L9997" class="LineNr"> 9997 </span>    (<a href='../203stack.subx.html#L13'>clear-stack</a> %ecx)
<span id="L9998" class="LineNr"> 9998 </span>    <span class="subxComment"># convert</span>
<span id="L9999" class="LineNr"> 9999 </span>    (<a href='mu.subx.html#L9828'>parse-mu-var-def</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx %esi 0 <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L10000" class="LineNr">10000 </span>    <span class="subxComment"># var out-addr/esi: (addr stmt)</span>
<span id="L10001" class="LineNr">10001 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10002" class="LineNr">10002 </span>    89/&lt;- %esi 0/r32/eax
<span id="L10003" class="LineNr">10003 </span>    <span class="subxComment">#</span>
<span id="L10004" class="LineNr">10004 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *esi 3 <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/tag&quot;</span>)  <span class="subxComment"># Stmt-tag is reg-var-def</span>
<span id="L10005" class="LineNr">10005 </span>    <span class="subxComment"># var v/ecx: (addr var) = lookup(out-&gt;outputs-&gt;value)</span>
<span id="L10006" class="LineNr">10006 </span>    <span class="subxS1Comment"># . eax: (addr stmt-var) = lookup(out-&gt;outputs)</span>
<span id="L10007" class="LineNr">10007 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Regvardef-outputs Regvardef-outputs =&gt; eax</span>
<span id="L10008" class="LineNr">10008 </span>    <span class="subxS1Comment"># .</span>
<span id="L10009" class="LineNr">10009 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+8) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/single-output&quot;</span>)  <span class="subxComment"># Stmt-var-next</span>
<span id="L10010" class="LineNr">10010 </span>    <span class="subxS1Comment"># . eax: (addr var) = lookup(eax-&gt;value)</span>
<span id="L10011" class="LineNr">10011 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L10012" class="LineNr">10012 </span>    <span class="subxS1Comment"># . ecx = eax</span>
<span id="L10013" class="LineNr">10013 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L10014" class="LineNr">10014 </span>    <span class="subxComment"># v-&gt;name</span>
<span id="L10015" class="LineNr">10015 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10016" class="LineNr">10016 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;n&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/output-name&quot;</span>)  <span class="subxComment"># Var-name</span>
<span id="L10017" class="LineNr">10017 </span>    <span class="subxComment"># v-&gt;register</span>
<span id="L10018" class="LineNr">10018 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L10019" class="LineNr">10019 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;eax&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/output-register&quot;</span>)
<span id="L10020" class="LineNr">10020 </span>    <span class="subxComment"># v-&gt;block-depth</span>
<span id="L10021" class="LineNr">10021 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(ecx+0x10) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/output-block-depth&quot;</span>)  <span class="subxComment"># Var-block-depth</span>
<span id="L10022" class="LineNr">10022 </span>    <span class="subxComment"># v-&gt;type == int</span>
<span id="L10023" class="LineNr">10023 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L10024" class="LineNr">10024 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *eax 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/output-type:0&quot;</span>)  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L10025" class="LineNr">10025 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+4) 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/output-type:1&quot;</span>)  <span class="subxComment"># Type-tree-value</span>
<span id="L10026" class="LineNr">10026 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *(eax+0xc) 0 <span class="Constant">&quot;F - <a href='mu.subx.html#L9979'>test-parse-mu-reg-var-def</a>/output-type:2&quot;</span>)  <span class="subxComment"># Type-tree-right</span>
<span id="L10027" class="LineNr">10027 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10028" class="LineNr">10028 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10029" class="LineNr">10029 </span>    5d/pop-to-ebp
<span id="L10030" class="LineNr">10030 </span>    c3/return
<span id="L10031" class="LineNr">10031 </span>
<span id="L10032" class="LineNr">10032 </span><span class="subxFunction">parse-mu-stmt</span>:  <span class="subxComment"># line: (addr stream byte), vars: (addr stack live-var), fn: (addr function), out: (addr handle stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10033" class="LineNr">10033 </span>    <span class="subxComment"># Carefully push any outputs on the vars stack _after_ reading the inputs</span>
<span id="L10034" class="LineNr">10034 </span>    <span class="subxComment"># that may conflict with them.</span>
<span id="L10035" class="LineNr">10035 </span>    <span class="subxComment">#</span>
<span id="L10036" class="LineNr">10036 </span>    <span class="subxComment"># The only situation in which outputs are pushed here (when it's not a</span>
<span id="L10037" class="LineNr">10037 </span>    <span class="subxComment"># 'var' vardef stmt), and so can possibly conflict with inputs, is if the</span>
<span id="L10038" class="LineNr">10038 </span>    <span class="subxComment"># output is a function output.</span>
<span id="L10039" class="LineNr">10039 </span>    <span class="subxComment">#</span>
<span id="L10040" class="LineNr">10040 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L10041" class="LineNr">10041 </span>    <span class="subxComment">#   var name: slice</span>
<span id="L10042" class="LineNr">10042 </span>    <span class="subxComment">#   allocate(Heap, Stmt-size, out)</span>
<span id="L10043" class="LineNr">10043 </span>    <span class="subxComment">#   var out-addr: (addr stmt) = lookup(*out)</span>
<span id="L10044" class="LineNr">10044 </span>    <span class="subxComment">#   out-addr-&gt;tag = stmt</span>
<span id="L10045" class="LineNr">10045 </span>    <span class="subxComment">#   if stmt-has-outputs?(line)</span>
<span id="L10046" class="LineNr">10046 </span>    <span class="subxComment">#     while true</span>
<span id="L10047" class="LineNr">10047 </span>    <span class="subxComment">#       name = next-mu-token(line)</span>
<span id="L10048" class="LineNr">10048 </span>    <span class="subxComment">#       if (name == '&lt;-') break</span>
<span id="L10049" class="LineNr">10049 </span>    <span class="subxComment">#       assert(is-identifier?(name))</span>
<span id="L10050" class="LineNr">10050 </span>    <span class="subxComment">#       var v: (handle var) = lookup-var-or-find-in-fn-outputs(name, vars, fn)</span>
<span id="L10051" class="LineNr">10051 </span>    <span class="subxComment">#       out-addr-&gt;outputs = append(v, out-addr-&gt;outputs)</span>
<span id="L10052" class="LineNr">10052 </span>    <span class="subxComment">#   add-operation-and-inputs-to-stmt(out-addr, line, vars)</span>
<span id="L10053" class="LineNr">10053 </span>    <span class="subxComment">#   for output in stmt-&gt;outputs:</span>
<span id="L10054" class="LineNr">10054 </span>    <span class="subxComment">#     maybe-define-var(output, vars)</span>
<span id="L10055" class="LineNr">10055 </span>    <span class="subxComment">#</span>
<span id="L10056" class="LineNr">10056 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10057" class="LineNr">10057 </span>    55/push-ebp
<span id="L10058" class="LineNr">10058 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10059" class="LineNr">10059 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10060" class="LineNr">10060 </span>    50/push-eax
<span id="L10061" class="LineNr">10061 </span>    51/push-ecx
<span id="L10062" class="LineNr">10062 </span>    52/push-edx
<span id="L10063" class="LineNr">10063 </span>    53/push-ebx
<span id="L10064" class="LineNr">10064 </span>    57/push-edi
<span id="L10065" class="LineNr">10065 </span>    <span class="subxComment"># var name/ecx: slice</span>
<span id="L10066" class="LineNr">10066 </span>    68/push 0/imm32/end
<span id="L10067" class="LineNr">10067 </span>    68/push 0/imm32/start
<span id="L10068" class="LineNr">10068 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L10069" class="LineNr">10069 </span>    <span class="subxComment"># var is-deref?/edx: boolean = false</span>
<span id="L10070" class="LineNr">10070 </span>    ba/copy-to-edx 0/imm32/false
<span id="L10071" class="LineNr">10071 </span>    <span class="subxComment"># var v: (handle var)</span>
<span id="L10072" class="LineNr">10072 </span>    68/push 0/imm32
<span id="L10073" class="LineNr">10073 </span>    68/push 0/imm32
<span id="L10074" class="LineNr">10074 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L10075" class="LineNr">10075 </span>    <span class="subxComment">#</span>
<span id="L10076" class="LineNr">10076 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L326'>Stmt-size</a></span> *(ebp+0x14))
<span id="L10077" class="LineNr">10077 </span>    <span class="subxComment"># var out-addr/edi: (addr stmt) = lookup(*out)</span>
<span id="L10078" class="LineNr">10078 </span>    8b/-&gt; *(ebp+0x14) 7/r32/edi
<span id="L10079" class="LineNr">10079 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10080" class="LineNr">10080 </span>    89/&lt;- %edi 0/r32/eax
<span id="L10081" class="LineNr">10081 </span>    <span class="subxComment"># out-addr-&gt;tag = 1/stmt</span>
<span id="L10082" class="LineNr">10082 </span>    c7 0/subop/copy *edi 1/imm32/stmt1  <span class="subxComment"># Stmt-tag</span>
<span id="L10083" class="LineNr">10083 </span>    {
<span id="L10084" class="LineNr">10084 </span>      (<a href='mu.subx.html#L10283'>stmt-has-outputs?</a> *(ebp+8))
<span id="L10085" class="LineNr">10085 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10086" class="LineNr">10086 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L10087" class="LineNr">10087 </span>      {
<span id="L10088" class="LineNr">10088 </span><span class="Constant">$parse-mu-stmt:read-outputs</span>:
<span id="L10089" class="LineNr">10089 </span>        <span class="subxComment"># name = next-mu-token(line)</span>
<span id="L10090" class="LineNr">10090 </span>        (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L10091" class="LineNr">10091 </span>        <span class="subxComment"># if slice-empty?(word-slice) break</span>
<span id="L10092" class="LineNr">10092 </span>        (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L10093" class="LineNr">10093 </span>        3d/compare-eax-and 0/imm32/false
<span id="L10094" class="LineNr">10094 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L10095" class="LineNr">10095 </span>        <span class="subxComment"># if (name == &quot;&lt;-&quot;) break</span>
<span id="L10096" class="LineNr">10096 </span>        (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;&lt;-&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L10097" class="LineNr">10097 </span>        3d/compare-eax-and 0/imm32/false
<span id="L10098" class="LineNr">10098 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L10099" class="LineNr">10099 </span>        <span class="subxComment"># is-deref? = false</span>
<span id="L10100" class="LineNr">10100 </span>        ba/copy-to-edx 0/imm32/false
<span id="L10101" class="LineNr">10101 </span>        <span class="subxComment"># if (slice-starts-with?(name, '*')) ++name-&gt;start and set is-deref?</span>
<span id="L10102" class="LineNr">10102 </span>        8b/-&gt; *ecx 0/r32/eax  <span class="subxComment"># Slice-start</span>
<span id="L10103" class="LineNr">10103 </span>        8a/copy-byte *eax 0/r32/AL
<span id="L10104" class="LineNr">10104 </span>        81 4/subop/and %eax 0xff/imm32
<span id="L10105" class="LineNr">10105 </span>        3d/compare-eax-and 0x2a/imm32/asterisk
<span id="L10106" class="LineNr">10106 </span>        {
<span id="L10107" class="LineNr">10107 </span>          75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L10108" class="LineNr">10108 </span>          ff 0/subop/increment *ecx
<span id="L10109" class="LineNr">10109 </span>          ba/copy-to-edx 1/imm32/true
<span id="L10110" class="LineNr">10110 </span>        }
<span id="L10111" class="LineNr">10111 </span>        <span class="subxComment"># assert(is-identifier?(name))</span>
<span id="L10112" class="LineNr">10112 </span>        (<a href='mu.subx.html#L9118'>is-identifier?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L10113" class="LineNr">10113 </span>        3d/compare-eax-and 0/imm32/false
<span id="L10114" class="LineNr">10114 </span>        0f 84/jump-if-= $parse-mu-stmt:abort/disp32
<span id="L10115" class="LineNr">10115 </span>        <span class="subxComment">#</span>
<span id="L10116" class="LineNr">10116 </span>        (<a href='mu.subx.html#L10675'>lookup-var-or-find-in-fn-outputs</a> %ecx *(ebp+0xc) *(ebp+0x10) %ebx *(ebp+0x18) *(ebp+0x1c))
<span id="L10117" class="LineNr">10117 </span>        8d/copy-address *(edi+0x14) 0/r32/eax  <span class="subxComment"># Stmt1-outputs</span>
<span id="L10118" class="LineNr">10118 </span>        (<a href='mu.subx.html#L11279'>append-stmt-var</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *ebx *(ebx+4)  *(edi+0x14) *(edi+0x18)  %edx  %eax)  <span class="subxComment"># Stmt1-outputs</span>
<span id="L10119" class="LineNr">10119 </span>        <span class="subxComment">#</span>
<span id="L10120" class="LineNr">10120 </span>        e9/jump <span class="Constant">loop</span>/disp32
<span id="L10121" class="LineNr">10121 </span>      }
<span id="L10122" class="LineNr">10122 </span>    }
<span id="L10123" class="LineNr">10123 </span>    (<a href='mu.subx.html#L10165'>add-operation-and-inputs-to-stmt</a> %edi *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x18) *(ebp+0x1c))
<span id="L10124" class="LineNr">10124 </span><span class="Constant">$parse-mu-stmt:define-outputs</span>:
<span id="L10125" class="LineNr">10125 </span>    <span class="subxComment"># var output/edi: (addr stmt-var) = lookup(out-addr-&gt;outputs)</span>
<span id="L10126" class="LineNr">10126 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0x14) *(edi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L10127" class="LineNr">10127 </span>    89/&lt;- %edi 0/r32/eax
<span id="L10128" class="LineNr">10128 </span>    {
<span id="L10129" class="LineNr">10129 </span><span class="Constant">$parse-mu-stmt:define-outputs-loop</span>:
<span id="L10130" class="LineNr">10130 </span>      <span class="subxComment"># if (output == null) break</span>
<span id="L10131" class="LineNr">10131 </span>      81 7/subop/compare %edi 0/imm32
<span id="L10132" class="LineNr">10132 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10133" class="LineNr">10133 </span>      <span class="subxComment">#</span>
<span id="L10134" class="LineNr">10134 </span>      (<a href='mu.subx.html#L10764'>maybe-define-var</a> *edi *(edi+4)  *(ebp+0xc))  <span class="subxComment"># if output is a deref, then it's already been defined,</span>
<span id="L10135" class="LineNr">10135 </span>                                                    <span class="subxComment"># and must be in vars. This call will be a no-op, but safe.</span>
<span id="L10136" class="LineNr">10136 </span>      <span class="subxComment"># output = output-&gt;next</span>
<span id="L10137" class="LineNr">10137 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L10138" class="LineNr">10138 </span>      89/&lt;- %edi 0/r32/eax
<span id="L10139" class="LineNr">10139 </span>      <span class="subxComment">#</span>
<span id="L10140" class="LineNr">10140 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L10141" class="LineNr">10141 </span>    }
<span id="L10142" class="LineNr">10142 </span><span class="Constant">$parse-mu-stmt:end</span>:
<span id="L10143" class="LineNr">10143 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L10144" class="LineNr">10144 </span>    81 0/subop/add %esp 0x10/imm32
<span id="L10145" class="LineNr">10145 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10146" class="LineNr">10146 </span>    5f/pop-to-edi
<span id="L10147" class="LineNr">10147 </span>    5b/pop-to-ebx
<span id="L10148" class="LineNr">10148 </span>    5a/pop-to-edx
<span id="L10149" class="LineNr">10149 </span>    59/pop-to-ecx
<span id="L10150" class="LineNr">10150 </span>    58/pop-to-eax
<span id="L10151" class="LineNr">10151 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10152" class="LineNr">10152 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10153" class="LineNr">10153 </span>    5d/pop-to-ebp
<span id="L10154" class="LineNr">10154 </span>    c3/return
<span id="L10155" class="LineNr">10155 </span>
<span id="L10156" class="LineNr">10156 </span><span class="Constant">$parse-mu-stmt:abort</span>:
<span id="L10157" class="LineNr">10157 </span>    <span class="subxComment"># error(&quot;invalid identifier '&quot; name &quot;'\n&quot;)</span>
<span id="L10158" class="LineNr">10158 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;invalid identifier '&quot;</span>)
<span id="L10159" class="LineNr">10159 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x18) %ecx)
<span id="L10160" class="LineNr">10160 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L10161" class="LineNr">10161 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10162" class="LineNr">10162 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10163" class="LineNr">10163 </span>    <span class="subxComment"># never gets here</span>
<span id="L10164" class="LineNr">10164 </span>
<span id="L10165" class="LineNr">10165 </span><span class="subxFunction">add-operation-and-inputs-to-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), line: (addr stream byte), vars: (addr stack live-var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10166" class="LineNr">10166 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L10167" class="LineNr">10167 </span>    <span class="subxComment">#   stmt-&gt;name = slice-to-string(next-mu-token(line))</span>
<span id="L10168" class="LineNr">10168 </span>    <span class="subxComment">#   while true</span>
<span id="L10169" class="LineNr">10169 </span>    <span class="subxComment">#     name = next-mu-token(line)</span>
<span id="L10170" class="LineNr">10170 </span>    <span class="subxComment">#     v = lookup-var-or-literal(name)</span>
<span id="L10171" class="LineNr">10171 </span>    <span class="subxComment">#     stmt-&gt;inouts = append(v, stmt-&gt;inouts)</span>
<span id="L10172" class="LineNr">10172 </span>    <span class="subxComment">#</span>
<span id="L10173" class="LineNr">10173 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10174" class="LineNr">10174 </span>    55/push-ebp
<span id="L10175" class="LineNr">10175 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10176" class="LineNr">10176 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10177" class="LineNr">10177 </span>    50/push-eax
<span id="L10178" class="LineNr">10178 </span>    51/push-ecx
<span id="L10179" class="LineNr">10179 </span>    52/push-edx
<span id="L10180" class="LineNr">10180 </span>    53/push-ebx
<span id="L10181" class="LineNr">10181 </span>    56/push-esi
<span id="L10182" class="LineNr">10182 </span>    57/push-edi
<span id="L10183" class="LineNr">10183 </span>    <span class="subxComment"># edi = stmt</span>
<span id="L10184" class="LineNr">10184 </span>    8b/-&gt; *(ebp+8) 7/r32/edi
<span id="L10185" class="LineNr">10185 </span>    <span class="subxComment"># var name/ecx: slice</span>
<span id="L10186" class="LineNr">10186 </span>    68/push 0/imm32/end
<span id="L10187" class="LineNr">10187 </span>    68/push 0/imm32/start
<span id="L10188" class="LineNr">10188 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L10189" class="LineNr">10189 </span>    <span class="subxComment"># var is-deref?/edx: boolean = false</span>
<span id="L10190" class="LineNr">10190 </span>    ba/copy-to-edx 0/imm32/false
<span id="L10191" class="LineNr">10191 </span>    <span class="subxComment"># var v/esi: (handle var)</span>
<span id="L10192" class="LineNr">10192 </span>    68/push 0/imm32
<span id="L10193" class="LineNr">10193 </span>    68/push 0/imm32
<span id="L10194" class="LineNr">10194 </span>    89/&lt;- %esi 4/r32/esp
<span id="L10195" class="LineNr">10195 </span><span class="Constant">$add-operation-and-inputs-to-stmt:read-operation</span>:
<span id="L10196" class="LineNr">10196 </span>    (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+0xc) %ecx)
<span id="L10197" class="LineNr">10197 </span>    8d/copy-address *(edi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation or Regvardef-operationStmt1-operation or Regvardef-operation</span>
<span id="L10198" class="LineNr">10198 </span>    (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %ecx %eax)
<span id="L10199" class="LineNr">10199 </span>    <span class="subxComment"># var is-get?/ebx: boolean = (name == &quot;get&quot;)</span>
<span id="L10200" class="LineNr">10200 </span>    (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;get&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L10201" class="LineNr">10201 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L10202" class="LineNr">10202 </span>    {
<span id="L10203" class="LineNr">10203 </span><span class="Constant">$add-operation-and-inputs-to-stmt:read-inouts</span>:
<span id="L10204" class="LineNr">10204 </span>      <span class="subxComment"># name = next-mu-token(line)</span>
<span id="L10205" class="LineNr">10205 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+0xc) %ecx)
<span id="L10206" class="LineNr">10206 </span>      <span class="subxComment"># if slice-empty?(word-slice) break</span>
<span id="L10207" class="LineNr">10207 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L10208" class="LineNr">10208 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10209" class="LineNr">10209 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L10210" class="LineNr">10210 </span>      <span class="subxComment"># if (name == &quot;&lt;-&quot;) abort</span>
<span id="L10211" class="LineNr">10211 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;&lt;-&quot;</span>)
<span id="L10212" class="LineNr">10212 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10213" class="LineNr">10213 </span>      0f 85/jump-if-!= $add-operation-and-inputs-to-stmt:abort/disp32
<span id="L10214" class="LineNr">10214 </span>      <span class="subxComment"># if (is-get? &amp;&amp; second operand) lookup or create offset</span>
<span id="L10215" class="LineNr">10215 </span>      {
<span id="L10216" class="LineNr">10216 </span>        81 7/subop/compare %ebx 0/imm32/false
<span id="L10217" class="LineNr">10217 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10218" class="LineNr">10218 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0xc) *(edi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L10219" class="LineNr">10219 </span>        3d/compare-eax-and 0/imm32
<span id="L10220" class="LineNr">10220 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10221" class="LineNr">10221 </span>        (<a href='mu.subx.html#L11364'>lookup-or-create-constant</a> %eax %ecx %esi)
<span id="L10222" class="LineNr">10222 </span><span class="CommentedCode">#?         (lookup *esi *(esi+4))</span>
<span id="L10223" class="LineNr">10223 </span><span class="CommentedCode">#?         (write-buffered Stderr &quot;creating new output var &quot;)</span>
<span id="L10224" class="LineNr">10224 </span><span class="CommentedCode">#?         (write-int32-hex-buffered Stderr %eax)</span>
<span id="L10225" class="LineNr">10225 </span><span class="CommentedCode">#?         (write-buffered Stderr &quot; for field called &quot;)</span>
<span id="L10226" class="LineNr">10226 </span><span class="CommentedCode">#?         (write-slice-buffered Stderr %ecx)</span>
<span id="L10227" class="LineNr">10227 </span><span class="CommentedCode">#?         (write-buffered Stderr &quot;; var name &quot;)</span>
<span id="L10228" class="LineNr">10228 </span><span class="CommentedCode">#?         (lookup *eax *(eax+4))  # Var-name</span>
<span id="L10229" class="LineNr">10229 </span><span class="CommentedCode">#?         (write-buffered Stderr %eax)</span>
<span id="L10230" class="LineNr">10230 </span><span class="CommentedCode">#?         (write-buffered Stderr Newline)</span>
<span id="L10231" class="LineNr">10231 </span><span class="CommentedCode">#?         (flush Stderr)</span>
<span id="L10232" class="LineNr">10232 </span>        e9/jump $add-operation-and-inputs-to-stmt:save-var/disp32
<span id="L10233" class="LineNr">10233 </span>      }
<span id="L10234" class="LineNr">10234 </span>      <span class="subxComment"># is-deref? = false</span>
<span id="L10235" class="LineNr">10235 </span>      ba/copy-to-edx 0/imm32/false
<span id="L10236" class="LineNr">10236 </span>      <span class="subxComment"># if (slice-starts-with?(name, '*')) ++name-&gt;start and set is-deref?</span>
<span id="L10237" class="LineNr">10237 </span>      8b/-&gt; *ecx 0/r32/eax  <span class="subxComment"># Slice-start</span>
<span id="L10238" class="LineNr">10238 </span>      8a/copy-byte *eax 0/r32/AL
<span id="L10239" class="LineNr">10239 </span>      81 4/subop/and %eax 0xff/imm32
<span id="L10240" class="LineNr">10240 </span>      3d/compare-eax-and 0x2a/imm32/asterisk
<span id="L10241" class="LineNr">10241 </span>      {
<span id="L10242" class="LineNr">10242 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L10243" class="LineNr">10243 </span><span class="Constant">$add-operation-and-inputs-to-stmt:inout-is-deref</span>:
<span id="L10244" class="LineNr">10244 </span>        ff 0/subop/increment *ecx
<span id="L10245" class="LineNr">10245 </span>        ba/copy-to-edx 1/imm32/true
<span id="L10246" class="LineNr">10246 </span>      }
<span id="L10247" class="LineNr">10247 </span>      (<a href='mu.subx.html#L10331'>lookup-var-or-literal</a> %ecx *(ebp+0x10) %esi *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L10248" class="LineNr">10248 </span><span class="Constant">$add-operation-and-inputs-to-stmt:save-var</span>:
<span id="L10249" class="LineNr">10249 </span>      8d/copy-address *(edi+0xc) 0/r32/eax
<span id="L10250" class="LineNr">10250 </span>      (<a href='mu.subx.html#L11279'>append-stmt-var</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *esi *(esi+4)  *(edi+0xc) *(edi+0x10)  %edx  %eax)  <span class="subxComment"># Stmt1-inouts or Regvardef-inouts</span>
<span id="L10251" class="LineNr">10251 </span>      <span class="subxComment">#</span>
<span id="L10252" class="LineNr">10252 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L10253" class="LineNr">10253 </span>    }
<span id="L10254" class="LineNr">10254 </span><span class="Constant">$add-operation-and-inputs-to-stmt:end</span>:
<span id="L10255" class="LineNr">10255 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L10256" class="LineNr">10256 </span>    81 0/subop/add %esp 0x10/imm32
<span id="L10257" class="LineNr">10257 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10258" class="LineNr">10258 </span>    5f/pop-to-edi
<span id="L10259" class="LineNr">10259 </span>    5e/pop-to-esi
<span id="L10260" class="LineNr">10260 </span>    5b/pop-to-ebx
<span id="L10261" class="LineNr">10261 </span>    5a/pop-to-edx
<span id="L10262" class="LineNr">10262 </span>    59/pop-to-ecx
<span id="L10263" class="LineNr">10263 </span>    58/pop-to-eax
<span id="L10264" class="LineNr">10264 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10265" class="LineNr">10265 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10266" class="LineNr">10266 </span>    5d/pop-to-ebp
<span id="L10267" class="LineNr">10267 </span>    c3/return
<span id="L10268" class="LineNr">10268 </span>
<span id="L10269" class="LineNr">10269 </span><span class="Constant">$add-operation-and-inputs-to-stmt:abort</span>:
<span id="L10270" class="LineNr">10270 </span>    <span class="subxComment"># error(&quot;fn ___: invalid identifier in '&quot; line &quot;'\n&quot;)</span>
<span id="L10271" class="LineNr">10271 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L10272" class="LineNr">10272 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10273" class="LineNr">10273 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L10274" class="LineNr">10274 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10275" class="LineNr">10275 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+0xc))
<span id="L10276" class="LineNr">10276 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: invalid identifier in '&quot;</span>)
<span id="L10277" class="LineNr">10277 </span>    (<a href='../125write-stream-data.subx.html#L11'>write-stream-data</a> *(ebp+0x18) *(ebp+0xc))
<span id="L10278" class="LineNr">10278 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L10279" class="LineNr">10279 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10280" class="LineNr">10280 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10281" class="LineNr">10281 </span>    <span class="subxComment"># never gets here</span>
<span id="L10282" class="LineNr">10282 </span>
<span id="L10283" class="LineNr">10283 </span><span class="subxFunction">stmt-has-outputs?</span>:  <span class="subxComment"># line: (addr stream byte) -&gt; result/eax: boolean</span>
<span id="L10284" class="LineNr">10284 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10285" class="LineNr">10285 </span>    55/push-ebp
<span id="L10286" class="LineNr">10286 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10287" class="LineNr">10287 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10288" class="LineNr">10288 </span>    51/push-ecx
<span id="L10289" class="LineNr">10289 </span>    <span class="subxComment"># var word-slice/ecx: slice</span>
<span id="L10290" class="LineNr">10290 </span>    68/push 0/imm32/end
<span id="L10291" class="LineNr">10291 </span>    68/push 0/imm32/start
<span id="L10292" class="LineNr">10292 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L10293" class="LineNr">10293 </span>    <span class="subxComment"># result = false</span>
<span id="L10294" class="LineNr">10294 </span>    b8/copy-to-eax 0/imm32/false
<span id="L10295" class="LineNr">10295 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L10296" class="LineNr">10296 </span>    {
<span id="L10297" class="LineNr">10297 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> *(ebp+8) %ecx)
<span id="L10298" class="LineNr">10298 </span>      <span class="subxComment"># if slice-empty?(word-slice) break</span>
<span id="L10299" class="LineNr">10299 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %ecx)
<span id="L10300" class="LineNr">10300 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10301" class="LineNr">10301 </span>      b8/copy-to-eax 0/imm32/false/result  <span class="subxComment"># restore result (if we're here it's still false)</span>
<span id="L10302" class="LineNr">10302 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L10303" class="LineNr">10303 </span>      <span class="subxComment"># if slice-starts-with?(word-slice, '#') break</span>
<span id="L10304" class="LineNr">10304 </span>      <span class="subxS1Comment"># . eax = *word-slice-&gt;start</span>
<span id="L10305" class="LineNr">10305 </span>      8b/-&gt; *ecx 0/r32/eax
<span id="L10306" class="LineNr">10306 </span>      8a/copy-byte *eax 0/r32/AL
<span id="L10307" class="LineNr">10307 </span>      81 4/subop/and %eax 0xff/imm32
<span id="L10308" class="LineNr">10308 </span>      <span class="subxS1Comment"># . if (eax == '#') break</span>
<span id="L10309" class="LineNr">10309 </span>      3d/compare-eax-and 0x23/imm32/hash
<span id="L10310" class="LineNr">10310 </span>      b8/copy-to-eax 0/imm32/false/result  <span class="subxComment"># restore result (if we're here it's still false)</span>
<span id="L10311" class="LineNr">10311 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L10312" class="LineNr">10312 </span>      <span class="subxComment"># if slice-equal?(word-slice, '&lt;-') return true</span>
<span id="L10313" class="LineNr">10313 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %ecx <span class="Constant">&quot;&lt;-&quot;</span>)
<span id="L10314" class="LineNr">10314 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10315" class="LineNr">10315 </span>      74/jump-if-= <span class="Constant">loop</span>/disp8
<span id="L10316" class="LineNr">10316 </span>      b8/copy-to-eax 1/imm32/true
<span id="L10317" class="LineNr">10317 </span>    }
<span id="L10318" class="LineNr">10318 </span><span class="Constant">$stmt-has-outputs:end</span>:
<span id="L10319" class="LineNr">10319 </span>    (<a href='../106stream.subx.html#L56'>rewind-stream</a> *(ebp+8))
<span id="L10320" class="LineNr">10320 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L10321" class="LineNr">10321 </span>    81 0/subop/add %esp 8/imm32
<span id="L10322" class="LineNr">10322 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10323" class="LineNr">10323 </span>    59/pop-to-ecx
<span id="L10324" class="LineNr">10324 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10325" class="LineNr">10325 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10326" class="LineNr">10326 </span>    5d/pop-to-ebp
<span id="L10327" class="LineNr">10327 </span>    c3/return
<span id="L10328" class="LineNr">10328 </span>
<span id="L10329" class="LineNr">10329 </span><span class="subxComment"># if 'name' starts with a digit, create a new literal var for it</span>
<span id="L10330" class="LineNr">10330 </span><span class="subxComment"># otherwise return first 'name' from the top (back) of 'vars' and abort if not found</span>
<span id="L10331" class="LineNr">10331 </span><span class="subxFunction">lookup-var-or-literal</span>:  <span class="subxComment"># name: (addr slice), vars: (addr stack live-var), out: (addr handle var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10332" class="LineNr">10332 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10333" class="LineNr">10333 </span>    55/push-ebp
<span id="L10334" class="LineNr">10334 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10335" class="LineNr">10335 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10336" class="LineNr">10336 </span>    50/push-eax
<span id="L10337" class="LineNr">10337 </span>    51/push-ecx
<span id="L10338" class="LineNr">10338 </span>    56/push-esi
<span id="L10339" class="LineNr">10339 </span>    <span class="subxComment"># esi = name</span>
<span id="L10340" class="LineNr">10340 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L10341" class="LineNr">10341 </span>    <span class="subxComment"># if slice-empty?(name) abort</span>
<span id="L10342" class="LineNr">10342 </span>    (<a href='../123slice.subx.html#L9'>slice-empty?</a> %esi)  <span class="subxComment"># =&gt; eax</span>
<span id="L10343" class="LineNr">10343 </span>    3d/compare-eax-and 0/imm32/false
<span id="L10344" class="LineNr">10344 </span>    0f 85/jump-if-!= $lookup-var-or-literal:abort/disp32
<span id="L10345" class="LineNr">10345 </span>    <span class="subxComment"># var c/ecx: byte = *name-&gt;start</span>
<span id="L10346" class="LineNr">10346 </span>    8b/-&gt; *esi 1/r32/ecx
<span id="L10347" class="LineNr">10347 </span>    8a/copy-byte *ecx 1/r32/CL
<span id="L10348" class="LineNr">10348 </span>    81 4/subop/and %ecx 0xff/imm32
<span id="L10349" class="LineNr">10349 </span>    <span class="subxComment"># if (is-decimal-digit?(c) || c == '-') return new var(name)</span>
<span id="L10350" class="LineNr">10350 </span>    {
<span id="L10351" class="LineNr">10351 </span>      81 7/subop/compare %ecx 0x2d/imm32/dash
<span id="L10352" class="LineNr">10352 </span>      74/jump-if-= $lookup-var-or-literal:literal/disp8
<span id="L10353" class="LineNr">10353 </span>      (<a href='../126write-int-decimal.subx.html#L306'>is-decimal-digit?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L10354" class="LineNr">10354 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10355" class="LineNr">10355 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10356" class="LineNr">10356 </span><span class="Constant">$lookup-var-or-literal:literal</span>:
<span id="L10357" class="LineNr">10357 </span>      (<a href='mu.subx.html#L10995'>new-literal-integer</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %esi *(ebp+0x10) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L10358" class="LineNr">10358 </span>      eb/jump $lookup-var-or-literal:end/disp8
<span id="L10359" class="LineNr">10359 </span>    }
<span id="L10360" class="LineNr">10360 </span>    <span class="subxComment"># else if (c == '&quot;') return new var(name)</span>
<span id="L10361" class="LineNr">10361 </span>    {
<span id="L10362" class="LineNr">10362 </span>      81 7/subop/compare %ecx 0x22/imm32/dquote
<span id="L10363" class="LineNr">10363 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L10364" class="LineNr">10364 </span><span class="Constant">$lookup-var-or-literal:literal-string</span>:
<span id="L10365" class="LineNr">10365 </span>      (<a href='mu.subx.html#L11105'>new-literal</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %esi *(ebp+0x10))
<span id="L10366" class="LineNr">10366 </span>      eb/jump $lookup-var-or-literal:end/disp8
<span id="L10367" class="LineNr">10367 </span>    }
<span id="L10368" class="LineNr">10368 </span>    <span class="subxComment"># otherwise return lookup-var(name, vars)</span>
<span id="L10369" class="LineNr">10369 </span>    {
<span id="L10370" class="LineNr">10370 </span><span class="Constant">$lookup-var-or-literal:var</span>:
<span id="L10371" class="LineNr">10371 </span>      (<a href='mu.subx.html#L10394'>lookup-var</a> %esi *(ebp+0xc) *(ebp+0x10) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L10372" class="LineNr">10372 </span>    }
<span id="L10373" class="LineNr">10373 </span><span class="Constant">$lookup-var-or-literal:end</span>:
<span id="L10374" class="LineNr">10374 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10375" class="LineNr">10375 </span>    5e/pop-to-esi
<span id="L10376" class="LineNr">10376 </span>    59/pop-to-ecx
<span id="L10377" class="LineNr">10377 </span>    58/pop-to-eax
<span id="L10378" class="LineNr">10378 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10379" class="LineNr">10379 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10380" class="LineNr">10380 </span>    5d/pop-to-ebp
<span id="L10381" class="LineNr">10381 </span>    c3/return
<span id="L10382" class="LineNr">10382 </span>
<span id="L10383" class="LineNr">10383 </span><span class="Constant">$lookup-var-or-literal:abort</span>:
<span id="L10384" class="LineNr">10384 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L10385" class="LineNr">10385 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10386" class="LineNr">10386 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L10387" class="LineNr">10387 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10388" class="LineNr">10388 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: empty variable!&quot;</span>)
<span id="L10389" class="LineNr">10389 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10390" class="LineNr">10390 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10391" class="LineNr">10391 </span>    <span class="subxComment"># never gets here</span>
<span id="L10392" class="LineNr">10392 </span>
<span id="L10393" class="LineNr">10393 </span><span class="subxComment"># return first 'name' from the top (back) of 'vars' and abort if not found</span>
<span id="L10394" class="LineNr">10394 </span><span class="subxFunction">lookup-var</span>:  <span class="subxComment"># name: (addr slice), vars: (addr stack live-var), out: (addr handle var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10395" class="LineNr">10395 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10396" class="LineNr">10396 </span>    55/push-ebp
<span id="L10397" class="LineNr">10397 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10398" class="LineNr">10398 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10399" class="LineNr">10399 </span>    50/push-eax
<span id="L10400" class="LineNr">10400 </span>    <span class="subxComment">#</span>
<span id="L10401" class="LineNr">10401 </span>    (<a href='mu.subx.html#L10428'>lookup-var-helper</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L10402" class="LineNr">10402 </span>    <span class="subxComment"># if (*out == 0) abort</span>
<span id="L10403" class="LineNr">10403 </span>    8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L10404" class="LineNr">10404 </span>    81 7/subop/compare *eax 0/imm32
<span id="L10405" class="LineNr">10405 </span>    74/jump-if-= $lookup-var:abort/disp8
<span id="L10406" class="LineNr">10406 </span><span class="Constant">$lookup-var:end</span>:
<span id="L10407" class="LineNr">10407 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10408" class="LineNr">10408 </span>    58/pop-to-eax
<span id="L10409" class="LineNr">10409 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10410" class="LineNr">10410 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10411" class="LineNr">10411 </span>    5d/pop-to-ebp
<span id="L10412" class="LineNr">10412 </span>    c3/return
<span id="L10413" class="LineNr">10413 </span>
<span id="L10414" class="LineNr">10414 </span><span class="Constant">$lookup-var:abort</span>:
<span id="L10415" class="LineNr">10415 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L10416" class="LineNr">10416 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10417" class="LineNr">10417 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L10418" class="LineNr">10418 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10419" class="LineNr">10419 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: unknown variable '&quot;</span>)
<span id="L10420" class="LineNr">10420 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x18) *(ebp+8))
<span id="L10421" class="LineNr">10421 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L10422" class="LineNr">10422 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10423" class="LineNr">10423 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10424" class="LineNr">10424 </span>    <span class="subxComment"># never gets here</span>
<span id="L10425" class="LineNr">10425 </span>
<span id="L10426" class="LineNr">10426 </span><span class="subxComment"># return first 'name' from the top (back) of 'vars', and 0/null if not found</span>
<span id="L10427" class="LineNr">10427 </span><span class="subxComment"># ensure that 'name' if in a register is the topmost variable in that register</span>
<span id="L10428" class="LineNr">10428 </span><span class="subxFunction">lookup-var-helper</span>:  <span class="subxComment"># name: (addr slice), vars: (addr stack live-var), out: (addr handle var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10429" class="LineNr">10429 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L10430" class="LineNr">10430 </span>    <span class="subxComment">#   var curr: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L10431" class="LineNr">10431 </span>    <span class="subxComment">#   var min = vars-&gt;data</span>
<span id="L10432" class="LineNr">10432 </span>    <span class="subxComment">#   while curr &gt;= min</span>
<span id="L10433" class="LineNr">10433 </span>    <span class="subxComment">#     var v: (handle var) = *curr</span>
<span id="L10434" class="LineNr">10434 </span>    <span class="subxComment">#     if v-&gt;name == name</span>
<span id="L10435" class="LineNr">10435 </span>    <span class="subxComment">#       return</span>
<span id="L10436" class="LineNr">10436 </span>    <span class="subxComment">#     curr -= 12</span>
<span id="L10437" class="LineNr">10437 </span>    <span class="subxComment">#</span>
<span id="L10438" class="LineNr">10438 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10439" class="LineNr">10439 </span>    55/push-ebp
<span id="L10440" class="LineNr">10440 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10441" class="LineNr">10441 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10442" class="LineNr">10442 </span>    50/push-eax
<span id="L10443" class="LineNr">10443 </span>    51/push-ecx
<span id="L10444" class="LineNr">10444 </span>    52/push-edx
<span id="L10445" class="LineNr">10445 </span>    53/push-ebx
<span id="L10446" class="LineNr">10446 </span>    56/push-esi
<span id="L10447" class="LineNr">10447 </span>    57/push-edi
<span id="L10448" class="LineNr">10448 </span>    <span class="subxComment"># clear out</span>
<span id="L10449" class="LineNr">10449 </span>    (<a href='../120allocate.subx.html#L877'>zero-out</a> *(ebp+0x10) *<span class="SpecialChar"><a href='../120allocate.subx.html#L23'>Handle-size</a></span>)
<span id="L10450" class="LineNr">10450 </span>    <span class="subxComment"># esi = vars</span>
<span id="L10451" class="LineNr">10451 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L10452" class="LineNr">10452 </span>    <span class="subxComment"># ebx = vars-&gt;top</span>
<span id="L10453" class="LineNr">10453 </span>    8b/-&gt; *esi 3/r32/ebx
<span id="L10454" class="LineNr">10454 </span>    <span class="subxComment"># if (vars-&gt;top &gt; vars-&gt;size) abort</span>
<span id="L10455" class="LineNr">10455 </span>    3b/compare&lt;- *(esi+4) 0/r32/eax
<span id="L10456" class="LineNr">10456 </span>    0f 8f/jump-if-&gt; $lookup-var-helper:error1/disp32
<span id="L10457" class="LineNr">10457 </span>    <span class="subxComment"># var min/edx: (addr handle var) = vars-&gt;data</span>
<span id="L10458" class="LineNr">10458 </span>    8d/copy-address *(esi+8) 2/r32/edx
<span id="L10459" class="LineNr">10459 </span>    <span class="subxComment"># var curr/ebx: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L10460" class="LineNr">10460 </span>    8d/copy-address *(esi+ebx-4) 3/r32/ebx  <span class="subxComment"># vars + 8 + vars-&gt;type - 12</span>
<span id="L10461" class="LineNr">10461 </span>    <span class="subxComment"># var var-in-reg/edi: 8 addrs</span>
<span id="L10462" class="LineNr">10462 </span>    68/push 0/imm32
<span id="L10463" class="LineNr">10463 </span>    68/push 0/imm32
<span id="L10464" class="LineNr">10464 </span>    68/push 0/imm32
<span id="L10465" class="LineNr">10465 </span>    68/push 0/imm32
<span id="L10466" class="LineNr">10466 </span>    68/push 0/imm32
<span id="L10467" class="LineNr">10467 </span>    68/push 0/imm32
<span id="L10468" class="LineNr">10468 </span>    68/push 0/imm32
<span id="L10469" class="LineNr">10469 </span>    68/push 0/imm32
<span id="L10470" class="LineNr">10470 </span>    89/&lt;- %edi 4/r32/esp
<span id="L10471" class="LineNr">10471 </span>    {
<span id="L10472" class="LineNr">10472 </span><span class="Constant">$lookup-var-helper:loop</span>:
<span id="L10473" class="LineNr">10473 </span>      <span class="subxComment"># if (curr &lt; min) return</span>
<span id="L10474" class="LineNr">10474 </span>      39/compare %ebx 2/r32/edx
<span id="L10475" class="LineNr">10475 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L10476" class="LineNr">10476 </span>      <span class="subxComment"># var v/ecx: (addr var) = lookup(*curr)</span>
<span id="L10477" class="LineNr">10477 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10478" class="LineNr">10478 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L10479" class="LineNr">10479 </span>      <span class="subxComment"># var vn/eax: (addr array byte) = lookup(v-&gt;name)</span>
<span id="L10480" class="LineNr">10480 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10481" class="LineNr">10481 </span>      <span class="subxComment"># if (vn == name) return curr</span>
<span id="L10482" class="LineNr">10482 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> *(ebp+8) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L10483" class="LineNr">10483 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10484" class="LineNr">10484 </span>      {
<span id="L10485" class="LineNr">10485 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10486" class="LineNr">10486 </span><span class="Constant">$lookup-var-helper:found</span>:
<span id="L10487" class="LineNr">10487 </span>        <span class="subxComment"># var vr/eax: (addr array byte) = lookup(v-&gt;register)</span>
<span id="L10488" class="LineNr">10488 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L10489" class="LineNr">10489 </span>        3d/compare-eax-and 0/imm32
<span id="L10490" class="LineNr">10490 </span>        {
<span id="L10491" class="LineNr">10491 </span>          74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10492" class="LineNr">10492 </span><span class="Constant">$lookup-var-helper:found-register</span>:
<span id="L10493" class="LineNr">10493 </span>          <span class="subxComment"># var reg/eax: int = get(Registers, vr)</span>
<span id="L10494" class="LineNr">10494 </span>          (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L10495" class="LineNr">10495 </span>          8b/-&gt; *eax 0/r32/eax
<span id="L10496" class="LineNr">10496 </span>          <span class="subxComment"># if (var-in-reg[reg]) error</span>
<span id="L10497" class="LineNr">10497 </span>          8b/-&gt; *(edi+eax&lt;&lt;2) 0/r32/eax
<span id="L10498" class="LineNr">10498 </span>          3d/compare-eax-and 0/imm32
<span id="L10499" class="LineNr">10499 </span>          0f 85/jump-if-!= $lookup-var-helper:error2/disp32
<span id="L10500" class="LineNr">10500 </span>        }
<span id="L10501" class="LineNr">10501 </span><span class="Constant">$lookup-var-helper:return</span>:
<span id="L10502" class="LineNr">10502 </span>        <span class="subxComment"># esi = out</span>
<span id="L10503" class="LineNr">10503 </span>        8b/-&gt; *(ebp+0x10) 6/r32/esi
<span id="L10504" class="LineNr">10504 </span>        <span class="subxComment"># *out = *curr</span>
<span id="L10505" class="LineNr">10505 </span>        8b/-&gt; *ebx 0/r32/eax
<span id="L10506" class="LineNr">10506 </span>        89/&lt;- *esi 0/r32/eax
<span id="L10507" class="LineNr">10507 </span>        8b/-&gt; *(ebx+4) 0/r32/eax
<span id="L10508" class="LineNr">10508 </span>        89/&lt;- *(esi+4) 0/r32/eax
<span id="L10509" class="LineNr">10509 </span>        <span class="subxComment"># return</span>
<span id="L10510" class="LineNr">10510 </span>        eb/jump $lookup-var-helper:end/disp8
<span id="L10511" class="LineNr">10511 </span>      }
<span id="L10512" class="LineNr">10512 </span>      <span class="subxComment"># 'name' not yet found; update var-in-reg if v in register</span>
<span id="L10513" class="LineNr">10513 </span>      <span class="subxS1Comment"># . var vr/eax: (addr array byte) = lookup(v-&gt;register)</span>
<span id="L10514" class="LineNr">10514 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L10515" class="LineNr">10515 </span>      <span class="subxS1Comment"># . if (var == 0) continue</span>
<span id="L10516" class="LineNr">10516 </span>      3d/compare-eax-and 0/imm32
<span id="L10517" class="LineNr">10517 </span>      74/jump-if-= $lookup-var-helper:continue/disp8
<span id="L10518" class="LineNr">10518 </span>      <span class="subxS1Comment"># . var reg/eax: int = get(Registers, vr)</span>
<span id="L10519" class="LineNr">10519 </span>      (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L10520" class="LineNr">10520 </span>      8b/-&gt; *eax 0/r32/eax
<span id="L10521" class="LineNr">10521 </span>      <span class="subxS1Comment"># . if (var-in-reg[reg] == 0) var-in-reg[reg] = v</span>
<span id="L10522" class="LineNr">10522 </span>      81 7/subop/compare *(edi+eax&lt;&lt;2) 0/imm32
<span id="L10523" class="LineNr">10523 </span>      75/jump-if-!= $lookup-var-helper:continue/disp8
<span id="L10524" class="LineNr">10524 </span>      89/&lt;- *(edi+eax&lt;&lt;2) 1/r32/ecx
<span id="L10525" class="LineNr">10525 </span><span class="Constant">$lookup-var-helper:continue</span>:
<span id="L10526" class="LineNr">10526 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L10527" class="LineNr">10527 </span>      81 5/subop/subtract %ebx 0xc/imm32
<span id="L10528" class="LineNr">10528 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L10529" class="LineNr">10529 </span>    }
<span id="L10530" class="LineNr">10530 </span><span class="Constant">$lookup-var-helper:end</span>:
<span id="L10531" class="LineNr">10531 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L10532" class="LineNr">10532 </span>    81 0/subop/add %esp 0x20/imm32
<span id="L10533" class="LineNr">10533 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10534" class="LineNr">10534 </span>    5f/pop-to-edi
<span id="L10535" class="LineNr">10535 </span>    5e/pop-to-esi
<span id="L10536" class="LineNr">10536 </span>    5b/pop-to-ebx
<span id="L10537" class="LineNr">10537 </span>    5a/pop-to-edx
<span id="L10538" class="LineNr">10538 </span>    59/pop-to-ecx
<span id="L10539" class="LineNr">10539 </span>    58/pop-to-eax
<span id="L10540" class="LineNr">10540 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10541" class="LineNr">10541 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10542" class="LineNr">10542 </span>    5d/pop-to-ebp
<span id="L10543" class="LineNr">10543 </span>    c3/return
<span id="L10544" class="LineNr">10544 </span>
<span id="L10545" class="LineNr">10545 </span><span class="Constant">$lookup-var-helper:error1</span>:
<span id="L10546" class="LineNr">10546 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L10547" class="LineNr">10547 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10548" class="LineNr">10548 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L10549" class="LineNr">10549 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10550" class="LineNr">10550 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: malformed stack when looking up '&quot;</span>)
<span id="L10551" class="LineNr">10551 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x18) *(ebp+8))
<span id="L10552" class="LineNr">10552 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L10553" class="LineNr">10553 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10554" class="LineNr">10554 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10555" class="LineNr">10555 </span>    <span class="subxComment"># never gets here</span>
<span id="L10556" class="LineNr">10556 </span>
<span id="L10557" class="LineNr">10557 </span><span class="Constant">$lookup-var-helper:error2</span>:
<span id="L10558" class="LineNr">10558 </span>    <span class="subxComment"># eax contains the conflicting var at this point</span>
<span id="L10559" class="LineNr">10559 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L10560" class="LineNr">10560 </span>    50/push-eax
<span id="L10561" class="LineNr">10561 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10562" class="LineNr">10562 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L10563" class="LineNr">10563 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10564" class="LineNr">10564 </span>    58/pop-eax
<span id="L10565" class="LineNr">10565 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: register &quot;</span>)
<span id="L10566" class="LineNr">10566 </span>    50/push-eax
<span id="L10567" class="LineNr">10567 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L10568" class="LineNr">10568 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10569" class="LineNr">10569 </span>    58/pop-to-eax
<span id="L10570" class="LineNr">10570 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot; reads var '&quot;</span>)
<span id="L10571" class="LineNr">10571 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x18) *(ebp+8))
<span id="L10572" class="LineNr">10572 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;' after writing var '&quot;</span>)
<span id="L10573" class="LineNr">10573 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10574" class="LineNr">10574 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L10575" class="LineNr">10575 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L10576" class="LineNr">10576 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10577" class="LineNr">10577 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10578" class="LineNr">10578 </span>    <span class="subxComment"># never gets here</span>
<span id="L10579" class="LineNr">10579 </span>
<span id="L10580" class="LineNr">10580 </span><span class="subxFunction">dump-vars</span>:  <span class="subxComment"># vars: (addr stack live-var)</span>
<span id="L10581" class="LineNr">10581 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L10582" class="LineNr">10582 </span>    <span class="subxComment">#   var curr: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L10583" class="LineNr">10583 </span>    <span class="subxComment">#   var min = vars-&gt;data</span>
<span id="L10584" class="LineNr">10584 </span>    <span class="subxComment">#   while curr &gt;= min</span>
<span id="L10585" class="LineNr">10585 </span>    <span class="subxComment">#     var v: (handle var) = *curr</span>
<span id="L10586" class="LineNr">10586 </span>    <span class="subxComment">#     print v</span>
<span id="L10587" class="LineNr">10587 </span>    <span class="subxComment">#     curr -= 12</span>
<span id="L10588" class="LineNr">10588 </span>    <span class="subxComment">#</span>
<span id="L10589" class="LineNr">10589 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10590" class="LineNr">10590 </span>    55/push-ebp
<span id="L10591" class="LineNr">10591 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10592" class="LineNr">10592 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10593" class="LineNr">10593 </span>    52/push-edx
<span id="L10594" class="LineNr">10594 </span>    53/push-ebx
<span id="L10595" class="LineNr">10595 </span>    56/push-esi
<span id="L10596" class="LineNr">10596 </span>    <span class="subxComment"># esi = vars</span>
<span id="L10597" class="LineNr">10597 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L10598" class="LineNr">10598 </span>    <span class="subxComment"># ebx = vars-&gt;top</span>
<span id="L10599" class="LineNr">10599 </span>    8b/-&gt; *esi 3/r32/ebx
<span id="L10600" class="LineNr">10600 </span>    <span class="subxComment"># var min/edx: (addr handle var) = vars-&gt;data</span>
<span id="L10601" class="LineNr">10601 </span>    8d/copy-address *(esi+8) 2/r32/edx
<span id="L10602" class="LineNr">10602 </span>    <span class="subxComment"># var curr/ebx: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L10603" class="LineNr">10603 </span>    8d/copy-address *(esi+ebx-4) 3/r32/ebx  <span class="subxComment"># vars + 8 + vars-&gt;type - 12</span>
<span id="L10604" class="LineNr">10604 </span>    {
<span id="L10605" class="LineNr">10605 </span><span class="Constant">$dump-vars:loop</span>:
<span id="L10606" class="LineNr">10606 </span>      <span class="subxComment"># if (curr &lt; min) return</span>
<span id="L10607" class="LineNr">10607 </span>      39/compare %ebx 2/r32/edx
<span id="L10608" class="LineNr">10608 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L10609" class="LineNr">10609 </span>      <span class="subxComment">#</span>
<span id="L10610" class="LineNr">10610 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;  var@&quot;</span>)
<span id="L10611" class="LineNr">10611 </span>      (<a href='mu.subx.html#L12405'>dump-var</a> 2 %ebx)
<span id="L10612" class="LineNr">10612 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L10613" class="LineNr">10613 </span>      81 5/subop/subtract %ebx 0xc/imm32
<span id="L10614" class="LineNr">10614 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L10615" class="LineNr">10615 </span>    }
<span id="L10616" class="LineNr">10616 </span><span class="Constant">$dump-vars:end</span>:
<span id="L10617" class="LineNr">10617 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10618" class="LineNr">10618 </span>    5e/pop-to-esi
<span id="L10619" class="LineNr">10619 </span>    5b/pop-to-ebx
<span id="L10620" class="LineNr">10620 </span>    5a/pop-to-edx
<span id="L10621" class="LineNr">10621 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10622" class="LineNr">10622 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10623" class="LineNr">10623 </span>    5d/pop-to-ebp
<span id="L10624" class="LineNr">10624 </span>    c3/return
<span id="L10625" class="LineNr">10625 </span>
<span id="L10626" class="LineNr">10626 </span>== data
<span id="L10627" class="LineNr">10627 </span><span class="subxComment"># Like Registers, but no esp or ebp</span>
<span id="L10628" class="LineNr">10628 </span><span class="SpecialChar">Mu-registers</span>:  <span class="subxComment"># (addr stream {(handle array byte), int})</span>
<span id="L10629" class="LineNr">10629 </span>  <span class="subxComment"># a table is a stream</span>
<span id="L10630" class="LineNr">10630 </span>  0x48/imm32/write
<span id="L10631" class="LineNr">10631 </span>  0/imm32/read
<span id="L10632" class="LineNr">10632 </span>  0x48/imm32/length
<span id="L10633" class="LineNr">10633 </span>  <span class="subxComment"># data</span>
<span id="L10634" class="LineNr">10634 </span>  <span class="subxComment"># it is perfectly ok to use fake alloc-ids -- as long as you never try to reclaim them</span>
<span id="L10635" class="LineNr">10635 </span>  0x11/imm32/alloc-id $Mu-register-eax/imm32 0/imm32
<span id="L10636" class="LineNr">10636 </span>  0x11/imm32/alloc-id $Mu-register-ecx/imm32 1/imm32
<span id="L10637" class="LineNr">10637 </span>  0x11/imm32/alloc-id $Mu-register-edx/imm32 2/imm32
<span id="L10638" class="LineNr">10638 </span>  0x11/imm32/alloc-id $Mu-register-ebx/imm32 3/imm32
<span id="L10639" class="LineNr">10639 </span>  0x11/imm32/alloc-id $Mu-register-esi/imm32 6/imm32
<span id="L10640" class="LineNr">10640 </span>  0x11/imm32/alloc-id $Mu-register-edi/imm32 7/imm32
<span id="L10641" class="LineNr">10641 </span>
<span id="L10642" class="LineNr">10642 </span><span class="Constant">$Mu-register-eax</span>:
<span id="L10643" class="LineNr">10643 </span>  0x11/imm32/alloc-id
<span id="L10644" class="LineNr">10644 </span>  3/imm32/size
<span id="L10645" class="LineNr">10645 </span>  0x65/e 0x61/a 0x78/x
<span id="L10646" class="LineNr">10646 </span>
<span id="L10647" class="LineNr">10647 </span><span class="Constant">$Mu-register-ecx</span>:
<span id="L10648" class="LineNr">10648 </span>  0x11/imm32/alloc-id
<span id="L10649" class="LineNr">10649 </span>  3/imm32/size
<span id="L10650" class="LineNr">10650 </span>  0x65/e 0x63/c 0x78/x
<span id="L10651" class="LineNr">10651 </span>
<span id="L10652" class="LineNr">10652 </span><span class="Constant">$Mu-register-edx</span>:
<span id="L10653" class="LineNr">10653 </span>  0x11/imm32/alloc-id
<span id="L10654" class="LineNr">10654 </span>  3/imm32/size
<span id="L10655" class="LineNr">10655 </span>  0x65/e 0x64/d 0x78/x
<span id="L10656" class="LineNr">10656 </span>
<span id="L10657" class="LineNr">10657 </span><span class="Constant">$Mu-register-ebx</span>:
<span id="L10658" class="LineNr">10658 </span>  0x11/imm32/alloc-id
<span id="L10659" class="LineNr">10659 </span>  3/imm32/size
<span id="L10660" class="LineNr">10660 </span>  0x65/e 0x62/b 0x78/x
<span id="L10661" class="LineNr">10661 </span>
<span id="L10662" class="LineNr">10662 </span><span class="Constant">$Mu-register-esi</span>:
<span id="L10663" class="LineNr">10663 </span>  0x11/imm32/alloc-id
<span id="L10664" class="LineNr">10664 </span>  3/imm32/size
<span id="L10665" class="LineNr">10665 </span>  0x65/e 0x73/s 0x69/i
<span id="L10666" class="LineNr">10666 </span>
<span id="L10667" class="LineNr">10667 </span><span class="Constant">$Mu-register-edi</span>:
<span id="L10668" class="LineNr">10668 </span>  0x11/imm32/alloc-id
<span id="L10669" class="LineNr">10669 </span>  3/imm32/size
<span id="L10670" class="LineNr">10670 </span>  0x65/e 0x64/d 0x69/i
<span id="L10671" class="LineNr">10671 </span>
<span id="L10672" class="LineNr">10672 </span>== code
<span id="L10673" class="LineNr">10673 </span>
<span id="L10674" class="LineNr">10674 </span><span class="subxComment"># return first 'name' from the top (back) of 'vars' and create a new var for a fn output if not found</span>
<span id="L10675" class="LineNr">10675 </span><span class="subxFunction">lookup-var-or-find-in-fn-outputs</span>:  <span class="subxComment"># name: (addr slice), vars: (addr stack live-var), fn: (addr function), out: (addr handle var), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10676" class="LineNr">10676 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10677" class="LineNr">10677 </span>    55/push-ebp
<span id="L10678" class="LineNr">10678 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10679" class="LineNr">10679 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10680" class="LineNr">10680 </span>    50/push-eax
<span id="L10681" class="LineNr">10681 </span>    <span class="subxComment">#</span>
<span id="L10682" class="LineNr">10682 </span>    (<a href='mu.subx.html#L10428'>lookup-var-helper</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x10) *(ebp+0x18) *(ebp+0x1c))  <span class="subxComment"># arg order slightly different; 'fn' is deemphasized</span>
<span id="L10683" class="LineNr">10683 </span>    {
<span id="L10684" class="LineNr">10684 </span>      <span class="subxComment"># if (out != 0) return</span>
<span id="L10685" class="LineNr">10685 </span>      8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10686" class="LineNr">10686 </span>      81 7/subop/compare *eax 0/imm32
<span id="L10687" class="LineNr">10687 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L10688" class="LineNr">10688 </span>      <span class="subxComment"># if name is one of fn's outputs, return it</span>
<span id="L10689" class="LineNr">10689 </span>      (<a href='mu.subx.html#L10711'>find-in-function-outputs</a> *(ebp+0x10) *(ebp+8) *(ebp+0x14))
<span id="L10690" class="LineNr">10690 </span>      8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L10691" class="LineNr">10691 </span>      81 7/subop/compare *eax 0/imm32
<span id="L10692" class="LineNr">10692 </span>      <span class="subxComment"># otherwise abort</span>
<span id="L10693" class="LineNr">10693 </span>      0f 84/jump-if-= $lookup-or-define-var:abort/disp32
<span id="L10694" class="LineNr">10694 </span>    }
<span id="L10695" class="LineNr">10695 </span><span class="Constant">$lookup-or-define-var:end</span>:
<span id="L10696" class="LineNr">10696 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10697" class="LineNr">10697 </span>    58/pop-to-eax
<span id="L10698" class="LineNr">10698 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10699" class="LineNr">10699 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10700" class="LineNr">10700 </span>    5d/pop-to-ebp
<span id="L10701" class="LineNr">10701 </span>    c3/return
<span id="L10702" class="LineNr">10702 </span>
<span id="L10703" class="LineNr">10703 </span><span class="Constant">$lookup-or-define-var:abort</span>:
<span id="L10704" class="LineNr">10704 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;unknown variable '&quot;</span>)
<span id="L10705" class="LineNr">10705 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x18) *(ebp+8))
<span id="L10706" class="LineNr">10706 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L10707" class="LineNr">10707 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L10708" class="LineNr">10708 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L10709" class="LineNr">10709 </span>    <span class="subxComment"># never gets here</span>
<span id="L10710" class="LineNr">10710 </span>
<span id="L10711" class="LineNr">10711 </span><span class="subxFunction">find-in-function-outputs</span>:  <span class="subxComment"># fn: (addr function), name: (addr slice), out: (addr handle var)</span>
<span id="L10712" class="LineNr">10712 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10713" class="LineNr">10713 </span>    55/push-ebp
<span id="L10714" class="LineNr">10714 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10715" class="LineNr">10715 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10716" class="LineNr">10716 </span>    50/push-eax
<span id="L10717" class="LineNr">10717 </span>    51/push-ecx
<span id="L10718" class="LineNr">10718 </span>    <span class="subxComment"># var curr/ecx: (addr list var) = lookup(fn-&gt;outputs)</span>
<span id="L10719" class="LineNr">10719 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L10720" class="LineNr">10720 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x10) *(ecx+0x14))  <span class="subxComment"># Function-outputs Function-outputs =&gt; eax</span>
<span id="L10721" class="LineNr">10721 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L10722" class="LineNr">10722 </span>    <span class="subxComment"># while curr != null</span>
<span id="L10723" class="LineNr">10723 </span>    {
<span id="L10724" class="LineNr">10724 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L10725" class="LineNr">10725 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10726" class="LineNr">10726 </span>      <span class="subxComment"># var v/eax: (addr var) = lookup(curr-&gt;value)</span>
<span id="L10727" class="LineNr">10727 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L10728" class="LineNr">10728 </span>      <span class="subxComment"># var s/eax: (addr array byte) = lookup(v-&gt;name)</span>
<span id="L10729" class="LineNr">10729 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10730" class="LineNr">10730 </span>      <span class="subxComment"># if (s == name) return curr-&gt;value</span>
<span id="L10731" class="LineNr">10731 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> *(ebp+0xc) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L10732" class="LineNr">10732 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10733" class="LineNr">10733 </span>      {
<span id="L10734" class="LineNr">10734 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L10735" class="LineNr">10735 </span>        <span class="subxComment"># var edi = out</span>
<span id="L10736" class="LineNr">10736 </span>        57/push-edi
<span id="L10737" class="LineNr">10737 </span>        8b/-&gt; *(ebp+0x10) 7/r32/edi
<span id="L10738" class="LineNr">10738 </span>        <span class="subxComment"># *out = curr-&gt;value</span>
<span id="L10739" class="LineNr">10739 </span>        8b/-&gt; *ecx 0/r32/eax
<span id="L10740" class="LineNr">10740 </span>        89/&lt;- *edi 0/r32/eax
<span id="L10741" class="LineNr">10741 </span>        8b/-&gt; *(ecx+4) 0/r32/eax
<span id="L10742" class="LineNr">10742 </span>        89/&lt;- *(edi+4) 0/r32/eax
<span id="L10743" class="LineNr">10743 </span>        <span class="subxComment">#</span>
<span id="L10744" class="LineNr">10744 </span>        5f/pop-to-edi
<span id="L10745" class="LineNr">10745 </span>        eb/jump $find-in-function-outputs:end/disp8
<span id="L10746" class="LineNr">10746 </span>      }
<span id="L10747" class="LineNr">10747 </span>      <span class="subxComment"># curr = curr-&gt;next</span>
<span id="L10748" class="LineNr">10748 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L10749" class="LineNr">10749 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L10750" class="LineNr">10750 </span>      <span class="subxComment">#</span>
<span id="L10751" class="LineNr">10751 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L10752" class="LineNr">10752 </span>    }
<span id="L10753" class="LineNr">10753 </span>    b8/copy-to-eax 0/imm32
<span id="L10754" class="LineNr">10754 </span><span class="Constant">$find-in-function-outputs:end</span>:
<span id="L10755" class="LineNr">10755 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10756" class="LineNr">10756 </span>    59/pop-to-ecx
<span id="L10757" class="LineNr">10757 </span>    58/pop-to-eax
<span id="L10758" class="LineNr">10758 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10759" class="LineNr">10759 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10760" class="LineNr">10760 </span>    5d/pop-to-ebp
<span id="L10761" class="LineNr">10761 </span>    c3/return
<span id="L10762" class="LineNr">10762 </span>
<span id="L10763" class="LineNr">10763 </span><span class="subxComment"># push 'out' to 'vars' if not already there; it's assumed to be a fn output</span>
<span id="L10764" class="LineNr">10764 </span><span class="subxFunction">maybe-define-var</span>:  <span class="subxComment"># out: (handle var), vars: (addr stack live-var)</span>
<span id="L10765" class="LineNr">10765 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10766" class="LineNr">10766 </span>    55/push-ebp
<span id="L10767" class="LineNr">10767 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10768" class="LineNr">10768 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10769" class="LineNr">10769 </span>    50/push-eax
<span id="L10770" class="LineNr">10770 </span>    <span class="subxComment"># var out-addr/eax: (addr var)</span>
<span id="L10771" class="LineNr">10771 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebp+8) *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L10772" class="LineNr">10772 </span>    <span class="subxComment">#</span>
<span id="L10773" class="LineNr">10773 </span>    (<a href='mu.subx.html#L10789'>binding-exists?</a> %eax *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L10774" class="LineNr">10774 </span>    3d/compare-eax-and 0/imm32/false
<span id="L10775" class="LineNr">10775 </span>    75/jump-if-!= $maybe-define-var:end/disp8
<span id="L10776" class="LineNr">10776 </span>    <span class="subxComment"># otherwise update vars</span>
<span id="L10777" class="LineNr">10777 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(ebp+8))
<span id="L10778" class="LineNr">10778 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(ebp+0xc))
<span id="L10779" class="LineNr">10779 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) 0)  <span class="subxComment"># 'out' is always a fn output; never spill it</span>
<span id="L10780" class="LineNr">10780 </span><span class="Constant">$maybe-define-var:end</span>:
<span id="L10781" class="LineNr">10781 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10782" class="LineNr">10782 </span>    58/pop-to-eax
<span id="L10783" class="LineNr">10783 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10784" class="LineNr">10784 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10785" class="LineNr">10785 </span>    5d/pop-to-ebp
<span id="L10786" class="LineNr">10786 </span>    c3/return
<span id="L10787" class="LineNr">10787 </span>
<span id="L10788" class="LineNr">10788 </span><span class="subxComment"># simpler version of lookup-var-helper</span>
<span id="L10789" class="LineNr">10789 </span><span class="subxFunction">binding-exists?</span>:  <span class="subxComment"># target: (addr var), vars: (addr stack live-var) -&gt; result/eax: boolean</span>
<span id="L10790" class="LineNr">10790 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L10791" class="LineNr">10791 </span>    <span class="subxComment">#   var curr: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L10792" class="LineNr">10792 </span>    <span class="subxComment">#   var min = vars-&gt;data</span>
<span id="L10793" class="LineNr">10793 </span>    <span class="subxComment">#   while curr &gt;= min</span>
<span id="L10794" class="LineNr">10794 </span>    <span class="subxComment">#     var v: (handle var) = *curr</span>
<span id="L10795" class="LineNr">10795 </span>    <span class="subxComment">#     if v-&gt;name == target-&gt;name</span>
<span id="L10796" class="LineNr">10796 </span>    <span class="subxComment">#       return true</span>
<span id="L10797" class="LineNr">10797 </span>    <span class="subxComment">#     curr -= 12</span>
<span id="L10798" class="LineNr">10798 </span>    <span class="subxComment">#   return false</span>
<span id="L10799" class="LineNr">10799 </span>    <span class="subxComment">#</span>
<span id="L10800" class="LineNr">10800 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10801" class="LineNr">10801 </span>    55/push-ebp
<span id="L10802" class="LineNr">10802 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10803" class="LineNr">10803 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10804" class="LineNr">10804 </span>    51/push-ecx
<span id="L10805" class="LineNr">10805 </span>    52/push-edx
<span id="L10806" class="LineNr">10806 </span>    56/push-esi
<span id="L10807" class="LineNr">10807 </span>    <span class="subxComment"># var target-name/ecx: (addr array byte) = lookup(target-&gt;name)</span>
<span id="L10808" class="LineNr">10808 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L10809" class="LineNr">10809 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10810" class="LineNr">10810 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L10811" class="LineNr">10811 </span>    <span class="subxComment"># esi = vars</span>
<span id="L10812" class="LineNr">10812 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L10813" class="LineNr">10813 </span>    <span class="subxComment"># eax = vars-&gt;top</span>
<span id="L10814" class="LineNr">10814 </span>    8b/-&gt; *esi 0/r32/eax
<span id="L10815" class="LineNr">10815 </span>    <span class="subxComment"># var min/edx: (addr handle var) = vars-&gt;data</span>
<span id="L10816" class="LineNr">10816 </span>    8d/copy-address *(esi+8) 2/r32/edx
<span id="L10817" class="LineNr">10817 </span>    <span class="subxComment"># var curr/esi: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L10818" class="LineNr">10818 </span>    8d/copy-address *(esi+eax-4) 6/r32/esi  <span class="subxComment"># vars + 8 + vars-&gt;type - 12</span>
<span id="L10819" class="LineNr">10819 </span>    {
<span id="L10820" class="LineNr">10820 </span><span class="Constant">$binding-exists?:loop</span>:
<span id="L10821" class="LineNr">10821 </span>      <span class="subxComment"># if (curr &lt; min) return</span>
<span id="L10822" class="LineNr">10822 </span>      39/compare %esi 2/r32/edx
<span id="L10823" class="LineNr">10823 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L10824" class="LineNr">10824 </span>      <span class="subxComment"># var v/eax: (addr var) = lookup(*curr)</span>
<span id="L10825" class="LineNr">10825 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10826" class="LineNr">10826 </span>      <span class="subxComment"># var vn/eax: (addr array byte) = lookup(v-&gt;name)</span>
<span id="L10827" class="LineNr">10827 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10828" class="LineNr">10828 </span>      <span class="subxComment"># if (vn == target-name) return true</span>
<span id="L10829" class="LineNr">10829 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L10830" class="LineNr">10830 </span>      3d/compare-eax-and 0/imm32/false
<span id="L10831" class="LineNr">10831 </span>      75/jump-if-!= $binding-exists?:end/disp8  <span class="subxComment"># eax already contains true</span>
<span id="L10832" class="LineNr">10832 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L10833" class="LineNr">10833 </span>      81 5/subop/subtract %esi 0xc/imm32
<span id="L10834" class="LineNr">10834 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L10835" class="LineNr">10835 </span>    }
<span id="L10836" class="LineNr">10836 </span>    b8/copy-to-eax 0/imm32/false
<span id="L10837" class="LineNr">10837 </span><span class="Constant">$binding-exists?:end</span>:
<span id="L10838" class="LineNr">10838 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10839" class="LineNr">10839 </span>    5e/pop-to-esi
<span id="L10840" class="LineNr">10840 </span>    5a/pop-to-edx
<span id="L10841" class="LineNr">10841 </span>    59/pop-to-ecx
<span id="L10842" class="LineNr">10842 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10843" class="LineNr">10843 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10844" class="LineNr">10844 </span>    5d/pop-to-ebp
<span id="L10845" class="LineNr">10845 </span>    c3/return
<span id="L10846" class="LineNr">10846 </span>
<span id="L10847" class="LineNr">10847 </span><span class="subxTest">test-parse-mu-stmt</span>:
<span id="L10848" class="LineNr">10848 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10849" class="LineNr">10849 </span>    55/push-ebp
<span id="L10850" class="LineNr">10850 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10851" class="LineNr">10851 </span>    <span class="subxComment"># setup</span>
<span id="L10852" class="LineNr">10852 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L10853" class="LineNr">10853 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;increment n\n&quot;</span>)
<span id="L10854" class="LineNr">10854 </span>    <span class="subxComment"># var vars/ecx: (stack (addr var) 16)</span>
<span id="L10855" class="LineNr">10855 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L10856" class="LineNr">10856 </span>    68/push 0xc0/imm32/size
<span id="L10857" class="LineNr">10857 </span>    68/push 0/imm32/top
<span id="L10858" class="LineNr">10858 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L10859" class="LineNr">10859 </span>    (<a href='../203stack.subx.html#L13'>clear-stack</a> %ecx)
<span id="L10860" class="LineNr">10860 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L10861" class="LineNr">10861 </span>    68/push 0/imm32
<span id="L10862" class="LineNr">10862 </span>    68/push 0/imm32
<span id="L10863" class="LineNr">10863 </span>    89/&lt;- %edx 4/r32/esp
<span id="L10864" class="LineNr">10864 </span>    <span class="subxComment"># var s/eax: (handle array byte)</span>
<span id="L10865" class="LineNr">10865 </span>    68/push 0/imm32
<span id="L10866" class="LineNr">10866 </span>    68/push 0/imm32
<span id="L10867" class="LineNr">10867 </span>    89/&lt;- %eax 4/r32/esp
<span id="L10868" class="LineNr">10868 </span>    <span class="subxComment"># v = new var(&quot;n&quot;)</span>
<span id="L10869" class="LineNr">10869 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;n&quot;</span> %eax)
<span id="L10870" class="LineNr">10870 </span>    (<a href='mu.subx.html#L10959'>new-var</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *eax *(eax+4) %edx)
<span id="L10871" class="LineNr">10871 </span>    <span class="subxComment">#</span>
<span id="L10872" class="LineNr">10872 </span>    (<a href='../203stack.subx.html#L114'>push</a> %ecx *edx)
<span id="L10873" class="LineNr">10873 </span>    (<a href='../203stack.subx.html#L114'>push</a> %ecx *(edx+4))
<span id="L10874" class="LineNr">10874 </span>    (<a href='../203stack.subx.html#L114'>push</a> %ecx 0)
<span id="L10875" class="LineNr">10875 </span>    <span class="subxComment"># var out/eax: (handle stmt)</span>
<span id="L10876" class="LineNr">10876 </span>    68/push 0/imm32
<span id="L10877" class="LineNr">10877 </span>    68/push 0/imm32
<span id="L10878" class="LineNr">10878 </span>    89/&lt;- %eax 4/r32/esp
<span id="L10879" class="LineNr">10879 </span>    <span class="subxComment"># convert</span>
<span id="L10880" class="LineNr">10880 </span>    (<a href='mu.subx.html#L10032'>parse-mu-stmt</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx 0 %eax <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L10881" class="LineNr">10881 </span>    <span class="subxComment"># var out-addr/edx: (addr stmt) = lookup(*out)</span>
<span id="L10882" class="LineNr">10882 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10883" class="LineNr">10883 </span>    89/&lt;- %edx 0/r32/eax
<span id="L10884" class="LineNr">10884 </span>    <span class="subxComment"># out-&gt;tag</span>
<span id="L10885" class="LineNr">10885 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *edx 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L10847'>test-parse-mu-stmt</a>/tag&quot;</span>)  <span class="subxComment"># Stmt-tag is Stmt1</span>
<span id="L10886" class="LineNr">10886 </span>    <span class="subxComment"># out-&gt;operation</span>
<span id="L10887" class="LineNr">10887 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L10888" class="LineNr">10888 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;increment&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L10847'>test-parse-mu-stmt</a>/name&quot;</span>)  <span class="subxComment"># Stmt1-operation</span>
<span id="L10889" class="LineNr">10889 </span>    <span class="subxComment"># out-&gt;inouts-&gt;value-&gt;name</span>
<span id="L10890" class="LineNr">10890 </span>    <span class="subxS1Comment"># . eax = out-&gt;inouts</span>
<span id="L10891" class="LineNr">10891 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0xc) *(edx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L10892" class="LineNr">10892 </span>    <span class="subxS1Comment"># . eax = out-&gt;inouts-&gt;value</span>
<span id="L10893" class="LineNr">10893 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L10894" class="LineNr">10894 </span>    <span class="subxS1Comment"># . eax = out-&gt;inouts-&gt;value-&gt;name</span>
<span id="L10895" class="LineNr">10895 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10896" class="LineNr">10896 </span>    <span class="subxS1Comment"># .</span>
<span id="L10897" class="LineNr">10897 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;n&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L10847'>test-parse-mu-stmt</a>/inout:0&quot;</span>)
<span id="L10898" class="LineNr">10898 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10899" class="LineNr">10899 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10900" class="LineNr">10900 </span>    5d/pop-to-ebp
<span id="L10901" class="LineNr">10901 </span>    c3/return
<span id="L10902" class="LineNr">10902 </span>
<span id="L10903" class="LineNr">10903 </span><span class="subxTest">test-parse-mu-stmt-with-comma</span>:
<span id="L10904" class="LineNr">10904 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10905" class="LineNr">10905 </span>    55/push-ebp
<span id="L10906" class="LineNr">10906 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10907" class="LineNr">10907 </span>    <span class="subxComment"># setup</span>
<span id="L10908" class="LineNr">10908 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a>)
<span id="L10909" class="LineNr">10909 </span>    (<a href='../108write.subx.html#L24'>write</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> <span class="Constant">&quot;copy-to n, 3\n&quot;</span>)
<span id="L10910" class="LineNr">10910 </span>    <span class="subxComment"># var vars/ecx: (stack (addr var) 16)</span>
<span id="L10911" class="LineNr">10911 </span>    81 5/subop/subtract %esp 0xc0/imm32
<span id="L10912" class="LineNr">10912 </span>    68/push 0xc0/imm32/size
<span id="L10913" class="LineNr">10913 </span>    68/push 0/imm32/top
<span id="L10914" class="LineNr">10914 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L10915" class="LineNr">10915 </span>    (<a href='../203stack.subx.html#L13'>clear-stack</a> %ecx)
<span id="L10916" class="LineNr">10916 </span>    <span class="subxComment"># var v/edx: (handle var)</span>
<span id="L10917" class="LineNr">10917 </span>    68/push 0/imm32
<span id="L10918" class="LineNr">10918 </span>    68/push 0/imm32
<span id="L10919" class="LineNr">10919 </span>    89/&lt;- %edx 4/r32/esp
<span id="L10920" class="LineNr">10920 </span>    <span class="subxComment"># var s/eax: (handle array byte)</span>
<span id="L10921" class="LineNr">10921 </span>    68/push 0/imm32
<span id="L10922" class="LineNr">10922 </span>    68/push 0/imm32
<span id="L10923" class="LineNr">10923 </span>    89/&lt;- %eax 4/r32/esp
<span id="L10924" class="LineNr">10924 </span>    <span class="subxComment"># v = new var(&quot;n&quot;)</span>
<span id="L10925" class="LineNr">10925 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;n&quot;</span> %eax)
<span id="L10926" class="LineNr">10926 </span>    (<a href='mu.subx.html#L10959'>new-var</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *eax *(eax+4) %edx)
<span id="L10927" class="LineNr">10927 </span>    <span class="subxComment">#</span>
<span id="L10928" class="LineNr">10928 </span>    (<a href='../203stack.subx.html#L114'>push</a> %ecx *edx)
<span id="L10929" class="LineNr">10929 </span>    (<a href='../203stack.subx.html#L114'>push</a> %ecx *(edx+4))
<span id="L10930" class="LineNr">10930 </span>    (<a href='../203stack.subx.html#L114'>push</a> %ecx 0)
<span id="L10931" class="LineNr">10931 </span>    <span class="subxComment"># var out/eax: (handle stmt)</span>
<span id="L10932" class="LineNr">10932 </span>    68/push 0/imm32
<span id="L10933" class="LineNr">10933 </span>    68/push 0/imm32
<span id="L10934" class="LineNr">10934 </span>    89/&lt;- %eax 4/r32/esp
<span id="L10935" class="LineNr">10935 </span>    <span class="subxComment"># convert</span>
<span id="L10936" class="LineNr">10936 </span>    (<a href='mu.subx.html#L10032'>parse-mu-stmt</a> <a href='../112read-byte.subx.html#L331'>_test-input-stream</a> %ecx 0 %eax <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L10937" class="LineNr">10937 </span>    <span class="subxComment"># var out-addr/edx: (addr stmt) = lookup(*out)</span>
<span id="L10938" class="LineNr">10938 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10939" class="LineNr">10939 </span>    89/&lt;- %edx 0/r32/eax
<span id="L10940" class="LineNr">10940 </span>    <span class="subxComment"># out-&gt;tag</span>
<span id="L10941" class="LineNr">10941 </span>    (<a href='../102test.subx.html#L23'>check-ints-equal</a> *edx 1 <span class="Constant">&quot;F - <a href='mu.subx.html#L10903'>test-parse-mu-stmt-with-comma</a>/tag&quot;</span>)  <span class="subxComment"># Stmt-tag is Stmt1</span>
<span id="L10942" class="LineNr">10942 </span>    <span class="subxComment"># out-&gt;operation</span>
<span id="L10943" class="LineNr">10943 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L10944" class="LineNr">10944 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;copy-to&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L10903'>test-parse-mu-stmt-with-comma</a>/name&quot;</span>)  <span class="subxComment"># Stmt1-operation</span>
<span id="L10945" class="LineNr">10945 </span>    <span class="subxComment"># out-&gt;inouts-&gt;value-&gt;name</span>
<span id="L10946" class="LineNr">10946 </span>    <span class="subxS1Comment"># . eax = out-&gt;inouts</span>
<span id="L10947" class="LineNr">10947 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0xc) *(edx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L10948" class="LineNr">10948 </span>    <span class="subxS1Comment"># . eax = out-&gt;inouts-&gt;value</span>
<span id="L10949" class="LineNr">10949 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L10950" class="LineNr">10950 </span>    <span class="subxS1Comment"># . eax = out-&gt;inouts-&gt;value-&gt;name</span>
<span id="L10951" class="LineNr">10951 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L10952" class="LineNr">10952 </span>    <span class="subxS1Comment"># .</span>
<span id="L10953" class="LineNr">10953 </span>    (<a href='../105string-equal.subx.html#L220'>check-strings-equal</a> %eax <span class="Constant">&quot;n&quot;</span> <span class="Constant">&quot;F - <a href='mu.subx.html#L10903'>test-parse-mu-stmt-with-comma</a>/inout:0&quot;</span>)
<span id="L10954" class="LineNr">10954 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10955" class="LineNr">10955 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10956" class="LineNr">10956 </span>    5d/pop-to-ebp
<span id="L10957" class="LineNr">10957 </span>    c3/return
<span id="L10958" class="LineNr">10958 </span>
<span id="L10959" class="LineNr">10959 </span><span class="subxFunction">new-var</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), name: (handle array byte), out: (addr handle var)</span>
<span id="L10960" class="LineNr">10960 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10961" class="LineNr">10961 </span>    55/push-ebp
<span id="L10962" class="LineNr">10962 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10963" class="LineNr">10963 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L10964" class="LineNr">10964 </span>    50/push-eax
<span id="L10965" class="LineNr">10965 </span>    51/push-ecx
<span id="L10966" class="LineNr">10966 </span>    <span class="subxComment"># ecx = out</span>
<span id="L10967" class="LineNr">10967 </span>    8b/-&gt; *(ebp+0x14) 1/r32/ecx
<span id="L10968" class="LineNr">10968 </span>    <span class="subxComment">#</span>
<span id="L10969" class="LineNr">10969 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L339'>Var-size</a></span> %ecx)
<span id="L10970" class="LineNr">10970 </span>    <span class="subxComment"># var out-addr/eax: (addr var)</span>
<span id="L10971" class="LineNr">10971 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L10972" class="LineNr">10972 </span>    <span class="subxComment"># out-addr-&gt;name = name</span>
<span id="L10973" class="LineNr">10973 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L10974" class="LineNr">10974 </span>    89/&lt;- *eax 1/r32/ecx  <span class="subxComment"># Var-name</span>
<span id="L10975" class="LineNr">10975 </span>    8b/-&gt; *(ebp+0x10) 1/r32/ecx
<span id="L10976" class="LineNr">10976 </span>    89/&lt;- *(eax+4) 1/r32/ecx  <span class="subxComment"># Var-name</span>
<span id="L10977" class="LineNr">10977 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;var &quot;)</span>
<span id="L10978" class="LineNr">10978 </span><span class="CommentedCode">#?     (lookup *(ebp+0xc) *(ebp+0x10))</span>
<span id="L10979" class="LineNr">10979 </span><span class="CommentedCode">#?     (write-buffered Stderr %eax)</span>
<span id="L10980" class="LineNr">10980 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot; at &quot;)</span>
<span id="L10981" class="LineNr">10981 </span><span class="CommentedCode">#?     8b/-&gt; *(ebp+0x14) 1/r32/ecx</span>
<span id="L10982" class="LineNr">10982 </span><span class="CommentedCode">#?     (lookup *ecx *(ecx+4))  # =&gt; eax</span>
<span id="L10983" class="LineNr">10983 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L10984" class="LineNr">10984 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L10985" class="LineNr">10985 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L10986" class="LineNr">10986 </span><span class="Constant">$new-var:end</span>:
<span id="L10987" class="LineNr">10987 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L10988" class="LineNr">10988 </span>    59/pop-to-ecx
<span id="L10989" class="LineNr">10989 </span>    58/pop-to-eax
<span id="L10990" class="LineNr">10990 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L10991" class="LineNr">10991 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L10992" class="LineNr">10992 </span>    5d/pop-to-ebp
<span id="L10993" class="LineNr">10993 </span>    c3/return
<span id="L10994" class="LineNr">10994 </span>
<span id="L10995" class="LineNr">10995 </span><span class="subxFunction">new-literal-integer</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), name: (addr slice), out: (addr handle var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L10996" class="LineNr">10996 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L10997" class="LineNr">10997 </span>    55/push-ebp
<span id="L10998" class="LineNr">10998 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L10999" class="LineNr">10999 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11000" class="LineNr">11000 </span>    50/push-eax
<span id="L11001" class="LineNr">11001 </span>    51/push-ecx
<span id="L11002" class="LineNr">11002 </span>    <span class="subxComment"># if (!is-hex-int?(name)) abort</span>
<span id="L11003" class="LineNr">11003 </span>    (<a href='../118parse-hex.subx.html#L9'>is-hex-int?</a> *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L11004" class="LineNr">11004 </span>    3d/compare-eax-and 0/imm32/false
<span id="L11005" class="LineNr">11005 </span>    0f 84/jump-if-= $new-literal-integer:abort/disp32
<span id="L11006" class="LineNr">11006 </span>    <span class="subxComment"># a little more error-checking</span>
<span id="L11007" class="LineNr">11007 </span>    (<a href='mu.subx.html#L11047'>check-mu-hex-int</a> *(ebp+0xc) *(ebp+0x18) *(ebp+0x1c))
<span id="L11008" class="LineNr">11008 </span>    <span class="subxComment"># out = new var(s)</span>
<span id="L11009" class="LineNr">11009 </span>    (<a href='mu.subx.html#L11144'>new-var-from-slice</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10))
<span id="L11010" class="LineNr">11010 </span>    <span class="subxComment"># var out-addr/ecx: (addr var) = lookup(*out)</span>
<span id="L11011" class="LineNr">11011 </span>    8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L11012" class="LineNr">11012 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11013" class="LineNr">11013 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L11014" class="LineNr">11014 </span>    <span class="subxComment"># out-addr-&gt;block-depth = *Curr-block-depth</span>
<span id="L11015" class="LineNr">11015 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/r32/eax
<span id="L11016" class="LineNr">11016 </span>    89/&lt;- *(ecx+0x10) 0/r32/eax  <span class="subxComment"># Var-block-depth</span>
<span id="L11017" class="LineNr">11017 </span>    <span class="subxComment"># out-addr-&gt;type = new tree()</span>
<span id="L11018" class="LineNr">11018 </span>    8d/copy-address *(ecx+8) 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L11019" class="LineNr">11019 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L385'>Type-tree-size</a></span> %eax)
<span id="L11020" class="LineNr">11020 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11021" class="LineNr">11021 </span>    c7 0/subop/copy *eax 1/imm32/true  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L11022" class="LineNr">11022 </span>    <span class="subxComment"># nothing else to do; default type is 'literal'</span>
<span id="L11023" class="LineNr">11023 </span><span class="Constant">$new-literal-integer:end</span>:
<span id="L11024" class="LineNr">11024 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11025" class="LineNr">11025 </span>    81 0/subop/add %esp 8/imm32
<span id="L11026" class="LineNr">11026 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11027" class="LineNr">11027 </span>    59/pop-to-ecx
<span id="L11028" class="LineNr">11028 </span>    58/pop-to-eax
<span id="L11029" class="LineNr">11029 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11030" class="LineNr">11030 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11031" class="LineNr">11031 </span>    5d/pop-to-ebp
<span id="L11032" class="LineNr">11032 </span>    c3/return
<span id="L11033" class="LineNr">11033 </span>
<span id="L11034" class="LineNr">11034 </span><span class="Constant">$new-literal-integer:abort</span>:
<span id="L11035" class="LineNr">11035 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;fn &quot;</span>)
<span id="L11036" class="LineNr">11036 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L11037" class="LineNr">11037 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L11038" class="LineNr">11038 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) %eax)
<span id="L11039" class="LineNr">11039 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;: variable '&quot;</span>)
<span id="L11040" class="LineNr">11040 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0x18) *(ebp+0xc))
<span id="L11041" class="LineNr">11041 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x18) <span class="Constant">&quot;' cannot begin with a digit (or do you have a typo in a number?)\n&quot;</span>)
<span id="L11042" class="LineNr">11042 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x18))
<span id="L11043" class="LineNr">11043 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x1c) 1)
<span id="L11044" class="LineNr">11044 </span>    <span class="subxComment"># never gets here</span>
<span id="L11045" class="LineNr">11045 </span>
<span id="L11046" class="LineNr">11046 </span><span class="subxComment"># precondition: name is a valid hex integer; require a '0x' prefix</span>
<span id="L11047" class="LineNr">11047 </span><span class="subxFunction">check-mu-hex-int</span>:  <span class="subxComment"># name: (addr slice), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L11048" class="LineNr">11048 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11049" class="LineNr">11049 </span>    55/push-ebp
<span id="L11050" class="LineNr">11050 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11051" class="LineNr">11051 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11052" class="LineNr">11052 </span>    50/push-eax
<span id="L11053" class="LineNr">11053 </span>    51/push-ecx
<span id="L11054" class="LineNr">11054 </span>    52/push-edx
<span id="L11055" class="LineNr">11055 </span>    <span class="subxComment"># ecx = name</span>
<span id="L11056" class="LineNr">11056 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L11057" class="LineNr">11057 </span>    <span class="subxComment"># var start/edx: (addr byte) = name-&gt;start</span>
<span id="L11058" class="LineNr">11058 </span>    8b/-&gt; *ecx 2/r32/edx
<span id="L11059" class="LineNr">11059 </span>    <span class="subxComment"># if (*start == '-') ++start</span>
<span id="L11060" class="LineNr">11060 </span>    b8/copy-to-eax 0/imm32
<span id="L11061" class="LineNr">11061 </span>    8a/copy-byte *edx 0/r32/AL
<span id="L11062" class="LineNr">11062 </span>    3d/compare-eax-and 0x2d/imm32/dash
<span id="L11063" class="LineNr">11063 </span>    {
<span id="L11064" class="LineNr">11064 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L11065" class="LineNr">11065 </span>      42/increment-edx
<span id="L11066" class="LineNr">11066 </span>    }
<span id="L11067" class="LineNr">11067 </span>    <span class="subxComment"># var end/ecx: (addr byte) = name-&gt;end</span>
<span id="L11068" class="LineNr">11068 </span>    8b/-&gt; *(ecx+4) 1/r32/ecx
<span id="L11069" class="LineNr">11069 </span>    <span class="subxComment"># var len/eax: int = name-&gt;end - name-&gt;start</span>
<span id="L11070" class="LineNr">11070 </span>    89/&lt;- %eax 1/r32/ecx
<span id="L11071" class="LineNr">11071 </span>    29/subtract-from %eax 2/r32/edx
<span id="L11072" class="LineNr">11072 </span>    <span class="subxComment"># if (len &lt;= 1) return</span>
<span id="L11073" class="LineNr">11073 </span>    3d/compare-eax-with 1/imm32
<span id="L11074" class="LineNr">11074 </span>    0f 8e/jump-if-&lt;= $check-mu-hex-int:end/disp32
<span id="L11075" class="LineNr">11075 </span><span class="Constant">$check-mu-hex-int:length-&gt;-1</span>:
<span id="L11076" class="LineNr">11076 </span>    <span class="subxComment"># if slice-starts-with?({start, end}, &quot;0x&quot;) return</span>
<span id="L11077" class="LineNr">11077 </span>    <span class="subxS1Comment"># . var tmp = {start, end}</span>
<span id="L11078" class="LineNr">11078 </span>    51/push-ecx
<span id="L11079" class="LineNr">11079 </span>    52/push-edx
<span id="L11080" class="LineNr">11080 </span>    89/&lt;- %eax 4/r32/esp
<span id="L11081" class="LineNr">11081 </span>    <span class="subxS1Comment"># .</span>
<span id="L11082" class="LineNr">11082 </span>    (<a href='../123slice.subx.html#L487'>slice-starts-with?</a> %eax <span class="Constant">&quot;0x&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L11083" class="LineNr">11083 </span>    <span class="subxS1Comment"># . reclaim tmp</span>
<span id="L11084" class="LineNr">11084 </span>    81 0/subop/add %esp 8/imm32
<span id="L11085" class="LineNr">11085 </span>    <span class="subxS1Comment"># .</span>
<span id="L11086" class="LineNr">11086 </span>    3d/compare-eax-with 0/imm32/false
<span id="L11087" class="LineNr">11087 </span>    75/jump-if-!= $check-mu-hex-int:end/disp8
<span id="L11088" class="LineNr">11088 </span><span class="Constant">$check-mu-hex-int:abort</span>:
<span id="L11089" class="LineNr">11089 </span>    <span class="subxComment"># otherwise abort</span>
<span id="L11090" class="LineNr">11090 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;literal integers are always hex in Mu; either start '&quot;</span>)
<span id="L11091" class="LineNr">11091 </span>    (<a href='../123slice.subx.html#L908'>write-slice-buffered</a> *(ebp+0xc) *(ebp+8))
<span id="L11092" class="LineNr">11092 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;' with a '0x' to be unambiguous, or convert it to decimal.\n&quot;</span>)
<span id="L11093" class="LineNr">11093 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L11094" class="LineNr">11094 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L11095" class="LineNr">11095 </span><span class="Constant">$check-mu-hex-int:end</span>:
<span id="L11096" class="LineNr">11096 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11097" class="LineNr">11097 </span>    5a/pop-to-edx
<span id="L11098" class="LineNr">11098 </span>    59/pop-to-ecx
<span id="L11099" class="LineNr">11099 </span>    58/pop-to-eax
<span id="L11100" class="LineNr">11100 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11101" class="LineNr">11101 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11102" class="LineNr">11102 </span>    5d/pop-to-ebp
<span id="L11103" class="LineNr">11103 </span>    c3/return
<span id="L11104" class="LineNr">11104 </span>
<span id="L11105" class="LineNr">11105 </span><span class="subxFunction">new-literal</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), name: (addr slice), out: (addr handle var)</span>
<span id="L11106" class="LineNr">11106 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11107" class="LineNr">11107 </span>    55/push-ebp
<span id="L11108" class="LineNr">11108 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11109" class="LineNr">11109 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11110" class="LineNr">11110 </span>    50/push-eax
<span id="L11111" class="LineNr">11111 </span>    51/push-ecx
<span id="L11112" class="LineNr">11112 </span>    <span class="subxComment"># var s/ecx: (handle array byte)</span>
<span id="L11113" class="LineNr">11113 </span>    68/push 0/imm32
<span id="L11114" class="LineNr">11114 </span>    68/push 0/imm32
<span id="L11115" class="LineNr">11115 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L11116" class="LineNr">11116 </span>    <span class="subxComment"># s = slice-to-string(name)</span>
<span id="L11117" class="LineNr">11117 </span>    (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *(ebp+0xc) %ecx)
<span id="L11118" class="LineNr">11118 </span>    <span class="subxComment"># allocate to out</span>
<span id="L11119" class="LineNr">11119 </span>    (<a href='mu.subx.html#L10959'>new-var</a> *(ebp+8) *ecx *(ecx+4) *(ebp+0x10))
<span id="L11120" class="LineNr">11120 </span>    <span class="subxComment"># var out-addr/ecx: (addr var) = lookup(*out)</span>
<span id="L11121" class="LineNr">11121 </span>    8b/-&gt; *(ebp+0x10) 1/r32/ecx
<span id="L11122" class="LineNr">11122 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11123" class="LineNr">11123 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L11124" class="LineNr">11124 </span>    <span class="subxComment"># out-addr-&gt;block-depth = *Curr-block-depth</span>
<span id="L11125" class="LineNr">11125 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/r32/eax
<span id="L11126" class="LineNr">11126 </span>    89/&lt;- *(ecx+0x10) 0/r32/eax  <span class="subxComment"># Var-block-depth</span>
<span id="L11127" class="LineNr">11127 </span>    <span class="subxComment"># out-addr-&gt;type/eax = new type</span>
<span id="L11128" class="LineNr">11128 </span>    8d/copy-address *(ecx+8) 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L11129" class="LineNr">11129 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L385'>Type-tree-size</a></span> %eax)
<span id="L11130" class="LineNr">11130 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11131" class="LineNr">11131 </span>    <span class="subxComment"># nothing else to do; default type is 'literal'</span>
<span id="L11132" class="LineNr">11132 </span>    c7 0/subop/copy *eax 1/imm32/true  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L11133" class="LineNr">11133 </span><span class="Constant">$new-literal:end</span>:
<span id="L11134" class="LineNr">11134 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11135" class="LineNr">11135 </span>    81 0/subop/add %esp 8/imm32
<span id="L11136" class="LineNr">11136 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11137" class="LineNr">11137 </span>    59/pop-to-ecx
<span id="L11138" class="LineNr">11138 </span>    58/pop-to-eax
<span id="L11139" class="LineNr">11139 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11140" class="LineNr">11140 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11141" class="LineNr">11141 </span>    5d/pop-to-ebp
<span id="L11142" class="LineNr">11142 </span>    c3/return
<span id="L11143" class="LineNr">11143 </span>
<span id="L11144" class="LineNr">11144 </span><span class="subxFunction">new-var-from-slice</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), name: (addr slice), out: (addr handle var)</span>
<span id="L11145" class="LineNr">11145 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11146" class="LineNr">11146 </span>    55/push-ebp
<span id="L11147" class="LineNr">11147 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11148" class="LineNr">11148 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11149" class="LineNr">11149 </span>    51/push-ecx
<span id="L11150" class="LineNr">11150 </span>    <span class="subxComment"># var tmp/ecx: (handle array byte)</span>
<span id="L11151" class="LineNr">11151 </span>    68/push 0/imm32
<span id="L11152" class="LineNr">11152 </span>    68/push 0/imm32
<span id="L11153" class="LineNr">11153 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L11154" class="LineNr">11154 </span>    <span class="subxComment"># tmp = slice-to-string(name)</span>
<span id="L11155" class="LineNr">11155 </span>    (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *(ebp+0xc) %ecx)
<span id="L11156" class="LineNr">11156 </span>    <span class="subxComment"># out = new-var(tmp)</span>
<span id="L11157" class="LineNr">11157 </span>    (<a href='mu.subx.html#L10959'>new-var</a> *(ebp+8) *ecx *(ecx+4) *(ebp+0x10))
<span id="L11158" class="LineNr">11158 </span><span class="Constant">$new-var-from-slice:end</span>:
<span id="L11159" class="LineNr">11159 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11160" class="LineNr">11160 </span>    81 0/subop/add %esp 8/imm32
<span id="L11161" class="LineNr">11161 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11162" class="LineNr">11162 </span>    59/pop-to-ecx
<span id="L11163" class="LineNr">11163 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11164" class="LineNr">11164 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11165" class="LineNr">11165 </span>    5d/pop-to-ebp
<span id="L11166" class="LineNr">11166 </span>    c3/return
<span id="L11167" class="LineNr">11167 </span>
<span id="L11168" class="LineNr">11168 </span><span class="subxFunction">new-var-def</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), var: (handle var), out: (addr handle stmt)</span>
<span id="L11169" class="LineNr">11169 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11170" class="LineNr">11170 </span>    55/push-ebp
<span id="L11171" class="LineNr">11171 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11172" class="LineNr">11172 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11173" class="LineNr">11173 </span>    50/push-eax
<span id="L11174" class="LineNr">11174 </span>    51/push-ecx
<span id="L11175" class="LineNr">11175 </span>    <span class="subxComment">#</span>
<span id="L11176" class="LineNr">11176 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L326'>Stmt-size</a></span> *(ebp+0x14))
<span id="L11177" class="LineNr">11177 </span>    <span class="subxComment"># var out-addr/eax: (addr stmt) = lookup(*out)</span>
<span id="L11178" class="LineNr">11178 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L11179" class="LineNr">11179 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11180" class="LineNr">11180 </span>    <span class="subxComment"># out-addr-&gt;tag = stmt</span>
<span id="L11181" class="LineNr">11181 </span>    c7 0/subop/copy *eax 2/imm32/tag/var-on-stack  <span class="subxComment"># Stmt-tag</span>
<span id="L11182" class="LineNr">11182 </span>    <span class="subxComment"># result-&gt;var = var</span>
<span id="L11183" class="LineNr">11183 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L11184" class="LineNr">11184 </span>    89/&lt;- *(eax+4) 1/r32/ecx  <span class="subxComment"># Vardef-var</span>
<span id="L11185" class="LineNr">11185 </span>    8b/-&gt; *(ebp+0x10) 1/r32/ecx
<span id="L11186" class="LineNr">11186 </span>    89/&lt;- *(eax+8) 1/r32/ecx  <span class="subxComment"># Vardef-var</span>
<span id="L11187" class="LineNr">11187 </span><span class="Constant">$new-var-def:end</span>:
<span id="L11188" class="LineNr">11188 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11189" class="LineNr">11189 </span>    59/pop-to-ecx
<span id="L11190" class="LineNr">11190 </span>    58/pop-to-eax
<span id="L11191" class="LineNr">11191 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11192" class="LineNr">11192 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11193" class="LineNr">11193 </span>    5d/pop-to-ebp
<span id="L11194" class="LineNr">11194 </span>    c3/return
<span id="L11195" class="LineNr">11195 </span>
<span id="L11196" class="LineNr">11196 </span><span class="subxFunction">new-reg-var-def</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), var: (handle var), out: (addr handle stmt)</span>
<span id="L11197" class="LineNr">11197 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11198" class="LineNr">11198 </span>    55/push-ebp
<span id="L11199" class="LineNr">11199 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11200" class="LineNr">11200 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11201" class="LineNr">11201 </span>    50/push-eax
<span id="L11202" class="LineNr">11202 </span>    <span class="subxComment"># eax = out</span>
<span id="L11203" class="LineNr">11203 </span>    8b/-&gt; *(ebp+0x14) 0/r32/eax
<span id="L11204" class="LineNr">11204 </span>    <span class="subxComment">#</span>
<span id="L11205" class="LineNr">11205 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L326'>Stmt-size</a></span> %eax)
<span id="L11206" class="LineNr">11206 </span>    <span class="subxComment"># var out-addr/eax: (addr stmt) = lookup(*out)</span>
<span id="L11207" class="LineNr">11207 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11208" class="LineNr">11208 </span>    <span class="subxComment"># set tag</span>
<span id="L11209" class="LineNr">11209 </span>    c7 0/subop/copy *eax 3/imm32/tag/var-in-register  <span class="subxComment"># Stmt-tag</span>
<span id="L11210" class="LineNr">11210 </span>    <span class="subxComment"># set output</span>
<span id="L11211" class="LineNr">11211 </span>    8d/copy-address *(eax+0x14) 0/r32/eax  <span class="subxComment"># Regvardef-outputs</span>
<span id="L11212" class="LineNr">11212 </span>    (<a href='mu.subx.html#L11279'>append-stmt-var</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *(ebp+0xc) *(ebp+0x10)  0 0  0  %eax)
<span id="L11213" class="LineNr">11213 </span><span class="Constant">$new-reg-var-def:end</span>:
<span id="L11214" class="LineNr">11214 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11215" class="LineNr">11215 </span>    58/pop-to-eax
<span id="L11216" class="LineNr">11216 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11217" class="LineNr">11217 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11218" class="LineNr">11218 </span>    5d/pop-to-ebp
<span id="L11219" class="LineNr">11219 </span>    c3/return
<span id="L11220" class="LineNr">11220 </span>
<span id="L11221" class="LineNr">11221 </span><span class="subxFunction">append-list</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), value: (handle _type), list: (handle list _type), out: (addr handle list _type)</span>
<span id="L11222" class="LineNr">11222 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11223" class="LineNr">11223 </span>    55/push-ebp
<span id="L11224" class="LineNr">11224 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11225" class="LineNr">11225 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11226" class="LineNr">11226 </span>    50/push-eax
<span id="L11227" class="LineNr">11227 </span>    51/push-ecx
<span id="L11228" class="LineNr">11228 </span>    57/push-edi
<span id="L11229" class="LineNr">11229 </span>    <span class="subxComment"># edi = out</span>
<span id="L11230" class="LineNr">11230 </span>    8b/-&gt; *(ebp+0x1c) 7/r32/edi
<span id="L11231" class="LineNr">11231 </span>    <span class="subxComment"># *out = new list</span>
<span id="L11232" class="LineNr">11232 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L346'>List-size</a></span> %edi)
<span id="L11233" class="LineNr">11233 </span>    <span class="subxComment"># var out-addr/edi: (addr list _type) = lookup(*out)</span>
<span id="L11234" class="LineNr">11234 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11235" class="LineNr">11235 </span>    89/&lt;- %edi 0/r32/eax
<span id="L11236" class="LineNr">11236 </span>    <span class="subxComment"># out-addr-&gt;value = value</span>
<span id="L11237" class="LineNr">11237 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L11238" class="LineNr">11238 </span>    89/&lt;- *edi 0/r32/eax  <span class="subxComment"># List-value</span>
<span id="L11239" class="LineNr">11239 </span>    8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L11240" class="LineNr">11240 </span>    89/&lt;- *(edi+4) 0/r32/eax  <span class="subxComment"># List-value</span>
<span id="L11241" class="LineNr">11241 </span>    <span class="subxComment"># if (list == null) return</span>
<span id="L11242" class="LineNr">11242 </span>    81 7/subop/compare *(ebp+0x14) 0/imm32
<span id="L11243" class="LineNr">11243 </span>    74/jump-if-= $append-list:end/disp8
<span id="L11244" class="LineNr">11244 </span>    <span class="subxComment"># otherwise append</span>
<span id="L11245" class="LineNr">11245 </span><span class="Constant">$append-list:non-empty-list</span>:
<span id="L11246" class="LineNr">11246 </span>    <span class="subxComment"># var curr/eax: (addr list _type) = lookup(list)</span>
<span id="L11247" class="LineNr">11247 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># =&gt; eax</span>
<span id="L11248" class="LineNr">11248 </span>    <span class="subxComment"># while (curr-&gt;next != null) curr = curr-&gt;next</span>
<span id="L11249" class="LineNr">11249 </span>    {
<span id="L11250" class="LineNr">11250 </span>      81 7/subop/compare *(eax+8) 0/imm32  <span class="subxComment"># List-next</span>
<span id="L11251" class="LineNr">11251 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11252" class="LineNr">11252 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L11253" class="LineNr">11253 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># List-next, List-next =&gt; eax</span>
<span id="L11254" class="LineNr">11254 </span>      <span class="subxComment">#</span>
<span id="L11255" class="LineNr">11255 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L11256" class="LineNr">11256 </span>    }
<span id="L11257" class="LineNr">11257 </span>    <span class="subxComment"># edi = out</span>
<span id="L11258" class="LineNr">11258 </span>    8b/-&gt; *(ebp+0x1c) 7/r32/edi
<span id="L11259" class="LineNr">11259 </span>    <span class="subxComment"># curr-&gt;next = out</span>
<span id="L11260" class="LineNr">11260 </span>    8b/-&gt; *edi 1/r32/ecx
<span id="L11261" class="LineNr">11261 </span>    89/&lt;- *(eax+8) 1/r32/ecx  <span class="subxComment"># List-next</span>
<span id="L11262" class="LineNr">11262 </span>    8b/-&gt; *(edi+4) 1/r32/ecx
<span id="L11263" class="LineNr">11263 </span>    89/&lt;- *(eax+0xc) 1/r32/ecx  <span class="subxComment"># List-next</span>
<span id="L11264" class="LineNr">11264 </span>    <span class="subxComment"># out = list</span>
<span id="L11265" class="LineNr">11265 </span>    8b/-&gt; *(ebp+0x14) 1/r32/ecx
<span id="L11266" class="LineNr">11266 </span>    89/&lt;- *edi 1/r32/ecx
<span id="L11267" class="LineNr">11267 </span>    8b/-&gt; *(ebp+0x18) 1/r32/ecx
<span id="L11268" class="LineNr">11268 </span>    89/&lt;- *(edi+4) 1/r32/ecx
<span id="L11269" class="LineNr">11269 </span><span class="Constant">$append-list:end</span>:
<span id="L11270" class="LineNr">11270 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11271" class="LineNr">11271 </span>    5f/pop-to-edi
<span id="L11272" class="LineNr">11272 </span>    59/pop-to-ecx
<span id="L11273" class="LineNr">11273 </span>    58/pop-to-eax
<span id="L11274" class="LineNr">11274 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11275" class="LineNr">11275 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11276" class="LineNr">11276 </span>    5d/pop-to-ebp
<span id="L11277" class="LineNr">11277 </span>    c3/return
<span id="L11278" class="LineNr">11278 </span>
<span id="L11279" class="LineNr">11279 </span><span class="subxFunction">append-stmt-var</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), v: (handle var), vars: (handle stmt-var), is-deref?: boolean, out: (addr handle stmt-var)</span>
<span id="L11280" class="LineNr">11280 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11281" class="LineNr">11281 </span>    55/push-ebp
<span id="L11282" class="LineNr">11282 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11283" class="LineNr">11283 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11284" class="LineNr">11284 </span>    50/push-eax
<span id="L11285" class="LineNr">11285 </span>    51/push-ecx
<span id="L11286" class="LineNr">11286 </span>    57/push-edi
<span id="L11287" class="LineNr">11287 </span>    <span class="subxComment"># edi = out</span>
<span id="L11288" class="LineNr">11288 </span>    8b/-&gt; *(ebp+0x20) 7/r32/edi
<span id="L11289" class="LineNr">11289 </span>    <span class="subxComment"># out = new stmt-var</span>
<span id="L11290" class="LineNr">11290 </span>    (<a href='../120allocate.subx.html#L66'>allocate</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L356'>Stmt-var-size</a></span> %edi)
<span id="L11291" class="LineNr">11291 </span>    <span class="subxComment"># var out-addr/ecx: (addr stmt-var) = lookup(*out)</span>
<span id="L11292" class="LineNr">11292 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11293" class="LineNr">11293 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L11294" class="LineNr">11294 </span>    <span class="subxComment"># out-addr-&gt;value = v</span>
<span id="L11295" class="LineNr">11295 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L11296" class="LineNr">11296 </span>    89/&lt;- *ecx 0/r32/eax  <span class="subxComment"># Stmt-var-value</span>
<span id="L11297" class="LineNr">11297 </span>    8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L11298" class="LineNr">11298 </span>    89/&lt;- *(ecx+4) 0/r32/eax  <span class="subxComment"># Stmt-var-value</span>
<span id="L11299" class="LineNr">11299 </span>    <span class="subxComment"># out-addr-&gt;is-deref? = is-deref?</span>
<span id="L11300" class="LineNr">11300 </span>    8b/-&gt; *(ebp+0x1c) 0/r32/eax
<span id="L11301" class="LineNr">11301 </span>    89/&lt;- *(ecx+0x10) 0/r32/eax  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L11302" class="LineNr">11302 </span>    <span class="subxComment"># if (vars == null) return result</span>
<span id="L11303" class="LineNr">11303 </span>    81 7/subop/compare *(ebp+0x14) 0/imm32/null
<span id="L11304" class="LineNr">11304 </span>    74/jump-if-= $append-stmt-var:end/disp8
<span id="L11305" class="LineNr">11305 </span>    <span class="subxComment"># otherwise append</span>
<span id="L11306" class="LineNr">11306 </span>    <span class="subxComment"># var curr/eax: (addr stmt-var) = lookup(vars)</span>
<span id="L11307" class="LineNr">11307 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># =&gt; eax</span>
<span id="L11308" class="LineNr">11308 </span>    <span class="subxComment"># while (curr-&gt;next != null) curr = curr-&gt;next</span>
<span id="L11309" class="LineNr">11309 </span>    {
<span id="L11310" class="LineNr">11310 </span>      81 7/subop/compare *(eax+8) 0/imm32  <span class="subxComment"># Stmt-var-next</span>
<span id="L11311" class="LineNr">11311 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11312" class="LineNr">11312 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L11313" class="LineNr">11313 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next, Stmt-var-next =&gt; eax</span>
<span id="L11314" class="LineNr">11314 </span>      <span class="subxComment">#</span>
<span id="L11315" class="LineNr">11315 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L11316" class="LineNr">11316 </span>    }
<span id="L11317" class="LineNr">11317 </span>    <span class="subxComment"># curr-&gt;next = out</span>
<span id="L11318" class="LineNr">11318 </span>    8b/-&gt; *edi 1/r32/ecx
<span id="L11319" class="LineNr">11319 </span>    89/&lt;- *(eax+8) 1/r32/ecx  <span class="subxComment"># Stmt-var-next</span>
<span id="L11320" class="LineNr">11320 </span>    8b/-&gt; *(edi+4) 1/r32/ecx
<span id="L11321" class="LineNr">11321 </span>    89/&lt;- *(eax+0xc) 1/r32/ecx  <span class="subxComment"># Stmt-var-next</span>
<span id="L11322" class="LineNr">11322 </span>    <span class="subxComment"># out = vars</span>
<span id="L11323" class="LineNr">11323 </span>    8b/-&gt; *(ebp+0x14) 1/r32/ecx
<span id="L11324" class="LineNr">11324 </span>    89/&lt;- *edi 1/r32/ecx
<span id="L11325" class="LineNr">11325 </span>    8b/-&gt; *(ebp+0x18) 1/r32/ecx
<span id="L11326" class="LineNr">11326 </span>    89/&lt;- *(edi+4) 1/r32/ecx
<span id="L11327" class="LineNr">11327 </span><span class="Constant">$append-stmt-var:end</span>:
<span id="L11328" class="LineNr">11328 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11329" class="LineNr">11329 </span>    5f/pop-to-edi
<span id="L11330" class="LineNr">11330 </span>    59/pop-to-ecx
<span id="L11331" class="LineNr">11331 </span>    58/pop-to-eax
<span id="L11332" class="LineNr">11332 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11333" class="LineNr">11333 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11334" class="LineNr">11334 </span>    5d/pop-to-ebp
<span id="L11335" class="LineNr">11335 </span>    c3/return
<span id="L11336" class="LineNr">11336 </span>
<span id="L11337" class="LineNr">11337 </span><span class="subxFunction">append-to-block</span>:  <span class="subxComment"># ad: (addr allocation-descriptor), block: (addr block), x: (handle stmt)</span>
<span id="L11338" class="LineNr">11338 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11339" class="LineNr">11339 </span>    55/push-ebp
<span id="L11340" class="LineNr">11340 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11341" class="LineNr">11341 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11342" class="LineNr">11342 </span>    50/push-eax
<span id="L11343" class="LineNr">11343 </span>    56/push-esi
<span id="L11344" class="LineNr">11344 </span>    <span class="subxComment"># esi = block</span>
<span id="L11345" class="LineNr">11345 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L11346" class="LineNr">11346 </span>    <span class="subxComment"># block-&gt;stmts = append(x, block-&gt;stmts)</span>
<span id="L11347" class="LineNr">11347 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Block-stmts</span>
<span id="L11348" class="LineNr">11348 </span>    (<a href='mu.subx.html#L11221'>append-list</a> *(ebp+8)  *(ebp+0x10) *(ebp+0x14)  *(esi+4) *(esi+8)  %eax)  <span class="subxComment"># ad, x, x, Block-stmts, Block-stmts</span>
<span id="L11349" class="LineNr">11349 </span><span class="Constant">$append-to-block:end</span>:
<span id="L11350" class="LineNr">11350 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11351" class="LineNr">11351 </span>    5e/pop-to-esi
<span id="L11352" class="LineNr">11352 </span>    58/pop-to-eax
<span id="L11353" class="LineNr">11353 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11354" class="LineNr">11354 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11355" class="LineNr">11355 </span>    5d/pop-to-ebp
<span id="L11356" class="LineNr">11356 </span>    c3/return
<span id="L11357" class="LineNr">11357 </span>
<span id="L11358" class="LineNr">11358 </span><span class="subxComment">## Parsing types</span>
<span id="L11359" class="LineNr">11359 </span><span class="subxComment"># We need to create metadata on user-defined types, and we need to use this</span>
<span id="L11360" class="LineNr">11360 </span><span class="subxComment"># metadata as we parse instructions.</span>
<span id="L11361" class="LineNr">11361 </span><span class="subxComment"># However, we also want to allow types to be used before their definitions.</span>
<span id="L11362" class="LineNr">11362 </span><span class="subxComment"># This means we can't ever assume any type data structures exist.</span>
<span id="L11363" class="LineNr">11363 </span>
<span id="L11364" class="LineNr">11364 </span><span class="subxFunction">lookup-or-create-constant</span>:  <span class="subxComment"># container: (addr stmt-var), field-name: (addr slice), out: (addr handle var)</span>
<span id="L11365" class="LineNr">11365 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11366" class="LineNr">11366 </span>    55/push-ebp
<span id="L11367" class="LineNr">11367 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11368" class="LineNr">11368 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11369" class="LineNr">11369 </span>    50/push-eax
<span id="L11370" class="LineNr">11370 </span>    56/push-esi
<span id="L11371" class="LineNr">11371 </span>    <span class="subxComment"># var container-type/esi: type-id</span>
<span id="L11372" class="LineNr">11372 </span>    (<a href='mu.subx.html#L11415'>container-type</a> *(ebp+8))  <span class="subxComment"># =&gt; eax</span>
<span id="L11373" class="LineNr">11373 </span>    89/&lt;- %esi 0/r32/eax
<span id="L11374" class="LineNr">11374 </span>    <span class="subxComment"># var tmp/eax: (handle typeinfo) = find-or-create-typeinfo(container-type)</span>
<span id="L11375" class="LineNr">11375 </span>    68/push 0/imm32
<span id="L11376" class="LineNr">11376 </span>    68/push 0/imm32
<span id="L11377" class="LineNr">11377 </span>    89/&lt;- %eax 4/r32/esp
<span id="L11378" class="LineNr">11378 </span>    (<a href='mu.subx.html#L11452'>find-or-create-typeinfo</a> %esi %eax)
<span id="L11379" class="LineNr">11379 </span>    <span class="subxComment"># var tmp-addr/eax: (addr typeinfo) = lookup(tmp)</span>
<span id="L11380" class="LineNr">11380 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11381" class="LineNr">11381 </span>    <span class="subxComment"># result = find-or-create-typeinfo-output-var(typeinfo, field-name)</span>
<span id="L11382" class="LineNr">11382 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;constant: &quot;)</span>
<span id="L11383" class="LineNr">11383 </span><span class="CommentedCode">#?     (write-slice-buffered Stderr *(ebp+0xc))</span>
<span id="L11384" class="LineNr">11384 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L11385" class="LineNr">11385 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L11386" class="LineNr">11386 </span>    (<a href='mu.subx.html#L11568'>find-or-create-typeinfo-output-var</a> %eax *(ebp+0xc) *(ebp+0x10))
<span id="L11387" class="LineNr">11387 </span><span class="CommentedCode">#?     8b/-&gt; *(ebp+0x10) 0/r32/eax</span>
<span id="L11388" class="LineNr">11388 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;@&quot;)</span>
<span id="L11389" class="LineNr">11389 </span><span class="CommentedCode">#?     (lookup *eax *(eax+4))</span>
<span id="L11390" class="LineNr">11390 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L11391" class="LineNr">11391 </span><span class="CommentedCode">#?     (lookup *eax *(eax+4))</span>
<span id="L11392" class="LineNr">11392 </span><span class="CommentedCode">#?     (write-buffered Stderr %eax)</span>
<span id="L11393" class="LineNr">11393 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L11394" class="LineNr">11394 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L11395" class="LineNr">11395 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;offset: &quot;)</span>
<span id="L11396" class="LineNr">11396 </span><span class="CommentedCode">#?     8b/-&gt; *(eax+0x14) 0/r32/eax</span>
<span id="L11397" class="LineNr">11397 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L11398" class="LineNr">11398 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L11399" class="LineNr">11399 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L11400" class="LineNr">11400 </span><span class="Constant">$lookup-or-create-constant:end</span>:
<span id="L11401" class="LineNr">11401 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11402" class="LineNr">11402 </span>    81 0/subop/add %esp 8/imm32
<span id="L11403" class="LineNr">11403 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11404" class="LineNr">11404 </span>    5e/pop-to-esi
<span id="L11405" class="LineNr">11405 </span>    58/pop-to-eax
<span id="L11406" class="LineNr">11406 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11407" class="LineNr">11407 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11408" class="LineNr">11408 </span>    5d/pop-to-ebp
<span id="L11409" class="LineNr">11409 </span>    c3/return
<span id="L11410" class="LineNr">11410 </span>
<span id="L11411" class="LineNr">11411 </span><span class="subxComment"># if addr var:</span>
<span id="L11412" class="LineNr">11412 </span><span class="subxComment">#   container-&gt;var-&gt;type-&gt;right-&gt;left-&gt;value</span>
<span id="L11413" class="LineNr">11413 </span><span class="subxComment"># otherwise</span>
<span id="L11414" class="LineNr">11414 </span><span class="subxComment">#   container-&gt;var-&gt;type-&gt;value</span>
<span id="L11415" class="LineNr">11415 </span><span class="subxFunction">container-type</span>:  <span class="subxComment"># container: (addr stmt-var) -&gt; result/eax: type-id</span>
<span id="L11416" class="LineNr">11416 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11417" class="LineNr">11417 </span>    55/push-ebp
<span id="L11418" class="LineNr">11418 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11419" class="LineNr">11419 </span>    <span class="subxComment">#</span>
<span id="L11420" class="LineNr">11420 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L11421" class="LineNr">11421 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L11422" class="LineNr">11422 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11423" class="LineNr">11423 </span>    {
<span id="L11424" class="LineNr">11424 </span>      81 7/subop/compare *(eax+8) 0/imm32  <span class="subxComment"># Type-tree-right</span>
<span id="L11425" class="LineNr">11425 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11426" class="LineNr">11426 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L11427" class="LineNr">11427 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L11428" class="LineNr">11428 </span>    }
<span id="L11429" class="LineNr">11429 </span>    8b/-&gt; *(eax+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L11430" class="LineNr">11430 </span><span class="Constant">$container-type:end</span>:
<span id="L11431" class="LineNr">11431 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11432" class="LineNr">11432 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11433" class="LineNr">11433 </span>    5d/pop-to-ebp
<span id="L11434" class="LineNr">11434 </span>    c3/return
<span id="L11435" class="LineNr">11435 </span>
<span id="L11436" class="LineNr">11436 </span><span class="subxFunction">is-container?</span>:  <span class="subxComment"># t: type-id -&gt; result/eax: boolean</span>
<span id="L11437" class="LineNr">11437 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11438" class="LineNr">11438 </span>    55/push-ebp
<span id="L11439" class="LineNr">11439 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11440" class="LineNr">11440 </span>    <span class="subxComment">#</span>
<span id="L11441" class="LineNr">11441 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L11442" class="LineNr">11442 </span>    c1/shift 4/subop/left %eax 2/imm8
<span id="L11443" class="LineNr">11443 </span>    3b/compare 0/r32/eax *<span class="SpecialChar"><a href='mu.subx.html#L428'>Primitive-type-ids</a></span>
<span id="L11444" class="LineNr">11444 </span>    0f 9d/set-if-&gt;= %al
<span id="L11445" class="LineNr">11445 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L11446" class="LineNr">11446 </span><span class="Constant">$is-container?:end</span>:
<span id="L11447" class="LineNr">11447 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11448" class="LineNr">11448 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11449" class="LineNr">11449 </span>    5d/pop-to-ebp
<span id="L11450" class="LineNr">11450 </span>    c3/return
<span id="L11451" class="LineNr">11451 </span>
<span id="L11452" class="LineNr">11452 </span><span class="subxFunction">find-or-create-typeinfo</span>:  <span class="subxComment"># t: type-id, out: (addr handle typeinfo)</span>
<span id="L11453" class="LineNr">11453 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11454" class="LineNr">11454 </span>    55/push-ebp
<span id="L11455" class="LineNr">11455 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11456" class="LineNr">11456 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11457" class="LineNr">11457 </span>    50/push-eax
<span id="L11458" class="LineNr">11458 </span>    51/push-ecx
<span id="L11459" class="LineNr">11459 </span>    52/push-edx
<span id="L11460" class="LineNr">11460 </span>    57/push-edi
<span id="L11461" class="LineNr">11461 </span>    <span class="subxComment"># edi = out</span>
<span id="L11462" class="LineNr">11462 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L11463" class="LineNr">11463 </span>    <span class="subxComment"># var fields/ecx: (handle table (handle array byte) (handle typeinfo-entry))</span>
<span id="L11464" class="LineNr">11464 </span>    68/push 0/imm32
<span id="L11465" class="LineNr">11465 </span>    68/push 0/imm32
<span id="L11466" class="LineNr">11466 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L11467" class="LineNr">11467 </span>    <span class="subxComment"># find-typeinfo(t, out)</span>
<span id="L11468" class="LineNr">11468 </span>    (<a href='mu.subx.html#L11519'>find-typeinfo</a> *(ebp+8) %edi)
<span id="L11469" class="LineNr">11469 </span>    {
<span id="L11470" class="LineNr">11470 </span>      <span class="subxComment"># if (*out != 0) break</span>
<span id="L11471" class="LineNr">11471 </span>      81 7/subop/compare *edi 0/imm32
<span id="L11472" class="LineNr">11472 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L11473" class="LineNr">11473 </span><span class="Constant">$find-or-create-typeinfo:create</span>:
<span id="L11474" class="LineNr">11474 </span>      <span class="subxComment"># *out = allocate</span>
<span id="L11475" class="LineNr">11475 </span>      (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L447'>Typeinfo-size</a></span> %edi)
<span id="L11476" class="LineNr">11476 </span>      <span class="subxComment"># var tmp/eax: (addr typeinfo) = lookup(*out)</span>
<span id="L11477" class="LineNr">11477 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11478" class="LineNr">11478 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;created typeinfo at &quot;)</span>
<span id="L11479" class="LineNr">11479 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L11480" class="LineNr">11480 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot; for type-id &quot;)</span>
<span id="L11481" class="LineNr">11481 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr *(ebp+8))</span>
<span id="L11482" class="LineNr">11482 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L11483" class="LineNr">11483 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L11484" class="LineNr">11484 </span>      <span class="subxComment"># tmp-&gt;id = t</span>
<span id="L11485" class="LineNr">11485 </span>      8b/-&gt; *(ebp+8) 2/r32/edx
<span id="L11486" class="LineNr">11486 </span>      89/&lt;- *eax 2/r32/edx  <span class="subxComment"># Typeinfo-id</span>
<span id="L11487" class="LineNr">11487 </span>      <span class="subxComment"># tmp-&gt;fields = new table</span>
<span id="L11488" class="LineNr">11488 </span>      <span class="subxS1Comment"># . fields = new table</span>
<span id="L11489" class="LineNr">11489 </span>      (<a href='../121new-stream.subx.html#L8'>new-stream</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> 0x40 *<span class="SpecialChar"><a href='mu.subx.html#L452'>Typeinfo-fields-row-size</a></span> %ecx)
<span id="L11490" class="LineNr">11490 </span>      <span class="subxS1Comment"># . tmp-&gt;fields = fields</span>
<span id="L11491" class="LineNr">11491 </span>      8b/-&gt; *ecx 2/r32/edx
<span id="L11492" class="LineNr">11492 </span>      89/&lt;- *(eax+4) 2/r32/edx  <span class="subxComment"># Typeinfo-fields</span>
<span id="L11493" class="LineNr">11493 </span>      8b/-&gt; *(ecx+4) 2/r32/edx
<span id="L11494" class="LineNr">11494 </span>      89/&lt;- *(eax+8) 2/r32/edx  <span class="subxComment"># Typeinfo-fields</span>
<span id="L11495" class="LineNr">11495 </span>      <span class="subxComment"># tmp-&gt;next = Program-&gt;types</span>
<span id="L11496" class="LineNr">11496 </span>      8b/-&gt; *_Program-types 1/r32/ecx
<span id="L11497" class="LineNr">11497 </span>      89/&lt;- *(eax+0x10) 1/r32/ecx  <span class="subxComment"># Typeinfo-next</span>
<span id="L11498" class="LineNr">11498 </span>      8b/-&gt; *_Program-types-&gt;payload 1/r32/ecx
<span id="L11499" class="LineNr">11499 </span>      89/&lt;- *(eax+0x14) 1/r32/ecx  <span class="subxComment"># Typeinfo-next</span>
<span id="L11500" class="LineNr">11500 </span>      <span class="subxComment"># Program-&gt;types = out</span>
<span id="L11501" class="LineNr">11501 </span>      8b/-&gt; *edi 1/r32/ecx
<span id="L11502" class="LineNr">11502 </span>      89/&lt;- *_Program-types 1/r32/ecx
<span id="L11503" class="LineNr">11503 </span>      8b/-&gt; *(edi+4) 1/r32/ecx
<span id="L11504" class="LineNr">11504 </span>      89/&lt;- *_Program-types-&gt;payload 1/r32/ecx
<span id="L11505" class="LineNr">11505 </span>    }
<span id="L11506" class="LineNr">11506 </span><span class="Constant">$find-or-create-typeinfo:end</span>:
<span id="L11507" class="LineNr">11507 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11508" class="LineNr">11508 </span>    81 0/subop/add %esp 8/imm32
<span id="L11509" class="LineNr">11509 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11510" class="LineNr">11510 </span>    5f/pop-to-edi
<span id="L11511" class="LineNr">11511 </span>    5a/pop-to-edx
<span id="L11512" class="LineNr">11512 </span>    59/pop-to-ecx
<span id="L11513" class="LineNr">11513 </span>    58/pop-to-eax
<span id="L11514" class="LineNr">11514 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11515" class="LineNr">11515 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11516" class="LineNr">11516 </span>    5d/pop-to-ebp
<span id="L11517" class="LineNr">11517 </span>    c3/return
<span id="L11518" class="LineNr">11518 </span>
<span id="L11519" class="LineNr">11519 </span><span class="subxFunction">find-typeinfo</span>:  <span class="subxComment"># t: type-id, out: (addr handle typeinfo)</span>
<span id="L11520" class="LineNr">11520 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11521" class="LineNr">11521 </span>    55/push-ebp
<span id="L11522" class="LineNr">11522 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11523" class="LineNr">11523 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11524" class="LineNr">11524 </span>    50/push-eax
<span id="L11525" class="LineNr">11525 </span>    51/push-ecx
<span id="L11526" class="LineNr">11526 </span>    52/push-edx
<span id="L11527" class="LineNr">11527 </span>    57/push-edi
<span id="L11528" class="LineNr">11528 </span>    <span class="subxComment"># ecx = t</span>
<span id="L11529" class="LineNr">11529 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L11530" class="LineNr">11530 </span>    <span class="subxComment"># edi = out</span>
<span id="L11531" class="LineNr">11531 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L11532" class="LineNr">11532 </span>    <span class="subxComment"># *out = Program-&gt;types</span>
<span id="L11533" class="LineNr">11533 </span>    8b/-&gt; *_Program-types 0/r32/eax
<span id="L11534" class="LineNr">11534 </span>    89/&lt;- *edi 0/r32/eax
<span id="L11535" class="LineNr">11535 </span>    8b/-&gt; *_Program-types-&gt;payload 0/r32/eax
<span id="L11536" class="LineNr">11536 </span>    89/&lt;- *(edi+4) 0/r32/eax
<span id="L11537" class="LineNr">11537 </span>    {
<span id="L11538" class="LineNr">11538 </span><span class="Constant">$find-typeinfo:loop</span>:
<span id="L11539" class="LineNr">11539 </span>      <span class="subxComment"># if (*out == 0) break</span>
<span id="L11540" class="LineNr">11540 </span>      81 7/subop/compare *edi 0/imm32
<span id="L11541" class="LineNr">11541 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11542" class="LineNr">11542 </span><span class="Constant">$find-typeinfo:check</span>:
<span id="L11543" class="LineNr">11543 </span>      <span class="subxComment"># var tmp/eax: (addr typeinfo) = lookup(*out)</span>
<span id="L11544" class="LineNr">11544 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11545" class="LineNr">11545 </span>      <span class="subxComment"># if (tmp-&gt;id == t) break</span>
<span id="L11546" class="LineNr">11546 </span>      39/compare *eax 1/r32/ecx  <span class="subxComment"># Typeinfo-id</span>
<span id="L11547" class="LineNr">11547 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11548" class="LineNr">11548 </span><span class="Constant">$find-typeinfo:continue</span>:
<span id="L11549" class="LineNr">11549 </span>      <span class="subxComment"># *out = tmp-&gt;next</span>
<span id="L11550" class="LineNr">11550 </span>      8b/-&gt; *(eax+0x10) 2/r32/edx  <span class="subxComment"># Typeinfo-next</span>
<span id="L11551" class="LineNr">11551 </span>      89/&lt;- *edi 2/r32/edx
<span id="L11552" class="LineNr">11552 </span>      8b/-&gt; *(eax+0x14) 2/r32/edx  <span class="subxComment"># Typeinfo-next</span>
<span id="L11553" class="LineNr">11553 </span>      89/&lt;- *(edi+4) 2/r32/edx
<span id="L11554" class="LineNr">11554 </span>      <span class="subxComment">#</span>
<span id="L11555" class="LineNr">11555 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L11556" class="LineNr">11556 </span>    }
<span id="L11557" class="LineNr">11557 </span><span class="Constant">$find-typeinfo:end</span>:
<span id="L11558" class="LineNr">11558 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11559" class="LineNr">11559 </span>    5f/pop-to-edi
<span id="L11560" class="LineNr">11560 </span>    5a/pop-to-edx
<span id="L11561" class="LineNr">11561 </span>    59/pop-to-ecx
<span id="L11562" class="LineNr">11562 </span>    58/pop-to-eax
<span id="L11563" class="LineNr">11563 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11564" class="LineNr">11564 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11565" class="LineNr">11565 </span>    5d/pop-to-ebp
<span id="L11566" class="LineNr">11566 </span>    c3/return
<span id="L11567" class="LineNr">11567 </span>
<span id="L11568" class="LineNr">11568 </span><span class="subxFunction">find-or-create-typeinfo-output-var</span>:  <span class="subxComment"># T: (addr typeinfo), f: (addr slice), out: (addr handle var)</span>
<span id="L11569" class="LineNr">11569 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11570" class="LineNr">11570 </span>    55/push-ebp
<span id="L11571" class="LineNr">11571 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11572" class="LineNr">11572 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11573" class="LineNr">11573 </span>    50/push-eax
<span id="L11574" class="LineNr">11574 </span>    52/push-edx
<span id="L11575" class="LineNr">11575 </span>    57/push-edi
<span id="L11576" class="LineNr">11576 </span>    <span class="subxComment"># var dest/edi: (handle typeinfo-entry)</span>
<span id="L11577" class="LineNr">11577 </span>    68/push 0/imm32
<span id="L11578" class="LineNr">11578 </span>    68/push 0/imm32
<span id="L11579" class="LineNr">11579 </span>    89/&lt;- %edi 4/r32/esp
<span id="L11580" class="LineNr">11580 </span>    <span class="subxComment"># find-or-create-typeinfo-fields(T, f, dest)</span>
<span id="L11581" class="LineNr">11581 </span>    (<a href='mu.subx.html#L11633'>find-or-create-typeinfo-fields</a> *(ebp+8) *(ebp+0xc) %edi)
<span id="L11582" class="LineNr">11582 </span>    <span class="subxComment"># var dest-addr/edi: (addr typeinfo-entry) = lookup(dest)</span>
<span id="L11583" class="LineNr">11583 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11584" class="LineNr">11584 </span>    89/&lt;- %edi 0/r32/eax
<span id="L11585" class="LineNr">11585 </span>    <span class="subxComment"># if dest-addr-&gt;output-var doesn't exist, create it</span>
<span id="L11586" class="LineNr">11586 </span>    {
<span id="L11587" class="LineNr">11587 </span>      81 7/subop/compare *(edi+0xc) 0/imm32  <span class="subxComment"># Typeinfo-entry-output-var</span>
<span id="L11588" class="LineNr">11588 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L11589" class="LineNr">11589 </span>      <span class="subxComment"># dest-addr-&gt;output-var = new var(dummy name, type, -1 offset)</span>
<span id="L11590" class="LineNr">11590 </span>      <span class="subxS1Comment"># . var name/eax: (handle array byte) = &quot;field&quot;</span>
<span id="L11591" class="LineNr">11591 </span>      68/push 0/imm32
<span id="L11592" class="LineNr">11592 </span>      68/push 0/imm32
<span id="L11593" class="LineNr">11593 </span>      89/&lt;- %eax 4/r32/esp
<span id="L11594" class="LineNr">11594 </span>      (<a href='../123slice.subx.html#L1043'>slice-to-string</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *(ebp+0xc) %eax)
<span id="L11595" class="LineNr">11595 </span>      <span class="subxS1Comment"># . new var</span>
<span id="L11596" class="LineNr">11596 </span>      8d/copy-address *(edi+0xc) 2/r32/edx
<span id="L11597" class="LineNr">11597 </span>      (<a href='mu.subx.html#L10959'>new-var</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>  *eax *(eax+4)  %edx)
<span id="L11598" class="LineNr">11598 </span>      <span class="subxS1Comment"># . reclaim name</span>
<span id="L11599" class="LineNr">11599 </span>      81 0/subop/add %esp 8/imm32
<span id="L11600" class="LineNr">11600 </span>      <span class="subxComment"># var result/edx: (addr var) = lookup(dest-addr-&gt;output-var)</span>
<span id="L11601" class="LineNr">11601 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0xc) *(edi+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L11602" class="LineNr">11602 </span>      89/&lt;- %edx 0/r32/eax
<span id="L11603" class="LineNr">11603 </span>      <span class="subxComment"># result-&gt;type = new constant type</span>
<span id="L11604" class="LineNr">11604 </span>      8d/copy-address *(edx+8) 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L11605" class="LineNr">11605 </span>      (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L385'>Type-tree-size</a></span> %eax)
<span id="L11606" class="LineNr">11606 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L11607" class="LineNr">11607 </span>      c7 0/subop/copy *eax 1/imm32/true  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L11608" class="LineNr">11608 </span>      c7 0/subop/copy *(eax+4) 6/imm32/constant  <span class="subxComment"># Type-tree-value</span>
<span id="L11609" class="LineNr">11609 </span>      c7 0/subop/copy *(eax+8) 0/imm32  <span class="subxComment"># Type-tree-left</span>
<span id="L11610" class="LineNr">11610 </span>      c7 0/subop/copy *(eax+0xc) 0/imm32  <span class="subxComment"># Type-tree-right</span>
<span id="L11611" class="LineNr">11611 </span>      c7 0/subop/copy *(eax+0x10) 0/imm32  <span class="subxComment"># Type-tree-right</span>
<span id="L11612" class="LineNr">11612 </span>      <span class="subxComment"># result-&gt;offset isn't filled out yet</span>
<span id="L11613" class="LineNr">11613 </span>      c7 0/subop/copy *(edx+0x14) -1/imm32/uninitialized  <span class="subxComment"># Var-offset</span>
<span id="L11614" class="LineNr">11614 </span>    }
<span id="L11615" class="LineNr">11615 </span>    <span class="subxComment"># out = dest-addr-&gt;output-var</span>
<span id="L11616" class="LineNr">11616 </span>    8b/-&gt; *(ebp+0x10) 2/r32/edx
<span id="L11617" class="LineNr">11617 </span>    8b/-&gt; *(edi+0xc) 0/r32/eax  <span class="subxComment"># Typeinfo-entry-output-var</span>
<span id="L11618" class="LineNr">11618 </span>    89/&lt;- *edx 0/r32/eax
<span id="L11619" class="LineNr">11619 </span>    8b/-&gt; *(edi+0x10) 0/r32/eax  <span class="subxComment"># Typeinfo-entry-output-var</span>
<span id="L11620" class="LineNr">11620 </span>    89/&lt;- *(edx+4) 0/r32/eax
<span id="L11621" class="LineNr">11621 </span><span class="Constant">$find-or-create-typeinfo-output-var:end</span>:
<span id="L11622" class="LineNr">11622 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11623" class="LineNr">11623 </span>    81 0/subop/add %esp 8/imm32
<span id="L11624" class="LineNr">11624 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11625" class="LineNr">11625 </span>    5f/pop-to-edi
<span id="L11626" class="LineNr">11626 </span>    5a/pop-to-edx
<span id="L11627" class="LineNr">11627 </span>    58/pop-to-eax
<span id="L11628" class="LineNr">11628 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11629" class="LineNr">11629 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11630" class="LineNr">11630 </span>    5d/pop-to-ebp
<span id="L11631" class="LineNr">11631 </span>    c3/return
<span id="L11632" class="LineNr">11632 </span>
<span id="L11633" class="LineNr">11633 </span><span class="subxFunction">find-or-create-typeinfo-fields</span>:  <span class="subxComment"># T: (addr typeinfo), f: (addr slice), out: (addr handle typeinfo-entry)</span>
<span id="L11634" class="LineNr">11634 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11635" class="LineNr">11635 </span>    55/push-ebp
<span id="L11636" class="LineNr">11636 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11637" class="LineNr">11637 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11638" class="LineNr">11638 </span>    50/push-eax
<span id="L11639" class="LineNr">11639 </span>    56/push-esi
<span id="L11640" class="LineNr">11640 </span>    57/push-edi
<span id="L11641" class="LineNr">11641 </span>    <span class="subxComment"># eax = lookup(T-&gt;fields)</span>
<span id="L11642" class="LineNr">11642 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L11643" class="LineNr">11643 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Typeinfo-fields Typeinfo-fields =&gt; eax</span>
<span id="L11644" class="LineNr">11644 </span>    <span class="subxComment"># edi = out</span>
<span id="L11645" class="LineNr">11645 </span>    8b/-&gt; *(ebp+0x10) 7/r32/edi
<span id="L11646" class="LineNr">11646 </span>    <span class="subxComment"># var src/esi: (addr handle typeinfo-entry) = get-or-insert-slice(T-&gt;fields, f)</span>
<span id="L11647" class="LineNr">11647 </span>    (<a href='../131table.subx.html#L1022'>get-or-insert-slice</a> %eax *(ebp+0xc) *<span class="SpecialChar"><a href='mu.subx.html#L452'>Typeinfo-fields-row-size</a></span> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L11648" class="LineNr">11648 </span>    89/&lt;- %esi 0/r32/eax
<span id="L11649" class="LineNr">11649 </span>    <span class="subxComment"># if src doesn't exist, allocate it</span>
<span id="L11650" class="LineNr">11650 </span>    {
<span id="L11651" class="LineNr">11651 </span>      81 7/subop/compare *esi 0/imm32
<span id="L11652" class="LineNr">11652 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L11653" class="LineNr">11653 </span>      (<a href='../120allocate.subx.html#L66'>allocate</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> *<span class="SpecialChar"><a href='mu.subx.html#L468'>Typeinfo-entry-size</a></span> %esi)
<span id="L11654" class="LineNr">11654 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;handle at &quot;)</span>
<span id="L11655" class="LineNr">11655 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %esi)</span>
<span id="L11656" class="LineNr">11656 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;: &quot;)</span>
<span id="L11657" class="LineNr">11657 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr *esi)</span>
<span id="L11658" class="LineNr">11658 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot; &quot;)</span>
<span id="L11659" class="LineNr">11659 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr *(esi+4))</span>
<span id="L11660" class="LineNr">11660 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L11661" class="LineNr">11661 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L11662" class="LineNr">11662 </span><span class="CommentedCode">#?       (lookup *esi *(esi+4))</span>
<span id="L11663" class="LineNr">11663 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;created typeinfo fields at &quot;)</span>
<span id="L11664" class="LineNr">11664 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %esi)</span>
<span id="L11665" class="LineNr">11665 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot; for &quot;)</span>
<span id="L11666" class="LineNr">11666 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr *(ebp+8))</span>
<span id="L11667" class="LineNr">11667 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L11668" class="LineNr">11668 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L11669" class="LineNr">11669 </span>    }
<span id="L11670" class="LineNr">11670 </span>    <span class="subxComment"># *out = src</span>
<span id="L11671" class="LineNr">11671 </span>    <span class="subxS1Comment"># . *edi = *src</span>
<span id="L11672" class="LineNr">11672 </span>    8b/-&gt; *esi 0/r32/eax
<span id="L11673" class="LineNr">11673 </span>    89/&lt;- *edi 0/r32/eax
<span id="L11674" class="LineNr">11674 </span>    8b/-&gt; *(esi+4) 0/r32/eax
<span id="L11675" class="LineNr">11675 </span>    89/&lt;- *(edi+4) 0/r32/eax
<span id="L11676" class="LineNr">11676 </span><span class="Constant">$find-or-create-typeinfo-fields:end</span>:
<span id="L11677" class="LineNr">11677 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11678" class="LineNr">11678 </span>    5f/pop-to-edi
<span id="L11679" class="LineNr">11679 </span>    5e/pop-to-esi
<span id="L11680" class="LineNr">11680 </span>    58/pop-to-eax
<span id="L11681" class="LineNr">11681 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11682" class="LineNr">11682 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11683" class="LineNr">11683 </span>    5d/pop-to-ebp
<span id="L11684" class="LineNr">11684 </span>    c3/return
<span id="L11685" class="LineNr">11685 </span>
<span id="L11686" class="LineNr">11686 </span><span class="subxFunction">populate-mu-type</span>:  <span class="subxComment"># in: (addr stream byte), t: (addr typeinfo), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L11687" class="LineNr">11687 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L11688" class="LineNr">11688 </span>    <span class="subxComment">#   var line: (stream byte 512)</span>
<span id="L11689" class="LineNr">11689 </span>    <span class="subxComment">#   curr-index = 0</span>
<span id="L11690" class="LineNr">11690 </span>    <span class="subxComment">#   while true</span>
<span id="L11691" class="LineNr">11691 </span>    <span class="subxComment">#     clear-stream(line)</span>
<span id="L11692" class="LineNr">11692 </span>    <span class="subxComment">#     read-line-buffered(in, line)</span>
<span id="L11693" class="LineNr">11693 </span>    <span class="subxComment">#     if line-&gt;write == 0</span>
<span id="L11694" class="LineNr">11694 </span>    <span class="subxComment">#       abort</span>
<span id="L11695" class="LineNr">11695 </span>    <span class="subxComment">#     word-slice = next-mu-token(line)</span>
<span id="L11696" class="LineNr">11696 </span>    <span class="subxComment">#     if slice-empty?(word-slice)               # end of line</span>
<span id="L11697" class="LineNr">11697 </span>    <span class="subxComment">#       continue</span>
<span id="L11698" class="LineNr">11698 </span>    <span class="subxComment">#     if slice-equal?(word-slice, &quot;}&quot;)</span>
<span id="L11699" class="LineNr">11699 </span>    <span class="subxComment">#       break</span>
<span id="L11700" class="LineNr">11700 </span>    <span class="subxComment">#     var v: (handle var) = parse-var-with-type(word-slice, line)</span>
<span id="L11701" class="LineNr">11701 </span>    <span class="subxComment">#     var r: (handle typeinfo-fields) = find-or-create-typeinfo-fields(t, word-slice/v-&gt;name)</span>
<span id="L11702" class="LineNr">11702 </span>    <span class="subxComment">#     TODO: ensure that r-&gt;first is null</span>
<span id="L11703" class="LineNr">11703 </span>    <span class="subxComment">#     r-&gt;index = curr-index</span>
<span id="L11704" class="LineNr">11704 </span>    <span class="subxComment">#     curr-index++</span>
<span id="L11705" class="LineNr">11705 </span>    <span class="subxComment">#     r-&gt;input-var = v</span>
<span id="L11706" class="LineNr">11706 </span>    <span class="subxComment">#     if r-&gt;output-var == 0</span>
<span id="L11707" class="LineNr">11707 </span>    <span class="subxComment">#       r-&gt;output-var = new literal</span>
<span id="L11708" class="LineNr">11708 </span>    <span class="subxComment">#     TODO: ensure nothing else in line</span>
<span id="L11709" class="LineNr">11709 </span>    <span class="subxComment"># t-&gt;total-size-in-bytes = -2 (not yet initialized)</span>
<span id="L11710" class="LineNr">11710 </span>    <span class="subxComment">#</span>
<span id="L11711" class="LineNr">11711 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11712" class="LineNr">11712 </span>    55/push-ebp
<span id="L11713" class="LineNr">11713 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11714" class="LineNr">11714 </span>    <span class="subxComment"># var curr-index: int at *(ebp-4)</span>
<span id="L11715" class="LineNr">11715 </span>    68/push 0/imm32
<span id="L11716" class="LineNr">11716 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11717" class="LineNr">11717 </span>    50/push-eax
<span id="L11718" class="LineNr">11718 </span>    51/push-ecx
<span id="L11719" class="LineNr">11719 </span>    52/push-edx
<span id="L11720" class="LineNr">11720 </span>    53/push-ebx
<span id="L11721" class="LineNr">11721 </span>    56/push-esi
<span id="L11722" class="LineNr">11722 </span>    57/push-edi
<span id="L11723" class="LineNr">11723 </span>    <span class="subxComment"># edi = t</span>
<span id="L11724" class="LineNr">11724 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L11725" class="LineNr">11725 </span>    <span class="subxComment"># var line/ecx: (stream byte 512)</span>
<span id="L11726" class="LineNr">11726 </span>    81 5/subop/subtract %esp 0x200/imm32
<span id="L11727" class="LineNr">11727 </span>    68/push 0x200/imm32/size
<span id="L11728" class="LineNr">11728 </span>    68/push 0/imm32/read
<span id="L11729" class="LineNr">11729 </span>    68/push 0/imm32/write
<span id="L11730" class="LineNr">11730 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L11731" class="LineNr">11731 </span>    <span class="subxComment"># var word-slice/edx: slice</span>
<span id="L11732" class="LineNr">11732 </span>    68/push 0/imm32/end
<span id="L11733" class="LineNr">11733 </span>    68/push 0/imm32/start
<span id="L11734" class="LineNr">11734 </span>    89/&lt;- %edx 4/r32/esp
<span id="L11735" class="LineNr">11735 </span>    <span class="subxComment"># var v/esi: (handle var)</span>
<span id="L11736" class="LineNr">11736 </span>    68/push 0/imm32
<span id="L11737" class="LineNr">11737 </span>    68/push 0/imm32
<span id="L11738" class="LineNr">11738 </span>    89/&lt;- %esi 4/r32/esp
<span id="L11739" class="LineNr">11739 </span>    <span class="subxComment"># var r/ebx: (handle typeinfo-entry)</span>
<span id="L11740" class="LineNr">11740 </span>    68/push 0/imm32
<span id="L11741" class="LineNr">11741 </span>    68/push 0/imm32
<span id="L11742" class="LineNr">11742 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L11743" class="LineNr">11743 </span>    {
<span id="L11744" class="LineNr">11744 </span><span class="Constant">$populate-mu-type:line-loop</span>:
<span id="L11745" class="LineNr">11745 </span>      (<a href='../106stream.subx.html#L17'>clear-stream</a> %ecx)
<span id="L11746" class="LineNr">11746 </span>      (<a href='../122read-line.subx.html#L9'>read-line-buffered</a> *(ebp+8) %ecx)
<span id="L11747" class="LineNr">11747 </span>      <span class="subxComment"># if (line-&gt;write == 0) abort</span>
<span id="L11748" class="LineNr">11748 </span>      81 7/subop/compare *ecx 0/imm32
<span id="L11749" class="LineNr">11749 </span>      0f 84/jump-if-= $populate-mu-type:error1/disp32
<span id="L11750" class="Folded">11750 </span><span class="Folded">+--  6 lines: #?       # dump line ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L11756" class="LineNr">11756 </span>      (<a href='mu.subx.html#L8647'>next-mu-token</a> %ecx %edx)
<span id="L11757" class="LineNr">11757 </span>      <span class="subxComment"># if slice-empty?(word-slice) continue</span>
<span id="L11758" class="LineNr">11758 </span>      (<a href='../123slice.subx.html#L9'>slice-empty?</a> %edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L11759" class="LineNr">11759 </span>      3d/compare-eax-and 0/imm32
<span id="L11760" class="LineNr">11760 </span>      0f 85/jump-if-!= <span class="Constant">loop</span>/disp32
<span id="L11761" class="LineNr">11761 </span>      <span class="subxComment"># if slice-equal?(word-slice, &quot;}&quot;) break</span>
<span id="L11762" class="LineNr">11762 </span>      (<a href='../123slice.subx.html#L120'>slice-equal?</a> %edx <span class="Constant">&quot;}&quot;</span>)
<span id="L11763" class="LineNr">11763 </span>      3d/compare-eax-and 0/imm32
<span id="L11764" class="LineNr">11764 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L11765" class="LineNr">11765 </span><span class="Constant">$populate-mu-type:parse-element</span>:
<span id="L11766" class="LineNr">11766 </span>      <span class="subxComment"># v = parse-var-with-type(word-slice, first-line)</span>
<span id="L11767" class="LineNr">11767 </span>      <span class="subxComment"># must do this first to strip the trailing ':' from word-slice before</span>
<span id="L11768" class="LineNr">11768 </span>      <span class="subxComment"># using it in find-or-create-typeinfo-fields below</span>
<span id="L11769" class="LineNr">11769 </span>      <span class="subxComment"># TODO: clean up that mutation in parse-var-with-type</span>
<span id="L11770" class="LineNr">11770 </span>      (<a href='mu.subx.html#L8352'>parse-var-with-type</a> %edx %ecx %esi *(ebp+0x10) *(ebp+0x14))
<span id="L11771" class="LineNr">11771 </span>      <span class="subxComment"># if v is an addr, abort</span>
<span id="L11772" class="LineNr">11772 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11773" class="LineNr">11773 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11774" class="LineNr">11774 </span>      (<a href='mu.subx.html#L21476'>is-mu-addr-type?</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L11775" class="LineNr">11775 </span>      3d/compare-eax-and 0/imm32/false
<span id="L11776" class="LineNr">11776 </span>      0f 85/jump-if-!= $populate-mu-type:error2/disp32
<span id="L11777" class="LineNr">11777 </span>      <span class="subxComment"># if v is an array, abort  (we could support it, but initialization gets complex)</span>
<span id="L11778" class="LineNr">11778 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11779" class="LineNr">11779 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11780" class="LineNr">11780 </span>      (<a href='mu.subx.html#L21498'>is-mu-array-type?</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L11781" class="LineNr">11781 </span>      3d/compare-eax-and 0/imm32/false
<span id="L11782" class="LineNr">11782 </span>      0f 85/jump-if-!= $populate-mu-type:error3/disp32
<span id="L11783" class="LineNr">11783 </span>      <span class="subxComment"># if v is a byte, abort</span>
<span id="L11784" class="LineNr">11784 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11785" class="LineNr">11785 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11786" class="LineNr">11786 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 8)  <span class="subxComment"># byte =&gt; eax</span>
<span id="L11787" class="LineNr">11787 </span>      3d/compare-eax-and 0/imm32/false
<span id="L11788" class="LineNr">11788 </span>      0f 85/jump-if-!= $populate-mu-type:error4/disp32
<span id="L11789" class="LineNr">11789 </span>      <span class="subxComment"># if v is a slice, abort</span>
<span id="L11790" class="LineNr">11790 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11791" class="LineNr">11791 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11792" class="LineNr">11792 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 0xc)  <span class="subxComment"># slice =&gt; eax</span>
<span id="L11793" class="LineNr">11793 </span>      3d/compare-eax-and 0/imm32/false
<span id="L11794" class="LineNr">11794 </span>      0f 85/jump-if-!= $populate-mu-type:error5/disp32
<span id="L11795" class="LineNr">11795 </span>      <span class="subxComment"># if v is a stream, abort  (we could support it, but initialization gets even more complex)</span>
<span id="L11796" class="LineNr">11796 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11797" class="LineNr">11797 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L11798" class="LineNr">11798 </span>      (<a href='mu.subx.html#L21520'>is-mu-stream-type?</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L11799" class="LineNr">11799 </span>      3d/compare-eax-and 0/imm32/false
<span id="L11800" class="LineNr">11800 </span>      0f 85/jump-if-!= $populate-mu-type:error6/disp32
<span id="L11801" class="LineNr">11801 </span>      <span class="subxComment"># var tmp/ecx</span>
<span id="L11802" class="LineNr">11802 </span>      51/push-ecx
<span id="L11803" class="LineNr">11803 </span><span class="Constant">$populate-mu-type:create-typeinfo-fields</span>:
<span id="L11804" class="LineNr">11804 </span>      <span class="subxComment"># var r/ebx: (handle typeinfo-entry)</span>
<span id="L11805" class="LineNr">11805 </span>      (<a href='mu.subx.html#L11633'>find-or-create-typeinfo-fields</a> %edi %edx %ebx)
<span id="L11806" class="LineNr">11806 </span>      <span class="subxComment"># r-&gt;index = curr-index</span>
<span id="L11807" class="LineNr">11807 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L11808" class="LineNr">11808 </span>      8b/-&gt; *(ebp-4) 1/r32/ecx
<span id="L11809" class="LineNr">11809 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;saving index &quot;)</span>
<span id="L11810" class="LineNr">11810 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %ecx)</span>
<span id="L11811" class="LineNr">11811 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot; at &quot;)</span>
<span id="L11812" class="LineNr">11812 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %edi)</span>
<span id="L11813" class="LineNr">11813 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L11814" class="LineNr">11814 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L11815" class="LineNr">11815 </span>      89/&lt;- *(eax+8) 1/r32/ecx  <span class="subxComment"># Typeinfo-entry-index</span>
<span id="L11816" class="LineNr">11816 </span>      <span class="subxComment"># ++curr-index</span>
<span id="L11817" class="LineNr">11817 </span>      ff 0/subop/increment *(ebp-4)
<span id="L11818" class="LineNr">11818 </span><span class="Constant">$populate-mu-type:set-input-type</span>:
<span id="L11819" class="LineNr">11819 </span>      <span class="subxComment"># r-&gt;input-var = v</span>
<span id="L11820" class="LineNr">11820 </span>      8b/-&gt; *esi 1/r32/ecx
<span id="L11821" class="LineNr">11821 </span>      89/&lt;- *eax 1/r32/ecx  <span class="subxComment"># Typeinfo-entry-input-var</span>
<span id="L11822" class="LineNr">11822 </span>      8b/-&gt; *(esi+4) 1/r32/ecx
<span id="L11823" class="LineNr">11823 </span>      89/&lt;- *(eax+4) 1/r32/ecx  <span class="subxComment"># Typeinfo-entry-input-var</span>
<span id="L11824" class="LineNr">11824 </span>      <span class="subxComment"># restore line</span>
<span id="L11825" class="LineNr">11825 </span>      59/pop-to-ecx
<span id="L11826" class="LineNr">11826 </span>      {
<span id="L11827" class="LineNr">11827 </span><span class="Constant">$populate-mu-type:create-output-type</span>:
<span id="L11828" class="LineNr">11828 </span>        <span class="subxComment"># if (r-&gt;output-var == 0) create a new var with some placeholder data</span>
<span id="L11829" class="LineNr">11829 </span>        81 7/subop/compare *(eax+0xc) 0/imm32  <span class="subxComment"># Typeinfo-entry-output-var</span>
<span id="L11830" class="LineNr">11830 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L11831" class="LineNr">11831 </span>        8d/copy-address *(eax+0xc) 0/r32/eax  <span class="subxComment"># Typeinfo-entry-output-var</span>
<span id="L11832" class="LineNr">11832 </span>        (<a href='mu.subx.html#L11105'>new-literal</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> %edx %eax)
<span id="L11833" class="LineNr">11833 </span>      }
<span id="L11834" class="LineNr">11834 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L11835" class="LineNr">11835 </span>    }
<span id="L11836" class="LineNr">11836 </span><span class="Constant">$populate-mu-type:invalidate-total-size-in-bytes</span>:
<span id="L11837" class="LineNr">11837 </span>    <span class="subxComment"># Offsets and total size may not be accurate here since we may not yet</span>
<span id="L11838" class="LineNr">11838 </span>    <span class="subxComment"># have encountered the element types.</span>
<span id="L11839" class="LineNr">11839 </span>    <span class="subxComment"># We'll recompute them separately after parsing the entire program.</span>
<span id="L11840" class="LineNr">11840 </span>    c7 0/subop/copy *(edi+0xc) -2/imm32/uninitialized  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L11841" class="LineNr">11841 </span><span class="Constant">$populate-mu-type:end</span>:
<span id="L11842" class="LineNr">11842 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L11843" class="LineNr">11843 </span>    81 0/subop/add %esp 0x224/imm32
<span id="L11844" class="LineNr">11844 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11845" class="LineNr">11845 </span>    5f/pop-to-edi
<span id="L11846" class="LineNr">11846 </span>    5e/pop-to-esi
<span id="L11847" class="LineNr">11847 </span>    5b/pop-to-ebx
<span id="L11848" class="LineNr">11848 </span>    5a/pop-to-edx
<span id="L11849" class="LineNr">11849 </span>    59/pop-to-ecx
<span id="L11850" class="LineNr">11850 </span>    58/pop-to-eax
<span id="L11851" class="LineNr">11851 </span>    <span class="subxComment"># reclaim curr-index</span>
<span id="L11852" class="LineNr">11852 </span>    81 0/subop/add %esp 4/imm32
<span id="L11853" class="LineNr">11853 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11854" class="LineNr">11854 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11855" class="LineNr">11855 </span>    5d/pop-to-ebp
<span id="L11856" class="LineNr">11856 </span>    c3/return
<span id="L11857" class="LineNr">11857 </span>
<span id="L11858" class="LineNr">11858 </span><span class="Constant">$populate-mu-type:error1</span>:
<span id="L11859" class="LineNr">11859 </span>    <span class="subxComment"># error(&quot;incomplete type definition '&quot; t-&gt;name &quot;'\n&quot;)</span>
<span id="L11860" class="LineNr">11860 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;incomplete type definition '&quot;</span>)
<span id="L11861" class="LineNr">11861 </span>    (<a href='mu.subx.html#L11913'>type-name</a> *edi)  <span class="subxComment"># Typeinfo-id =&gt; eax</span>
<span id="L11862" class="LineNr">11862 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L11863" class="LineNr">11863 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;\n&quot;</span>)
<span id="L11864" class="LineNr">11864 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L11865" class="LineNr">11865 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L11866" class="LineNr">11866 </span>    <span class="subxComment"># never gets here</span>
<span id="L11867" class="LineNr">11867 </span>
<span id="L11868" class="LineNr">11868 </span><span class="Constant">$populate-mu-type:error2</span>:
<span id="L11869" class="LineNr">11869 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;type &quot;</span>)
<span id="L11870" class="LineNr">11870 </span>    (<a href='mu.subx.html#L11913'>type-name</a> *edi)  <span class="subxComment"># Typeinfo-id =&gt; eax</span>
<span id="L11871" class="LineNr">11871 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L11872" class="LineNr">11872 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: 'addr' elements not allowed\n&quot;</span>)
<span id="L11873" class="LineNr">11873 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L11874" class="LineNr">11874 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L11875" class="LineNr">11875 </span>    <span class="subxComment"># never gets here</span>
<span id="L11876" class="LineNr">11876 </span>
<span id="L11877" class="LineNr">11877 </span><span class="Constant">$populate-mu-type:error3</span>:
<span id="L11878" class="LineNr">11878 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;type &quot;</span>)
<span id="L11879" class="LineNr">11879 </span>    (<a href='mu.subx.html#L11913'>type-name</a> *edi)  <span class="subxComment"># Typeinfo-id =&gt; eax</span>
<span id="L11880" class="LineNr">11880 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L11881" class="LineNr">11881 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: 'array' elements not allowed for now\n&quot;</span>)
<span id="L11882" class="LineNr">11882 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L11883" class="LineNr">11883 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L11884" class="LineNr">11884 </span>    <span class="subxComment"># never gets here</span>
<span id="L11885" class="LineNr">11885 </span>
<span id="L11886" class="LineNr">11886 </span><span class="Constant">$populate-mu-type:error4</span>:
<span id="L11887" class="LineNr">11887 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;type &quot;</span>)
<span id="L11888" class="LineNr">11888 </span>    (<a href='mu.subx.html#L11913'>type-name</a> *edi)  <span class="subxComment"># Typeinfo-id =&gt; eax</span>
<span id="L11889" class="LineNr">11889 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L11890" class="LineNr">11890 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: 'byte' elements not allowed\n&quot;</span>)
<span id="L11891" class="LineNr">11891 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L11892" class="LineNr">11892 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L11893" class="LineNr">11893 </span>    <span class="subxComment"># never gets here</span>
<span id="L11894" class="LineNr">11894 </span>
<span id="L11895" class="LineNr">11895 </span><span class="Constant">$populate-mu-type:error5</span>:
<span id="L11896" class="LineNr">11896 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;type &quot;</span>)
<span id="L11897" class="LineNr">11897 </span>    (<a href='mu.subx.html#L11913'>type-name</a> *edi)  <span class="subxComment"># Typeinfo-id =&gt; eax</span>
<span id="L11898" class="LineNr">11898 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L11899" class="LineNr">11899 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: 'slice' elements not allowed\n&quot;</span>)
<span id="L11900" class="LineNr">11900 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L11901" class="LineNr">11901 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L11902" class="LineNr">11902 </span>    <span class="subxComment"># never gets here</span>
<span id="L11903" class="LineNr">11903 </span>
<span id="L11904" class="LineNr">11904 </span><span class="Constant">$populate-mu-type:error6</span>:
<span id="L11905" class="LineNr">11905 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;type &quot;</span>)
<span id="L11906" class="LineNr">11906 </span>    (<a href='mu.subx.html#L11913'>type-name</a> *edi)  <span class="subxComment"># Typeinfo-id =&gt; eax</span>
<span id="L11907" class="LineNr">11907 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L11908" class="LineNr">11908 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: 'stream' elements not allowed for now\n&quot;</span>)
<span id="L11909" class="LineNr">11909 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L11910" class="LineNr">11910 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L11911" class="LineNr">11911 </span>    <span class="subxComment"># never gets here</span>
<span id="L11912" class="LineNr">11912 </span>
<span id="L11913" class="LineNr">11913 </span><span class="subxFunction">type-name</span>:  <span class="subxComment"># index: int -&gt; result/eax: (addr array byte)</span>
<span id="L11914" class="LineNr">11914 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11915" class="LineNr">11915 </span>    55/push-ebp
<span id="L11916" class="LineNr">11916 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11917" class="LineNr">11917 </span>    <span class="subxComment">#</span>
<span id="L11918" class="LineNr">11918 </span>    (index <span class="SpecialChar"><a href='mu.subx.html#L391'>Type-id</a></span> *(ebp+8))
<span id="L11919" class="LineNr">11919 </span><span class="Constant">$type-name:end</span>:
<span id="L11920" class="LineNr">11920 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11921" class="LineNr">11921 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11922" class="LineNr">11922 </span>    5d/pop-to-ebp
<span id="L11923" class="LineNr">11923 </span>    c3/return
<span id="L11924" class="LineNr">11924 </span>
<span id="L11925" class="LineNr">11925 </span><span class="subxFunction">index</span>:  <span class="subxComment"># arr: (addr stream (handle array byte)), index: int -&gt; result/eax: (addr array byte)</span>
<span id="L11926" class="LineNr">11926 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11927" class="LineNr">11927 </span>    55/push-ebp
<span id="L11928" class="LineNr">11928 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11929" class="LineNr">11929 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11930" class="LineNr">11930 </span>    56/push-esi
<span id="L11931" class="LineNr">11931 </span>    <span class="subxComment"># TODO: bounds-check index</span>
<span id="L11932" class="LineNr">11932 </span>    <span class="subxComment"># esi = arr</span>
<span id="L11933" class="LineNr">11933 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L11934" class="LineNr">11934 </span>    <span class="subxComment"># eax = index</span>
<span id="L11935" class="LineNr">11935 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L11936" class="LineNr">11936 </span>    <span class="subxComment"># eax = *(arr + 12 + index)</span>
<span id="L11937" class="LineNr">11937 </span>    8b/-&gt; *(esi+eax&lt;&lt;2+0xc) 0/r32/eax
<span id="L11938" class="LineNr">11938 </span><span class="Constant">$index:end</span>:
<span id="L11939" class="LineNr">11939 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L11940" class="LineNr">11940 </span>    5e/pop-to-esi
<span id="L11941" class="LineNr">11941 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11942" class="LineNr">11942 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11943" class="LineNr">11943 </span>    5d/pop-to-ebp
<span id="L11944" class="LineNr">11944 </span>    c3/return
<span id="L11945" class="LineNr">11945 </span>
<span id="L11946" class="LineNr">11946 </span><span class="subxComment">#######################################################</span>
<span id="L11947" class="LineNr">11947 </span><span class="subxComment"># Compute type sizes</span>
<span id="L11948" class="LineNr">11948 </span><span class="subxComment">#######################################################</span>
<span id="L11949" class="LineNr">11949 </span>
<span id="L11950" class="LineNr">11950 </span><span class="subxComment"># Compute the sizes of all user-defined types.</span>
<span id="L11951" class="LineNr">11951 </span><span class="subxComment"># We'll need the sizes of their elements, which may be other user-defined</span>
<span id="L11952" class="LineNr">11952 </span><span class="subxComment"># types, which we will compute as needed.</span>
<span id="L11953" class="LineNr">11953 </span>
<span id="L11954" class="LineNr">11954 </span><span class="subxComment"># Initially, all user-defined types have their sizes set to -2 (invalid)</span>
<span id="L11955" class="LineNr">11955 </span><span class="subxFunction">populate-mu-type-sizes</span>:  <span class="subxComment"># err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L11956" class="LineNr">11956 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11957" class="LineNr">11957 </span>    55/push-ebp
<span id="L11958" class="LineNr">11958 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11959" class="LineNr">11959 </span><span class="Constant">$populate-mu-type-sizes:total-sizes</span>:
<span id="L11960" class="LineNr">11960 </span>    <span class="subxComment"># var curr/eax: (addr typeinfo) = lookup(Program-&gt;types)</span>
<span id="L11961" class="LineNr">11961 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-types *_Program-types-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L11962" class="LineNr">11962 </span>    {
<span id="L11963" class="LineNr">11963 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L11964" class="LineNr">11964 </span>      3d/compare-eax-and 0/imm32/null
<span id="L11965" class="LineNr">11965 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11966" class="LineNr">11966 </span>      (<a href='mu.subx.html#L11992'>populate-mu-type-sizes-in-type</a> %eax *(ebp+8) *(ebp+0xc))
<span id="L11967" class="LineNr">11967 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L11968" class="LineNr">11968 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x10) *(eax+0x14))  <span class="subxComment"># Typeinfo-next Typeinfo-next =&gt; eax</span>
<span id="L11969" class="LineNr">11969 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L11970" class="LineNr">11970 </span>    }
<span id="L11971" class="LineNr">11971 </span><span class="Constant">$populate-mu-type-sizes:offsets</span>:
<span id="L11972" class="LineNr">11972 </span>    <span class="subxComment"># curr = *Program-&gt;types</span>
<span id="L11973" class="LineNr">11973 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-types *_Program-types-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L11974" class="LineNr">11974 </span>    {
<span id="L11975" class="LineNr">11975 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L11976" class="LineNr">11976 </span>      3d/compare-eax-and 0/imm32/null
<span id="L11977" class="LineNr">11977 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L11978" class="LineNr">11978 </span>      (<a href='mu.subx.html#L12156'>populate-mu-type-offsets</a> %eax *(ebp+8) *(ebp+0xc))
<span id="L11979" class="LineNr">11979 </span>      <span class="subxComment"># curr = curr-&gt;next</span>
<span id="L11980" class="LineNr">11980 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x10) *(eax+0x14))  <span class="subxComment"># Typeinfo-next Typeinfo-next =&gt; eax</span>
<span id="L11981" class="LineNr">11981 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L11982" class="LineNr">11982 </span>    }
<span id="L11983" class="LineNr">11983 </span><span class="Constant">$populate-mu-type-sizes:end</span>:
<span id="L11984" class="LineNr">11984 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L11985" class="LineNr">11985 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L11986" class="LineNr">11986 </span>    5d/pop-to-ebp
<span id="L11987" class="LineNr">11987 </span>    c3/return
<span id="L11988" class="LineNr">11988 </span>
<span id="L11989" class="LineNr">11989 </span><span class="subxComment"># compute sizes of all fields, recursing as necessary</span>
<span id="L11990" class="LineNr">11990 </span><span class="subxComment"># sum up all their sizes to arrive at total size</span>
<span id="L11991" class="LineNr">11991 </span><span class="subxComment"># fields may be out of order, but that doesn't affect the answer</span>
<span id="L11992" class="LineNr">11992 </span><span class="subxFunction">populate-mu-type-sizes-in-type</span>:  <span class="subxComment"># T: (addr typeinfo), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L11993" class="LineNr">11993 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L11994" class="LineNr">11994 </span>    55/push-ebp
<span id="L11995" class="LineNr">11995 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L11996" class="LineNr">11996 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L11997" class="LineNr">11997 </span>    50/push-eax
<span id="L11998" class="LineNr">11998 </span>    51/push-ecx
<span id="L11999" class="LineNr">11999 </span>    52/push-edx
<span id="L12000" class="LineNr">12000 </span>    56/push-esi
<span id="L12001" class="LineNr">12001 </span>    57/push-edi
<span id="L12002" class="LineNr">12002 </span>    <span class="subxComment"># esi = T</span>
<span id="L12003" class="LineNr">12003 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L12004" class="LineNr">12004 </span>    <span class="subxComment"># if T is already computed, return</span>
<span id="L12005" class="LineNr">12005 </span>    81 7/subop/compare *(esi+0xc) 0/imm32  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L12006" class="LineNr">12006 </span>    0f 8d/jump-if-&gt;= $populate-mu-type-sizes-in-type:end/disp32
<span id="L12007" class="LineNr">12007 </span>    <span class="subxComment"># if T is being computed, abort</span>
<span id="L12008" class="LineNr">12008 </span>    81 7/subop/compare *(esi+0xc) -1/imm32/being-computed  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L12009" class="LineNr">12009 </span>    0f 84/jump-if-= $populate-mu-type-sizes-in-type:abort/disp32
<span id="L12010" class="LineNr">12010 </span>    <span class="subxComment"># tag T (-2 to -1) to avoid infinite recursion</span>
<span id="L12011" class="LineNr">12011 </span>    c7 0/subop/copy *(esi+0xc) -1/imm32/being-computed  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L12012" class="LineNr">12012 </span>    <span class="subxComment"># var total-size/edi: int = 0</span>
<span id="L12013" class="LineNr">12013 </span>    bf/copy-to-edi 0/imm32
<span id="L12014" class="LineNr">12014 </span>    <span class="subxH1Comment"># - for every field, if it's a user-defined type, compute its size</span>
<span id="L12015" class="LineNr">12015 </span>    <span class="subxComment"># var table/ecx: (addr table (handle array byte) (handle typeinfo-entry)) = lookup(T-&gt;fields)</span>
<span id="L12016" class="LineNr">12016 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Typeinfo-fields Typeinfo-fields =&gt; eax</span>
<span id="L12017" class="LineNr">12017 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L12018" class="LineNr">12018 </span>    <span class="subxComment"># var table-size/edx: int = table-&gt;write</span>
<span id="L12019" class="LineNr">12019 </span>    8b/-&gt; *ecx 2/r32/edx  <span class="subxComment"># stream-write</span>
<span id="L12020" class="LineNr">12020 </span>    <span class="subxComment"># var curr/ecx: (addr table_row) = table-&gt;data</span>
<span id="L12021" class="LineNr">12021 </span>    8d/copy-address *(ecx+0xc) 1/r32/ecx
<span id="L12022" class="LineNr">12022 </span>    <span class="subxComment"># var max/edx: (addr table_row) = table-&gt;data + table-&gt;write</span>
<span id="L12023" class="LineNr">12023 </span>    8d/copy-address *(ecx+edx) 2/r32/edx
<span id="L12024" class="LineNr">12024 </span>    {
<span id="L12025" class="LineNr">12025 </span><span class="Constant">$populate-mu-type-sizes-in-type:loop</span>:
<span id="L12026" class="LineNr">12026 </span>      <span class="subxComment"># if (curr &gt;= max) break</span>
<span id="L12027" class="LineNr">12027 </span>      39/compare %ecx 2/r32/edx
<span id="L12028" class="LineNr">12028 </span>      73/jump-if-addr&gt;= <span class="Constant">break</span>/disp8
<span id="L12029" class="LineNr">12029 </span>      <span class="subxComment"># var t/eax: (addr typeinfo-entry) = lookup(curr-&gt;value)</span>
<span id="L12030" class="LineNr">12030 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L12031" class="LineNr">12031 </span>      <span class="subxComment"># if (t-&gt;input-var == 0) silently ignore it; we'll emit a nice error message while type-checking</span>
<span id="L12032" class="LineNr">12032 </span>      81 7/subop/compare *eax 0/imm32  <span class="subxComment"># Typeinfo-entry-input-var</span>
<span id="L12033" class="LineNr">12033 </span>      74/jump-if-= $populate-mu-type-sizes-in-type:end/disp8
<span id="L12034" class="LineNr">12034 </span>      <span class="subxComment"># compute size of t-&gt;input-var</span>
<span id="L12035" class="LineNr">12035 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Typeinfo-entry-input-var Typeinfo-entry-input-var =&gt; eax</span>
<span id="L12036" class="LineNr">12036 </span>      (<a href='mu.subx.html#L12066'>compute-size-of-var</a> %eax *(ebp+0xc) *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L12037" class="LineNr">12037 </span>      <span class="subxComment"># result += eax</span>
<span id="L12038" class="LineNr">12038 </span>      01/add-to %edi 0/r32/eax
<span id="L12039" class="LineNr">12039 </span>      <span class="subxComment"># curr += row-size</span>
<span id="L12040" class="LineNr">12040 </span>      81 0/subop/add %ecx 0x10/imm32  <span class="subxComment"># Typeinfo-fields-row-size</span>
<span id="L12041" class="LineNr">12041 </span>      <span class="subxComment">#</span>
<span id="L12042" class="LineNr">12042 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L12043" class="LineNr">12043 </span>    }
<span id="L12044" class="LineNr">12044 </span>    <span class="subxH1Comment"># - save result</span>
<span id="L12045" class="LineNr">12045 </span>    89/&lt;- *(esi+0xc) 7/r32/edi  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L12046" class="LineNr">12046 </span><span class="Constant">$populate-mu-type-sizes-in-type:end</span>:
<span id="L12047" class="LineNr">12047 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12048" class="LineNr">12048 </span>    5f/pop-to-edi
<span id="L12049" class="LineNr">12049 </span>    5e/pop-to-esi
<span id="L12050" class="LineNr">12050 </span>    5a/pop-to-edx
<span id="L12051" class="LineNr">12051 </span>    59/pop-to-ecx
<span id="L12052" class="LineNr">12052 </span>    58/pop-to-eax
<span id="L12053" class="LineNr">12053 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12054" class="LineNr">12054 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12055" class="LineNr">12055 </span>    5d/pop-to-ebp
<span id="L12056" class="LineNr">12056 </span>    c3/return
<span id="L12057" class="LineNr">12057 </span>
<span id="L12058" class="LineNr">12058 </span><span class="Constant">$populate-mu-type-sizes-in-type:abort</span>:
<span id="L12059" class="LineNr">12059 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;cycle in type definitions\n&quot;</span>)
<span id="L12060" class="LineNr">12060 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L12061" class="LineNr">12061 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L12062" class="LineNr">12062 </span>    <span class="subxComment"># never gets here</span>
<span id="L12063" class="LineNr">12063 </span>
<span id="L12064" class="LineNr">12064 </span><span class="subxComment"># Analogous to size-of, except we need to compute what size-of can just read</span>
<span id="L12065" class="LineNr">12065 </span><span class="subxComment"># off the right data structures.</span>
<span id="L12066" class="LineNr">12066 </span><span class="subxFunction">compute-size-of-var</span>:  <span class="subxComment"># in: (addr var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L12067" class="LineNr">12067 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12068" class="LineNr">12068 </span>    55/push-ebp
<span id="L12069" class="LineNr">12069 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12070" class="LineNr">12070 </span>    <span class="subxS1Comment"># . push registers</span>
<span id="L12071" class="LineNr">12071 </span>    51/push-ecx
<span id="L12072" class="LineNr">12072 </span>    <span class="subxComment"># var t/ecx: (addr type-tree) = lookup(v-&gt;type)</span>
<span id="L12073" class="LineNr">12073 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L12074" class="LineNr">12074 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L12075" class="LineNr">12075 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L12076" class="LineNr">12076 </span>    <span class="subxComment"># if (t-&gt;is-atom == false) t = lookup(t-&gt;left)</span>
<span id="L12077" class="LineNr">12077 </span>    {
<span id="L12078" class="LineNr">12078 </span>      81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L12079" class="LineNr">12079 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L12080" class="LineNr">12080 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L12081" class="LineNr">12081 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L12082" class="LineNr">12082 </span>    }
<span id="L12083" class="LineNr">12083 </span>    <span class="subxComment"># TODO: ensure t is an atom</span>
<span id="L12084" class="LineNr">12084 </span>    (<a href='mu.subx.html#L12093'>compute-size-of-type-id</a> *(ecx+4) *(ebp+0xc) *(ebp+0x10))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L12085" class="LineNr">12085 </span><span class="Constant">$compute-size-of-var:end</span>:
<span id="L12086" class="LineNr">12086 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12087" class="LineNr">12087 </span>    59/pop-to-ecx
<span id="L12088" class="LineNr">12088 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12089" class="LineNr">12089 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12090" class="LineNr">12090 </span>    5d/pop-to-ebp
<span id="L12091" class="LineNr">12091 </span>    c3/return
<span id="L12092" class="LineNr">12092 </span>
<span id="L12093" class="LineNr">12093 </span><span class="subxFunction">compute-size-of-type-id</span>:  <span class="subxComment"># t: type-id, err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L12094" class="LineNr">12094 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12095" class="LineNr">12095 </span>    55/push-ebp
<span id="L12096" class="LineNr">12096 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12097" class="LineNr">12097 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12098" class="LineNr">12098 </span>    51/push-ecx
<span id="L12099" class="LineNr">12099 </span>    <span class="subxComment"># var out/ecx: (handle typeinfo)</span>
<span id="L12100" class="LineNr">12100 </span>    68/push 0/imm32
<span id="L12101" class="LineNr">12101 </span>    68/push 0/imm32
<span id="L12102" class="LineNr">12102 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L12103" class="LineNr">12103 </span>    <span class="subxComment"># eax = t</span>
<span id="L12104" class="LineNr">12104 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L12105" class="LineNr">12105 </span>    <span class="subxComment"># if t is a literal, return 0</span>
<span id="L12106" class="LineNr">12106 </span>    3d/compare-eax-and 0/imm32/literal
<span id="L12107" class="LineNr">12107 </span>    0f 84/jump-if-= $compute-size-of-type-id:end/disp32  <span class="subxComment"># eax changes type from type-id to int</span>
<span id="L12108" class="LineNr">12108 </span>    <span class="subxComment"># if t is a byte, return 4 (because we don't really support non-multiples of 4)</span>
<span id="L12109" class="LineNr">12109 </span>    3d/compare-eax-and 8/imm32/byte
<span id="L12110" class="LineNr">12110 </span>    {
<span id="L12111" class="LineNr">12111 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L12112" class="LineNr">12112 </span>      b8/copy-to-eax 4/imm32
<span id="L12113" class="LineNr">12113 </span>      eb/jump $compute-size-of-type-id:end/disp8
<span id="L12114" class="LineNr">12114 </span>    }
<span id="L12115" class="LineNr">12115 </span>    <span class="subxComment"># if t is a handle, return 8</span>
<span id="L12116" class="LineNr">12116 </span>    3d/compare-eax-and 4/imm32/handle
<span id="L12117" class="LineNr">12117 </span>    {
<span id="L12118" class="LineNr">12118 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L12119" class="LineNr">12119 </span>      b8/copy-to-eax 8/imm32
<span id="L12120" class="LineNr">12120 </span>      eb/jump $compute-size-of-type-id:end/disp8  <span class="subxComment"># eax changes type from type-id to int</span>
<span id="L12121" class="LineNr">12121 </span>    }
<span id="L12122" class="LineNr">12122 </span>    <span class="subxComment"># if t is a slice, return 8</span>
<span id="L12123" class="LineNr">12123 </span>    3d/compare-eax-and 0xc/imm32/slice
<span id="L12124" class="LineNr">12124 </span>    {
<span id="L12125" class="LineNr">12125 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L12126" class="LineNr">12126 </span>      b8/copy-to-eax 8/imm32
<span id="L12127" class="LineNr">12127 </span>      eb/jump $compute-size-of-type-id:end/disp8  <span class="subxComment"># eax changes type from type-id to int</span>
<span id="L12128" class="LineNr">12128 </span>    }
<span id="L12129" class="LineNr">12129 </span>    <span class="subxComment"># if t is a user-defined type, compute its size</span>
<span id="L12130" class="LineNr">12130 </span>    <span class="subxComment"># TODO: support non-atom type</span>
<span id="L12131" class="LineNr">12131 </span>    (<a href='mu.subx.html#L11519'>find-typeinfo</a> %eax %ecx)
<span id="L12132" class="LineNr">12132 </span>    {
<span id="L12133" class="LineNr">12133 </span>      81 7/subop/compare *ecx 0/imm32
<span id="L12134" class="LineNr">12134 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12135" class="LineNr">12135 </span><span class="Constant">$compute-size-of-type-id:user-defined</span>:
<span id="L12136" class="LineNr">12136 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L12137" class="LineNr">12137 </span>      (<a href='mu.subx.html#L11992'>populate-mu-type-sizes-in-type</a> %eax *(ebp+0xc) *(ebp+0x10))
<span id="L12138" class="LineNr">12138 </span>      8b/-&gt; *(eax+0xc) 0/r32/eax  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L12139" class="LineNr">12139 </span>      eb/jump $compute-size-of-type-id:end/disp8
<span id="L12140" class="LineNr">12140 </span>    }
<span id="L12141" class="LineNr">12141 </span>    <span class="subxComment"># otherwise return the word size</span>
<span id="L12142" class="LineNr">12142 </span>    b8/copy-to-eax 4/imm32
<span id="L12143" class="LineNr">12143 </span><span class="Constant">$compute-size-of-type-id:end</span>:
<span id="L12144" class="LineNr">12144 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L12145" class="LineNr">12145 </span>    81 0/subop/add %esp 8/imm32
<span id="L12146" class="LineNr">12146 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12147" class="LineNr">12147 </span>    59/pop-to-ecx
<span id="L12148" class="LineNr">12148 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12149" class="LineNr">12149 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12150" class="LineNr">12150 </span>    5d/pop-to-ebp
<span id="L12151" class="LineNr">12151 </span>    c3/return
<span id="L12152" class="LineNr">12152 </span>
<span id="L12153" class="LineNr">12153 </span><span class="subxComment"># at this point we have total sizes for all user-defined types</span>
<span id="L12154" class="LineNr">12154 </span><span class="subxComment"># compute offsets for each element</span>
<span id="L12155" class="LineNr">12155 </span><span class="subxComment"># complication: fields may be out of order</span>
<span id="L12156" class="LineNr">12156 </span><span class="subxFunction">populate-mu-type-offsets</span>:  <span class="subxComment"># in: (addr typeinfo), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12157" class="LineNr">12157 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12158" class="LineNr">12158 </span>    55/push-ebp
<span id="L12159" class="LineNr">12159 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12160" class="LineNr">12160 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12161" class="LineNr">12161 </span>    50/push-eax
<span id="L12162" class="LineNr">12162 </span>    51/push-ecx
<span id="L12163" class="LineNr">12163 </span>    52/push-edx
<span id="L12164" class="LineNr">12164 </span>    53/push-ebx
<span id="L12165" class="LineNr">12165 </span>    56/push-esi
<span id="L12166" class="LineNr">12166 </span>    57/push-edi
<span id="L12167" class="LineNr">12167 </span><span class="CommentedCode">#?     (dump-typeinfos &quot;aaa\n&quot;)</span>
<span id="L12168" class="LineNr">12168 </span>    <span class="subxComment"># var curr-offset/edi: int = 0</span>
<span id="L12169" class="LineNr">12169 </span>    bf/copy-to-edi 0/imm32
<span id="L12170" class="LineNr">12170 </span>    <span class="subxComment"># var table/ecx: (addr table string_key (handle typeinfo-entry)) = lookup(in-&gt;fields)</span>
<span id="L12171" class="LineNr">12171 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L12172" class="LineNr">12172 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Typeinfo-fields Typeinfo-fields =&gt; eax</span>
<span id="L12173" class="LineNr">12173 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L12174" class="LineNr">12174 </span>    <span class="subxComment"># var num-elems/edx: int = table-&gt;write / Typeinfo-fields-row-size</span>
<span id="L12175" class="LineNr">12175 </span>    8b/-&gt; *ecx 2/r32/edx  <span class="subxComment"># stream-write</span>
<span id="L12176" class="LineNr">12176 </span>    c1 5/subop/shift-right-logical  %edx 4/imm8
<span id="L12177" class="LineNr">12177 </span>    <span class="subxComment"># var i/ebx: int = 0</span>
<span id="L12178" class="LineNr">12178 </span>    bb/copy-to-ebx 0/imm32
<span id="L12179" class="LineNr">12179 </span>    {
<span id="L12180" class="LineNr">12180 </span><span class="Constant">$populate-mu-type-offsets:loop</span>:
<span id="L12181" class="LineNr">12181 </span>      39/compare %ebx 2/r32/edx
<span id="L12182" class="LineNr">12182 </span>      0f 8d/jump-if-&gt;= <span class="Constant">break</span>/disp32
<span id="L12183" class="LineNr">12183 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;looking up index &quot;)</span>
<span id="L12184" class="LineNr">12184 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %ebx)</span>
<span id="L12185" class="LineNr">12185 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot; in &quot;)</span>
<span id="L12186" class="LineNr">12186 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr *(ebp+8))</span>
<span id="L12187" class="LineNr">12187 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L12188" class="LineNr">12188 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L12189" class="LineNr">12189 </span>      <span class="subxComment"># var v/esi: (addr typeinfo-entry)</span>
<span id="L12190" class="LineNr">12190 </span>      (<a href='mu.subx.html#L12223'>locate-typeinfo-entry-with-index</a> %ecx %ebx *(ebp+0xc) *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L12191" class="LineNr">12191 </span>      89/&lt;- %esi 0/r32/eax
<span id="L12192" class="LineNr">12192 </span>      <span class="subxComment"># if v is null, silently move on; we'll emit a nice error message while type-checking</span>
<span id="L12193" class="LineNr">12193 </span>      81 7/subop/compare %esi 0/imm32  <span class="subxComment"># Typeinfo-entry-input-var</span>
<span id="L12194" class="LineNr">12194 </span>      74/jump-if-= $populate-mu-type-offsets:end/disp8
<span id="L12195" class="LineNr">12195 </span>      <span class="subxComment"># if (v-&gt;input-var == 0) silently ignore v; we'll emit a nice error message while type-checking</span>
<span id="L12196" class="LineNr">12196 </span>      81 7/subop/compare *esi 0/imm32  <span class="subxComment"># Typeinfo-entry-input-var</span>
<span id="L12197" class="LineNr">12197 </span>      74/jump-if-= $populate-mu-type-offsets:end/disp8
<span id="L12198" class="LineNr">12198 </span>      <span class="subxComment"># v-&gt;output-var-&gt;offset = curr-offset</span>
<span id="L12199" class="LineNr">12199 </span>      <span class="subxS1Comment"># . eax: (addr var)</span>
<span id="L12200" class="LineNr">12200 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Typeinfo-entry-output-var Typeinfo-entry-output-var =&gt; eax</span>
<span id="L12201" class="LineNr">12201 </span>      89/&lt;- *(eax+0x14) 7/r32/edi  <span class="subxComment"># Var-offset</span>
<span id="L12202" class="LineNr">12202 </span>      <span class="subxComment"># curr-offset += size-of(v-&gt;input-var)</span>
<span id="L12203" class="LineNr">12203 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># Typeinfo-entry-input-var Typeinfo-entry-input-var =&gt; eax</span>
<span id="L12204" class="LineNr">12204 </span>      (<a href='mu.subx.html#L14286'>size-of</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L12205" class="LineNr">12205 </span>      01/add-to %edi 0/r32/eax
<span id="L12206" class="LineNr">12206 </span>      <span class="subxComment"># ++i</span>
<span id="L12207" class="LineNr">12207 </span>      43/increment-ebx
<span id="L12208" class="LineNr">12208 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L12209" class="LineNr">12209 </span>    }
<span id="L12210" class="LineNr">12210 </span><span class="Constant">$populate-mu-type-offsets:end</span>:
<span id="L12211" class="LineNr">12211 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12212" class="LineNr">12212 </span>    5f/pop-to-edi
<span id="L12213" class="LineNr">12213 </span>    5e/pop-to-esi
<span id="L12214" class="LineNr">12214 </span>    5b/pop-to-ebx
<span id="L12215" class="LineNr">12215 </span>    5a/pop-to-edx
<span id="L12216" class="LineNr">12216 </span>    59/pop-to-ecx
<span id="L12217" class="LineNr">12217 </span>    58/pop-to-eax
<span id="L12218" class="LineNr">12218 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12219" class="LineNr">12219 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12220" class="LineNr">12220 </span>    5d/pop-to-ebp
<span id="L12221" class="LineNr">12221 </span>    c3/return
<span id="L12222" class="LineNr">12222 </span>
<span id="L12223" class="LineNr">12223 </span><span class="subxFunction">locate-typeinfo-entry-with-index</span>:  <span class="subxComment"># table: (addr table (handle array byte) (handle typeinfo-entry)), idx: int, err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: (addr typeinfo-entry)</span>
<span id="L12224" class="LineNr">12224 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12225" class="LineNr">12225 </span>    55/push-ebp
<span id="L12226" class="LineNr">12226 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12227" class="LineNr">12227 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12228" class="LineNr">12228 </span>    51/push-ecx
<span id="L12229" class="LineNr">12229 </span>    52/push-edx
<span id="L12230" class="LineNr">12230 </span>    53/push-ebx
<span id="L12231" class="LineNr">12231 </span>    56/push-esi
<span id="L12232" class="LineNr">12232 </span>    57/push-edi
<span id="L12233" class="LineNr">12233 </span>    <span class="subxComment"># esi = table</span>
<span id="L12234" class="LineNr">12234 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L12235" class="LineNr">12235 </span>    <span class="subxComment"># var curr/ecx: (addr row (handle array byte) (handle typeinfo-entry)) = table-&gt;data</span>
<span id="L12236" class="LineNr">12236 </span>    8d/copy-address *(esi+0xc) 1/r32/ecx
<span id="L12237" class="LineNr">12237 </span>    <span class="subxComment"># var max/edx: (addr byte) = &amp;table-&gt;data[table-&gt;write]</span>
<span id="L12238" class="LineNr">12238 </span>    8b/-&gt; *esi 2/r32/edx
<span id="L12239" class="LineNr">12239 </span>    8d/copy-address *(ecx+edx) 2/r32/edx
<span id="L12240" class="LineNr">12240 </span>    {
<span id="L12241" class="LineNr">12241 </span><span class="Constant">$locate-typeinfo-entry-with-index:loop</span>:
<span id="L12242" class="LineNr">12242 </span>      39/compare %ecx 2/r32/edx
<span id="L12243" class="LineNr">12243 </span>      73/jump-if-addr&gt;= <span class="Constant">break</span>/disp8
<span id="L12244" class="LineNr">12244 </span>      <span class="subxComment"># var v/eax: (addr typeinfo-entry)</span>
<span id="L12245" class="LineNr">12245 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L12246" class="LineNr">12246 </span>      <span class="subxComment"># if (v-&gt;index == idx) return v</span>
<span id="L12247" class="LineNr">12247 </span>      8b/-&gt; *(eax+8) 3/r32/ebx  <span class="subxComment"># Typeinfo-entry-index</span>
<span id="L12248" class="LineNr">12248 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;comparing &quot;)</span>
<span id="L12249" class="LineNr">12249 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %ebx)</span>
<span id="L12250" class="LineNr">12250 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot; and &quot;)</span>
<span id="L12251" class="LineNr">12251 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr *(ebp+0xc))</span>
<span id="L12252" class="LineNr">12252 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L12253" class="LineNr">12253 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L12254" class="LineNr">12254 </span>      39/compare *(ebp+0xc) 3/r32/ebx
<span id="L12255" class="LineNr">12255 </span>      74/jump-if-= $locate-typeinfo-entry-with-index:end/disp8
<span id="L12256" class="LineNr">12256 </span>      <span class="subxComment"># curr += Typeinfo-entry-size</span>
<span id="L12257" class="LineNr">12257 </span>      81 0/subop/add %ecx 0x10/imm32  <span class="subxComment"># Typeinfo-entry-size</span>
<span id="L12258" class="LineNr">12258 </span>      <span class="subxComment">#</span>
<span id="L12259" class="LineNr">12259 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L12260" class="LineNr">12260 </span>    }
<span id="L12261" class="LineNr">12261 </span>    <span class="subxComment"># return 0</span>
<span id="L12262" class="LineNr">12262 </span>    b8/copy-to-eax 0/imm32
<span id="L12263" class="LineNr">12263 </span><span class="Constant">$locate-typeinfo-entry-with-index:end</span>:
<span id="L12264" class="LineNr">12264 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;returning &quot;)</span>
<span id="L12265" class="LineNr">12265 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L12266" class="LineNr">12266 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L12267" class="LineNr">12267 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L12268" class="LineNr">12268 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12269" class="LineNr">12269 </span>    5f/pop-to-edi
<span id="L12270" class="LineNr">12270 </span>    5e/pop-to-esi
<span id="L12271" class="LineNr">12271 </span>    5b/pop-to-ebx
<span id="L12272" class="LineNr">12272 </span>    5a/pop-to-edx
<span id="L12273" class="LineNr">12273 </span>    59/pop-to-ecx
<span id="L12274" class="LineNr">12274 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12275" class="LineNr">12275 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12276" class="LineNr">12276 </span>    5d/pop-to-ebp
<span id="L12277" class="LineNr">12277 </span>    c3/return
<span id="L12278" class="LineNr">12278 </span>
<span id="L12279" class="LineNr">12279 </span><span class="subxFunction">dump-typeinfos</span>:  <span class="subxComment"># hdr: (addr array byte)</span>
<span id="L12280" class="LineNr">12280 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12281" class="LineNr">12281 </span>    55/push-ebp
<span id="L12282" class="LineNr">12282 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12283" class="LineNr">12283 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12284" class="LineNr">12284 </span>    50/push-eax
<span id="L12285" class="LineNr">12285 </span>    <span class="subxComment">#</span>
<span id="L12286" class="LineNr">12286 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebp+8))
<span id="L12287" class="LineNr">12287 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12288" class="LineNr">12288 </span>    <span class="subxComment"># var curr/eax: (addr typeinfo) = lookup(Program-&gt;types)</span>
<span id="L12289" class="LineNr">12289 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-types *_Program-types-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L12290" class="LineNr">12290 </span>    {
<span id="L12291" class="LineNr">12291 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L12292" class="LineNr">12292 </span>      3d/compare-eax-and 0/imm32
<span id="L12293" class="LineNr">12293 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12294" class="LineNr">12294 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;---\n&quot;</span>)
<span id="L12295" class="LineNr">12295 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12296" class="LineNr">12296 </span>      (<a href='mu.subx.html#L12309'>dump-typeinfo</a> %eax)
<span id="L12297" class="LineNr">12297 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L12298" class="LineNr">12298 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x10) *(eax+0x14))  <span class="subxComment"># Typeinfo-next Typeinfo-next =&gt; eax</span>
<span id="L12299" class="LineNr">12299 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L12300" class="LineNr">12300 </span>    }
<span id="L12301" class="LineNr">12301 </span><span class="Constant">$dump-typeinfos:end</span>:
<span id="L12302" class="LineNr">12302 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12303" class="LineNr">12303 </span>    58/pop-to-eax
<span id="L12304" class="LineNr">12304 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12305" class="LineNr">12305 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12306" class="LineNr">12306 </span>    5d/pop-to-ebp
<span id="L12307" class="LineNr">12307 </span>    c3/return
<span id="L12308" class="LineNr">12308 </span>
<span id="L12309" class="LineNr">12309 </span><span class="subxFunction">dump-typeinfo</span>:  <span class="subxComment"># in: (addr typeinfo)</span>
<span id="L12310" class="LineNr">12310 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12311" class="LineNr">12311 </span>    55/push-ebp
<span id="L12312" class="LineNr">12312 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12313" class="LineNr">12313 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12314" class="LineNr">12314 </span>    50/push-eax
<span id="L12315" class="LineNr">12315 </span>    51/push-ecx
<span id="L12316" class="LineNr">12316 </span>    52/push-edx
<span id="L12317" class="LineNr">12317 </span>    53/push-ebx
<span id="L12318" class="LineNr">12318 </span>    56/push-esi
<span id="L12319" class="LineNr">12319 </span>    57/push-edi
<span id="L12320" class="LineNr">12320 </span>    <span class="subxComment"># esi = in</span>
<span id="L12321" class="LineNr">12321 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L12322" class="LineNr">12322 </span>    <span class="subxComment"># var table/ecx: (addr table (handle array byte) (handle typeinfo-entry)) = lookup(T-&gt;fields)</span>
<span id="L12323" class="LineNr">12323 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Typeinfo-fields Typeinfo-fields =&gt; eax</span>
<span id="L12324" class="LineNr">12324 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L12325" class="LineNr">12325 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;id:&quot;</span>)
<span id="L12326" class="LineNr">12326 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *esi)
<span id="L12327" class="LineNr">12327 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;\n&quot;</span>)
<span id="L12328" class="LineNr">12328 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;fields @ &quot;</span>)
<span id="L12329" class="LineNr">12329 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %ecx)
<span id="L12330" class="LineNr">12330 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12331" class="LineNr">12331 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12332" class="LineNr">12332 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;  <a href='../108write.subx.html#L24'>write</a>: &quot;</span>)
<span id="L12333" class="LineNr">12333 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *ecx)
<span id="L12334" class="LineNr">12334 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12335" class="LineNr">12335 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12336" class="LineNr">12336 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;  <a href='../111read.subx.html#L48'>read</a>: &quot;</span>)
<span id="L12337" class="LineNr">12337 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ecx+4))
<span id="L12338" class="LineNr">12338 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12339" class="LineNr">12339 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12340" class="LineNr">12340 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;  <a href='../307size.subx.html#L5'>size</a>: &quot;</span>)
<span id="L12341" class="LineNr">12341 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ecx+8))
<span id="L12342" class="LineNr">12342 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12343" class="LineNr">12343 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12344" class="LineNr">12344 </span>    <span class="subxComment"># var table-size/edx: int = table-&gt;write</span>
<span id="L12345" class="LineNr">12345 </span>    8b/-&gt; *ecx 2/r32/edx  <span class="subxComment"># stream-write</span>
<span id="L12346" class="LineNr">12346 </span>    <span class="subxComment"># var curr/ecx: (addr table_row) = table-&gt;data</span>
<span id="L12347" class="LineNr">12347 </span>    8d/copy-address *(ecx+0xc) 1/r32/ecx
<span id="L12348" class="LineNr">12348 </span>    <span class="subxComment"># var max/edx: (addr table_row) = table-&gt;data + table-&gt;write</span>
<span id="L12349" class="LineNr">12349 </span>    8d/copy-address *(ecx+edx) 2/r32/edx
<span id="L12350" class="LineNr">12350 </span>    {
<span id="L12351" class="LineNr">12351 </span><span class="Constant">$dump-typeinfo:loop</span>:
<span id="L12352" class="LineNr">12352 </span>      <span class="subxComment"># if (curr &gt;= max) break</span>
<span id="L12353" class="LineNr">12353 </span>      39/compare %ecx 2/r32/edx
<span id="L12354" class="LineNr">12354 </span>      0f 83/jump-if-addr&gt;= <span class="Constant">break</span>/disp32
<span id="L12355" class="LineNr">12355 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;  row:\n&quot;</span>)
<span id="L12356" class="LineNr">12356 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;    key: &quot;</span>)
<span id="L12357" class="LineNr">12357 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *ecx)
<span id="L12358" class="LineNr">12358 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;,&quot;</span>)
<span id="L12359" class="LineNr">12359 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ecx+4))
<span id="L12360" class="LineNr">12360 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot; = '&quot;</span>)
<span id="L12361" class="LineNr">12361 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))
<span id="L12362" class="LineNr">12362 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12363" class="LineNr">12363 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;' @ &quot;</span>)
<span id="L12364" class="LineNr">12364 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12365" class="LineNr">12365 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12366" class="LineNr">12366 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12367" class="LineNr">12367 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;    value: &quot;</span>)
<span id="L12368" class="LineNr">12368 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ecx+8))
<span id="L12369" class="LineNr">12369 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;,&quot;</span>)
<span id="L12370" class="LineNr">12370 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ecx+0xc))
<span id="L12371" class="LineNr">12371 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot; = typeinfo-entry@&quot;</span>)
<span id="L12372" class="LineNr">12372 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))
<span id="L12373" class="LineNr">12373 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12374" class="LineNr">12374 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12375" class="LineNr">12375 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12376" class="LineNr">12376 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;        input var@&quot;</span>)
<span id="L12377" class="LineNr">12377 </span>      (<a href='mu.subx.html#L12405'>dump-var</a> 5 %eax)
<span id="L12378" class="LineNr">12378 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))
<span id="L12379" class="LineNr">12379 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;        index: &quot;</span>)
<span id="L12380" class="LineNr">12380 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(eax+8))
<span id="L12381" class="LineNr">12381 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12382" class="LineNr">12382 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12383" class="LineNr">12383 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;        output var@&quot;</span>)
<span id="L12384" class="LineNr">12384 </span>      8d/copy-address *(eax+0xc) 0/r32/eax  <span class="subxComment"># Typeinfo-entry-output-var</span>
<span id="L12385" class="LineNr">12385 </span>      (<a href='mu.subx.html#L12405'>dump-var</a> 5 %eax)
<span id="L12386" class="LineNr">12386 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12387" class="LineNr">12387 </span>      <span class="subxComment"># curr += row-size</span>
<span id="L12388" class="LineNr">12388 </span>      81 0/subop/add %ecx 0x10/imm32  <span class="subxComment"># Typeinfo-fields-row-size</span>
<span id="L12389" class="LineNr">12389 </span>      <span class="subxComment">#</span>
<span id="L12390" class="LineNr">12390 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L12391" class="LineNr">12391 </span>    }
<span id="L12392" class="LineNr">12392 </span><span class="Constant">$dump-typeinfo:end</span>:
<span id="L12393" class="LineNr">12393 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12394" class="LineNr">12394 </span>    5f/pop-to-edi
<span id="L12395" class="LineNr">12395 </span>    5e/pop-to-esi
<span id="L12396" class="LineNr">12396 </span>    5b/pop-to-ebx
<span id="L12397" class="LineNr">12397 </span>    5a/pop-to-edx
<span id="L12398" class="LineNr">12398 </span>    59/pop-to-ecx
<span id="L12399" class="LineNr">12399 </span>    58/pop-to-eax
<span id="L12400" class="LineNr">12400 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12401" class="LineNr">12401 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12402" class="LineNr">12402 </span>    5d/pop-to-ebp
<span id="L12403" class="LineNr">12403 </span>    c3/return
<span id="L12404" class="LineNr">12404 </span>
<span id="L12405" class="LineNr">12405 </span><span class="subxFunction">dump-var</span>:  <span class="subxComment"># indent: int, v: (addr handle var)</span>
<span id="L12406" class="LineNr">12406 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12407" class="LineNr">12407 </span>    55/push-ebp
<span id="L12408" class="LineNr">12408 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12409" class="LineNr">12409 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12410" class="LineNr">12410 </span>    50/push-eax
<span id="L12411" class="LineNr">12411 </span>    53/push-ebx
<span id="L12412" class="LineNr">12412 </span>    <span class="subxComment"># eax = v</span>
<span id="L12413" class="LineNr">12413 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L12414" class="LineNr">12414 </span>    <span class="subxComment">#</span>
<span id="L12415" class="LineNr">12415 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *eax)
<span id="L12416" class="LineNr">12416 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;,&quot;</span>)
<span id="L12417" class="LineNr">12417 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(eax+4))
<span id="L12418" class="LineNr">12418 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;-&gt;&quot;</span>)
<span id="L12419" class="LineNr">12419 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))
<span id="L12420" class="LineNr">12420 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12421" class="LineNr">12421 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12422" class="LineNr">12422 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12423" class="LineNr">12423 </span>    {
<span id="L12424" class="LineNr">12424 </span>      3d/compare-eax-and 0/imm32
<span id="L12425" class="LineNr">12425 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L12426" class="LineNr">12426 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebp+8))
<span id="L12427" class="LineNr">12427 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;name: &quot;</span>)
<span id="L12428" class="LineNr">12428 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L12429" class="LineNr">12429 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *ebx)  <span class="subxComment"># Var-name</span>
<span id="L12430" class="LineNr">12430 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;,&quot;</span>)
<span id="L12431" class="LineNr">12431 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebx+4))  <span class="subxComment"># Var-name</span>
<span id="L12432" class="LineNr">12432 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;-&gt;&quot;</span>)
<span id="L12433" class="LineNr">12433 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name</span>
<span id="L12434" class="LineNr">12434 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12435" class="LineNr">12435 </span>      {
<span id="L12436" class="LineNr">12436 </span>        3d/compare-eax-and 0/imm32
<span id="L12437" class="LineNr">12437 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12438" class="LineNr">12438 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L12439" class="LineNr">12439 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12440" class="LineNr">12440 </span>      }
<span id="L12441" class="LineNr">12441 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12442" class="LineNr">12442 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12443" class="LineNr">12443 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebp+8))
<span id="L12444" class="LineNr">12444 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;block depth: &quot;</span>)
<span id="L12445" class="LineNr">12445 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebx+0x10))  <span class="subxComment"># Var-block-depth</span>
<span id="L12446" class="LineNr">12446 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12447" class="LineNr">12447 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12448" class="LineNr">12448 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebp+8))
<span id="L12449" class="LineNr">12449 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;stack offset: &quot;</span>)
<span id="L12450" class="LineNr">12450 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebx+0x14))  <span class="subxComment"># Var-offset</span>
<span id="L12451" class="LineNr">12451 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12452" class="LineNr">12452 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12453" class="LineNr">12453 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebp+8))
<span id="L12454" class="LineNr">12454 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;reg: &quot;</span>)
<span id="L12455" class="LineNr">12455 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebx+0x18))  <span class="subxComment"># Var-register</span>
<span id="L12456" class="LineNr">12456 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;,&quot;</span>)
<span id="L12457" class="LineNr">12457 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> *(ebx+0x1c))  <span class="subxComment"># Var-register</span>
<span id="L12458" class="LineNr">12458 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="Constant">&quot;-&gt;&quot;</span>)
<span id="L12459" class="LineNr">12459 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12460" class="LineNr">12460 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register</span>
<span id="L12461" class="LineNr">12461 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12462" class="LineNr">12462 </span>      {
<span id="L12463" class="LineNr">12463 </span>        3d/compare-eax-and 0/imm32
<span id="L12464" class="LineNr">12464 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12465" class="LineNr">12465 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L12466" class="LineNr">12466 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> %eax)
<span id="L12467" class="LineNr">12467 </span>      }
<span id="L12468" class="LineNr">12468 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L12469" class="LineNr">12469 </span>      (<a href='../115write-byte.subx.html#L81'>flush</a> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span>)
<span id="L12470" class="LineNr">12470 </span>    }
<span id="L12471" class="LineNr">12471 </span><span class="Constant">$dump-var:end</span>:
<span id="L12472" class="LineNr">12472 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12473" class="LineNr">12473 </span>    5b/pop-to-ebx
<span id="L12474" class="LineNr">12474 </span>    58/pop-to-eax
<span id="L12475" class="LineNr">12475 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12476" class="LineNr">12476 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12477" class="LineNr">12477 </span>    5d/pop-to-ebp
<span id="L12478" class="LineNr">12478 </span>    c3/return
<span id="L12479" class="LineNr">12479 </span>
<span id="L12480" class="LineNr">12480 </span><span class="subxComment">#######################################################</span>
<span id="L12481" class="LineNr">12481 </span><span class="subxComment"># Type-checking</span>
<span id="L12482" class="LineNr">12482 </span><span class="subxComment">#######################################################</span>
<span id="L12483" class="LineNr">12483 </span>
<span id="L12484" class="LineNr">12484 </span><span class="subxFunction">check-mu-types</span>:  <span class="subxComment"># err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12485" class="LineNr">12485 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12486" class="LineNr">12486 </span>    55/push-ebp
<span id="L12487" class="LineNr">12487 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12488" class="LineNr">12488 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12489" class="LineNr">12489 </span>    50/push-eax
<span id="L12490" class="LineNr">12490 </span>    <span class="subxComment"># var curr/eax: (addr function) = lookup(Program-&gt;functions)</span>
<span id="L12491" class="LineNr">12491 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-functions *_Program-functions-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L12492" class="LineNr">12492 </span>    {
<span id="L12493" class="LineNr">12493 </span><span class="Constant">$check-mu-types:loop</span>:
<span id="L12494" class="LineNr">12494 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L12495" class="LineNr">12495 </span>      3d/compare-eax-and 0/imm32
<span id="L12496" class="LineNr">12496 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L12497" class="Folded">12497 </span><span class="Folded">+--  8 lines: #?       # dump curr-&gt;name ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L12505" class="LineNr">12505 </span>      (<a href='mu.subx.html#L12518'>check-mu-function</a> %eax *(ebp+8) *(ebp+0xc))
<span id="L12506" class="LineNr">12506 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L12507" class="LineNr">12507 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x20) *(eax+0x24))  <span class="subxComment"># Function-next Function-next =&gt; eax</span>
<span id="L12508" class="LineNr">12508 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L12509" class="LineNr">12509 </span>    }
<span id="L12510" class="LineNr">12510 </span><span class="Constant">$check-mu-types:end</span>:
<span id="L12511" class="LineNr">12511 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12512" class="LineNr">12512 </span>    58/pop-to-eax
<span id="L12513" class="LineNr">12513 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12514" class="LineNr">12514 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12515" class="LineNr">12515 </span>    5d/pop-to-ebp
<span id="L12516" class="LineNr">12516 </span>    c3/return
<span id="L12517" class="LineNr">12517 </span>
<span id="L12518" class="LineNr">12518 </span><span class="subxFunction">check-mu-function</span>:  <span class="subxComment"># fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12519" class="LineNr">12519 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12520" class="LineNr">12520 </span>    55/push-ebp
<span id="L12521" class="LineNr">12521 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12522" class="LineNr">12522 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12523" class="LineNr">12523 </span>    50/push-eax
<span id="L12524" class="LineNr">12524 </span>    <span class="subxComment"># eax = f</span>
<span id="L12525" class="LineNr">12525 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L12526" class="LineNr">12526 </span>    <span class="subxComment"># TODO: anything to check in header?</span>
<span id="L12527" class="LineNr">12527 </span>    <span class="subxComment"># var body/eax: (addr block) = lookup(f-&gt;body)</span>
<span id="L12528" class="LineNr">12528 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Function-body Function-body =&gt; eax</span>
<span id="L12529" class="LineNr">12529 </span>    (<a href='mu.subx.html#L12538'>check-mu-block</a> %eax *(ebp+8) *(ebp+0xc) *(ebp+0x10))
<span id="L12530" class="LineNr">12530 </span><span class="Constant">$check-mu-function:end</span>:
<span id="L12531" class="LineNr">12531 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12532" class="LineNr">12532 </span>    58/pop-to-eax
<span id="L12533" class="LineNr">12533 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12534" class="LineNr">12534 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12535" class="LineNr">12535 </span>    5d/pop-to-ebp
<span id="L12536" class="LineNr">12536 </span>    c3/return
<span id="L12537" class="LineNr">12537 </span>
<span id="L12538" class="LineNr">12538 </span><span class="subxFunction">check-mu-block</span>:  <span class="subxComment"># block: (addr block), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12539" class="LineNr">12539 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12540" class="LineNr">12540 </span>    55/push-ebp
<span id="L12541" class="LineNr">12541 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12542" class="LineNr">12542 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12543" class="LineNr">12543 </span>    50/push-eax
<span id="L12544" class="LineNr">12544 </span>    <span class="subxComment"># eax = block</span>
<span id="L12545" class="LineNr">12545 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L12546" class="LineNr">12546 </span>    <span class="subxComment"># var stmts/eax: (addr list stmt) = lookup(block-&gt;statements)</span>
<span id="L12547" class="LineNr">12547 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Block-stmts Block-stmts =&gt; eax</span>
<span id="L12548" class="LineNr">12548 </span>    <span class="subxComment">#</span>
<span id="L12549" class="LineNr">12549 </span>    {
<span id="L12550" class="LineNr">12550 </span><span class="Constant">$check-mu-block:check-empty</span>:
<span id="L12551" class="LineNr">12551 </span>      3d/compare-eax-and 0/imm32
<span id="L12552" class="LineNr">12552 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L12553" class="LineNr">12553 </span>      <span class="subxComment"># emit block-&gt;statements</span>
<span id="L12554" class="LineNr">12554 </span>      (<a href='mu.subx.html#L12564'>check-mu-stmt-list</a> %eax *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12555" class="LineNr">12555 </span>    }
<span id="L12556" class="LineNr">12556 </span><span class="Constant">$check-mu-block:end</span>:
<span id="L12557" class="LineNr">12557 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12558" class="LineNr">12558 </span>    58/pop-to-eax
<span id="L12559" class="LineNr">12559 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12560" class="LineNr">12560 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12561" class="LineNr">12561 </span>    5d/pop-to-ebp
<span id="L12562" class="LineNr">12562 </span>    c3/return
<span id="L12563" class="LineNr">12563 </span>
<span id="L12564" class="LineNr">12564 </span><span class="subxFunction">check-mu-stmt-list</span>:  <span class="subxComment"># stmts: (addr list stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12565" class="LineNr">12565 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12566" class="LineNr">12566 </span>    55/push-ebp
<span id="L12567" class="LineNr">12567 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12568" class="LineNr">12568 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12569" class="LineNr">12569 </span>    50/push-eax
<span id="L12570" class="LineNr">12570 </span>    56/push-esi
<span id="L12571" class="LineNr">12571 </span>    <span class="subxComment"># esi = stmts</span>
<span id="L12572" class="LineNr">12572 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L12573" class="LineNr">12573 </span>    {
<span id="L12574" class="LineNr">12574 </span><span class="Constant">$check-mu-stmt-list:loop</span>:
<span id="L12575" class="LineNr">12575 </span>      81 7/subop/compare %esi 0/imm32
<span id="L12576" class="LineNr">12576 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L12577" class="LineNr">12577 </span>      <span class="subxComment"># var curr-stmt/eax: (addr stmt) = lookup(stmts-&gt;value)</span>
<span id="L12578" class="LineNr">12578 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L12579" class="LineNr">12579 </span>      {
<span id="L12580" class="LineNr">12580 </span><span class="Constant">$check-mu-stmt-list:check-for-block</span>:
<span id="L12581" class="LineNr">12581 </span>        81 7/subop/compare *eax 0/imm32/block  <span class="subxComment"># Stmt-tag</span>
<span id="L12582" class="LineNr">12582 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L12583" class="LineNr">12583 </span><span class="Constant">$check-mu-stmt-list:block</span>:
<span id="L12584" class="LineNr">12584 </span>        (<a href='mu.subx.html#L12538'>check-mu-block</a> %eax *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12585" class="LineNr">12585 </span>        eb/jump $check-mu-stmt-list:continue/disp8
<span id="L12586" class="LineNr">12586 </span>      }
<span id="L12587" class="LineNr">12587 </span>      {
<span id="L12588" class="LineNr">12588 </span><span class="Constant">$check-mu-stmt-list:check-for-stmt1</span>:
<span id="L12589" class="LineNr">12589 </span>        81 7/subop/compare *eax 1/imm32/stmt1  <span class="subxComment"># Stmt-tag</span>
<span id="L12590" class="LineNr">12590 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L12591" class="LineNr">12591 </span><span class="Constant">$check-mu-stmt-list:stmt1</span>:
<span id="L12592" class="LineNr">12592 </span>        (<a href='mu.subx.html#L12618'>check-mu-stmt</a> %eax *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12593" class="LineNr">12593 </span>        eb/jump $check-mu-stmt-list:continue/disp8
<span id="L12594" class="LineNr">12594 </span>      }
<span id="L12595" class="LineNr">12595 </span>      {
<span id="L12596" class="LineNr">12596 </span><span class="Constant">$check-mu-stmt-list:check-for-reg-var-def</span>:
<span id="L12597" class="LineNr">12597 </span>        81 7/subop/compare *eax 3/imm32/reg-var-def  <span class="subxComment"># Stmt-tag</span>
<span id="L12598" class="LineNr">12598 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L12599" class="LineNr">12599 </span><span class="Constant">$check-mu-stmt-list:reg-var-def</span>:
<span id="L12600" class="LineNr">12600 </span>        (<a href='mu.subx.html#L12618'>check-mu-stmt</a> %eax *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12601" class="LineNr">12601 </span>        eb/jump $check-mu-stmt-list:continue/disp8
<span id="L12602" class="LineNr">12602 </span>      }
<span id="L12603" class="LineNr">12603 </span><span class="Constant">$check-mu-stmt-list:continue</span>:
<span id="L12604" class="LineNr">12604 </span>      <span class="subxComment"># TODO: raise an error on unrecognized Stmt-tag</span>
<span id="L12605" class="LineNr">12605 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+8) *(esi+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L12606" class="LineNr">12606 </span>      89/&lt;- %esi 0/r32/eax
<span id="L12607" class="LineNr">12607 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L12608" class="LineNr">12608 </span>    }
<span id="L12609" class="LineNr">12609 </span><span class="Constant">$check-mu-stmt-list:end</span>:
<span id="L12610" class="LineNr">12610 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12611" class="LineNr">12611 </span>    5e/pop-to-esi
<span id="L12612" class="LineNr">12612 </span>    58/pop-to-eax
<span id="L12613" class="LineNr">12613 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12614" class="LineNr">12614 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12615" class="LineNr">12615 </span>    5d/pop-to-ebp
<span id="L12616" class="LineNr">12616 </span>    c3/return
<span id="L12617" class="LineNr">12617 </span>
<span id="L12618" class="LineNr">12618 </span><span class="subxFunction">check-mu-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12619" class="LineNr">12619 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12620" class="LineNr">12620 </span>    55/push-ebp
<span id="L12621" class="LineNr">12621 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12622" class="LineNr">12622 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12623" class="LineNr">12623 </span>    50/push-eax
<span id="L12624" class="LineNr">12624 </span>    <span class="subxH1Comment"># - if stmt's operation matches a primitive, check against it</span>
<span id="L12625" class="LineNr">12625 </span>    (<a href='mu.subx.html#L12671'>has-primitive-name?</a> *(ebp+8))  <span class="subxComment"># =&gt; eax</span>
<span id="L12626" class="LineNr">12626 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12627" class="LineNr">12627 </span>    {
<span id="L12628" class="LineNr">12628 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12629" class="LineNr">12629 </span>      (<a href='mu.subx.html#L12752'>check-mu-primitive</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12630" class="LineNr">12630 </span>      e9/jump $check-mu-stmt:end/disp32
<span id="L12631" class="LineNr">12631 </span>    }
<span id="L12632" class="LineNr">12632 </span>    <span class="subxH1Comment"># - otherwise find a function to check against</span>
<span id="L12633" class="LineNr">12633 </span>    <span class="subxComment"># var f/eax: (addr function) = lookup(*Program-&gt;functions)</span>
<span id="L12634" class="LineNr">12634 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-functions *_Program-functions-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L12635" class="LineNr">12635 </span>    (<a href='mu.subx.html#L21368'>find-matching-function</a> %eax *(ebp+8))  <span class="subxComment"># =&gt; eax</span>
<span id="L12636" class="LineNr">12636 </span>    3d/compare-eax-and 0/imm32
<span id="L12637" class="LineNr">12637 </span>    {
<span id="L12638" class="LineNr">12638 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12639" class="LineNr">12639 </span>      (<a href='mu.subx.html#L13873'>check-mu-call</a> *(ebp+8) %eax *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12640" class="LineNr">12640 </span>      eb/jump $check-mu-stmt:end/disp8
<span id="L12641" class="LineNr">12641 </span>    }
<span id="L12642" class="LineNr">12642 </span>    <span class="subxComment"># var f/eax: (addr function) = lookup(*Program-&gt;signatures)</span>
<span id="L12643" class="LineNr">12643 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-signatures *_Program-signatures-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L12644" class="LineNr">12644 </span>    (<a href='mu.subx.html#L21368'>find-matching-function</a> %eax *(ebp+8))  <span class="subxComment"># =&gt; eax</span>
<span id="L12645" class="LineNr">12645 </span>    3d/compare-eax-and 0/imm32
<span id="L12646" class="LineNr">12646 </span>    {
<span id="L12647" class="LineNr">12647 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12648" class="LineNr">12648 </span>      (<a href='mu.subx.html#L13873'>check-mu-call</a> *(ebp+8) %eax *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12649" class="LineNr">12649 </span>      eb/jump $check-mu-stmt:end/disp8
<span id="L12650" class="LineNr">12650 </span>    }
<span id="L12651" class="LineNr">12651 </span>    <span class="subxH1Comment"># - otherwise abort</span>
<span id="L12652" class="LineNr">12652 </span>    e9/jump $check-mu-stmt:unknown-call/disp32
<span id="L12653" class="LineNr">12653 </span><span class="Constant">$check-mu-stmt:end</span>:
<span id="L12654" class="LineNr">12654 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12655" class="LineNr">12655 </span>    58/pop-to-eax
<span id="L12656" class="LineNr">12656 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12657" class="LineNr">12657 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12658" class="LineNr">12658 </span>    5d/pop-to-ebp
<span id="L12659" class="LineNr">12659 </span>    c3/return
<span id="L12660" class="LineNr">12660 </span>
<span id="L12661" class="LineNr">12661 </span><span class="Constant">$check-mu-stmt:unknown-call</span>:
<span id="L12662" class="LineNr">12662 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;unknown function '&quot;</span>)
<span id="L12663" class="LineNr">12663 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L12664" class="LineNr">12664 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L12665" class="LineNr">12665 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L12666" class="LineNr">12666 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L12667" class="LineNr">12667 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L12668" class="LineNr">12668 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L12669" class="LineNr">12669 </span>    <span class="subxComment"># never gets here</span>
<span id="L12670" class="LineNr">12670 </span>
<span id="L12671" class="LineNr">12671 </span><span class="subxFunction">has-primitive-name?</span>:  <span class="subxComment"># stmt: (addr stmt) -&gt; result/eax: boolean</span>
<span id="L12672" class="LineNr">12672 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12673" class="LineNr">12673 </span>    55/push-ebp
<span id="L12674" class="LineNr">12674 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12675" class="LineNr">12675 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12676" class="LineNr">12676 </span>    51/push-ecx
<span id="L12677" class="LineNr">12677 </span>    56/push-esi
<span id="L12678" class="LineNr">12678 </span>    <span class="subxComment"># var name/esi: (addr array byte) = lookup(stmt-&gt;operation)</span>
<span id="L12679" class="LineNr">12679 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L12680" class="LineNr">12680 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L12681" class="LineNr">12681 </span>    89/&lt;- %esi 0/r32/eax
<span id="L12682" class="LineNr">12682 </span>    <span class="subxComment"># if (name == &quot;get&quot;) return true</span>
<span id="L12683" class="LineNr">12683 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;get&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12684" class="LineNr">12684 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12685" class="LineNr">12685 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12686" class="LineNr">12686 </span>    <span class="subxComment"># if (name == &quot;index&quot;) return true</span>
<span id="L12687" class="LineNr">12687 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;index&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12688" class="LineNr">12688 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12689" class="LineNr">12689 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12690" class="LineNr">12690 </span>    <span class="subxComment"># if (name == &quot;length&quot;) return true</span>
<span id="L12691" class="LineNr">12691 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;length&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12692" class="LineNr">12692 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12693" class="LineNr">12693 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12694" class="LineNr">12694 </span>    <span class="subxComment"># if (name == &quot;compute-offset&quot;) return true</span>
<span id="L12695" class="LineNr">12695 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;compute-offset&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12696" class="LineNr">12696 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12697" class="LineNr">12697 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12698" class="LineNr">12698 </span>    <span class="subxComment"># if (name == &quot;copy-object&quot;) return true</span>
<span id="L12699" class="LineNr">12699 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;copy-object&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12700" class="LineNr">12700 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12701" class="LineNr">12701 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12702" class="LineNr">12702 </span>    <span class="subxComment"># if (name == &quot;allocate&quot;) return true</span>
<span id="L12703" class="LineNr">12703 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;allocate&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12704" class="LineNr">12704 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12705" class="LineNr">12705 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12706" class="LineNr">12706 </span>    <span class="subxComment"># if (name == &quot;populate&quot;) return true</span>
<span id="L12707" class="LineNr">12707 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;populate&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12708" class="LineNr">12708 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12709" class="LineNr">12709 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12710" class="LineNr">12710 </span>    <span class="subxComment"># if (name == &quot;populate-stream&quot;) return true</span>
<span id="L12711" class="LineNr">12711 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;populate-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12712" class="LineNr">12712 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12713" class="LineNr">12713 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12714" class="LineNr">12714 </span>    <span class="subxComment"># if (name == &quot;read-from-stream&quot;) return true</span>
<span id="L12715" class="LineNr">12715 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;read-from-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12716" class="LineNr">12716 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12717" class="LineNr">12717 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12718" class="LineNr">12718 </span>    <span class="subxComment"># if (name == &quot;write-to-stream&quot;) return true</span>
<span id="L12719" class="LineNr">12719 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi <span class="Constant">&quot;write-to-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12720" class="LineNr">12720 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12721" class="LineNr">12721 </span>    0f 85/jump-if-!= $has-primitive-name?:end/disp32
<span id="L12722" class="LineNr">12722 </span>    <span class="subxComment"># var curr/ecx: (addr primitive) = Primitives</span>
<span id="L12723" class="LineNr">12723 </span>    b9/copy-to-ecx <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span>/imm32
<span id="L12724" class="LineNr">12724 </span>    {
<span id="L12725" class="LineNr">12725 </span><span class="Constant">$has-primitive-name?:loop</span>:
<span id="L12726" class="LineNr">12726 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L12727" class="LineNr">12727 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L12728" class="LineNr">12728 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12729" class="LineNr">12729 </span>      <span class="subxComment"># if (primitive-&gt;name == name) return true</span>
<span id="L12730" class="LineNr">12730 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Primitive-name Primitive-name =&gt; eax</span>
<span id="L12731" class="LineNr">12731 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L12732" class="LineNr">12732 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12733" class="LineNr">12733 </span>      75/jump-if-!= $has-primitive-name?:end/disp8
<span id="L12734" class="LineNr">12734 </span><span class="Constant">$has-primitive-name?:next-primitive</span>:
<span id="L12735" class="LineNr">12735 </span>      <span class="subxComment"># curr = curr-&gt;next</span>
<span id="L12736" class="LineNr">12736 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x38) *(ecx+0x3c))  <span class="subxComment"># Primitive-next Primitive-next =&gt; eax</span>
<span id="L12737" class="LineNr">12737 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L12738" class="LineNr">12738 </span>      <span class="subxComment">#</span>
<span id="L12739" class="LineNr">12739 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L12740" class="LineNr">12740 </span>    }
<span id="L12741" class="LineNr">12741 </span>    <span class="subxComment"># return null</span>
<span id="L12742" class="LineNr">12742 </span>    b8/copy-to-eax 0/imm32
<span id="L12743" class="LineNr">12743 </span><span class="Constant">$has-primitive-name?:end</span>:
<span id="L12744" class="LineNr">12744 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12745" class="LineNr">12745 </span>    5e/pop-to-esi
<span id="L12746" class="LineNr">12746 </span>    59/pop-to-ecx
<span id="L12747" class="LineNr">12747 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12748" class="LineNr">12748 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12749" class="LineNr">12749 </span>    5d/pop-to-ebp
<span id="L12750" class="LineNr">12750 </span>    c3/return
<span id="L12751" class="LineNr">12751 </span>
<span id="L12752" class="LineNr">12752 </span><span class="subxFunction">check-mu-primitive</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12753" class="LineNr">12753 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12754" class="LineNr">12754 </span>    55/push-ebp
<span id="L12755" class="LineNr">12755 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12756" class="LineNr">12756 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12757" class="LineNr">12757 </span>    50/push-eax
<span id="L12758" class="LineNr">12758 </span>    51/push-ecx
<span id="L12759" class="LineNr">12759 </span>    <span class="subxComment"># var op/ecx: (addr array byte) = lookup(stmt-&gt;operation)</span>
<span id="L12760" class="LineNr">12760 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L12761" class="LineNr">12761 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L12762" class="LineNr">12762 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L12763" class="LineNr">12763 </span>    <span class="subxComment"># if (op == &quot;copy&quot;) check-mu-copy-stmt</span>
<span id="L12764" class="LineNr">12764 </span>    {
<span id="L12765" class="LineNr">12765 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;copy&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12766" class="LineNr">12766 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12767" class="LineNr">12767 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12768" class="LineNr">12768 </span>      (<a href='mu.subx.html#L13067'>check-mu-copy-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12769" class="LineNr">12769 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12770" class="LineNr">12770 </span>    }
<span id="L12771" class="LineNr">12771 </span>    <span class="subxComment"># if (op == &quot;copy-to&quot;) check-mu-copy-to-stmt</span>
<span id="L12772" class="LineNr">12772 </span>    {
<span id="L12773" class="LineNr">12773 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;copy-to&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12774" class="LineNr">12774 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12775" class="LineNr">12775 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12776" class="LineNr">12776 </span>      (<a href='mu.subx.html#L13079'>check-mu-copy-to-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12777" class="LineNr">12777 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12778" class="LineNr">12778 </span>    }
<span id="L12779" class="LineNr">12779 </span>    <span class="subxComment"># if (op == &quot;compare&quot;) check-mu-compare-stmt</span>
<span id="L12780" class="LineNr">12780 </span>    {
<span id="L12781" class="LineNr">12781 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;compare&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12782" class="LineNr">12782 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12783" class="LineNr">12783 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12784" class="LineNr">12784 </span>      (<a href='mu.subx.html#L13091'>check-mu-compare-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12785" class="LineNr">12785 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12786" class="LineNr">12786 </span>    }
<span id="L12787" class="LineNr">12787 </span>    <span class="subxComment"># if (op == &quot;address&quot;) check-mu-address-stmt</span>
<span id="L12788" class="LineNr">12788 </span>    {
<span id="L12789" class="LineNr">12789 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;address&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12790" class="LineNr">12790 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12791" class="LineNr">12791 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12792" class="LineNr">12792 </span>      (<a href='mu.subx.html#L13103'>check-mu-address-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12793" class="LineNr">12793 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12794" class="LineNr">12794 </span>    }
<span id="L12795" class="LineNr">12795 </span>    <span class="subxComment"># if (op == &quot;get&quot;) check-mu-get-stmt</span>
<span id="L12796" class="LineNr">12796 </span>    {
<span id="L12797" class="LineNr">12797 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;get&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12798" class="LineNr">12798 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12799" class="LineNr">12799 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12800" class="LineNr">12800 </span>      (<a href='mu.subx.html#L13115'>check-mu-get-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12801" class="LineNr">12801 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12802" class="LineNr">12802 </span>    }
<span id="L12803" class="LineNr">12803 </span>    <span class="subxComment"># if (op == &quot;index&quot;) check-mu-index-stmt</span>
<span id="L12804" class="LineNr">12804 </span>    {
<span id="L12805" class="LineNr">12805 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;index&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12806" class="LineNr">12806 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12807" class="LineNr">12807 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12808" class="LineNr">12808 </span>      (<a href='mu.subx.html#L13394'>check-mu-index-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12809" class="LineNr">12809 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12810" class="LineNr">12810 </span>    }
<span id="L12811" class="LineNr">12811 </span>    <span class="subxComment"># if (op == &quot;length&quot;) check-mu-length-stmt</span>
<span id="L12812" class="LineNr">12812 </span>    {
<span id="L12813" class="LineNr">12813 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;length&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12814" class="LineNr">12814 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12815" class="LineNr">12815 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12816" class="LineNr">12816 </span>      (<a href='mu.subx.html#L13777'>check-mu-length-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12817" class="LineNr">12817 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12818" class="LineNr">12818 </span>    }
<span id="L12819" class="LineNr">12819 </span>    <span class="subxComment"># if (op == &quot;compute-offset&quot;) check-mu-compute-offset-stmt</span>
<span id="L12820" class="LineNr">12820 </span>    {
<span id="L12821" class="LineNr">12821 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;compute-offset&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12822" class="LineNr">12822 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12823" class="LineNr">12823 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12824" class="LineNr">12824 </span>      (<a href='mu.subx.html#L13789'>check-mu-compute-offset-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12825" class="LineNr">12825 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12826" class="LineNr">12826 </span>    }
<span id="L12827" class="LineNr">12827 </span>    <span class="subxComment"># if (op == &quot;copy-object&quot;) check-mu-copy-object-stmt</span>
<span id="L12828" class="LineNr">12828 </span>    {
<span id="L12829" class="LineNr">12829 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;copy-object&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12830" class="LineNr">12830 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12831" class="LineNr">12831 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12832" class="LineNr">12832 </span>      (<a href='mu.subx.html#L13801'>check-mu-copy-object-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12833" class="LineNr">12833 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12834" class="LineNr">12834 </span>    }
<span id="L12835" class="LineNr">12835 </span>    <span class="subxComment"># if (op == &quot;allocate&quot;) check-mu-allocate-stmt</span>
<span id="L12836" class="LineNr">12836 </span>    {
<span id="L12837" class="LineNr">12837 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;allocate&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12838" class="LineNr">12838 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12839" class="LineNr">12839 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12840" class="LineNr">12840 </span>      (<a href='mu.subx.html#L13813'>check-mu-allocate-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12841" class="LineNr">12841 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12842" class="LineNr">12842 </span>    }
<span id="L12843" class="LineNr">12843 </span>    <span class="subxComment"># if (op == &quot;populate&quot;) check-mu-populate-stmt</span>
<span id="L12844" class="LineNr">12844 </span>    {
<span id="L12845" class="LineNr">12845 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;populate&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12846" class="LineNr">12846 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12847" class="LineNr">12847 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12848" class="LineNr">12848 </span>      (<a href='mu.subx.html#L13825'>check-mu-populate-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12849" class="LineNr">12849 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12850" class="LineNr">12850 </span>    }
<span id="L12851" class="LineNr">12851 </span>    <span class="subxComment"># if (op == &quot;populate-stream&quot;) check-mu-populate-stream-stmt</span>
<span id="L12852" class="LineNr">12852 </span>    {
<span id="L12853" class="LineNr">12853 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;populate-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12854" class="LineNr">12854 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12855" class="LineNr">12855 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12856" class="LineNr">12856 </span>      (<a href='mu.subx.html#L13837'>check-mu-populate-stream-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12857" class="LineNr">12857 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12858" class="LineNr">12858 </span>    }
<span id="L12859" class="LineNr">12859 </span>    <span class="subxComment"># if (op == &quot;read-from-stream&quot;) check-mu-read-from-stream-stmt</span>
<span id="L12860" class="LineNr">12860 </span>    {
<span id="L12861" class="LineNr">12861 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;read-from-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12862" class="LineNr">12862 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12863" class="LineNr">12863 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12864" class="LineNr">12864 </span>      (<a href='mu.subx.html#L13849'>check-mu-read-from-stream-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12865" class="LineNr">12865 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12866" class="LineNr">12866 </span>    }
<span id="L12867" class="LineNr">12867 </span>    <span class="subxComment"># if (op == &quot;write-to-stream&quot;) check-mu-write-to-stream-stmt</span>
<span id="L12868" class="LineNr">12868 </span>    {
<span id="L12869" class="LineNr">12869 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;write-to-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L12870" class="LineNr">12870 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12871" class="LineNr">12871 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12872" class="LineNr">12872 </span>      (<a href='mu.subx.html#L13861'>check-mu-write-to-stream-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12873" class="LineNr">12873 </span>      e9/jump $check-mu-primitive:end/disp32
<span id="L12874" class="LineNr">12874 </span>    }
<span id="L12875" class="LineNr">12875 </span>    <span class="subxComment"># otherwise check-numberlike-stmt</span>
<span id="L12876" class="LineNr">12876 </span>    (<a href='mu.subx.html#L12887'>check-mu-numberlike-primitive</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12877" class="LineNr">12877 </span><span class="Constant">$check-mu-primitive:end</span>:
<span id="L12878" class="LineNr">12878 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12879" class="LineNr">12879 </span>    59/pop-to-ecx
<span id="L12880" class="LineNr">12880 </span>    58/pop-to-eax
<span id="L12881" class="LineNr">12881 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12882" class="LineNr">12882 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12883" class="LineNr">12883 </span>    5d/pop-to-ebp
<span id="L12884" class="LineNr">12884 </span>    c3/return
<span id="L12885" class="LineNr">12885 </span>
<span id="L12886" class="LineNr">12886 </span><span class="subxComment"># by default, Mu primitives should only operate on 'number-like' types</span>
<span id="L12887" class="LineNr">12887 </span><span class="subxFunction">check-mu-numberlike-primitive</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12888" class="LineNr">12888 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12889" class="LineNr">12889 </span>    55/push-ebp
<span id="L12890" class="LineNr">12890 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12891" class="LineNr">12891 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12892" class="LineNr">12892 </span>    50/push-eax
<span id="L12893" class="LineNr">12893 </span>    51/push-ecx
<span id="L12894" class="LineNr">12894 </span>    56/push-esi
<span id="L12895" class="LineNr">12895 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L12896" class="LineNr">12896 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L12897" class="LineNr">12897 </span>    <span class="subxComment"># var gas/ecx: int = 2</span>
<span id="L12898" class="LineNr">12898 </span>    b9/copy-to-ecx 2/imm32
<span id="L12899" class="LineNr">12899 </span>    <span class="subxH1Comment"># - check at most 1 output</span>
<span id="L12900" class="LineNr">12900 </span>    <span class="subxComment"># var output/eax: (addr stmt-var) = stmt-&gt;outputs</span>
<span id="L12901" class="LineNr">12901 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L12902" class="LineNr">12902 </span>    {
<span id="L12903" class="LineNr">12903 </span>      3d/compare-eax-and 0/imm32
<span id="L12904" class="LineNr">12904 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12905" class="LineNr">12905 </span><span class="Constant">$check-mu-numberlike-primitive:output</span>:
<span id="L12906" class="LineNr">12906 </span>      (<a href='mu.subx.html#L13015'>check-mu-numberlike-output</a> %eax *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12907" class="LineNr">12907 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L12908" class="LineNr">12908 </span>      3d/compare-eax-and 0/imm32
<span id="L12909" class="LineNr">12909 </span>      0f 85/jump-if-!= $check-mu-numberlike-primitive:error-too-many-outputs/disp32
<span id="L12910" class="LineNr">12910 </span>      <span class="subxComment"># check output is in a register</span>
<span id="L12911" class="LineNr">12911 </span>      <span class="subxComment"># --gas</span>
<span id="L12912" class="LineNr">12912 </span>      49/decrement-ecx
<span id="L12913" class="LineNr">12913 </span>    }
<span id="L12914" class="LineNr">12914 </span>    <span class="subxH1Comment"># - check first inout</span>
<span id="L12915" class="LineNr">12915 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L12916" class="LineNr">12916 </span>    {
<span id="L12917" class="LineNr">12917 </span>      3d/compare-eax-and 0/imm32
<span id="L12918" class="LineNr">12918 </span>      0f 84/jump-if-= $check-mu-numberlike-primitive:end/disp32
<span id="L12919" class="LineNr">12919 </span><span class="Constant">$check-mu-numberlike-primitive:first-inout</span>:
<span id="L12920" class="LineNr">12920 </span>      (<a href='mu.subx.html#L12976'>check-mu-numberlike-arg</a> %eax *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12921" class="LineNr">12921 </span>      <span class="subxComment"># --gas</span>
<span id="L12922" class="LineNr">12922 </span>      49/decrement-ecx
<span id="L12923" class="LineNr">12923 </span>    }
<span id="L12924" class="LineNr">12924 </span>    <span class="subxH1Comment"># - check second inout</span>
<span id="L12925" class="LineNr">12925 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L12926" class="LineNr">12926 </span>    {
<span id="L12927" class="LineNr">12927 </span>      3d/compare-eax-and 0/imm32
<span id="L12928" class="LineNr">12928 </span>      74/jump-if-= $check-mu-numberlike-primitive:end/disp8
<span id="L12929" class="LineNr">12929 </span><span class="Constant">$check-mu-numberlike-primitive:second-inout</span>:
<span id="L12930" class="LineNr">12930 </span>      <span class="subxComment"># is a second inout allowed?</span>
<span id="L12931" class="LineNr">12931 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L12932" class="LineNr">12932 </span>      0f 84/jump-if-= $check-mu-numberlike-primitive:error-too-many-inouts/disp32
<span id="L12933" class="LineNr">12933 </span><span class="Constant">$check-mu-numberlike-primitive:second-inout-permitted</span>:
<span id="L12934" class="LineNr">12934 </span>      (<a href='mu.subx.html#L12976'>check-mu-numberlike-arg</a> %eax *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L12935" class="LineNr">12935 </span>    }
<span id="L12936" class="LineNr">12936 </span><span class="Constant">$check-mu-numberlike-primitive:third-inout</span>:
<span id="L12937" class="LineNr">12937 </span>    <span class="subxComment"># if there's a third arg, raise an error</span>
<span id="L12938" class="LineNr">12938 </span>    81 7/subop/compare *(eax+8) 0/imm32  <span class="subxComment"># Stmt-var-next</span>
<span id="L12939" class="LineNr">12939 </span>    0f 85/jump-if-!= $check-mu-numberlike-primitive:error-too-many-inouts/disp32
<span id="L12940" class="LineNr">12940 </span><span class="Constant">$check-mu-numberlike-primitive:end</span>:
<span id="L12941" class="LineNr">12941 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L12942" class="LineNr">12942 </span>    5e/pop-to-esi
<span id="L12943" class="LineNr">12943 </span>    59/pop-to-ecx
<span id="L12944" class="LineNr">12944 </span>    58/pop-to-eax
<span id="L12945" class="LineNr">12945 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L12946" class="LineNr">12946 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L12947" class="LineNr">12947 </span>    5d/pop-to-ebp
<span id="L12948" class="LineNr">12948 </span>    c3/return
<span id="L12949" class="LineNr">12949 </span>
<span id="L12950" class="LineNr">12950 </span><span class="Constant">$check-mu-numberlike-primitive:error-too-many-inouts</span>:
<span id="L12951" class="LineNr">12951 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L12952" class="LineNr">12952 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L12953" class="LineNr">12953 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L12954" class="LineNr">12954 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L12955" class="LineNr">12955 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt &quot;</span>)
<span id="L12956" class="LineNr">12956 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L12957" class="LineNr">12957 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L12958" class="LineNr">12958 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: too many inouts; most primitives support at most two arguments, across inouts and outputs\n&quot;</span>)
<span id="L12959" class="LineNr">12959 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L12960" class="LineNr">12960 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L12961" class="LineNr">12961 </span>    <span class="subxComment"># never gets here</span>
<span id="L12962" class="LineNr">12962 </span>
<span id="L12963" class="LineNr">12963 </span><span class="Constant">$check-mu-numberlike-primitive:error-too-many-outputs</span>:
<span id="L12964" class="LineNr">12964 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L12965" class="LineNr">12965 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L12966" class="LineNr">12966 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L12967" class="LineNr">12967 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L12968" class="LineNr">12968 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt &quot;</span>)
<span id="L12969" class="LineNr">12969 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L12970" class="LineNr">12970 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L12971" class="LineNr">12971 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: too many outputs; most primitives support at most one output\n&quot;</span>)
<span id="L12972" class="LineNr">12972 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L12973" class="LineNr">12973 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L12974" class="LineNr">12974 </span>    <span class="subxComment"># never gets here</span>
<span id="L12975" class="LineNr">12975 </span>
<span id="L12976" class="LineNr">12976 </span><span class="subxFunction">check-mu-numberlike-arg</span>:  <span class="subxComment"># v: (addr stmt-var), stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L12977" class="LineNr">12977 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L12978" class="LineNr">12978 </span>    55/push-ebp
<span id="L12979" class="LineNr">12979 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L12980" class="LineNr">12980 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L12981" class="LineNr">12981 </span>    50/push-eax
<span id="L12982" class="LineNr">12982 </span>    56/push-esi
<span id="L12983" class="LineNr">12983 </span>    <span class="subxComment"># var t/esi: (addr type-tree) = lookup(v-&gt;value-&gt;type)</span>
<span id="L12984" class="LineNr">12984 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L12985" class="LineNr">12985 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L12986" class="LineNr">12986 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L12987" class="LineNr">12987 </span>    89/&lt;- %esi 0/r32/eax
<span id="L12988" class="LineNr">12988 </span><span class="Constant">$check-mu-numberlike-arg:check-literal</span>:
<span id="L12989" class="LineNr">12989 </span>    <span class="subxComment"># if t is an int, return</span>
<span id="L12990" class="LineNr">12990 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %esi 0)  <span class="subxComment"># literal =&gt; eax</span>
<span id="L12991" class="LineNr">12991 </span>    3d/compare-eax-and 0/imm32/false
<span id="L12992" class="LineNr">12992 </span>    75/jump-if-!= $check-mu-numberlike-arg:end/disp8
<span id="L12993" class="LineNr">12993 </span><span class="Constant">$check-mu-numberlike-arg:check-addr</span>:
<span id="L12994" class="LineNr">12994 </span>    <span class="subxComment"># if t is an addr and v is dereferenced, return</span>
<span id="L12995" class="LineNr">12995 </span>    {
<span id="L12996" class="LineNr">12996 </span>      (<a href='mu.subx.html#L21476'>is-mu-addr-type?</a> %esi)  <span class="subxComment"># =&gt; eax</span>
<span id="L12997" class="LineNr">12997 </span>      3d/compare-eax-and 0/imm32/false
<span id="L12998" class="LineNr">12998 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L12999" class="LineNr">12999 </span>      8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L13000" class="LineNr">13000 </span>      8b/-&gt; *(eax+0x10) 0/r32/eax
<span id="L13001" class="LineNr">13001 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13002" class="LineNr">13002 </span>      75/jump-if-!= $check-mu-numberlike-arg:end/disp8
<span id="L13003" class="LineNr">13003 </span>    }
<span id="L13004" class="LineNr">13004 </span><span class="Constant">$check-mu-numberlike-arg:output-checks</span>:
<span id="L13005" class="LineNr">13005 </span>    (<a href='mu.subx.html#L13015'>check-mu-numberlike-output</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14) *(ebp+0x18))
<span id="L13006" class="LineNr">13006 </span><span class="Constant">$check-mu-numberlike-arg:end</span>:
<span id="L13007" class="LineNr">13007 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13008" class="LineNr">13008 </span>    5e/pop-to-esi
<span id="L13009" class="LineNr">13009 </span>    58/pop-to-eax
<span id="L13010" class="LineNr">13010 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13011" class="LineNr">13011 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13012" class="LineNr">13012 </span>    5d/pop-to-ebp
<span id="L13013" class="LineNr">13013 </span>    c3/return
<span id="L13014" class="LineNr">13014 </span>
<span id="L13015" class="LineNr">13015 </span><span class="subxFunction">check-mu-numberlike-output</span>:  <span class="subxComment"># v: (addr stmt-var), stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13016" class="LineNr">13016 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13017" class="LineNr">13017 </span>    55/push-ebp
<span id="L13018" class="LineNr">13018 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13019" class="LineNr">13019 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13020" class="LineNr">13020 </span>    50/push-eax
<span id="L13021" class="LineNr">13021 </span>    56/push-esi
<span id="L13022" class="LineNr">13022 </span>    <span class="subxComment"># var t/esi: (addr type-tree) = lookup(v-&gt;value-&gt;type)</span>
<span id="L13023" class="LineNr">13023 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L13024" class="LineNr">13024 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13025" class="LineNr">13025 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13026" class="LineNr">13026 </span>    89/&lt;- %esi 0/r32/eax
<span id="L13027" class="LineNr">13027 </span><span class="Constant">$check-mu-numberlike-output:check-int</span>:
<span id="L13028" class="LineNr">13028 </span>    <span class="subxComment"># if t is an int, return</span>
<span id="L13029" class="LineNr">13029 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %esi 1)  <span class="subxComment"># int =&gt; eax</span>
<span id="L13030" class="LineNr">13030 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13031" class="LineNr">13031 </span>    75/jump-if-!= $check-mu-numberlike-output:end/disp8
<span id="L13032" class="LineNr">13032 </span><span class="Constant">$check-mu-numberlike-output:check-boolean</span>:
<span id="L13033" class="LineNr">13033 </span>    <span class="subxComment"># if t is a boolean, return</span>
<span id="L13034" class="LineNr">13034 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %esi 5)  <span class="subxComment"># boolean =&gt; eax</span>
<span id="L13035" class="LineNr">13035 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13036" class="LineNr">13036 </span>    75/jump-if-!= $check-mu-numberlike-output:end/disp8
<span id="L13037" class="LineNr">13037 </span><span class="Constant">$check-mu-numberlike-output:check-byte</span>:
<span id="L13038" class="LineNr">13038 </span>    <span class="subxComment"># if t is a byte, return</span>
<span id="L13039" class="LineNr">13039 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %esi 8)  <span class="subxComment"># byte =&gt; eax</span>
<span id="L13040" class="LineNr">13040 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13041" class="LineNr">13041 </span>    75/jump-if-!= $check-mu-numberlike-output:end/disp8
<span id="L13042" class="LineNr">13042 </span>    e9/jump $check-mu-numberlike-output:fail/disp32
<span id="L13043" class="LineNr">13043 </span><span class="Constant">$check-mu-numberlike-output:end</span>:
<span id="L13044" class="LineNr">13044 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13045" class="LineNr">13045 </span>    5e/pop-to-esi
<span id="L13046" class="LineNr">13046 </span>    58/pop-to-eax
<span id="L13047" class="LineNr">13047 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13048" class="LineNr">13048 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13049" class="LineNr">13049 </span>    5d/pop-to-ebp
<span id="L13050" class="LineNr">13050 </span>    c3/return
<span id="L13051" class="LineNr">13051 </span>
<span id="L13052" class="LineNr">13052 </span><span class="Constant">$check-mu-numberlike-output:fail</span>:
<span id="L13053" class="LineNr">13053 </span>    <span class="subxComment"># otherwise raise an error</span>
<span id="L13054" class="LineNr">13054 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13055" class="LineNr">13055 </span>    8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L13056" class="LineNr">13056 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13057" class="LineNr">13057 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13058" class="LineNr">13058 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: stmt &quot;</span>)
<span id="L13059" class="LineNr">13059 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13060" class="LineNr">13060 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L13061" class="LineNr">13061 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13062" class="LineNr">13062 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: only non-addr scalar args permitted\n&quot;</span>)
<span id="L13063" class="LineNr">13063 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L13064" class="LineNr">13064 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L13065" class="LineNr">13065 </span>    <span class="subxComment"># never gets here</span>
<span id="L13066" class="LineNr">13066 </span>
<span id="L13067" class="LineNr">13067 </span><span class="subxFunction">check-mu-copy-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13068" class="LineNr">13068 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13069" class="LineNr">13069 </span>    55/push-ebp
<span id="L13070" class="LineNr">13070 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13071" class="LineNr">13071 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13072" class="LineNr">13072 </span><span class="Constant">$check-mu-copy-stmt:end</span>:
<span id="L13073" class="LineNr">13073 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13074" class="LineNr">13074 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13075" class="LineNr">13075 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13076" class="LineNr">13076 </span>    5d/pop-to-ebp
<span id="L13077" class="LineNr">13077 </span>    c3/return
<span id="L13078" class="LineNr">13078 </span>
<span id="L13079" class="LineNr">13079 </span><span class="subxFunction">check-mu-copy-to-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13080" class="LineNr">13080 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13081" class="LineNr">13081 </span>    55/push-ebp
<span id="L13082" class="LineNr">13082 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13083" class="LineNr">13083 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13084" class="LineNr">13084 </span><span class="Constant">$check-mu-copy-to-stmt:end</span>:
<span id="L13085" class="LineNr">13085 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13086" class="LineNr">13086 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13087" class="LineNr">13087 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13088" class="LineNr">13088 </span>    5d/pop-to-ebp
<span id="L13089" class="LineNr">13089 </span>    c3/return
<span id="L13090" class="LineNr">13090 </span>
<span id="L13091" class="LineNr">13091 </span><span class="subxFunction">check-mu-compare-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13092" class="LineNr">13092 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13093" class="LineNr">13093 </span>    55/push-ebp
<span id="L13094" class="LineNr">13094 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13095" class="LineNr">13095 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13096" class="LineNr">13096 </span><span class="Constant">$check-mu-compare-stmt:end</span>:
<span id="L13097" class="LineNr">13097 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13098" class="LineNr">13098 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13099" class="LineNr">13099 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13100" class="LineNr">13100 </span>    5d/pop-to-ebp
<span id="L13101" class="LineNr">13101 </span>    c3/return
<span id="L13102" class="LineNr">13102 </span>
<span id="L13103" class="LineNr">13103 </span><span class="subxFunction">check-mu-address-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13104" class="LineNr">13104 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13105" class="LineNr">13105 </span>    55/push-ebp
<span id="L13106" class="LineNr">13106 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13107" class="LineNr">13107 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13108" class="LineNr">13108 </span><span class="Constant">$check-mu-address-stmt:end</span>:
<span id="L13109" class="LineNr">13109 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13110" class="LineNr">13110 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13111" class="LineNr">13111 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13112" class="LineNr">13112 </span>    5d/pop-to-ebp
<span id="L13113" class="LineNr">13113 </span>    c3/return
<span id="L13114" class="LineNr">13114 </span>
<span id="L13115" class="LineNr">13115 </span><span class="subxFunction">check-mu-get-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13116" class="LineNr">13116 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13117" class="LineNr">13117 </span>    55/push-ebp
<span id="L13118" class="LineNr">13118 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13119" class="LineNr">13119 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13120" class="LineNr">13120 </span>    50/push-eax
<span id="L13121" class="LineNr">13121 </span>    51/push-ecx
<span id="L13122" class="LineNr">13122 </span>    52/push-edx
<span id="L13123" class="LineNr">13123 </span>    53/push-ebx
<span id="L13124" class="LineNr">13124 </span>    56/push-esi
<span id="L13125" class="LineNr">13125 </span>    57/push-edi
<span id="L13126" class="LineNr">13126 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L13127" class="LineNr">13127 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L13128" class="LineNr">13128 </span>    <span class="subxH1Comment"># - check for 0 inouts</span>
<span id="L13129" class="LineNr">13129 </span>    <span class="subxComment"># var base/ecx: (addr var) = stmt-&gt;inouts-&gt;value</span>
<span id="L13130" class="LineNr">13130 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13131" class="LineNr">13131 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13132" class="LineNr">13132 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-too-few-inouts/disp32
<span id="L13133" class="LineNr">13133 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13134" class="LineNr">13134 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13135" class="LineNr">13135 </span><span class="Constant">$check-mu-get-stmt:check-base</span>:
<span id="L13136" class="LineNr">13136 </span>    <span class="subxH1Comment"># - check base type</span>
<span id="L13137" class="LineNr">13137 </span>    <span class="subxComment"># if it's an 'addr', check that it's in a register</span>
<span id="L13138" class="LineNr">13138 </span>    <span class="subxComment"># var base-type/ebx: (addr type-tree) = lookup(base-&gt;type)</span>
<span id="L13139" class="LineNr">13139 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13140" class="LineNr">13140 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L13141" class="LineNr">13141 </span>    {
<span id="L13142" class="LineNr">13142 </span>      81 7/subop/compare *ebx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L13143" class="LineNr">13143 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L13144" class="LineNr">13144 </span><span class="Constant">$check-mu-get-stmt:base-is-compound</span>:
<span id="L13145" class="LineNr">13145 </span>      <span class="subxComment"># if (type-&gt;left != addr) break</span>
<span id="L13146" class="LineNr">13146 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13147" class="LineNr">13147 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># addr =&gt; eax</span>
<span id="L13148" class="LineNr">13148 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13149" class="LineNr">13149 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13150" class="LineNr">13150 </span><span class="Constant">$check-mu-get-stmt:base-is-addr</span>:
<span id="L13151" class="LineNr">13151 </span>      <span class="subxComment"># now check for register</span>
<span id="L13152" class="LineNr">13152 </span>      81 7/subop/compare *(ecx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L13153" class="LineNr">13153 </span>      0f 84/jump-if-= $check-mu-get-stmt:error-base-type-addr-but-not-register/disp32
<span id="L13154" class="LineNr">13154 </span><span class="Constant">$check-mu-get-stmt:base-is-addr-in-register</span>:
<span id="L13155" class="LineNr">13155 </span>      <span class="subxComment"># type-&gt;left is now an addr; skip it</span>
<span id="L13156" class="LineNr">13156 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0xc) *(ebx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L13157" class="LineNr">13157 </span>      81 7/subop/compare *(eax+0xc) 0/imm32  <span class="subxComment"># Type-tree-right</span>
<span id="L13158" class="LineNr">13158 </span>      0f 85/jump-if-!= $check-mu-get-stmt:error-bad-base/disp32
<span id="L13159" class="LineNr">13159 </span><span class="Constant">$check-mu-get-stmt:base-is-addr-to-atom-in-register</span>:
<span id="L13160" class="LineNr">13160 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13161" class="LineNr">13161 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L13162" class="LineNr">13162 </span>    }
<span id="L13163" class="LineNr">13163 </span><span class="Constant">$check-mu-get-stmt:check-base-typeinfo</span>:
<span id="L13164" class="LineNr">13164 </span>    <span class="subxComment"># ensure type is a container</span>
<span id="L13165" class="LineNr">13165 </span>    <span class="subxComment"># var base-type-id/ebx: type-id = base-type-&gt;value</span>
<span id="L13166" class="LineNr">13166 </span>    8b/-&gt; *(ebx+4) 3/r32/ebx  <span class="subxComment"># Type-tree-value</span>
<span id="L13167" class="LineNr">13167 </span>    (<a href='mu.subx.html#L11436'>is-container?</a> %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L13168" class="LineNr">13168 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13169" class="LineNr">13169 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-bad-base/disp32
<span id="L13170" class="LineNr">13170 </span>    <span class="subxComment"># var base-typeinfo/edx: (addr typeinfo) = find-typeinfo(base-type-id)</span>
<span id="L13171" class="LineNr">13171 </span>    <span class="subxS1Comment"># . var container/ecx: (handle typeinfo)</span>
<span id="L13172" class="LineNr">13172 </span>    68/push 0/imm32
<span id="L13173" class="LineNr">13173 </span>    68/push 0/imm32
<span id="L13174" class="LineNr">13174 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L13175" class="LineNr">13175 </span>    <span class="subxS1Comment"># .</span>
<span id="L13176" class="LineNr">13176 </span>    (<a href='mu.subx.html#L11519'>find-typeinfo</a> %ebx %ecx)
<span id="L13177" class="LineNr">13177 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L13178" class="LineNr">13178 </span>    <span class="subxS1Comment"># . reclaim container</span>
<span id="L13179" class="LineNr">13179 </span>    81 0/subop/add %esp 8/imm32
<span id="L13180" class="LineNr">13180 </span>    <span class="subxS1Comment"># .</span>
<span id="L13181" class="LineNr">13181 </span>    89/&lt;- %edx 0/r32/eax
<span id="L13182" class="LineNr">13182 </span>    <span class="subxComment"># var offset/ecx: (addr stmt-var) = stmt-&gt;inouts-&gt;next</span>
<span id="L13183" class="LineNr">13183 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13184" class="LineNr">13184 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13185" class="LineNr">13185 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13186" class="LineNr">13186 </span>    <span class="subxH1Comment"># - check for 1 inout</span>
<span id="L13187" class="LineNr">13187 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13188" class="LineNr">13188 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-too-few-inouts/disp32
<span id="L13189" class="LineNr">13189 </span>    <span class="subxComment"># var offset/ecx: (addr var) = lookup(offset-&gt;value)</span>
<span id="L13190" class="LineNr">13190 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13191" class="LineNr">13191 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13192" class="LineNr">13192 </span>    <span class="subxH1Comment"># - check for valid field</span>
<span id="L13193" class="LineNr">13193 </span>    81 7/subop/compare *(ecx+0x14) -1/imm32/uninitialized  <span class="subxComment"># Var-offset</span>
<span id="L13194" class="LineNr">13194 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-bad-field/disp32
<span id="L13195" class="LineNr">13195 </span>    <span class="subxH1Comment"># - check for too many inouts</span>
<span id="L13196" class="LineNr">13196 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13197" class="LineNr">13197 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13198" class="LineNr">13198 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13199" class="LineNr">13199 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13200" class="LineNr">13200 </span>    0f 85/jump-if-!= $check-mu-get-stmt:error-too-many-inouts/disp32
<span id="L13201" class="LineNr">13201 </span>    <span class="subxComment"># var output/edi: (addr var) = stmt-&gt;outputs-&gt;value</span>
<span id="L13202" class="LineNr">13202 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L13203" class="LineNr">13203 </span>    <span class="subxH1Comment"># - check for 0 outputs</span>
<span id="L13204" class="LineNr">13204 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13205" class="LineNr">13205 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-too-few-outputs/disp32
<span id="L13206" class="LineNr">13206 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13207" class="LineNr">13207 </span>    89/&lt;- %edi 0/r32/eax
<span id="L13208" class="LineNr">13208 </span><span class="Constant">$check-mu-get-stmt:check-output-type</span>:
<span id="L13209" class="LineNr">13209 </span>    <span class="subxH1Comment"># - check output type</span>
<span id="L13210" class="LineNr">13210 </span>    <span class="subxComment"># must be in register</span>
<span id="L13211" class="LineNr">13211 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0x18) *(edi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L13212" class="LineNr">13212 </span>    3d/compare-eax-and 0/imm32
<span id="L13213" class="LineNr">13213 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-output-not-in-register/disp32
<span id="L13214" class="LineNr">13214 </span>    <span class="subxComment"># must have a non-atomic type</span>
<span id="L13215" class="LineNr">13215 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13216" class="LineNr">13216 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L13217" class="LineNr">13217 </span>    0f 85/jump-if-!= $check-mu-get-stmt:error-output-type-not-address/disp32
<span id="L13218" class="LineNr">13218 </span>    <span class="subxComment"># type must start with (addr ...)</span>
<span id="L13219" class="LineNr">13219 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13220" class="LineNr">13220 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># =&gt; eax</span>
<span id="L13221" class="LineNr">13221 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13222" class="LineNr">13222 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-output-type-not-address/disp32
<span id="L13223" class="LineNr">13223 </span><span class="Constant">$check-mu-get-stmt:check-output-type-match</span>:
<span id="L13224" class="LineNr">13224 </span>    <span class="subxComment"># payload of addr type must match 'type' definition</span>
<span id="L13225" class="LineNr">13225 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13226" class="LineNr">13226 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L13227" class="LineNr">13227 </span>    <span class="subxComment"># if (payload-&gt;right == null) payload = payload-&gt;left</span>
<span id="L13228" class="LineNr">13228 </span>    81 7/subop/compare *(eax+0xc) 0/imm32/null  <span class="subxComment"># Type-tree-right</span>
<span id="L13229" class="LineNr">13229 </span>    {
<span id="L13230" class="LineNr">13230 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L13231" class="LineNr">13231 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13232" class="LineNr">13232 </span>    }
<span id="L13233" class="LineNr">13233 </span>    89/&lt;- %edi 0/r32/eax
<span id="L13234" class="LineNr">13234 </span>    <span class="subxS1Comment"># . var output-name/ecx: (addr array byte)</span>
<span id="L13235" class="LineNr">13235 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13236" class="LineNr">13236 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13237" class="LineNr">13237 </span>    <span class="subxS1Comment"># . var base-typeinfo-entry/eax: (addr handle typeinfo-entry)</span>
<span id="L13238" class="LineNr">13238 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Typeinfo-fields Typeinfo-fields =&gt; eax</span>
<span id="L13239" class="LineNr">13239 </span>    (<a href='../131table.subx.html#L26'>get</a> %eax %ecx 0x10)  <span class="subxComment"># =&gt; eax</span>
<span id="L13240" class="LineNr">13240 </span>    <span class="subxS1Comment"># .</span>
<span id="L13241" class="LineNr">13241 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L13242" class="LineNr">13242 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Typeinfo-entry-input-var Typeinfo-entry-input-var =&gt; eax</span>
<span id="L13243" class="LineNr">13243 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13244" class="LineNr">13244 </span>    <span class="subxS1Comment"># .</span>
<span id="L13245" class="LineNr">13245 </span>    (<a href='mu.subx.html#L14606'>type-equal?</a> %edi %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L13246" class="LineNr">13246 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13247" class="LineNr">13247 </span>    0f 84/jump-if-= $check-mu-get-stmt:error-bad-output-type/disp32
<span id="L13248" class="LineNr">13248 </span>    <span class="subxH1Comment"># - check for too many outputs</span>
<span id="L13249" class="LineNr">13249 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L13250" class="LineNr">13250 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13251" class="LineNr">13251 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13252" class="LineNr">13252 </span>    0f 85/jump-if-!= $check-mu-get-stmt:error-too-many-outputs/disp32
<span id="L13253" class="LineNr">13253 </span><span class="Constant">$check-mu-get-stmt:end</span>:
<span id="L13254" class="LineNr">13254 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13255" class="LineNr">13255 </span>    5f/pop-to-edi
<span id="L13256" class="LineNr">13256 </span>    5e/pop-to-esi
<span id="L13257" class="LineNr">13257 </span>    5b/pop-to-ebx
<span id="L13258" class="LineNr">13258 </span>    5a/pop-to-edx
<span id="L13259" class="LineNr">13259 </span>    59/pop-to-ecx
<span id="L13260" class="LineNr">13260 </span>    58/pop-to-eax
<span id="L13261" class="LineNr">13261 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13262" class="LineNr">13262 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13263" class="LineNr">13263 </span>    5d/pop-to-ebp
<span id="L13264" class="LineNr">13264 </span>    c3/return
<span id="L13265" class="LineNr">13265 </span>
<span id="L13266" class="LineNr">13266 </span><span class="Constant">$check-mu-get-stmt:error-too-few-inouts</span>:
<span id="L13267" class="LineNr">13267 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13268" class="LineNr">13268 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13269" class="LineNr">13269 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13270" class="LineNr">13270 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13271" class="LineNr">13271 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: too few inouts (2 required)\n&quot;</span>)
<span id="L13272" class="LineNr">13272 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13273" class="LineNr">13273 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13274" class="LineNr">13274 </span>    <span class="subxComment"># never gets here</span>
<span id="L13275" class="LineNr">13275 </span>
<span id="L13276" class="LineNr">13276 </span><span class="Constant">$check-mu-get-stmt:error-too-many-inouts</span>:
<span id="L13277" class="LineNr">13277 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13278" class="LineNr">13278 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13279" class="LineNr">13279 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13280" class="LineNr">13280 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13281" class="LineNr">13281 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: too many inouts (2 required)\n&quot;</span>)
<span id="L13282" class="LineNr">13282 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13283" class="LineNr">13283 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13284" class="LineNr">13284 </span>    <span class="subxComment"># never gets here</span>
<span id="L13285" class="LineNr">13285 </span>
<span id="L13286" class="LineNr">13286 </span><span class="Constant">$check-mu-get-stmt:error-too-few-outputs</span>:
<span id="L13287" class="LineNr">13287 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13288" class="LineNr">13288 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13289" class="LineNr">13289 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13290" class="LineNr">13290 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13291" class="LineNr">13291 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: must have an output\n&quot;</span>)
<span id="L13292" class="LineNr">13292 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13293" class="LineNr">13293 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13294" class="LineNr">13294 </span>    <span class="subxComment"># never gets here</span>
<span id="L13295" class="LineNr">13295 </span>
<span id="L13296" class="LineNr">13296 </span><span class="Constant">$check-mu-get-stmt:error-too-many-outputs</span>:
<span id="L13297" class="LineNr">13297 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13298" class="LineNr">13298 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13299" class="LineNr">13299 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13300" class="LineNr">13300 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13301" class="LineNr">13301 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: too many outputs (1 required)\n&quot;</span>)
<span id="L13302" class="LineNr">13302 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13303" class="LineNr">13303 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13304" class="LineNr">13304 </span>    <span class="subxComment"># never gets here</span>
<span id="L13305" class="LineNr">13305 </span>
<span id="L13306" class="LineNr">13306 </span><span class="Constant">$check-mu-get-stmt:error-bad-base</span>:
<span id="L13307" class="LineNr">13307 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: stmt get: var '&quot; base-&gt;name &quot;' must have a 'type' definition\n&quot;)</span>
<span id="L13308" class="LineNr">13308 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13309" class="LineNr">13309 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13310" class="LineNr">13310 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13311" class="LineNr">13311 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13312" class="LineNr">13312 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: var '&quot;</span>)
<span id="L13313" class="LineNr">13313 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13314" class="LineNr">13314 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13315" class="LineNr">13315 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13316" class="LineNr">13316 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13317" class="LineNr">13317 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must have a 'type' definition\n&quot;</span>)
<span id="L13318" class="LineNr">13318 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13319" class="LineNr">13319 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13320" class="LineNr">13320 </span>    <span class="subxComment"># never gets here</span>
<span id="L13321" class="LineNr">13321 </span>
<span id="L13322" class="LineNr">13322 </span><span class="Constant">$check-mu-get-stmt:error-base-type-addr-but-not-register</span>:
<span id="L13323" class="LineNr">13323 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13324" class="LineNr">13324 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13325" class="LineNr">13325 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13326" class="LineNr">13326 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13327" class="LineNr">13327 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: var '&quot;</span>)
<span id="L13328" class="LineNr">13328 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13329" class="LineNr">13329 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13330" class="LineNr">13330 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13331" class="LineNr">13331 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13332" class="LineNr">13332 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' is an 'addr' type, and so must live in a register\n&quot;</span>)
<span id="L13333" class="LineNr">13333 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13334" class="LineNr">13334 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13335" class="LineNr">13335 </span>    <span class="subxComment"># never gets here</span>
<span id="L13336" class="LineNr">13336 </span>
<span id="L13337" class="LineNr">13337 </span><span class="Constant">$check-mu-get-stmt:error-bad-field</span>:
<span id="L13338" class="LineNr">13338 </span>    <span class="subxComment"># error(&quot;fn &quot; fn &quot;: stmt get: type &quot; type &quot; has no member called '&quot; curr-&gt;name &quot;'\n&quot;)</span>
<span id="L13339" class="LineNr">13339 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13340" class="LineNr">13340 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13341" class="LineNr">13341 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13342" class="LineNr">13342 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13343" class="LineNr">13343 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: type '&quot;</span>)
<span id="L13344" class="LineNr">13344 </span>    <span class="subxS1Comment"># . write(Type-id-&gt;data[tmp])</span>
<span id="L13345" class="LineNr">13345 </span>    bf/copy-to-edi <span class="SpecialChar"><a href='mu.subx.html#L391'>Type-id</a></span>/imm32
<span id="L13346" class="LineNr">13346 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) *(edi+ebx&lt;&lt;2+0xc))
<span id="L13347" class="LineNr">13347 </span>    <span class="subxS1Comment"># .</span>
<span id="L13348" class="LineNr">13348 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' has no member called '&quot;</span>)
<span id="L13349" class="LineNr">13349 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13350" class="LineNr">13350 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13351" class="LineNr">13351 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L13352" class="LineNr">13352 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13353" class="LineNr">13353 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13354" class="LineNr">13354 </span>    <span class="subxComment"># never gets here</span>
<span id="L13355" class="LineNr">13355 </span>
<span id="L13356" class="LineNr">13356 </span><span class="Constant">$check-mu-get-stmt:error-output-not-in-register</span>:
<span id="L13357" class="LineNr">13357 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13358" class="LineNr">13358 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13359" class="LineNr">13359 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13360" class="LineNr">13360 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13361" class="LineNr">13361 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: output '&quot;</span>)
<span id="L13362" class="LineNr">13362 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13363" class="LineNr">13363 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13364" class="LineNr">13364 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' is not in a register\n&quot;</span>)
<span id="L13365" class="LineNr">13365 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13366" class="LineNr">13366 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13367" class="LineNr">13367 </span>    <span class="subxComment"># never gets here</span>
<span id="L13368" class="LineNr">13368 </span>
<span id="L13369" class="LineNr">13369 </span><span class="Constant">$check-mu-get-stmt:error-output-type-not-address</span>:
<span id="L13370" class="LineNr">13370 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13371" class="LineNr">13371 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13372" class="LineNr">13372 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13373" class="LineNr">13373 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13374" class="LineNr">13374 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: output must be an address\n&quot;</span>)
<span id="L13375" class="LineNr">13375 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13376" class="LineNr">13376 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13377" class="LineNr">13377 </span>    <span class="subxComment"># never gets here</span>
<span id="L13378" class="LineNr">13378 </span>
<span id="L13379" class="LineNr">13379 </span><span class="Constant">$check-mu-get-stmt:error-bad-output-type</span>:
<span id="L13380" class="LineNr">13380 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13381" class="LineNr">13381 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13382" class="LineNr">13382 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13383" class="LineNr">13383 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13384" class="LineNr">13384 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt <a href='../131table.subx.html#L26'>get</a>: wrong output type for member '&quot;</span>)
<span id="L13385" class="LineNr">13385 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %ecx)
<span id="L13386" class="LineNr">13386 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' of type '&quot;</span>)
<span id="L13387" class="LineNr">13387 </span>    bf/copy-to-edi <span class="SpecialChar"><a href='mu.subx.html#L391'>Type-id</a></span>/imm32
<span id="L13388" class="LineNr">13388 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) *(edi+ebx&lt;&lt;2+0xc))
<span id="L13389" class="LineNr">13389 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;'\n&quot;</span>)
<span id="L13390" class="LineNr">13390 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13391" class="LineNr">13391 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13392" class="LineNr">13392 </span>    <span class="subxComment"># never gets here</span>
<span id="L13393" class="LineNr">13393 </span>
<span id="L13394" class="LineNr">13394 </span><span class="subxFunction">check-mu-index-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13395" class="LineNr">13395 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13396" class="LineNr">13396 </span>    55/push-ebp
<span id="L13397" class="LineNr">13397 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13398" class="LineNr">13398 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13399" class="LineNr">13399 </span>    50/push-eax
<span id="L13400" class="LineNr">13400 </span>    51/push-ecx
<span id="L13401" class="LineNr">13401 </span>    52/push-edx
<span id="L13402" class="LineNr">13402 </span>    53/push-ebx
<span id="L13403" class="LineNr">13403 </span>    56/push-esi
<span id="L13404" class="LineNr">13404 </span>    57/push-edi
<span id="L13405" class="LineNr">13405 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L13406" class="LineNr">13406 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L13407" class="LineNr">13407 </span>    <span class="subxH1Comment"># - check for 0 inouts</span>
<span id="L13408" class="LineNr">13408 </span>    <span class="subxComment"># var base/ecx: (addr var) = stmt-&gt;inouts-&gt;value</span>
<span id="L13409" class="LineNr">13409 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13410" class="LineNr">13410 </span><span class="Constant">$check-mu-index-stmt:check-no-inouts</span>:
<span id="L13411" class="LineNr">13411 </span>    3d/compare-eax-and 0/imm32
<span id="L13412" class="LineNr">13412 </span>    0f 84/jump-if-= $check-mu-index-stmt:error-too-few-inouts/disp32
<span id="L13413" class="LineNr">13413 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13414" class="LineNr">13414 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13415" class="LineNr">13415 </span>    <span class="subxH1Comment"># - check base type is either (addr array ...) in register or (array ...) on stack</span>
<span id="L13416" class="LineNr">13416 </span>    <span class="subxComment"># var base-type/ebx: (addr type-tree) = lookup(base-&gt;type)</span>
<span id="L13417" class="LineNr">13417 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13418" class="LineNr">13418 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L13419" class="LineNr">13419 </span>    <span class="subxComment"># if base-type is an atom, abort with a precise error</span>
<span id="L13420" class="LineNr">13420 </span>    81 7/subop/compare *ebx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L13421" class="LineNr">13421 </span>    {
<span id="L13422" class="LineNr">13422 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13423" class="LineNr">13423 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %ebx 3)  <span class="subxComment"># array =&gt; eax</span>
<span id="L13424" class="LineNr">13424 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13425" class="LineNr">13425 </span>      0f 85/jump-if-!= $check-mu-index-stmt:error-base-array-atom-type/disp32
<span id="L13426" class="LineNr">13426 </span>      0f 84/jump-if-= $check-mu-index-stmt:error-base-non-array-type/disp32
<span id="L13427" class="LineNr">13427 </span>    }
<span id="L13428" class="LineNr">13428 </span><span class="Constant">$check-mu-index-stmt:base-is-compound</span>:
<span id="L13429" class="LineNr">13429 </span>    <span class="subxComment"># if type-&gt;left not addr or array, abort</span>
<span id="L13430" class="LineNr">13430 </span>    {
<span id="L13431" class="LineNr">13431 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13432" class="LineNr">13432 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># addr =&gt; eax</span>
<span id="L13433" class="LineNr">13433 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13434" class="LineNr">13434 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L13435" class="LineNr">13435 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13436" class="LineNr">13436 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 3)  <span class="subxComment"># array =&gt; eax</span>
<span id="L13437" class="LineNr">13437 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13438" class="LineNr">13438 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L13439" class="LineNr">13439 </span>      e9/jump $check-mu-index-stmt:error-base-non-array-type/disp32
<span id="L13440" class="LineNr">13440 </span>    }
<span id="L13441" class="LineNr">13441 </span>    <span class="subxComment"># if (type-&gt;left == addr) ensure type-&gt;right-&gt;left == array and type-&gt;register exists</span>
<span id="L13442" class="LineNr">13442 </span>    {
<span id="L13443" class="LineNr">13443 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13444" class="LineNr">13444 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># addr =&gt; eax</span>
<span id="L13445" class="LineNr">13445 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13446" class="LineNr">13446 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13447" class="LineNr">13447 </span><span class="Constant">$check-mu-index-stmt:base-is-addr</span>:
<span id="L13448" class="LineNr">13448 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0xc) *(ebx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L13449" class="LineNr">13449 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13450" class="LineNr">13450 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 3)  <span class="subxComment"># array =&gt; eax</span>
<span id="L13451" class="LineNr">13451 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13452" class="LineNr">13452 </span>      0f 84/jump-if-= $check-mu-index-stmt:error-base-non-array-type/disp32
<span id="L13453" class="LineNr">13453 </span><span class="Constant">$check-mu-index-stmt:check-base-addr-is-register</span>:
<span id="L13454" class="LineNr">13454 </span>      81 7/subop/compare *(ecx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L13455" class="LineNr">13455 </span>      0f 84/jump-if-= $check-mu-index-stmt:error-base-address-array-type-on-stack/disp32
<span id="L13456" class="LineNr">13456 </span>    }
<span id="L13457" class="LineNr">13457 </span>    <span class="subxComment"># if (type-&gt;left == array) ensure type-&gt;register doesn't exist</span>
<span id="L13458" class="LineNr">13458 </span>    {
<span id="L13459" class="LineNr">13459 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13460" class="LineNr">13460 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 3)  <span class="subxComment"># array =&gt; eax</span>
<span id="L13461" class="LineNr">13461 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13462" class="LineNr">13462 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13463" class="LineNr">13463 </span><span class="Constant">$check-mu-index-stmt:base-is-array</span>:
<span id="L13464" class="LineNr">13464 </span>      81 7/subop/compare *(ecx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L13465" class="LineNr">13465 </span>      0f 85/jump-if-!= $check-mu-index-stmt:error-base-array-type-in-register/disp32
<span id="L13466" class="LineNr">13466 </span>    }
<span id="L13467" class="LineNr">13467 </span>    <span class="subxComment"># if (base-type-&gt;left == addr) base-type = base-type-&gt;right</span>
<span id="L13468" class="LineNr">13468 </span>    {
<span id="L13469" class="LineNr">13469 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13470" class="LineNr">13470 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># addr =&gt; eax</span>
<span id="L13471" class="LineNr">13471 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13472" class="LineNr">13472 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13473" class="LineNr">13473 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0xc) *(ebx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L13474" class="LineNr">13474 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L13475" class="LineNr">13475 </span>    }
<span id="L13476" class="LineNr">13476 </span>    <span class="subxH1Comment"># - check for 1 inout</span>
<span id="L13477" class="LineNr">13477 </span>    <span class="subxComment"># var index/ecx: (addr stmt-var) = stmt-&gt;inouts-&gt;next-&gt;value</span>
<span id="L13478" class="LineNr">13478 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13479" class="LineNr">13479 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13480" class="LineNr">13480 </span><span class="Constant">$check-mu-index-stmt:check-single-inout</span>:
<span id="L13481" class="LineNr">13481 </span>    3d/compare-eax-and 0/imm32
<span id="L13482" class="LineNr">13482 </span>    0f 84/jump-if-= $check-mu-index-stmt:error-too-few-inouts/disp32
<span id="L13483" class="LineNr">13483 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13484" class="LineNr">13484 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13485" class="LineNr">13485 </span>    <span class="subxH1Comment"># - check index is either a literal or register</span>
<span id="L13486" class="LineNr">13486 </span>    <span class="subxComment"># var index-type/edx: (addr type-tree)</span>
<span id="L13487" class="LineNr">13487 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13488" class="LineNr">13488 </span>    89/&lt;- %edx 0/r32/eax
<span id="L13489" class="LineNr">13489 </span>    <span class="subxComment"># if index type is an atom, it must be a literal or int</span>
<span id="L13490" class="LineNr">13490 </span>    81 7/subop/compare *edx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L13491" class="LineNr">13491 </span>    {
<span id="L13492" class="LineNr">13492 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13493" class="LineNr">13493 </span><span class="Constant">$check-mu-index-stmt:index-type-is-atom</span>:
<span id="L13494" class="LineNr">13494 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %edx 0)  <span class="subxComment"># literal =&gt; eax</span>
<span id="L13495" class="LineNr">13495 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13496" class="LineNr">13496 </span>      75/jump-if-!= $check-mu-index-stmt:index-type-done/disp8
<span id="L13497" class="LineNr">13497 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %edx 1)  <span class="subxComment"># int =&gt; eax</span>
<span id="L13498" class="LineNr">13498 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13499" class="LineNr">13499 </span>      75/jump-if-!= $check-mu-index-stmt:index-type-done/disp8
<span id="L13500" class="LineNr">13500 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %edx 7)  <span class="subxComment"># offset =&gt; eax</span>
<span id="L13501" class="LineNr">13501 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13502" class="LineNr">13502 </span>      0f 85/jump-if-!= $check-mu-index-stmt:error-index-offset-atom-type/disp32
<span id="L13503" class="LineNr">13503 </span>      e9/jump $check-mu-index-stmt:error-invalid-index-type/disp32
<span id="L13504" class="LineNr">13504 </span>    }
<span id="L13505" class="LineNr">13505 </span>    <span class="subxComment"># if index type is a non-atom: it must be an offset</span>
<span id="L13506" class="LineNr">13506 </span>    {
<span id="L13507" class="LineNr">13507 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L13508" class="LineNr">13508 </span><span class="Constant">$check-mu-index-stmt:index-type-is-non-atom</span>:
<span id="L13509" class="LineNr">13509 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13510" class="LineNr">13510 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 7)  <span class="subxComment"># offset =&gt; eax</span>
<span id="L13511" class="LineNr">13511 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13512" class="LineNr">13512 </span>      0f 84/jump-if-= $check-mu-index-stmt:error-invalid-index-type/disp32
<span id="L13513" class="LineNr">13513 </span>    }
<span id="L13514" class="LineNr">13514 </span><span class="Constant">$check-mu-index-stmt:index-type-done</span>:
<span id="L13515" class="LineNr">13515 </span>    <span class="subxComment"># check index is either a literal or in a register</span>
<span id="L13516" class="LineNr">13516 </span>    {
<span id="L13517" class="LineNr">13517 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %edx 0)  <span class="subxComment"># literal =&gt; eax</span>
<span id="L13518" class="LineNr">13518 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13519" class="LineNr">13519 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L13520" class="LineNr">13520 </span><span class="Constant">$check-mu-index-stmt:check-index-in-register</span>:
<span id="L13521" class="LineNr">13521 </span>      81 7/subop/compare *(ecx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L13522" class="LineNr">13522 </span>      0f 84/jump-if-= $check-mu-index-stmt:error-index-on-stack/disp32
<span id="L13523" class="LineNr">13523 </span>    }
<span id="L13524" class="LineNr">13524 </span>    <span class="subxH1Comment"># - if index is an 'int', check that element type of base has size 1, 2, 4 or 8 bytes.</span>
<span id="L13525" class="LineNr">13525 </span>    {
<span id="L13526" class="LineNr">13526 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %edx 1)  <span class="subxComment"># int =&gt; eax</span>
<span id="L13527" class="LineNr">13527 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13528" class="LineNr">13528 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13529" class="LineNr">13529 </span><span class="Constant">$check-mu-index-stmt:check-index-can-be-int</span>:
<span id="L13530" class="LineNr">13530 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13531" class="LineNr">13531 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13532" class="LineNr">13532 </span>      (<a href='mu.subx.html#L16256'>array-element-size</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L13533" class="LineNr">13533 </span>      3d/compare-eax-and 1/imm32
<span id="L13534" class="LineNr">13534 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13535" class="LineNr">13535 </span>      3d/compare-eax-and 2/imm32
<span id="L13536" class="LineNr">13536 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13537" class="LineNr">13537 </span>      3d/compare-eax-and 4/imm32
<span id="L13538" class="LineNr">13538 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13539" class="LineNr">13539 </span>      3d/compare-eax-and 8/imm32
<span id="L13540" class="LineNr">13540 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13541" class="LineNr">13541 </span>      e9/jump $check-mu-index-stmt:error-index-needs-offset/disp32
<span id="L13542" class="LineNr">13542 </span>    }
<span id="L13543" class="LineNr">13543 </span>    <span class="subxH1Comment"># - check for too many inouts</span>
<span id="L13544" class="LineNr">13544 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13545" class="LineNr">13545 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13546" class="LineNr">13546 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13547" class="LineNr">13547 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13548" class="LineNr">13548 </span>    0f 85/jump-if-!= $check-mu-index-stmt:error-too-many-inouts/disp32
<span id="L13549" class="LineNr">13549 </span>    <span class="subxH1Comment"># - check for 0 outputs</span>
<span id="L13550" class="LineNr">13550 </span>    <span class="subxComment"># var output/edi: (addr var) = stmt-&gt;outputs-&gt;value</span>
<span id="L13551" class="LineNr">13551 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L13552" class="LineNr">13552 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13553" class="LineNr">13553 </span>    0f 84/jump-if-= $check-mu-index-stmt:error-too-few-outputs/disp32
<span id="L13554" class="LineNr">13554 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13555" class="LineNr">13555 </span>    89/&lt;- %edi 0/r32/eax
<span id="L13556" class="LineNr">13556 </span>    <span class="subxH1Comment"># - check output type</span>
<span id="L13557" class="LineNr">13557 </span>    <span class="subxComment"># must have a non-atomic type</span>
<span id="L13558" class="LineNr">13558 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13559" class="LineNr">13559 </span>    89/&lt;- %edx 0/r32/eax
<span id="L13560" class="LineNr">13560 </span>    81 7/subop/compare *edx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L13561" class="LineNr">13561 </span>    0f 85/jump-if-!= $check-mu-index-stmt:error-output-type-not-address/disp32
<span id="L13562" class="LineNr">13562 </span>    <span class="subxComment"># type must start with (addr ...)</span>
<span id="L13563" class="LineNr">13563 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13564" class="LineNr">13564 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># addr =&gt; eax</span>
<span id="L13565" class="LineNr">13565 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13566" class="LineNr">13566 </span>    0f 84/jump-if-= $check-mu-index-stmt:error-output-type-not-address/disp32
<span id="L13567" class="LineNr">13567 </span>    <span class="subxComment"># if tail(base-type) != tail(output-type) abort</span>
<span id="L13568" class="LineNr">13568 </span>    (<a href='mu.subx.html#L14547'>type-tail</a> %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L13569" class="LineNr">13569 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L13570" class="LineNr">13570 </span>    (<a href='mu.subx.html#L14547'>type-tail</a> %edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L13571" class="LineNr">13571 </span>    (<a href='mu.subx.html#L14606'>type-equal?</a> %ebx %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L13572" class="LineNr">13572 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13573" class="LineNr">13573 </span>    0f 84/jump-if-= $check-mu-index-stmt:error-bad-output-type/disp32
<span id="L13574" class="LineNr">13574 </span>    <span class="subxH1Comment"># - check for too many outputs</span>
<span id="L13575" class="LineNr">13575 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L13576" class="LineNr">13576 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13577" class="LineNr">13577 </span>    3d/compare-eax-and 0/imm32/false
<span id="L13578" class="LineNr">13578 </span>    0f 85/jump-if-!= $check-mu-index-stmt:error-too-many-outputs/disp32
<span id="L13579" class="LineNr">13579 </span><span class="Constant">$check-mu-index-stmt:end</span>:
<span id="L13580" class="LineNr">13580 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13581" class="LineNr">13581 </span>    5f/pop-to-edi
<span id="L13582" class="LineNr">13582 </span>    5e/pop-to-esi
<span id="L13583" class="LineNr">13583 </span>    5b/pop-to-ebx
<span id="L13584" class="LineNr">13584 </span>    5a/pop-to-edx
<span id="L13585" class="LineNr">13585 </span>    59/pop-to-ecx
<span id="L13586" class="LineNr">13586 </span>    58/pop-to-eax
<span id="L13587" class="LineNr">13587 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13588" class="LineNr">13588 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13589" class="LineNr">13589 </span>    5d/pop-to-ebp
<span id="L13590" class="LineNr">13590 </span>    c3/return
<span id="L13591" class="LineNr">13591 </span>
<span id="L13592" class="LineNr">13592 </span><span class="Constant">$check-mu-index-stmt:error-base-non-array-type</span>:
<span id="L13593" class="LineNr">13593 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13594" class="LineNr">13594 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13595" class="LineNr">13595 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13596" class="LineNr">13596 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13597" class="LineNr">13597 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: var '&quot;</span>)
<span id="L13598" class="LineNr">13598 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13599" class="LineNr">13599 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13600" class="LineNr">13600 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' is not an array\n&quot;</span>)
<span id="L13601" class="LineNr">13601 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13602" class="LineNr">13602 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13603" class="LineNr">13603 </span>    <span class="subxComment"># never gets here</span>
<span id="L13604" class="LineNr">13604 </span>
<span id="L13605" class="LineNr">13605 </span><span class="Constant">$check-mu-index-stmt:error-base-array-atom-type</span>:
<span id="L13606" class="LineNr">13606 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13607" class="LineNr">13607 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13608" class="LineNr">13608 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13609" class="LineNr">13609 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13610" class="LineNr">13610 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: array '&quot;</span>)
<span id="L13611" class="LineNr">13611 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13612" class="LineNr">13612 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13613" class="LineNr">13613 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must specify the type of its elements\n&quot;</span>)
<span id="L13614" class="LineNr">13614 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13615" class="LineNr">13615 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13616" class="LineNr">13616 </span>    <span class="subxComment"># never gets here</span>
<span id="L13617" class="LineNr">13617 </span>
<span id="L13618" class="LineNr">13618 </span><span class="Constant">$check-mu-index-stmt:error-base-address-array-type-on-stack</span>:
<span id="L13619" class="LineNr">13619 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13620" class="LineNr">13620 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13621" class="LineNr">13621 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13622" class="LineNr">13622 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13623" class="LineNr">13623 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: var '&quot;</span>)
<span id="L13624" class="LineNr">13624 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13625" class="LineNr">13625 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13626" class="LineNr">13626 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' is an addr to an array, and so must live in a register\n&quot;</span>)
<span id="L13627" class="LineNr">13627 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13628" class="LineNr">13628 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13629" class="LineNr">13629 </span>    <span class="subxComment"># never gets here</span>
<span id="L13630" class="LineNr">13630 </span>
<span id="L13631" class="LineNr">13631 </span><span class="Constant">$check-mu-index-stmt:error-base-array-type-in-register</span>:
<span id="L13632" class="LineNr">13632 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13633" class="LineNr">13633 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13634" class="LineNr">13634 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13635" class="LineNr">13635 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13636" class="LineNr">13636 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: var '&quot;</span>)
<span id="L13637" class="LineNr">13637 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13638" class="LineNr">13638 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13639" class="LineNr">13639 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' is an array, and so must live on the stack\n&quot;</span>)
<span id="L13640" class="LineNr">13640 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13641" class="LineNr">13641 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13642" class="LineNr">13642 </span>    <span class="subxComment"># never gets here</span>
<span id="L13643" class="LineNr">13643 </span>
<span id="L13644" class="LineNr">13644 </span><span class="Constant">$check-mu-index-stmt:error-too-few-inouts</span>:
<span id="L13645" class="LineNr">13645 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13646" class="LineNr">13646 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13647" class="LineNr">13647 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13648" class="LineNr">13648 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13649" class="LineNr">13649 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: too few inouts (2 required)\n&quot;</span>)
<span id="L13650" class="LineNr">13650 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13651" class="LineNr">13651 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13652" class="LineNr">13652 </span>    <span class="subxComment"># never gets here</span>
<span id="L13653" class="LineNr">13653 </span>
<span id="L13654" class="LineNr">13654 </span><span class="Constant">$check-mu-index-stmt:error-invalid-index-type</span>:
<span id="L13655" class="LineNr">13655 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13656" class="LineNr">13656 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13657" class="LineNr">13657 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13658" class="LineNr">13658 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13659" class="LineNr">13659 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: second argument '&quot;</span>)
<span id="L13660" class="LineNr">13660 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13661" class="LineNr">13661 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13662" class="LineNr">13662 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must be an int or offset\n&quot;</span>)
<span id="L13663" class="LineNr">13663 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13664" class="LineNr">13664 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13665" class="LineNr">13665 </span>    <span class="subxComment"># never gets here</span>
<span id="L13666" class="LineNr">13666 </span>
<span id="L13667" class="LineNr">13667 </span><span class="Constant">$check-mu-index-stmt:error-index-offset-atom-type</span>:
<span id="L13668" class="LineNr">13668 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13669" class="LineNr">13669 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13670" class="LineNr">13670 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13671" class="LineNr">13671 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13672" class="LineNr">13672 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: offset '&quot;</span>)
<span id="L13673" class="LineNr">13673 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13674" class="LineNr">13674 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13675" class="LineNr">13675 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must specify the type of array elements\n&quot;</span>)
<span id="L13676" class="LineNr">13676 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13677" class="LineNr">13677 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13678" class="LineNr">13678 </span>    <span class="subxComment"># never gets here</span>
<span id="L13679" class="LineNr">13679 </span>
<span id="L13680" class="LineNr">13680 </span><span class="Constant">$check-mu-index-stmt:error-index-on-stack</span>:
<span id="L13681" class="LineNr">13681 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13682" class="LineNr">13682 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13683" class="LineNr">13683 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13684" class="LineNr">13684 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13685" class="LineNr">13685 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: second argument '&quot;</span>)
<span id="L13686" class="LineNr">13686 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13687" class="LineNr">13687 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13688" class="LineNr">13688 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must be in a register\n&quot;</span>)
<span id="L13689" class="LineNr">13689 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13690" class="LineNr">13690 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13691" class="LineNr">13691 </span>    <span class="subxComment"># never gets here</span>
<span id="L13692" class="LineNr">13692 </span>
<span id="L13693" class="LineNr">13693 </span><span class="Constant">$check-mu-index-stmt:error-index-needs-offset</span>:
<span id="L13694" class="LineNr">13694 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13695" class="LineNr">13695 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13696" class="LineNr">13696 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13697" class="LineNr">13697 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13698" class="LineNr">13698 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: cannot take an int for array '&quot;</span>)
<span id="L13699" class="LineNr">13699 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13700" class="LineNr">13700 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13701" class="LineNr">13701 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13702" class="LineNr">13702 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13703" class="LineNr">13703 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;'; create an offset instead. See mu.md for details.\n&quot;</span>)
<span id="L13704" class="LineNr">13704 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13705" class="LineNr">13705 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13706" class="LineNr">13706 </span>    <span class="subxComment"># never gets here</span>
<span id="L13707" class="LineNr">13707 </span>
<span id="L13708" class="LineNr">13708 </span><span class="Constant">$check-mu-index-stmt:error-too-many-inouts</span>:
<span id="L13709" class="LineNr">13709 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13710" class="LineNr">13710 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13711" class="LineNr">13711 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13712" class="LineNr">13712 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13713" class="LineNr">13713 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: too many inouts (2 required)\n&quot;</span>)
<span id="L13714" class="LineNr">13714 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13715" class="LineNr">13715 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13716" class="LineNr">13716 </span>    <span class="subxComment"># never gets here</span>
<span id="L13717" class="LineNr">13717 </span>
<span id="L13718" class="LineNr">13718 </span><span class="Constant">$check-mu-index-stmt:error-too-few-outputs</span>:
<span id="L13719" class="LineNr">13719 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13720" class="LineNr">13720 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13721" class="LineNr">13721 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13722" class="LineNr">13722 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13723" class="LineNr">13723 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: must have an output\n&quot;</span>)
<span id="L13724" class="LineNr">13724 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13725" class="LineNr">13725 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13726" class="LineNr">13726 </span>    <span class="subxComment"># never gets here</span>
<span id="L13727" class="LineNr">13727 </span>
<span id="L13728" class="LineNr">13728 </span><span class="Constant">$check-mu-index-stmt:error-too-many-outputs</span>:
<span id="L13729" class="LineNr">13729 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13730" class="LineNr">13730 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13731" class="LineNr">13731 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13732" class="LineNr">13732 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13733" class="LineNr">13733 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: too many outputs (1 required)\n&quot;</span>)
<span id="L13734" class="LineNr">13734 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13735" class="LineNr">13735 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13736" class="LineNr">13736 </span>    <span class="subxComment"># never gets here</span>
<span id="L13737" class="LineNr">13737 </span>
<span id="L13738" class="LineNr">13738 </span><span class="Constant">$check-mu-index-stmt:error-output-not-in-register</span>:
<span id="L13739" class="LineNr">13739 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13740" class="LineNr">13740 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13741" class="LineNr">13741 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13742" class="LineNr">13742 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13743" class="LineNr">13743 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: output '&quot;</span>)
<span id="L13744" class="LineNr">13744 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13745" class="LineNr">13745 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13746" class="LineNr">13746 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' is not in a register\n&quot;</span>)
<span id="L13747" class="LineNr">13747 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13748" class="LineNr">13748 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13749" class="LineNr">13749 </span>    <span class="subxComment"># never gets here</span>
<span id="L13750" class="LineNr">13750 </span>
<span id="L13751" class="LineNr">13751 </span><span class="Constant">$check-mu-index-stmt:error-output-type-not-address</span>:
<span id="L13752" class="LineNr">13752 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13753" class="LineNr">13753 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13754" class="LineNr">13754 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13755" class="LineNr">13755 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13756" class="LineNr">13756 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: output '&quot;</span>)
<span id="L13757" class="LineNr">13757 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13758" class="LineNr">13758 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13759" class="LineNr">13759 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' must be an address\n&quot;</span>)
<span id="L13760" class="LineNr">13760 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13761" class="LineNr">13761 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13762" class="LineNr">13762 </span>    <span class="subxComment"># never gets here</span>
<span id="L13763" class="LineNr">13763 </span>
<span id="L13764" class="LineNr">13764 </span><span class="Constant">$check-mu-index-stmt:error-bad-output-type</span>:
<span id="L13765" class="LineNr">13765 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13766" class="LineNr">13766 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L13767" class="LineNr">13767 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13768" class="LineNr">13768 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13769" class="LineNr">13769 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;: stmt index: output '&quot;</span>)
<span id="L13770" class="LineNr">13770 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13771" class="LineNr">13771 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) %eax)
<span id="L13772" class="LineNr">13772 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;' does not have the right type\n&quot;</span>)
<span id="L13773" class="LineNr">13773 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L13774" class="LineNr">13774 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L13775" class="LineNr">13775 </span>    <span class="subxComment"># never gets here</span>
<span id="L13776" class="LineNr">13776 </span>
<span id="L13777" class="LineNr">13777 </span><span class="subxFunction">check-mu-length-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13778" class="LineNr">13778 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13779" class="LineNr">13779 </span>    55/push-ebp
<span id="L13780" class="LineNr">13780 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13781" class="LineNr">13781 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13782" class="LineNr">13782 </span><span class="Constant">$check-mu-length-stmt:end</span>:
<span id="L13783" class="LineNr">13783 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13784" class="LineNr">13784 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13785" class="LineNr">13785 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13786" class="LineNr">13786 </span>    5d/pop-to-ebp
<span id="L13787" class="LineNr">13787 </span>    c3/return
<span id="L13788" class="LineNr">13788 </span>
<span id="L13789" class="LineNr">13789 </span><span class="subxFunction">check-mu-compute-offset-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13790" class="LineNr">13790 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13791" class="LineNr">13791 </span>    55/push-ebp
<span id="L13792" class="LineNr">13792 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13793" class="LineNr">13793 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13794" class="LineNr">13794 </span><span class="Constant">$check-mu-compute-offset-stmt:end</span>:
<span id="L13795" class="LineNr">13795 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13796" class="LineNr">13796 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13797" class="LineNr">13797 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13798" class="LineNr">13798 </span>    5d/pop-to-ebp
<span id="L13799" class="LineNr">13799 </span>    c3/return
<span id="L13800" class="LineNr">13800 </span>
<span id="L13801" class="LineNr">13801 </span><span class="subxFunction">check-mu-copy-object-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13802" class="LineNr">13802 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13803" class="LineNr">13803 </span>    55/push-ebp
<span id="L13804" class="LineNr">13804 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13805" class="LineNr">13805 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13806" class="LineNr">13806 </span><span class="Constant">$check-mu-copy-object-stmt:end</span>:
<span id="L13807" class="LineNr">13807 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13808" class="LineNr">13808 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13809" class="LineNr">13809 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13810" class="LineNr">13810 </span>    5d/pop-to-ebp
<span id="L13811" class="LineNr">13811 </span>    c3/return
<span id="L13812" class="LineNr">13812 </span>
<span id="L13813" class="LineNr">13813 </span><span class="subxFunction">check-mu-allocate-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13814" class="LineNr">13814 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13815" class="LineNr">13815 </span>    55/push-ebp
<span id="L13816" class="LineNr">13816 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13817" class="LineNr">13817 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13818" class="LineNr">13818 </span><span class="Constant">$check-mu-allocate-stmt:end</span>:
<span id="L13819" class="LineNr">13819 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13820" class="LineNr">13820 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13821" class="LineNr">13821 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13822" class="LineNr">13822 </span>    5d/pop-to-ebp
<span id="L13823" class="LineNr">13823 </span>    c3/return
<span id="L13824" class="LineNr">13824 </span>
<span id="L13825" class="LineNr">13825 </span><span class="subxFunction">check-mu-populate-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13826" class="LineNr">13826 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13827" class="LineNr">13827 </span>    55/push-ebp
<span id="L13828" class="LineNr">13828 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13829" class="LineNr">13829 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13830" class="LineNr">13830 </span><span class="Constant">$check-mu-populate-stmt:end</span>:
<span id="L13831" class="LineNr">13831 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13832" class="LineNr">13832 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13833" class="LineNr">13833 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13834" class="LineNr">13834 </span>    5d/pop-to-ebp
<span id="L13835" class="LineNr">13835 </span>    c3/return
<span id="L13836" class="LineNr">13836 </span>
<span id="L13837" class="LineNr">13837 </span><span class="subxFunction">check-mu-populate-stream-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13838" class="LineNr">13838 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13839" class="LineNr">13839 </span>    55/push-ebp
<span id="L13840" class="LineNr">13840 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13841" class="LineNr">13841 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13842" class="LineNr">13842 </span><span class="Constant">$check-mu-populate-stream-stmt:end</span>:
<span id="L13843" class="LineNr">13843 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13844" class="LineNr">13844 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13845" class="LineNr">13845 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13846" class="LineNr">13846 </span>    5d/pop-to-ebp
<span id="L13847" class="LineNr">13847 </span>    c3/return
<span id="L13848" class="LineNr">13848 </span>
<span id="L13849" class="LineNr">13849 </span><span class="subxFunction">check-mu-read-from-stream-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13850" class="LineNr">13850 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13851" class="LineNr">13851 </span>    55/push-ebp
<span id="L13852" class="LineNr">13852 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13853" class="LineNr">13853 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13854" class="LineNr">13854 </span><span class="Constant">$check-mu-read-from-stream-stmt:end</span>:
<span id="L13855" class="LineNr">13855 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13856" class="LineNr">13856 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13857" class="LineNr">13857 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13858" class="LineNr">13858 </span>    5d/pop-to-ebp
<span id="L13859" class="LineNr">13859 </span>    c3/return
<span id="L13860" class="LineNr">13860 </span>
<span id="L13861" class="LineNr">13861 </span><span class="subxFunction">check-mu-write-to-stream-stmt</span>:  <span class="subxComment"># stmt: (addr stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13862" class="LineNr">13862 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13863" class="LineNr">13863 </span>    55/push-ebp
<span id="L13864" class="LineNr">13864 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13865" class="LineNr">13865 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13866" class="LineNr">13866 </span><span class="Constant">$check-mu-write-to-stream-stmt:end</span>:
<span id="L13867" class="LineNr">13867 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L13868" class="LineNr">13868 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L13869" class="LineNr">13869 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L13870" class="LineNr">13870 </span>    5d/pop-to-ebp
<span id="L13871" class="LineNr">13871 </span>    c3/return
<span id="L13872" class="LineNr">13872 </span>
<span id="L13873" class="LineNr">13873 </span><span class="subxFunction">check-mu-call</span>:  <span class="subxComment"># stmt: (addr stmt), callee: (addr function), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L13874" class="LineNr">13874 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L13875" class="LineNr">13875 </span>    55/push-ebp
<span id="L13876" class="LineNr">13876 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L13877" class="LineNr">13877 </span>    <span class="subxComment"># var type-parameters: (addr table (handle array byte) (addr type-tree) 8)</span>
<span id="L13878" class="LineNr">13878 </span>    68/push 0/imm32
<span id="L13879" class="LineNr">13879 </span>    <span class="subxComment"># var type-parameters-storage: (table (handle array byte) (addr type-tree) 8)</span>
<span id="L13880" class="LineNr">13880 </span>    81 5/subop/subtract %esp 0x60/imm32
<span id="L13881" class="LineNr">13881 </span>    68/push 0x60/imm32/size
<span id="L13882" class="LineNr">13882 </span>    68/push 0/imm32/read
<span id="L13883" class="LineNr">13883 </span>    68/push 0/imm32/write
<span id="L13884" class="LineNr">13884 </span>    <span class="subxComment"># save a pointer to type-parameters-storage at type-parameters</span>
<span id="L13885" class="LineNr">13885 </span>    89/&lt;- *(ebp-4) 4/r32/esp
<span id="L13886" class="LineNr">13886 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> *(ebp-4))
<span id="L13887" class="LineNr">13887 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L13888" class="LineNr">13888 </span>    50/push-eax
<span id="L13889" class="LineNr">13889 </span>    51/push-ecx
<span id="L13890" class="LineNr">13890 </span>    52/push-edx
<span id="L13891" class="LineNr">13891 </span>    53/push-ebx
<span id="L13892" class="LineNr">13892 </span>    56/push-esi
<span id="L13893" class="LineNr">13893 </span>    57/push-edi
<span id="L13894" class="LineNr">13894 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L13895" class="LineNr">13895 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L13896" class="LineNr">13896 </span>    <span class="subxComment"># edi = callee</span>
<span id="L13897" class="LineNr">13897 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L13898" class="LineNr">13898 </span>    <span class="subxComment"># var inouts/ecx: (addr stmt-var) = lookup(stmt-&gt;inouts)</span>
<span id="L13899" class="LineNr">13899 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L13900" class="LineNr">13900 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L13901" class="LineNr">13901 </span>    <span class="subxComment"># var expected/edx: (addr list var) = lookup(f-&gt;inouts)</span>
<span id="L13902" class="LineNr">13902 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Function-inouts Function-inouts =&gt; eax</span>
<span id="L13903" class="LineNr">13903 </span>    89/&lt;- %edx 0/r32/eax
<span id="L13904" class="LineNr">13904 </span>    {
<span id="L13905" class="LineNr">13905 </span><span class="Constant">$check-mu-call:check-for-inouts</span>:
<span id="L13906" class="LineNr">13906 </span>      <span class="subxComment"># if (inouts == 0) break</span>
<span id="L13907" class="LineNr">13907 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L13908" class="LineNr">13908 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L13909" class="LineNr">13909 </span>      <span class="subxComment"># if (expected == 0) error</span>
<span id="L13910" class="LineNr">13910 </span>      81 7/subop/compare %edx 0/imm32
<span id="L13911" class="LineNr">13911 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L13912" class="LineNr">13912 </span><span class="Constant">$check-mu-call:check-inout-type</span>:
<span id="L13913" class="LineNr">13913 </span>      <span class="subxComment"># var v/eax: (addr v) = lookup(inouts-&gt;value)</span>
<span id="L13914" class="LineNr">13914 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13915" class="LineNr">13915 </span>      <span class="subxComment"># var t/ebx: (addr type-tree) = lookup(v-&gt;type)</span>
<span id="L13916" class="LineNr">13916 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13917" class="LineNr">13917 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L13918" class="LineNr">13918 </span>      <span class="subxComment"># if (inouts-&gt;is-deref?) t = t-&gt;right  # TODO: check that t-&gt;left is an addr</span>
<span id="L13919" class="LineNr">13919 </span>      81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L13920" class="LineNr">13920 </span>      {
<span id="L13921" class="LineNr">13921 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L13922" class="LineNr">13922 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0xc) *(ebx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L13923" class="LineNr">13923 </span>        89/&lt;- %ebx 0/r32/eax
<span id="L13924" class="LineNr">13924 </span>        <span class="subxComment"># if t-&gt;right is null, t = t-&gt;left</span>
<span id="L13925" class="LineNr">13925 </span>        81 7/subop/compare *(ebx+0xc) 0/imm32  <span class="subxComment"># Type-tree-right</span>
<span id="L13926" class="LineNr">13926 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L13927" class="LineNr">13927 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+4) *(ebx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L13928" class="LineNr">13928 </span>        89/&lt;- %ebx 0/r32/eax
<span id="L13929" class="LineNr">13929 </span>      }
<span id="L13930" class="LineNr">13930 </span>      <span class="subxComment"># var v2/eax: (addr v) = lookup(expected-&gt;value)</span>
<span id="L13931" class="LineNr">13931 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L13932" class="LineNr">13932 </span>      <span class="subxComment"># var t2/eax: (addr type-tree) = lookup(v2-&gt;type)</span>
<span id="L13933" class="LineNr">13933 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L13934" class="LineNr">13934 </span>      <span class="subxComment"># if (t != t2) error</span>
<span id="L13935" class="LineNr">13935 </span>      (<a href='mu.subx.html#L14146'>type-match?</a> %eax %ebx *(ebp-4))  <span class="subxComment"># =&gt; eax</span>
<span id="L13936" class="LineNr">13936 </span>      3d/compare-eax-and 0/imm32/false
<span id="L13937" class="LineNr">13937 </span>      {
<span id="L13938" class="LineNr">13938 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L13939" class="LineNr">13939 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13940" class="LineNr">13940 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L13941" class="LineNr">13941 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13942" class="LineNr">13942 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13943" class="LineNr">13943 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L13944" class="LineNr">13944 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13945" class="LineNr">13945 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13946" class="LineNr">13946 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: type for inout '&quot;</span>)
<span id="L13947" class="LineNr">13947 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L13948" class="LineNr">13948 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L13949" class="LineNr">13949 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13950" class="LineNr">13950 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;' is not right\n&quot;</span>)
<span id="L13951" class="LineNr">13951 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L13952" class="LineNr">13952 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L13953" class="LineNr">13953 </span>      }
<span id="L13954" class="LineNr">13954 </span><span class="Constant">$check-mu-call:continue-to-next-inout</span>:
<span id="L13955" class="LineNr">13955 </span>      <span class="subxComment"># inouts = lookup(inouts-&gt;next)</span>
<span id="L13956" class="LineNr">13956 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L13957" class="LineNr">13957 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L13958" class="LineNr">13958 </span>      <span class="subxComment"># expected = lookup(expected-&gt;next)</span>
<span id="L13959" class="LineNr">13959 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L13960" class="LineNr">13960 </span>      89/&lt;- %edx 0/r32/eax
<span id="L13961" class="LineNr">13961 </span>      <span class="subxComment">#</span>
<span id="L13962" class="LineNr">13962 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L13963" class="LineNr">13963 </span>    }
<span id="L13964" class="LineNr">13964 </span><span class="Constant">$check-mu-call:check-inout-count</span>:
<span id="L13965" class="LineNr">13965 </span>    <span class="subxComment"># if (inouts == expected) proceed</span>
<span id="L13966" class="LineNr">13966 </span>    39/compare %ecx 2/r32/edx
<span id="L13967" class="LineNr">13967 </span>    {
<span id="L13968" class="LineNr">13968 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L13969" class="LineNr">13969 </span>      <span class="subxComment"># exactly one of the two is null</span>
<span id="L13970" class="LineNr">13970 </span>      <span class="subxComment"># if (inouts == 0) error(&quot;too many inouts&quot;)</span>
<span id="L13971" class="LineNr">13971 </span>      {
<span id="L13972" class="LineNr">13972 </span>        81 7/subop/compare %ecx 0/imm32
<span id="L13973" class="LineNr">13973 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L13974" class="LineNr">13974 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13975" class="LineNr">13975 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L13976" class="LineNr">13976 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13977" class="LineNr">13977 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13978" class="LineNr">13978 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L13979" class="LineNr">13979 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13980" class="LineNr">13980 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13981" class="LineNr">13981 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: too many inouts\n&quot;</span>)
<span id="L13982" class="LineNr">13982 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L13983" class="LineNr">13983 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L13984" class="LineNr">13984 </span>      }
<span id="L13985" class="LineNr">13985 </span>      <span class="subxComment"># if (expected == 0) error(&quot;too few inouts&quot;)</span>
<span id="L13986" class="LineNr">13986 </span>      {
<span id="L13987" class="LineNr">13987 </span>        81 7/subop/compare %edx 0/imm32
<span id="L13988" class="LineNr">13988 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L13989" class="LineNr">13989 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L13990" class="LineNr">13990 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L13991" class="LineNr">13991 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13992" class="LineNr">13992 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13993" class="LineNr">13993 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L13994" class="LineNr">13994 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L13995" class="LineNr">13995 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L13996" class="LineNr">13996 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: too few inouts\n&quot;</span>)
<span id="L13997" class="LineNr">13997 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L13998" class="LineNr">13998 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L13999" class="LineNr">13999 </span>      }
<span id="L14000" class="LineNr">14000 </span>    }
<span id="L14001" class="LineNr">14001 </span><span class="Constant">$check-mu-call:check-outputs</span>:
<span id="L14002" class="LineNr">14002 </span>    <span class="subxComment"># var outputs/ecx: (addr stmt-var) = lookup(stmt-&gt;outputs)</span>
<span id="L14003" class="LineNr">14003 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L14004" class="LineNr">14004 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14005" class="LineNr">14005 </span>    <span class="subxComment"># var expected/edx: (addr list var) = lookup(f-&gt;outputs)</span>
<span id="L14006" class="LineNr">14006 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0x10) *(edi+0x14))  <span class="subxComment"># Function-outputs Function-outputs =&gt; eax</span>
<span id="L14007" class="LineNr">14007 </span>    89/&lt;- %edx 0/r32/eax
<span id="L14008" class="LineNr">14008 </span>    {
<span id="L14009" class="LineNr">14009 </span><span class="Constant">$check-mu-call:check-for-outputs</span>:
<span id="L14010" class="LineNr">14010 </span>      <span class="subxComment"># if (outputs == 0) break</span>
<span id="L14011" class="LineNr">14011 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L14012" class="LineNr">14012 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14013" class="LineNr">14013 </span>      <span class="subxComment"># if (expected == 0) error</span>
<span id="L14014" class="LineNr">14014 </span>      81 7/subop/compare %edx 0/imm32
<span id="L14015" class="LineNr">14015 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14016" class="LineNr">14016 </span><span class="Constant">$check-mu-call:check-output-type</span>:
<span id="L14017" class="LineNr">14017 </span>      <span class="subxComment"># var v/eax: (addr v) = lookup(outputs-&gt;value)</span>
<span id="L14018" class="LineNr">14018 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L14019" class="LineNr">14019 </span>      <span class="subxComment"># var t/ebx: (addr type-tree) = lookup(v-&gt;type)</span>
<span id="L14020" class="LineNr">14020 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L14021" class="LineNr">14021 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L14022" class="LineNr">14022 </span>      <span class="subxComment"># if (outputs-&gt;is-deref?) t = t-&gt;right  # TODO: check that t-&gt;left is an addr</span>
<span id="L14023" class="LineNr">14023 </span>      81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L14024" class="LineNr">14024 </span>      {
<span id="L14025" class="LineNr">14025 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14026" class="LineNr">14026 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0xc) *(ebx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14027" class="LineNr">14027 </span>        89/&lt;- %ebx 0/r32/eax
<span id="L14028" class="LineNr">14028 </span>      }
<span id="L14029" class="LineNr">14029 </span>      <span class="subxComment"># var v2/eax: (addr v) = lookup(expected-&gt;value)</span>
<span id="L14030" class="LineNr">14030 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L14031" class="LineNr">14031 </span>      <span class="subxComment"># var t2/eax: (addr type-tree) = lookup(v2-&gt;type)</span>
<span id="L14032" class="LineNr">14032 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L14033" class="LineNr">14033 </span>      <span class="subxComment"># if (t != t2) error</span>
<span id="L14034" class="LineNr">14034 </span>      (<a href='mu.subx.html#L14146'>type-match?</a> %eax %ebx *(ebp-4))  <span class="subxComment"># =&gt; eax</span>
<span id="L14035" class="LineNr">14035 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14036" class="LineNr">14036 </span>      {
<span id="L14037" class="LineNr">14037 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L14038" class="LineNr">14038 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L14039" class="LineNr">14039 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L14040" class="LineNr">14040 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14041" class="LineNr">14041 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14042" class="LineNr">14042 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L14043" class="LineNr">14043 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14044" class="LineNr">14044 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14045" class="LineNr">14045 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: type for output '&quot;</span>)
<span id="L14046" class="LineNr">14046 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L14047" class="LineNr">14047 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L14048" class="LineNr">14048 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14049" class="LineNr">14049 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;' is not right\n&quot;</span>)
<span id="L14050" class="LineNr">14050 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L14051" class="LineNr">14051 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L14052" class="LineNr">14052 </span>      }
<span id="L14053" class="LineNr">14053 </span><span class="Constant">$check-mu-call:check-output-register</span>:
<span id="L14054" class="LineNr">14054 </span>      <span class="subxComment"># var v/eax: (addr v) = lookup(outputs-&gt;value)</span>
<span id="L14055" class="LineNr">14055 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L14056" class="LineNr">14056 </span>      <span class="subxComment"># var r/ebx: (addr array byte) = lookup(v-&gt;register)</span>
<span id="L14057" class="LineNr">14057 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L14058" class="LineNr">14058 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L14059" class="LineNr">14059 </span>      <span class="subxComment"># var v2/eax: (addr v) = lookup(expected-&gt;value)</span>
<span id="L14060" class="LineNr">14060 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L14061" class="LineNr">14061 </span>      <span class="subxComment"># var r2/eax: (addr array byte) = lookup(v2-&gt;register)</span>
<span id="L14062" class="LineNr">14062 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L14063" class="LineNr">14063 </span>      <span class="subxComment"># if (r != r2) error</span>
<span id="L14064" class="LineNr">14064 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %eax %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14065" class="LineNr">14065 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14066" class="LineNr">14066 </span>      {
<span id="L14067" class="LineNr">14067 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L14068" class="LineNr">14068 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L14069" class="LineNr">14069 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L14070" class="LineNr">14070 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14071" class="LineNr">14071 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14072" class="LineNr">14072 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L14073" class="LineNr">14073 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14074" class="LineNr">14074 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14075" class="LineNr">14075 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: register for output '&quot;</span>)
<span id="L14076" class="LineNr">14076 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L14077" class="LineNr">14077 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L14078" class="LineNr">14078 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14079" class="LineNr">14079 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;' is not right\n&quot;</span>)
<span id="L14080" class="LineNr">14080 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L14081" class="LineNr">14081 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L14082" class="LineNr">14082 </span>      }
<span id="L14083" class="LineNr">14083 </span><span class="Constant">$check-mu-call:continue-to-next-output</span>:
<span id="L14084" class="LineNr">14084 </span>      <span class="subxComment"># outputs = lookup(outputs-&gt;next)</span>
<span id="L14085" class="LineNr">14085 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L14086" class="LineNr">14086 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L14087" class="LineNr">14087 </span>      <span class="subxComment"># expected = lookup(expected-&gt;next)</span>
<span id="L14088" class="LineNr">14088 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L14089" class="LineNr">14089 </span>      89/&lt;- %edx 0/r32/eax
<span id="L14090" class="LineNr">14090 </span>      <span class="subxComment">#</span>
<span id="L14091" class="LineNr">14091 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L14092" class="LineNr">14092 </span>    }
<span id="L14093" class="LineNr">14093 </span><span class="Constant">$check-mu-call:check-output-count</span>:
<span id="L14094" class="LineNr">14094 </span>    <span class="subxComment"># if (outputs == expected) proceed</span>
<span id="L14095" class="LineNr">14095 </span>    39/compare %ecx 2/r32/edx
<span id="L14096" class="LineNr">14096 </span>    {
<span id="L14097" class="LineNr">14097 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14098" class="LineNr">14098 </span>      <span class="subxComment"># exactly one of the two is null</span>
<span id="L14099" class="LineNr">14099 </span>      <span class="subxComment"># if (outputs == 0) error(&quot;too many outputs&quot;)</span>
<span id="L14100" class="LineNr">14100 </span>      {
<span id="L14101" class="LineNr">14101 </span>        81 7/subop/compare %ecx 0/imm32
<span id="L14102" class="LineNr">14102 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14103" class="LineNr">14103 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L14104" class="LineNr">14104 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L14105" class="LineNr">14105 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14106" class="LineNr">14106 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14107" class="LineNr">14107 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L14108" class="LineNr">14108 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14109" class="LineNr">14109 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14110" class="LineNr">14110 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: too many outputs\n&quot;</span>)
<span id="L14111" class="LineNr">14111 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L14112" class="LineNr">14112 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L14113" class="LineNr">14113 </span>      }
<span id="L14114" class="LineNr">14114 </span>      <span class="subxComment"># if (expected == 0) error(&quot;too few outputs&quot;)</span>
<span id="L14115" class="LineNr">14115 </span>      {
<span id="L14116" class="LineNr">14116 </span>        81 7/subop/compare %edx 0/imm32
<span id="L14117" class="LineNr">14117 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14118" class="LineNr">14118 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;fn &quot;</span>)
<span id="L14119" class="LineNr">14119 </span>        8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L14120" class="LineNr">14120 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14121" class="LineNr">14121 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14122" class="LineNr">14122 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: call &quot;</span>)
<span id="L14123" class="LineNr">14123 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14124" class="LineNr">14124 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) %eax)
<span id="L14125" class="LineNr">14125 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x14) <span class="Constant">&quot;: too few outputs\n&quot;</span>)
<span id="L14126" class="LineNr">14126 </span>        (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x14))
<span id="L14127" class="LineNr">14127 </span>        (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x18) 1)
<span id="L14128" class="LineNr">14128 </span>      }
<span id="L14129" class="LineNr">14129 </span>    }
<span id="L14130" class="LineNr">14130 </span><span class="Constant">$check-mu-call:end</span>:
<span id="L14131" class="LineNr">14131 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14132" class="LineNr">14132 </span>    5f/pop-to-edi
<span id="L14133" class="LineNr">14133 </span>    5e/pop-to-esi
<span id="L14134" class="LineNr">14134 </span>    5b/pop-to-ebx
<span id="L14135" class="LineNr">14135 </span>    5a/pop-to-edx
<span id="L14136" class="LineNr">14136 </span>    59/pop-to-ecx
<span id="L14137" class="LineNr">14137 </span>    58/pop-to-eax
<span id="L14138" class="LineNr">14138 </span>    <span class="subxS1Comment"># . reclaim locals exclusively on the stack</span>
<span id="L14139" class="LineNr">14139 </span>    81 0/subop/add %esp 0x70/imm32
<span id="L14140" class="LineNr">14140 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14141" class="LineNr">14141 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14142" class="LineNr">14142 </span>    5d/pop-to-ebp
<span id="L14143" class="LineNr">14143 </span>    c3/return
<span id="L14144" class="LineNr">14144 </span>
<span id="L14145" class="LineNr">14145 </span><span class="subxComment"># like type-equal? but takes literals into account</span>
<span id="L14146" class="LineNr">14146 </span><span class="subxFunction">type-match?</span>:  <span class="subxComment"># def: (addr type-tree), call: (addr type-tree), type-parameters: (addr table (handle array byte) (addr type-tree)) -&gt; result/eax: boolean</span>
<span id="L14147" class="LineNr">14147 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14148" class="LineNr">14148 </span>    55/push-ebp
<span id="L14149" class="LineNr">14149 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14150" class="LineNr">14150 </span>    <span class="subxComment"># if (call == literal) return true  # TODO: more precise</span>
<span id="L14151" class="LineNr">14151 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> *(ebp+0xc) 0)  <span class="subxComment"># literal =&gt; eax</span>
<span id="L14152" class="LineNr">14152 </span>    3d/compare-eax-and 0/imm32/false
<span id="L14153" class="LineNr">14153 </span>    b8/copy-to-eax 1/imm32/true
<span id="L14154" class="LineNr">14154 </span>    75/jump-if-!= $type-match?:end/disp8
<span id="L14155" class="LineNr">14155 </span><span class="Constant">$type-match?:baseline</span>:
<span id="L14156" class="LineNr">14156 </span>    <span class="subxComment"># otherwise fall back</span>
<span id="L14157" class="LineNr">14157 </span>    (<a href='mu.subx.html#L14164'>type-component-match?</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L14158" class="LineNr">14158 </span><span class="Constant">$type-match?:end</span>:
<span id="L14159" class="LineNr">14159 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14160" class="LineNr">14160 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14161" class="LineNr">14161 </span>    5d/pop-to-ebp
<span id="L14162" class="LineNr">14162 </span>    c3/return
<span id="L14163" class="LineNr">14163 </span>
<span id="L14164" class="LineNr">14164 </span><span class="subxFunction">type-component-match?</span>:  <span class="subxComment"># def: (addr type-tree), call: (addr type-tree), type-parameters: (addr table (handle array byte) (addr type-tree)) -&gt; result/eax: boolean</span>
<span id="L14165" class="LineNr">14165 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14166" class="LineNr">14166 </span>    55/push-ebp
<span id="L14167" class="LineNr">14167 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14168" class="LineNr">14168 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14169" class="LineNr">14169 </span>    51/push-ecx
<span id="L14170" class="LineNr">14170 </span>    52/push-edx
<span id="L14171" class="LineNr">14171 </span>    53/push-ebx
<span id="L14172" class="LineNr">14172 </span>    <span class="subxComment"># ecx = def</span>
<span id="L14173" class="LineNr">14173 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14174" class="LineNr">14174 </span>    <span class="subxComment"># edx = call</span>
<span id="L14175" class="LineNr">14175 </span>    8b/-&gt; *(ebp+0xc) 2/r32/edx
<span id="L14176" class="LineNr">14176 </span><span class="Constant">$type-component-match?:compare-addr</span>:
<span id="L14177" class="LineNr">14177 </span>    <span class="subxComment"># if (def == call) return true</span>
<span id="L14178" class="LineNr">14178 </span>    8b/-&gt; %ecx 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L14179" class="LineNr">14179 </span>    39/compare %edx 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L14180" class="LineNr">14180 </span>    b8/copy-to-eax 1/imm32/true
<span id="L14181" class="LineNr">14181 </span>    0f 84/jump-if-= $type-component-match?:end/disp32
<span id="L14182" class="LineNr">14182 </span>    <span class="subxComment"># if (def == 0) return false</span>
<span id="L14183" class="LineNr">14183 </span>    b8/copy-to-eax 0/imm32/false
<span id="L14184" class="LineNr">14184 </span>    81 7/subop/compare %ecx 0/imm32  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14185" class="LineNr">14185 </span>    0f 84/jump-if-= $type-component-match?:end/disp32
<span id="L14186" class="LineNr">14186 </span>    <span class="subxComment"># if (call == 0) return false</span>
<span id="L14187" class="LineNr">14187 </span>    81 7/subop/compare %edx 0/imm32  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14188" class="LineNr">14188 </span>    0f 84/jump-if-= $type-component-match?:end/disp32
<span id="L14189" class="LineNr">14189 </span>    <span class="subxComment"># if def is a type parameter, just check in type-parameters</span>
<span id="L14190" class="LineNr">14190 </span>    {
<span id="L14191" class="LineNr">14191 </span><span class="Constant">$type-component-match?:check-type-parameter</span>:
<span id="L14192" class="LineNr">14192 </span>      81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14193" class="LineNr">14193 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14194" class="LineNr">14194 </span>      81 7/subop/compare *(ecx+4) 0xa/imm32/type-parameter  <span class="subxComment"># Type-tree-value</span>
<span id="L14195" class="LineNr">14195 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14196" class="LineNr">14196 </span><span class="Constant">$type-component-match?:type-parameter</span>:
<span id="L14197" class="LineNr">14197 </span>      (<a href='mu.subx.html#L14261'>type-parameter-match?</a> *(ecx+8) *(ecx+0xc)  %edx  *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L14198" class="LineNr">14198 </span>      e9/jump $type-component-match?:end/disp32
<span id="L14199" class="LineNr">14199 </span>    }
<span id="L14200" class="LineNr">14200 </span>    <span class="subxComment"># if def is a list containing just a type parameter, just check in type-parameters</span>
<span id="L14201" class="LineNr">14201 </span>    {
<span id="L14202" class="LineNr">14202 </span><span class="Constant">$type-component-match?:check-list-type-parameter</span>:
<span id="L14203" class="LineNr">14203 </span>      <span class="subxComment"># if def is a list..</span>
<span id="L14204" class="LineNr">14204 </span>      81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14205" class="LineNr">14205 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14206" class="LineNr">14206 </span>      <span class="subxComment">#   ..that's a singleton</span>
<span id="L14207" class="LineNr">14207 </span>      81 7/subop/compare *(ecx+0xc) 0/imm32  <span class="subxComment"># Type-tree-left</span>
<span id="L14208" class="LineNr">14208 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14209" class="LineNr">14209 </span>      <span class="subxComment">#   ..and whose head is a type parameter</span>
<span id="L14210" class="LineNr">14210 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14211" class="LineNr">14211 </span>      81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14212" class="LineNr">14212 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14213" class="LineNr">14213 </span>      81 7/subop/compare *(eax+4) 0xa/imm32/type-parameter  <span class="subxComment"># Type-tree-value</span>
<span id="L14214" class="LineNr">14214 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14215" class="LineNr">14215 </span><span class="Constant">$type-component-match?:list-type-parameter</span>:
<span id="L14216" class="LineNr">14216 </span>      (<a href='mu.subx.html#L14261'>type-parameter-match?</a> *(eax+8) *(eax+0xc)  %edx  *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L14217" class="LineNr">14217 </span>      e9/jump $type-component-match?:end/disp32
<span id="L14218" class="LineNr">14218 </span>    }
<span id="L14219" class="LineNr">14219 </span><span class="Constant">$type-component-match?:compare-atom-state</span>:
<span id="L14220" class="LineNr">14220 </span>    <span class="subxComment"># if (def-&gt;is-atom? != call-&gt;is-atom?) return false</span>
<span id="L14221" class="LineNr">14221 </span>    8b/-&gt; *ecx 3/r32/ebx  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14222" class="LineNr">14222 </span>    39/compare *edx 3/r32/ebx  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14223" class="LineNr">14223 </span>    b8/copy-to-eax 0/imm32/false
<span id="L14224" class="LineNr">14224 </span>    0f 85/jump-if-!= $type-component-match?:end/disp32
<span id="L14225" class="LineNr">14225 </span>    <span class="subxComment"># if def-&gt;is-atom? return (def-&gt;value == call-&gt;value)</span>
<span id="L14226" class="LineNr">14226 </span>    {
<span id="L14227" class="LineNr">14227 </span><span class="Constant">$type-component-match?:check-atom</span>:
<span id="L14228" class="LineNr">14228 </span>      81 7/subop/compare %ebx 0/imm32/false
<span id="L14229" class="LineNr">14229 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14230" class="LineNr">14230 </span><span class="Constant">$type-component-match?:is-atom</span>:
<span id="L14231" class="LineNr">14231 </span>      8b/-&gt; *(ecx+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L14232" class="LineNr">14232 </span>      39/compare *(edx+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L14233" class="LineNr">14233 </span>      0f 94/set-if-= %al
<span id="L14234" class="LineNr">14234 </span>      81 4/subop/and %eax 0xff/imm32
<span id="L14235" class="LineNr">14235 </span>      e9/jump $type-component-match?:end/disp32
<span id="L14236" class="LineNr">14236 </span>    }
<span id="L14237" class="LineNr">14237 </span><span class="Constant">$type-component-match?:check-left</span>:
<span id="L14238" class="LineNr">14238 </span>    <span class="subxComment"># if (!type-component-match?(def-&gt;left, call-&gt;left)) return false</span>
<span id="L14239" class="LineNr">14239 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14240" class="LineNr">14240 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L14241" class="LineNr">14241 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14242" class="LineNr">14242 </span>    (<a href='mu.subx.html#L14164'>type-component-match?</a> %ebx %eax *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L14243" class="LineNr">14243 </span>    3d/compare-eax-and 0/imm32/false
<span id="L14244" class="LineNr">14244 </span>    74/jump-if-= $type-component-match?:end/disp8
<span id="L14245" class="LineNr">14245 </span><span class="Constant">$type-component-match?:check-right</span>:
<span id="L14246" class="LineNr">14246 </span>    <span class="subxComment"># return type-component-match?(def-&gt;right, call-&gt;right)</span>
<span id="L14247" class="LineNr">14247 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14248" class="LineNr">14248 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L14249" class="LineNr">14249 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0xc) *(edx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14250" class="LineNr">14250 </span>    (<a href='mu.subx.html#L14164'>type-component-match?</a> %ebx %eax *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L14251" class="LineNr">14251 </span><span class="Constant">$type-component-match?:end</span>:
<span id="L14252" class="LineNr">14252 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14253" class="LineNr">14253 </span>    5b/pop-to-ebx
<span id="L14254" class="LineNr">14254 </span>    5a/pop-to-edx
<span id="L14255" class="LineNr">14255 </span>    59/pop-to-ecx
<span id="L14256" class="LineNr">14256 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14257" class="LineNr">14257 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14258" class="LineNr">14258 </span>    5d/pop-to-ebp
<span id="L14259" class="LineNr">14259 </span>    c3/return
<span id="L14260" class="LineNr">14260 </span>
<span id="L14261" class="LineNr">14261 </span><span class="subxFunction">type-parameter-match?</span>:  <span class="subxComment"># type-parameter-name: (handle array byte), type: (addr type-tree), type-parameters: (addr table (handle array byte) (addr type-tree)) -&gt; result/eax: boolean</span>
<span id="L14262" class="LineNr">14262 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14263" class="LineNr">14263 </span>    55/push-ebp
<span id="L14264" class="LineNr">14264 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14265" class="LineNr">14265 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14266" class="LineNr">14266 </span>    51/push-ecx
<span id="L14267" class="LineNr">14267 </span>    <span class="subxComment">#</span>
<span id="L14268" class="LineNr">14268 </span>    (<a href='../131table.subx.html#L706'>get-or-insert-handle</a> *(ebp+0x14)  *(ebp+8) *(ebp+0xc)  0xc)  <span class="subxComment"># =&gt; eax</span>
<span id="L14269" class="LineNr">14269 </span>    <span class="subxComment"># if parameter wasn't saved, save it</span>
<span id="L14270" class="LineNr">14270 </span>    {
<span id="L14271" class="LineNr">14271 </span>      81 7/subop/compare *eax 0/imm32
<span id="L14272" class="LineNr">14272 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14273" class="LineNr">14273 </span>      8b/-&gt; *(ebp+0x10) 1/r32/ecx
<span id="L14274" class="LineNr">14274 </span>      89/&lt;- *eax 1/r32/ecx
<span id="L14275" class="LineNr">14275 </span>    }
<span id="L14276" class="LineNr">14276 </span>    <span class="subxComment">#</span>
<span id="L14277" class="LineNr">14277 </span>    (<a href='mu.subx.html#L14606'>type-equal?</a> *(ebp+0x10) *eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L14278" class="LineNr">14278 </span><span class="Constant">$type-parameter-match?:end</span>:
<span id="L14279" class="LineNr">14279 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14280" class="LineNr">14280 </span>    59/pop-to-ecx
<span id="L14281" class="LineNr">14281 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14282" class="LineNr">14282 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14283" class="LineNr">14283 </span>    5d/pop-to-ebp
<span id="L14284" class="LineNr">14284 </span>    c3/return
<span id="L14285" class="LineNr">14285 </span>
<span id="L14286" class="LineNr">14286 </span><span class="subxFunction">size-of</span>:  <span class="subxComment"># v: (addr var) -&gt; result/eax: int</span>
<span id="L14287" class="LineNr">14287 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14288" class="LineNr">14288 </span>    55/push-ebp
<span id="L14289" class="LineNr">14289 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14290" class="LineNr">14290 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14291" class="LineNr">14291 </span>    51/push-ecx
<span id="L14292" class="LineNr">14292 </span>    <span class="subxComment"># var t/ecx: (addr type-tree) = lookup(v-&gt;type)</span>
<span id="L14293" class="LineNr">14293 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14294" class="LineNr">14294 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;size-of &quot;)</span>
<span id="L14295" class="LineNr">14295 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %ecx)</span>
<span id="L14296" class="LineNr">14296 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L14297" class="LineNr">14297 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;type allocid: &quot;)</span>
<span id="L14298" class="LineNr">14298 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr *(ecx+8))</span>
<span id="L14299" class="LineNr">14299 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L14300" class="LineNr">14300 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L14301" class="LineNr">14301 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L14302" class="LineNr">14302 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14303" class="LineNr">14303 </span>    <span class="subxComment"># if is-mu-array?(t) return size-of-array(t)</span>
<span id="L14304" class="LineNr">14304 </span>    {
<span id="L14305" class="LineNr">14305 </span>      (<a href='mu.subx.html#L14383'>is-mu-array?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14306" class="LineNr">14306 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14307" class="LineNr">14307 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14308" class="LineNr">14308 </span>      (<a href='mu.subx.html#L14414'>size-of-array</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14309" class="LineNr">14309 </span>      eb/jump $size-of:end/disp8
<span id="L14310" class="LineNr">14310 </span>    }
<span id="L14311" class="LineNr">14311 </span>    <span class="subxComment"># if is-mu-stream?(t) return size-of-stream(t)</span>
<span id="L14312" class="LineNr">14312 </span>    {
<span id="L14313" class="LineNr">14313 </span>      (<a href='mu.subx.html#L14448'>is-mu-stream?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14314" class="LineNr">14314 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14315" class="LineNr">14315 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14316" class="LineNr">14316 </span>      (<a href='mu.subx.html#L14479'>size-of-stream</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14317" class="LineNr">14317 </span>      eb/jump $size-of:end/disp8
<span id="L14318" class="LineNr">14318 </span>    }
<span id="L14319" class="LineNr">14319 </span>    <span class="subxComment"># if (!t-&gt;is-atom?) t = lookup(t-&gt;left)</span>
<span id="L14320" class="LineNr">14320 </span>    {
<span id="L14321" class="LineNr">14321 </span>      81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14322" class="LineNr">14322 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14323" class="LineNr">14323 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14324" class="LineNr">14324 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L14325" class="LineNr">14325 </span>    }
<span id="L14326" class="LineNr">14326 </span>    <span class="subxComment"># TODO: assert t-&gt;is-atom?</span>
<span id="L14327" class="LineNr">14327 </span>    (<a href='mu.subx.html#L14492'>size-of-type-id</a> *(ecx+4))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L14328" class="LineNr">14328 </span><span class="Constant">$size-of:end</span>:
<span id="L14329" class="LineNr">14329 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14330" class="LineNr">14330 </span>    59/pop-to-ecx
<span id="L14331" class="LineNr">14331 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14332" class="LineNr">14332 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14333" class="LineNr">14333 </span>    5d/pop-to-ebp
<span id="L14334" class="LineNr">14334 </span>    c3/return
<span id="L14335" class="LineNr">14335 </span>
<span id="L14336" class="LineNr">14336 </span><span class="subxFunction">size-of-deref</span>:  <span class="subxComment"># v: (addr var) -&gt; result/eax: int</span>
<span id="L14337" class="LineNr">14337 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14338" class="LineNr">14338 </span>    55/push-ebp
<span id="L14339" class="LineNr">14339 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14340" class="LineNr">14340 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14341" class="LineNr">14341 </span>    51/push-ecx
<span id="L14342" class="LineNr">14342 </span>    <span class="subxComment"># var t/ecx: (addr type-tree) = lookup(v-&gt;type)</span>
<span id="L14343" class="LineNr">14343 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14344" class="LineNr">14344 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L14345" class="LineNr">14345 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14346" class="LineNr">14346 </span>    <span class="subxComment"># TODO: assert(t is an addr)</span>
<span id="L14347" class="LineNr">14347 </span>    <span class="subxComment"># t = lookup(t-&gt;right)</span>
<span id="L14348" class="LineNr">14348 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14349" class="LineNr">14349 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14350" class="LineNr">14350 </span>    <span class="subxComment"># if is-mu-array?(t) return size-of-array(t)</span>
<span id="L14351" class="LineNr">14351 </span>    {
<span id="L14352" class="LineNr">14352 </span>      (<a href='mu.subx.html#L14383'>is-mu-array?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14353" class="LineNr">14353 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14354" class="LineNr">14354 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14355" class="LineNr">14355 </span>      (<a href='mu.subx.html#L14414'>size-of-array</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14356" class="LineNr">14356 </span>      eb/jump $size-of-deref:end/disp8
<span id="L14357" class="LineNr">14357 </span>    }
<span id="L14358" class="LineNr">14358 </span>    <span class="subxComment"># if is-mu-stream?(t) return size-of-stream(t)</span>
<span id="L14359" class="LineNr">14359 </span>    {
<span id="L14360" class="LineNr">14360 </span>      (<a href='mu.subx.html#L14448'>is-mu-stream?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14361" class="LineNr">14361 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14362" class="LineNr">14362 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14363" class="LineNr">14363 </span>      (<a href='mu.subx.html#L14479'>size-of-stream</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14364" class="LineNr">14364 </span>      eb/jump $size-of-deref:end/disp8
<span id="L14365" class="LineNr">14365 </span>    }
<span id="L14366" class="LineNr">14366 </span>    <span class="subxComment"># if (!t-&gt;is-atom?) t = lookup(t-&gt;left)</span>
<span id="L14367" class="LineNr">14367 </span>    {
<span id="L14368" class="LineNr">14368 </span>      81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14369" class="LineNr">14369 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14370" class="LineNr">14370 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14371" class="LineNr">14371 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L14372" class="LineNr">14372 </span>    }
<span id="L14373" class="LineNr">14373 </span>    <span class="subxComment"># TODO: assert t-&gt;is-atom?</span>
<span id="L14374" class="LineNr">14374 </span>    (<a href='mu.subx.html#L14492'>size-of-type-id</a> *(ecx+4))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L14375" class="LineNr">14375 </span><span class="Constant">$size-of-deref:end</span>:
<span id="L14376" class="LineNr">14376 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14377" class="LineNr">14377 </span>    59/pop-to-ecx
<span id="L14378" class="LineNr">14378 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14379" class="LineNr">14379 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14380" class="LineNr">14380 </span>    5d/pop-to-ebp
<span id="L14381" class="LineNr">14381 </span>    c3/return
<span id="L14382" class="LineNr">14382 </span>
<span id="L14383" class="LineNr">14383 </span><span class="subxFunction">is-mu-array?</span>:  <span class="subxComment"># t: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L14384" class="LineNr">14384 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14385" class="LineNr">14385 </span>    55/push-ebp
<span id="L14386" class="LineNr">14386 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14387" class="LineNr">14387 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14388" class="LineNr">14388 </span>    51/push-ecx
<span id="L14389" class="LineNr">14389 </span>    <span class="subxComment"># ecx = t</span>
<span id="L14390" class="LineNr">14390 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14391" class="LineNr">14391 </span>    <span class="subxComment"># if t-&gt;is-atom?, return false</span>
<span id="L14392" class="LineNr">14392 </span>    81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14393" class="LineNr">14393 </span>    75/jump-if-!= $is-mu-array?:return-false/disp8
<span id="L14394" class="LineNr">14394 </span>    <span class="subxComment"># if !t-&gt;left-&gt;is-atom?, return false</span>
<span id="L14395" class="LineNr">14395 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14396" class="LineNr">14396 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14397" class="LineNr">14397 </span>    74/jump-if-= $is-mu-array?:return-false/disp8
<span id="L14398" class="LineNr">14398 </span>    <span class="subxComment"># return t-&gt;left-&gt;value == array</span>
<span id="L14399" class="LineNr">14399 </span>    81 7/subop/compare *(eax+4) 3/imm32/array-type-id  <span class="subxComment"># Type-tree-value</span>
<span id="L14400" class="LineNr">14400 </span>    0f 94/set-if-= %al
<span id="L14401" class="LineNr">14401 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L14402" class="LineNr">14402 </span>    eb/jump $is-mu-array?:end/disp8
<span id="L14403" class="LineNr">14403 </span><span class="Constant">$is-mu-array?:return-false</span>:
<span id="L14404" class="LineNr">14404 </span>    b8/copy-to-eax 0/imm32/false
<span id="L14405" class="LineNr">14405 </span><span class="Constant">$is-mu-array?:end</span>:
<span id="L14406" class="LineNr">14406 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14407" class="LineNr">14407 </span>    59/pop-to-ecx
<span id="L14408" class="LineNr">14408 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14409" class="LineNr">14409 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14410" class="LineNr">14410 </span>    5d/pop-to-ebp
<span id="L14411" class="LineNr">14411 </span>    c3/return
<span id="L14412" class="LineNr">14412 </span>
<span id="L14413" class="LineNr">14413 </span><span class="subxComment"># size of a statically allocated array where the size is part of the type expression</span>
<span id="L14414" class="LineNr">14414 </span><span class="subxFunction">size-of-array</span>:  <span class="subxComment"># a: (addr type-tree) -&gt; result/eax: int</span>
<span id="L14415" class="LineNr">14415 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14416" class="LineNr">14416 </span>    55/push-ebp
<span id="L14417" class="LineNr">14417 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14418" class="LineNr">14418 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14419" class="LineNr">14419 </span>    51/push-ecx
<span id="L14420" class="LineNr">14420 </span>    52/push-edx
<span id="L14421" class="LineNr">14421 </span>    <span class="subxComment">#</span>
<span id="L14422" class="LineNr">14422 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14423" class="LineNr">14423 </span>    <span class="subxComment"># TODO: assert that a-&gt;left is 'array'</span>
<span id="L14424" class="LineNr">14424 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14425" class="LineNr">14425 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14426" class="LineNr">14426 </span>    <span class="subxComment"># var elem-type/edx: type-id = a-&gt;right-&gt;left-&gt;value</span>
<span id="L14427" class="LineNr">14427 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14428" class="LineNr">14428 </span>    8b/-&gt; *(eax+4) 2/r32/edx  <span class="subxComment"># Type-tree-value</span>
<span id="L14429" class="LineNr">14429 </span>    <span class="subxComment"># TODO: assert that a-&gt;right-&gt;right-&gt;left-&gt;value == size</span>
<span id="L14430" class="LineNr">14430 </span>    <span class="subxComment"># var array-size/ecx: int = a-&gt;right-&gt;right-&gt;left-&gt;value-size</span>
<span id="L14431" class="LineNr">14431 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14432" class="LineNr">14432 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14433" class="LineNr">14433 </span>    8b/-&gt; *(eax+8) 1/r32/ecx  <span class="subxComment"># Type-tree-value-size</span>
<span id="L14434" class="LineNr">14434 </span>    <span class="subxComment"># return 4 + array-size * size-of(elem-type)</span>
<span id="L14435" class="LineNr">14435 </span>    (<a href='mu.subx.html#L16367'>size-of-type-id-as-array-element</a> %edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14436" class="LineNr">14436 </span>    f7 4/subop/multiply-into-edx-eax %ecx
<span id="L14437" class="LineNr">14437 </span>    05/add-to-eax 4/imm32  <span class="subxComment"># for array size</span>
<span id="L14438" class="LineNr">14438 </span>    <span class="subxComment"># TODO: check edx for overflow</span>
<span id="L14439" class="LineNr">14439 </span><span class="Constant">$size-of-array:end</span>:
<span id="L14440" class="LineNr">14440 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14441" class="LineNr">14441 </span>    5a/pop-to-edx
<span id="L14442" class="LineNr">14442 </span>    59/pop-to-ecx
<span id="L14443" class="LineNr">14443 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14444" class="LineNr">14444 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14445" class="LineNr">14445 </span>    5d/pop-to-ebp
<span id="L14446" class="LineNr">14446 </span>    c3/return
<span id="L14447" class="LineNr">14447 </span>
<span id="L14448" class="LineNr">14448 </span><span class="subxFunction">is-mu-stream?</span>:  <span class="subxComment"># t: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L14449" class="LineNr">14449 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14450" class="LineNr">14450 </span>    55/push-ebp
<span id="L14451" class="LineNr">14451 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14452" class="LineNr">14452 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14453" class="LineNr">14453 </span>    51/push-ecx
<span id="L14454" class="LineNr">14454 </span>    <span class="subxComment"># ecx = t</span>
<span id="L14455" class="LineNr">14455 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14456" class="LineNr">14456 </span>    <span class="subxComment"># if t-&gt;is-atom?, return false</span>
<span id="L14457" class="LineNr">14457 </span>    81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14458" class="LineNr">14458 </span>    75/jump-if-!= $is-mu-stream?:return-false/disp8
<span id="L14459" class="LineNr">14459 </span>    <span class="subxComment"># if !t-&gt;left-&gt;is-atom?, return false</span>
<span id="L14460" class="LineNr">14460 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14461" class="LineNr">14461 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14462" class="LineNr">14462 </span>    74/jump-if-= $is-mu-stream?:return-false/disp8
<span id="L14463" class="LineNr">14463 </span>    <span class="subxComment"># return t-&gt;left-&gt;value == stream</span>
<span id="L14464" class="LineNr">14464 </span>    81 7/subop/compare *(eax+4) 0xb/imm32/stream-type-id  <span class="subxComment"># Type-tree-value</span>
<span id="L14465" class="LineNr">14465 </span>    0f 94/set-if-= %al
<span id="L14466" class="LineNr">14466 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L14467" class="LineNr">14467 </span>    eb/jump $is-mu-stream?:end/disp8
<span id="L14468" class="LineNr">14468 </span><span class="Constant">$is-mu-stream?:return-false</span>:
<span id="L14469" class="LineNr">14469 </span>    b8/copy-to-eax 0/imm32/false
<span id="L14470" class="LineNr">14470 </span><span class="Constant">$is-mu-stream?:end</span>:
<span id="L14471" class="LineNr">14471 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14472" class="LineNr">14472 </span>    59/pop-to-ecx
<span id="L14473" class="LineNr">14473 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14474" class="LineNr">14474 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14475" class="LineNr">14475 </span>    5d/pop-to-ebp
<span id="L14476" class="LineNr">14476 </span>    c3/return
<span id="L14477" class="LineNr">14477 </span>
<span id="L14478" class="LineNr">14478 </span><span class="subxComment"># size of a statically allocated stream where the size is part of the type expression</span>
<span id="L14479" class="LineNr">14479 </span><span class="subxFunction">size-of-stream</span>:  <span class="subxComment"># a: (addr type-tree) -&gt; result/eax: int</span>
<span id="L14480" class="LineNr">14480 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14481" class="LineNr">14481 </span>    55/push-ebp
<span id="L14482" class="LineNr">14482 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14483" class="LineNr">14483 </span>    <span class="subxComment">#</span>
<span id="L14484" class="LineNr">14484 </span>    (<a href='mu.subx.html#L14414'>size-of-array</a> *(ebp+8))  <span class="subxComment"># assumes we ignore the actual type name 'array' in the type</span>
<span id="L14485" class="LineNr">14485 </span>    05/add-to-eax 8/imm32  <span class="subxComment"># for read/write pointers</span>
<span id="L14486" class="LineNr">14486 </span><span class="Constant">$size-of-stream:end</span>:
<span id="L14487" class="LineNr">14487 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14488" class="LineNr">14488 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14489" class="LineNr">14489 </span>    5d/pop-to-ebp
<span id="L14490" class="LineNr">14490 </span>    c3/return
<span id="L14491" class="LineNr">14491 </span>
<span id="L14492" class="LineNr">14492 </span><span class="subxFunction">size-of-type-id</span>:  <span class="subxComment"># t: type-id -&gt; result/eax: int</span>
<span id="L14493" class="LineNr">14493 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14494" class="LineNr">14494 </span>    55/push-ebp
<span id="L14495" class="LineNr">14495 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14496" class="LineNr">14496 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14497" class="LineNr">14497 </span>    51/push-ecx
<span id="L14498" class="LineNr">14498 </span>    <span class="subxComment"># var out/ecx: (handle typeinfo)</span>
<span id="L14499" class="LineNr">14499 </span>    68/push 0/imm32
<span id="L14500" class="LineNr">14500 </span>    68/push 0/imm32
<span id="L14501" class="LineNr">14501 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L14502" class="LineNr">14502 </span>    <span class="subxComment"># eax = t</span>
<span id="L14503" class="LineNr">14503 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L14504" class="LineNr">14504 </span>    <span class="subxComment"># if t is a literal, return 0</span>
<span id="L14505" class="LineNr">14505 </span>    3d/compare-eax-and 0/imm32
<span id="L14506" class="LineNr">14506 </span>    0f 84/jump-if-= $size-of-type-id:end/disp32  <span class="subxComment"># eax changes type from type-id to int</span>
<span id="L14507" class="LineNr">14507 </span>    <span class="subxComment"># if t is a byte, return 4 (because we don't really support non-multiples of 4)</span>
<span id="L14508" class="LineNr">14508 </span>    3d/compare-eax-and 8/imm32/byte
<span id="L14509" class="LineNr">14509 </span>    {
<span id="L14510" class="LineNr">14510 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14511" class="LineNr">14511 </span>      b8/copy-to-eax 4/imm32
<span id="L14512" class="LineNr">14512 </span>      eb/jump $size-of-type-id:end/disp8
<span id="L14513" class="LineNr">14513 </span>    }
<span id="L14514" class="LineNr">14514 </span>    <span class="subxComment"># if t is a handle, return 8</span>
<span id="L14515" class="LineNr">14515 </span>    3d/compare-eax-and 4/imm32/handle
<span id="L14516" class="LineNr">14516 </span>    {
<span id="L14517" class="LineNr">14517 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14518" class="LineNr">14518 </span>      b8/copy-to-eax 8/imm32
<span id="L14519" class="LineNr">14519 </span>      eb/jump $size-of-type-id:end/disp8  <span class="subxComment"># eax changes type from type-id to int</span>
<span id="L14520" class="LineNr">14520 </span>    }
<span id="L14521" class="LineNr">14521 </span>    <span class="subxComment"># if t is a user-defined type, return its size</span>
<span id="L14522" class="LineNr">14522 </span>    <span class="subxComment"># TODO: support non-atom type</span>
<span id="L14523" class="LineNr">14523 </span>    (<a href='mu.subx.html#L11519'>find-typeinfo</a> %eax %ecx)
<span id="L14524" class="LineNr">14524 </span>    {
<span id="L14525" class="LineNr">14525 </span>      81 7/subop/compare *ecx 0/imm32
<span id="L14526" class="LineNr">14526 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14527" class="LineNr">14527 </span><span class="Constant">$size-of-type-id:user-defined</span>:
<span id="L14528" class="LineNr">14528 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L14529" class="LineNr">14529 </span>      8b/-&gt; *(eax+0xc) 0/r32/eax  <span class="subxComment"># Typeinfo-total-size-in-bytes</span>
<span id="L14530" class="LineNr">14530 </span>      eb/jump $size-of-type-id:end/disp8
<span id="L14531" class="LineNr">14531 </span>    }
<span id="L14532" class="LineNr">14532 </span>    <span class="subxComment"># otherwise return the word size</span>
<span id="L14533" class="LineNr">14533 </span>    b8/copy-to-eax 4/imm32
<span id="L14534" class="LineNr">14534 </span><span class="Constant">$size-of-type-id:end</span>:
<span id="L14535" class="LineNr">14535 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L14536" class="LineNr">14536 </span>    81 0/subop/add %esp 8/imm32
<span id="L14537" class="LineNr">14537 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14538" class="LineNr">14538 </span>    59/pop-to-ecx
<span id="L14539" class="LineNr">14539 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14540" class="LineNr">14540 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14541" class="LineNr">14541 </span>    5d/pop-to-ebp
<span id="L14542" class="LineNr">14542 </span>    c3/return
<span id="L14543" class="LineNr">14543 </span>
<span id="L14544" class="LineNr">14544 </span><span class="subxComment"># Minor violation of our type system since it returns an addr. But we could</span>
<span id="L14545" class="LineNr">14545 </span><span class="subxComment"># replace it with a handle some time.</span>
<span id="L14546" class="LineNr">14546 </span><span class="subxComment"># Returns null if t is an atom.</span>
<span id="L14547" class="LineNr">14547 </span><span class="subxFunction">type-tail</span>:  <span class="subxComment"># t: (addr type-tree) -&gt; out/eax: (addr type-tree)</span>
<span id="L14548" class="LineNr">14548 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14549" class="LineNr">14549 </span>    55/push-ebp
<span id="L14550" class="LineNr">14550 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14551" class="LineNr">14551 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14552" class="LineNr">14552 </span>    51/push-ecx
<span id="L14553" class="LineNr">14553 </span>    <span class="subxComment"># eax = 0</span>
<span id="L14554" class="LineNr">14554 </span>    b8/copy-to-eax 0/imm32
<span id="L14555" class="LineNr">14555 </span>    <span class="subxComment"># ecx = t</span>
<span id="L14556" class="LineNr">14556 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14557" class="LineNr">14557 </span><span class="Constant">$type-tail:check-atom</span>:
<span id="L14558" class="LineNr">14558 </span>    <span class="subxComment"># if t-&gt;is-atom? return 0</span>
<span id="L14559" class="LineNr">14559 </span>    81 7/subop/compare *ecx 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14560" class="LineNr">14560 </span>    0f 85/jump-if-!= $type-tail:end/disp32
<span id="L14561" class="LineNr">14561 </span>    <span class="subxComment"># var tail = t-&gt;right</span>
<span id="L14562" class="LineNr">14562 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14563" class="LineNr">14563 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14564" class="LineNr">14564 </span><span class="Constant">$type-tail:check-singleton</span>:
<span id="L14565" class="LineNr">14565 </span>    <span class="subxComment"># if (tail-&gt;right == 0) return tail-&gt;left</span>
<span id="L14566" class="LineNr">14566 </span>    {
<span id="L14567" class="LineNr">14567 </span>      81 7/subop/compare *(ecx+0xc) 0/imm32  <span class="subxComment"># Type-tree-right</span>
<span id="L14568" class="LineNr">14568 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14569" class="LineNr">14569 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14570" class="LineNr">14570 </span>      e9/jump $type-tail:end/disp32
<span id="L14571" class="LineNr">14571 </span>    }
<span id="L14572" class="LineNr">14572 </span>    <span class="subxComment"># if tail-&gt;right-&gt;left is an array-capacity, return tail-&gt;left</span>
<span id="L14573" class="LineNr">14573 </span>    {
<span id="L14574" class="LineNr">14574 </span><span class="Constant">$type-tail:check-array-capacity</span>:
<span id="L14575" class="LineNr">14575 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14576" class="LineNr">14576 </span>      81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14577" class="LineNr">14577 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14578" class="LineNr">14578 </span><span class="Constant">$type-tail:check-array-capacity-1</span>:
<span id="L14579" class="LineNr">14579 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14580" class="LineNr">14580 </span>      3d/compare-eax-and 0/imm32
<span id="L14581" class="LineNr">14581 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14582" class="LineNr">14582 </span><span class="Constant">$type-tail:check-array-capacity-2</span>:
<span id="L14583" class="LineNr">14583 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 9)  <span class="subxComment"># array-capacity =&gt; eax</span>
<span id="L14584" class="LineNr">14584 </span>      3d/compare-eax-and 0/imm32/false
<span id="L14585" class="LineNr">14585 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14586" class="LineNr">14586 </span><span class="Constant">$type-tail:array-capacity</span>:
<span id="L14587" class="LineNr">14587 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14588" class="LineNr">14588 </span>      eb/jump $type-tail:end/disp8
<span id="L14589" class="LineNr">14589 </span>    }
<span id="L14590" class="LineNr">14590 </span><span class="Constant">$type-tail:check-compound-left</span>:
<span id="L14591" class="LineNr">14591 </span>    <span class="subxComment"># if !tail-&gt;left-&gt;is-atom? return tail-&gt;left</span>
<span id="L14592" class="LineNr">14592 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14593" class="LineNr">14593 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14594" class="LineNr">14594 </span>    74/jump-if-= $type-tail:end/disp8
<span id="L14595" class="LineNr">14595 </span><span class="Constant">$type-tail:return-tail</span>:
<span id="L14596" class="LineNr">14596 </span>    <span class="subxComment"># return tail</span>
<span id="L14597" class="LineNr">14597 </span>    89/&lt;- %eax 1/r32/ecx
<span id="L14598" class="LineNr">14598 </span><span class="Constant">$type-tail:end</span>:
<span id="L14599" class="LineNr">14599 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14600" class="LineNr">14600 </span>    59/pop-to-ecx
<span id="L14601" class="LineNr">14601 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14602" class="LineNr">14602 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14603" class="LineNr">14603 </span>    5d/pop-to-ebp
<span id="L14604" class="LineNr">14604 </span>    c3/return
<span id="L14605" class="LineNr">14605 </span>
<span id="L14606" class="LineNr">14606 </span><span class="subxFunction">type-equal?</span>:  <span class="subxComment"># a: (addr type-tree), b: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L14607" class="LineNr">14607 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14608" class="LineNr">14608 </span>    55/push-ebp
<span id="L14609" class="LineNr">14609 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14610" class="LineNr">14610 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14611" class="LineNr">14611 </span>    51/push-ecx
<span id="L14612" class="LineNr">14612 </span>    52/push-edx
<span id="L14613" class="LineNr">14613 </span>    53/push-ebx
<span id="L14614" class="LineNr">14614 </span>    <span class="subxComment"># ecx = a</span>
<span id="L14615" class="LineNr">14615 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14616" class="LineNr">14616 </span>    <span class="subxComment"># edx = b</span>
<span id="L14617" class="LineNr">14617 </span>    8b/-&gt; *(ebp+0xc) 2/r32/edx
<span id="L14618" class="LineNr">14618 </span><span class="Constant">$type-equal?:compare-addr</span>:
<span id="L14619" class="LineNr">14619 </span>    <span class="subxComment"># if (a == b) return true</span>
<span id="L14620" class="LineNr">14620 </span>    8b/-&gt; %ecx 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L14621" class="LineNr">14621 </span>    39/compare %edx 0/r32/eax  <span class="subxComment"># Var-type</span>
<span id="L14622" class="LineNr">14622 </span>    b8/copy-to-eax 1/imm32/true
<span id="L14623" class="LineNr">14623 </span>    0f 84/jump-if-= $type-equal?:end/disp32
<span id="L14624" class="LineNr">14624 </span><span class="Constant">$type-equal?:compare-null-a</span>:
<span id="L14625" class="LineNr">14625 </span>    <span class="subxComment"># if (a == 0) return false</span>
<span id="L14626" class="LineNr">14626 </span>    b8/copy-to-eax 0/imm32/false
<span id="L14627" class="LineNr">14627 </span>    81 7/subop/compare %ecx 0/imm32
<span id="L14628" class="LineNr">14628 </span>    0f 84/jump-if-= $type-equal?:end/disp32
<span id="L14629" class="LineNr">14629 </span><span class="Constant">$type-equal?:compare-null-b</span>:
<span id="L14630" class="LineNr">14630 </span>    <span class="subxComment"># if (b == 0) return false</span>
<span id="L14631" class="LineNr">14631 </span>    81 7/subop/compare %edx 0/imm32
<span id="L14632" class="LineNr">14632 </span>    0f 84/jump-if-= $type-equal?:end/disp32
<span id="L14633" class="LineNr">14633 </span><span class="Constant">$type-equal?:compare-atom-state</span>:
<span id="L14634" class="LineNr">14634 </span>    <span class="subxComment"># if (a-&gt;is-atom? != b-&gt;is-atom?) return false</span>
<span id="L14635" class="LineNr">14635 </span>    8b/-&gt; *ecx 3/r32/ebx  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14636" class="LineNr">14636 </span>    39/compare *edx 3/r32/ebx  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L14637" class="LineNr">14637 </span>    b8/copy-to-eax 0/imm32/false
<span id="L14638" class="LineNr">14638 </span>    0f 85/jump-if-!= $type-equal?:end/disp32
<span id="L14639" class="LineNr">14639 </span>    <span class="subxComment"># if a-&gt;is-atom? return (a-&gt;value == b-&gt;value)</span>
<span id="L14640" class="LineNr">14640 </span>    {
<span id="L14641" class="LineNr">14641 </span><span class="Constant">$type-equal?:check-atom</span>:
<span id="L14642" class="LineNr">14642 </span>      81 7/subop/compare %ebx 0/imm32/false
<span id="L14643" class="LineNr">14643 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14644" class="LineNr">14644 </span><span class="Constant">$type-equal?:is-atom</span>:
<span id="L14645" class="LineNr">14645 </span>      8b/-&gt; *(ecx+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L14646" class="LineNr">14646 </span>      39/compare *(edx+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L14647" class="LineNr">14647 </span>      0f 94/set-if-= %al
<span id="L14648" class="LineNr">14648 </span>      81 4/subop/and %eax 0xff/imm32
<span id="L14649" class="LineNr">14649 </span>      e9/jump $type-equal?:end/disp32
<span id="L14650" class="LineNr">14650 </span>    }
<span id="L14651" class="LineNr">14651 </span><span class="Constant">$type-equal?:check-left</span>:
<span id="L14652" class="LineNr">14652 </span>    <span class="subxComment"># if (!type-equal?(a-&gt;left, b-&gt;left)) return false</span>
<span id="L14653" class="LineNr">14653 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14654" class="LineNr">14654 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L14655" class="LineNr">14655 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+4) *(edx+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L14656" class="LineNr">14656 </span>    (<a href='mu.subx.html#L14606'>type-equal?</a> %eax %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14657" class="LineNr">14657 </span>    3d/compare-eax-and 0/imm32/false
<span id="L14658" class="LineNr">14658 </span>    74/jump-if-= $type-equal?:end/disp8
<span id="L14659" class="LineNr">14659 </span><span class="Constant">$type-equal?:check-right</span>:
<span id="L14660" class="LineNr">14660 </span>    <span class="subxComment"># return type-equal?(a-&gt;right, b-&gt;right)</span>
<span id="L14661" class="LineNr">14661 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14662" class="LineNr">14662 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L14663" class="LineNr">14663 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0xc) *(edx+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L14664" class="LineNr">14664 </span>    (<a href='mu.subx.html#L14606'>type-equal?</a> %eax %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14665" class="LineNr">14665 </span><span class="Constant">$type-equal?:end</span>:
<span id="L14666" class="LineNr">14666 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14667" class="LineNr">14667 </span>    5b/pop-to-ebx
<span id="L14668" class="LineNr">14668 </span>    5a/pop-to-edx
<span id="L14669" class="LineNr">14669 </span>    59/pop-to-ecx
<span id="L14670" class="LineNr">14670 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14671" class="LineNr">14671 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14672" class="LineNr">14672 </span>    5d/pop-to-ebp
<span id="L14673" class="LineNr">14673 </span>    c3/return
<span id="L14674" class="LineNr">14674 </span>
<span id="L14675" class="LineNr">14675 </span><span class="subxComment">#######################################################</span>
<span id="L14676" class="LineNr">14676 </span><span class="subxComment"># Code-generation</span>
<span id="L14677" class="LineNr">14677 </span><span class="subxComment">#######################################################</span>
<span id="L14678" class="LineNr">14678 </span>
<span id="L14679" class="LineNr">14679 </span>== data
<span id="L14680" class="LineNr">14680 </span>
<span id="L14681" class="LineNr">14681 </span><span class="subxComment"># Global state added to each var record when performing code-generation.</span>
<span id="L14682" class="LineNr">14682 </span><span class="SpecialChar">Curr-local-stack-offset</span>:  <span class="subxComment"># (addr int)</span>
<span id="L14683" class="LineNr">14683 </span>    0/imm32
<span id="L14684" class="LineNr">14684 </span>
<span id="L14685" class="LineNr">14685 </span>== code
<span id="L14686" class="LineNr">14686 </span>
<span id="L14687" class="LineNr">14687 </span><span class="subxFunction">emit-subx</span>:  <span class="subxComment"># out: (addr buffered-file), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L14688" class="LineNr">14688 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14689" class="LineNr">14689 </span>    55/push-ebp
<span id="L14690" class="LineNr">14690 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14691" class="LineNr">14691 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14692" class="LineNr">14692 </span>    50/push-eax
<span id="L14693" class="LineNr">14693 </span>    <span class="subxComment"># var curr/eax: (addr function) = *Program-&gt;functions</span>
<span id="L14694" class="LineNr">14694 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *_Program-functions *_Program-functions-&gt;payload)  <span class="subxComment"># =&gt; eax</span>
<span id="L14695" class="LineNr">14695 </span>    {
<span id="L14696" class="LineNr">14696 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L14697" class="LineNr">14697 </span>      3d/compare-eax-and 0/imm32
<span id="L14698" class="LineNr">14698 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14699" class="LineNr">14699 </span>      (<a href='mu.subx.html#L14712'>emit-subx-function</a> *(ebp+8) %eax *(ebp+0xc) *(ebp+0x10))
<span id="L14700" class="LineNr">14700 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L14701" class="LineNr">14701 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x20) *(eax+0x24))  <span class="subxComment"># Function-next Function-next =&gt; eax</span>
<span id="L14702" class="LineNr">14702 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L14703" class="LineNr">14703 </span>    }
<span id="L14704" class="LineNr">14704 </span><span class="Constant">$emit-subx:end</span>:
<span id="L14705" class="LineNr">14705 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14706" class="LineNr">14706 </span>    58/pop-to-eax
<span id="L14707" class="LineNr">14707 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14708" class="LineNr">14708 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14709" class="LineNr">14709 </span>    5d/pop-to-ebp
<span id="L14710" class="LineNr">14710 </span>    c3/return
<span id="L14711" class="LineNr">14711 </span>
<span id="L14712" class="LineNr">14712 </span><span class="subxFunction">emit-subx-function</span>:  <span class="subxComment"># out: (addr buffered-file), f: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L14713" class="LineNr">14713 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14714" class="LineNr">14714 </span>    55/push-ebp
<span id="L14715" class="LineNr">14715 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14716" class="LineNr">14716 </span>    <span class="subxComment"># some preprocessing</span>
<span id="L14717" class="LineNr">14717 </span>    (<a href='mu.subx.html#L14757'>populate-mu-type-offsets-in-inouts</a> *(ebp+0xc))
<span id="L14718" class="LineNr">14718 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14719" class="LineNr">14719 </span>    50/push-eax
<span id="L14720" class="LineNr">14720 </span>    51/push-ecx
<span id="L14721" class="LineNr">14721 </span>    52/push-edx
<span id="L14722" class="LineNr">14722 </span>    <span class="subxComment"># initialize some global state</span>
<span id="L14723" class="LineNr">14723 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 1/imm32  <span class="subxComment"># Important: keep this in sync with the parse phase</span>
<span id="L14724" class="LineNr">14724 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L14682'>Curr-local-stack-offset</a></span> 0/imm32
<span id="L14725" class="LineNr">14725 </span>    <span class="subxComment"># ecx = f</span>
<span id="L14726" class="LineNr">14726 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L14727" class="LineNr">14727 </span>    <span class="subxComment"># var vars/edx: (stack (addr var) 256)</span>
<span id="L14728" class="LineNr">14728 </span>    81 5/subop/subtract %esp 0xc00/imm32
<span id="L14729" class="LineNr">14729 </span>    68/push 0xc00/imm32/size
<span id="L14730" class="LineNr">14730 </span>    68/push 0/imm32/top
<span id="L14731" class="LineNr">14731 </span>    89/&lt;- %edx 4/r32/esp
<span id="L14732" class="LineNr">14732 </span>    <span class="subxComment"># var name/eax: (addr array byte) = lookup(f-&gt;name)</span>
<span id="L14733" class="LineNr">14733 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L14734" class="LineNr">14734 </span>    <span class="subxComment">#</span>
<span id="L14735" class="LineNr">14735 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L14736" class="LineNr">14736 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:\n&quot;</span>)
<span id="L14737" class="LineNr">14737 </span>    (<a href='mu.subx.html#L23987'>emit-subx-prologue</a> *(ebp+8))
<span id="L14738" class="LineNr">14738 </span>    <span class="subxComment"># var body/eax: (addr block) = lookup(f-&gt;body)</span>
<span id="L14739" class="LineNr">14739 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Function-body Function-body =&gt; eax</span>
<span id="L14740" class="LineNr">14740 </span>    <span class="subxComment">#</span>
<span id="L14741" class="LineNr">14741 </span>    (<a href='mu.subx.html#L17293'>emit-subx-block</a> *(ebp+8) %eax %edx *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L14742" class="LineNr">14742 </span>    (<a href='mu.subx.html#L24001'>emit-subx-epilogue</a> *(ebp+8))
<span id="L14743" class="LineNr">14743 </span>    <span class="subxComment"># TODO: validate that *Curr-block-depth and *Curr-local-stack-offset have</span>
<span id="L14744" class="LineNr">14744 </span>    <span class="subxComment"># been cleaned up</span>
<span id="L14745" class="LineNr">14745 </span><span class="Constant">$emit-subx-function:end</span>:
<span id="L14746" class="LineNr">14746 </span>    <span class="subxS1Comment"># . reclaim locals</span>
<span id="L14747" class="LineNr">14747 </span>    81 0/subop/add %esp 0xc08/imm32
<span id="L14748" class="LineNr">14748 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14749" class="LineNr">14749 </span>    5a/pop-to-edx
<span id="L14750" class="LineNr">14750 </span>    59/pop-to-ecx
<span id="L14751" class="LineNr">14751 </span>    58/pop-to-eax
<span id="L14752" class="LineNr">14752 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14753" class="LineNr">14753 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14754" class="LineNr">14754 </span>    5d/pop-to-ebp
<span id="L14755" class="LineNr">14755 </span>    c3/return
<span id="L14756" class="LineNr">14756 </span>
<span id="L14757" class="LineNr">14757 </span><span class="subxFunction">populate-mu-type-offsets-in-inouts</span>:  <span class="subxComment"># f: (addr function)</span>
<span id="L14758" class="LineNr">14758 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14759" class="LineNr">14759 </span>    55/push-ebp
<span id="L14760" class="LineNr">14760 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14761" class="LineNr">14761 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14762" class="LineNr">14762 </span>    50/push-eax
<span id="L14763" class="LineNr">14763 </span>    51/push-ecx
<span id="L14764" class="LineNr">14764 </span>    52/push-edx
<span id="L14765" class="LineNr">14765 </span>    53/push-ebx
<span id="L14766" class="LineNr">14766 </span>    57/push-edi
<span id="L14767" class="LineNr">14767 </span>    <span class="subxComment"># var next-offset/edx: int = 8</span>
<span id="L14768" class="LineNr">14768 </span>    ba/copy-to-edx 8/imm32
<span id="L14769" class="LineNr">14769 </span>    <span class="subxComment"># var curr/ecx: (addr list var) = lookup(f-&gt;inouts)</span>
<span id="L14770" class="LineNr">14770 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L14771" class="LineNr">14771 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Function-inouts Function-inouts =&gt; eax</span>
<span id="L14772" class="LineNr">14772 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L14773" class="LineNr">14773 </span>    {
<span id="L14774" class="LineNr">14774 </span><span class="Constant">$populate-mu-type-offsets-in-inouts:loop</span>:
<span id="L14775" class="LineNr">14775 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L14776" class="LineNr">14776 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L14777" class="LineNr">14777 </span>      <span class="subxComment"># var v/ebx: (addr var) = lookup(curr-&gt;value)</span>
<span id="L14778" class="LineNr">14778 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L14779" class="LineNr">14779 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L14780" class="LineNr">14780 </span><span class="CommentedCode">#?       (lookup *ebx *(ebx+4))</span>
<span id="L14781" class="LineNr">14781 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;setting offset of fn inout &quot;)</span>
<span id="L14782" class="LineNr">14782 </span><span class="CommentedCode">#?       (write-buffered Stderr %eax)</span>
<span id="L14783" class="LineNr">14783 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;@&quot;)</span>
<span id="L14784" class="LineNr">14784 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %ebx)</span>
<span id="L14785" class="LineNr">14785 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot; to &quot;)</span>
<span id="L14786" class="LineNr">14786 </span><span class="CommentedCode">#?       (write-int32-hex-buffered Stderr %edx)</span>
<span id="L14787" class="LineNr">14787 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L14788" class="LineNr">14788 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L14789" class="LineNr">14789 </span>      <span class="subxComment"># v-&gt;offset = next-offset</span>
<span id="L14790" class="LineNr">14790 </span>      89/&lt;- *(ebx+0x14) 2/r32/edx  <span class="subxComment"># Var-offset</span>
<span id="L14791" class="LineNr">14791 </span>      <span class="subxComment"># next-offset += size-of(v)</span>
<span id="L14792" class="LineNr">14792 </span>      (<a href='mu.subx.html#L14286'>size-of</a> %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14793" class="LineNr">14793 </span>      01/add-to %edx 0/r32/eax
<span id="L14794" class="LineNr">14794 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L14795" class="LineNr">14795 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L14796" class="LineNr">14796 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L14797" class="LineNr">14797 </span>      <span class="subxComment">#</span>
<span id="L14798" class="LineNr">14798 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L14799" class="LineNr">14799 </span>    }
<span id="L14800" class="LineNr">14800 </span><span class="Constant">$populate-mu-type-offsets-in-inouts:end</span>:
<span id="L14801" class="LineNr">14801 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14802" class="LineNr">14802 </span>    5f/pop-to-edi
<span id="L14803" class="LineNr">14803 </span>    5b/pop-to-ebx
<span id="L14804" class="LineNr">14804 </span>    5a/pop-to-edx
<span id="L14805" class="LineNr">14805 </span>    59/pop-to-ecx
<span id="L14806" class="LineNr">14806 </span>    58/pop-to-eax
<span id="L14807" class="LineNr">14807 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14808" class="LineNr">14808 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14809" class="LineNr">14809 </span>    5d/pop-to-ebp
<span id="L14810" class="LineNr">14810 </span>    c3/return
<span id="L14811" class="LineNr">14811 </span>
<span id="L14812" class="LineNr">14812 </span><span class="subxFunction">emit-subx-stmt-list</span>:  <span class="subxComment"># out: (addr buffered-file), stmts: (addr list stmt), vars: (addr stack live-var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L14813" class="LineNr">14813 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L14814" class="LineNr">14814 </span>    55/push-ebp
<span id="L14815" class="LineNr">14815 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L14816" class="LineNr">14816 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L14817" class="LineNr">14817 </span>    50/push-eax
<span id="L14818" class="LineNr">14818 </span>    51/push-ecx
<span id="L14819" class="LineNr">14819 </span>    53/push-ebx
<span id="L14820" class="LineNr">14820 </span>    56/push-esi
<span id="L14821" class="LineNr">14821 </span>    <span class="subxComment"># esi = stmts</span>
<span id="L14822" class="LineNr">14822 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L14823" class="LineNr">14823 </span>    <span class="subxComment">#</span>
<span id="L14824" class="LineNr">14824 </span>    {
<span id="L14825" class="LineNr">14825 </span><span class="Constant">$emit-subx-stmt-list:loop</span>:
<span id="L14826" class="LineNr">14826 </span>      81 7/subop/compare %esi 0/imm32
<span id="L14827" class="LineNr">14827 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14828" class="LineNr">14828 </span>      <span class="subxComment"># var curr-stmt/ecx: (addr stmt) = lookup(stmts-&gt;value)</span>
<span id="L14829" class="LineNr">14829 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L14830" class="LineNr">14830 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L14831" class="LineNr">14831 </span>      {
<span id="L14832" class="LineNr">14832 </span><span class="Constant">$emit-subx-stmt-list:check-for-block</span>:
<span id="L14833" class="LineNr">14833 </span>        81 7/subop/compare *ecx 0/imm32/block  <span class="subxComment"># Stmt-tag</span>
<span id="L14834" class="LineNr">14834 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14835" class="LineNr">14835 </span><span class="Constant">$emit-subx-stmt-list:block</span>:
<span id="L14836" class="LineNr">14836 </span>        (<a href='mu.subx.html#L17293'>emit-subx-block</a> *(ebp+8) %ecx *(ebp+0x10) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L14837" class="LineNr">14837 </span>      }
<span id="L14838" class="LineNr">14838 </span>      {
<span id="L14839" class="LineNr">14839 </span><span class="Constant">$emit-subx-stmt-list:check-for-stmt</span>:
<span id="L14840" class="LineNr">14840 </span>        81 7/subop/compare *ecx 1/imm32/stmt1  <span class="subxComment"># Stmt-tag</span>
<span id="L14841" class="LineNr">14841 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L14842" class="LineNr">14842 </span><span class="Constant">$emit-subx-stmt-list:stmt1</span>:
<span id="L14843" class="LineNr">14843 </span>        {
<span id="L14844" class="LineNr">14844 </span>          (<a href='mu.subx.html#L15113'>is-mu-branch?</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L14845" class="LineNr">14845 </span>          3d/compare-eax-and 0/imm32/false
<span id="L14846" class="LineNr">14846 </span>          0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L14847" class="LineNr">14847 </span><span class="Constant">$emit-subx-stmt-list:branch-stmt</span>:
<span id="L14848" class="Folded">14848 </span><span class="Folded">+-- 27 lines: # unconditional loops --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L14875" class="Folded">14875 </span><span class="Folded">+-- 16 lines: # unconditional breaks -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L14891" class="Folded">14891 </span><span class="Folded">+-- 38 lines: # simple conditional branches without a target -------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L14929" class="Folded">14929 </span><span class="Folded">+-- 19 lines: # conditional branches with an explicit target -------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L14948" class="LineNr">14948 </span>        }
<span id="L14949" class="LineNr">14949 </span><span class="Constant">$emit-subx-stmt-list:1-to-1</span>:
<span id="L14950" class="LineNr">14950 </span>        (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> *(ebp+8) %ecx <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> *(ebp+0x18) *(ebp+0x1c))
<span id="L14951" class="LineNr">14951 </span>        e9/jump $emit-subx-stmt-list:continue/disp32
<span id="L14952" class="LineNr">14952 </span>      }
<span id="L14953" class="LineNr">14953 </span>      {
<span id="L14954" class="LineNr">14954 </span><span class="Constant">$emit-subx-stmt-list:check-for-var-def</span>:
<span id="L14955" class="LineNr">14955 </span>        81 7/subop/compare *ecx 2/imm32/var-def  <span class="subxComment"># Stmt-tag</span>
<span id="L14956" class="LineNr">14956 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L14957" class="LineNr">14957 </span><span class="Constant">$emit-subx-stmt-list:var-def</span>:
<span id="L14958" class="LineNr">14958 </span>        (<a href='mu.subx.html#L15915'>emit-subx-var-def</a> *(ebp+8) %ecx)
<span id="L14959" class="LineNr">14959 </span>        (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(ecx+4))  <span class="subxComment"># Vardef-var</span>
<span id="L14960" class="LineNr">14960 </span>        (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(ecx+8))  <span class="subxComment"># Vardef-var</span>
<span id="L14961" class="LineNr">14961 </span>        (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) 0)  <span class="subxComment"># Live-var-register-spilled = 0 for vars on the stack</span>
<span id="L14962" class="LineNr">14962 </span>        <span class="subxComment">#</span>
<span id="L14963" class="LineNr">14963 </span>        eb/jump $emit-subx-stmt-list:continue/disp8
<span id="L14964" class="LineNr">14964 </span>      }
<span id="L14965" class="LineNr">14965 </span>      {
<span id="L14966" class="LineNr">14966 </span><span class="Constant">$emit-subx-stmt-list:check-for-reg-var-def</span>:
<span id="L14967" class="LineNr">14967 </span>        81 7/subop/compare *ecx 3/imm32/reg-var-def  <span class="subxComment"># Stmt-tag</span>
<span id="L14968" class="LineNr">14968 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L14969" class="LineNr">14969 </span><span class="Constant">$emit-subx-stmt-list:reg-var-def</span>:
<span id="L14970" class="LineNr">14970 </span>        <span class="subxComment"># TODO: ensure that there's exactly one output</span>
<span id="L14971" class="LineNr">14971 </span>        (<a href='mu.subx.html#L14999'>push-output-and-maybe-emit-spill</a> *(ebp+8) %ecx *(ebp+0x10) %esi *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L14972" class="LineNr">14972 </span>        <span class="subxComment"># emit the instruction as usual</span>
<span id="L14973" class="LineNr">14973 </span>        (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> *(ebp+8) %ecx <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> *(ebp+0x18) *(ebp+0x1c))
<span id="L14974" class="LineNr">14974 </span>        <span class="subxComment">#</span>
<span id="L14975" class="LineNr">14975 </span>        eb/jump $emit-subx-stmt-list:continue/disp8
<span id="L14976" class="LineNr">14976 </span>      }
<span id="L14977" class="LineNr">14977 </span><span class="Constant">$emit-subx-stmt-list:continue</span>:
<span id="L14978" class="LineNr">14978 </span>      <span class="subxComment"># TODO: raise an error on unrecognized Stmt-tag</span>
<span id="L14979" class="LineNr">14979 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+8) *(esi+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L14980" class="LineNr">14980 </span>      89/&lt;- %esi 0/r32/eax
<span id="L14981" class="LineNr">14981 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L14982" class="LineNr">14982 </span>    }
<span id="L14983" class="LineNr">14983 </span><span class="Constant">$emit-subx-stmt-list:emit-cleanup</span>:
<span id="L14984" class="LineNr">14984 </span>    (<a href='mu.subx.html#L15263'>emit-cleanup-code-until-depth</a> *(ebp+8) *(ebp+0x10) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L14985" class="LineNr">14985 </span><span class="Constant">$emit-subx-stmt-list:clean-up</span>:
<span id="L14986" class="LineNr">14986 </span>    (<a href='mu.subx.html#L15761'>clean-up-blocks</a> *(ebp+0x10) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> *(ebp+0x14))
<span id="L14987" class="LineNr">14987 </span><span class="Constant">$emit-subx-stmt-list:end</span>:
<span id="L14988" class="LineNr">14988 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L14989" class="LineNr">14989 </span>    5e/pop-to-esi
<span id="L14990" class="LineNr">14990 </span>    5b/pop-to-ebx
<span id="L14991" class="LineNr">14991 </span>    59/pop-to-ecx
<span id="L14992" class="LineNr">14992 </span>    58/pop-to-eax
<span id="L14993" class="LineNr">14993 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L14994" class="LineNr">14994 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L14995" class="LineNr">14995 </span>    5d/pop-to-ebp
<span id="L14996" class="LineNr">14996 </span>    c3/return
<span id="L14997" class="LineNr">14997 </span>
<span id="L14998" class="LineNr">14998 </span><span class="subxComment"># 'later-stmts' includes 'stmt', but will behave the same even without it; reg-var-def stmts are guaranteed not to write to function outputs.</span>
<span id="L14999" class="LineNr">14999 </span><span class="subxFunction">push-output-and-maybe-emit-spill</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr reg-var-def), vars: (addr stack (handle var)), later-stmts: (addr list stmt), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L15000" class="LineNr">15000 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15001" class="LineNr">15001 </span>    55/push-ebp
<span id="L15002" class="LineNr">15002 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15003" class="LineNr">15003 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15004" class="LineNr">15004 </span>    50/push-eax
<span id="L15005" class="LineNr">15005 </span>    51/push-ecx
<span id="L15006" class="LineNr">15006 </span>    52/push-edx
<span id="L15007" class="LineNr">15007 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L15008" class="LineNr">15008 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15009" class="LineNr">15009 </span>    <span class="subxComment"># var sv/eax: (addr stmt-var) = lookup(curr-stmt-&gt;outputs)</span>
<span id="L15010" class="LineNr">15010 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Regvardef-outputs Regvardef-outputs =&gt; eax</span>
<span id="L15011" class="LineNr">15011 </span>    <span class="subxComment"># TODO: assert !sv-&gt;is-deref?</span>
<span id="L15012" class="LineNr">15012 </span>    <span class="subxComment"># var v/ecx: (addr var) = lookup(sv-&gt;value)</span>
<span id="L15013" class="LineNr">15013 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L15014" class="LineNr">15014 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L15015" class="LineNr">15015 </span>    <span class="subxComment"># v-&gt;block-depth = *Curr-block-depth</span>
<span id="L15016" class="LineNr">15016 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/r32/eax
<span id="L15017" class="LineNr">15017 </span>    89/&lt;- *(ecx+0x10) 0/r32/eax  <span class="subxComment"># Var-block-depth</span>
<span id="L15018" class="LineNr">15018 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;var &quot;)</span>
<span id="L15019" class="LineNr">15019 </span><span class="CommentedCode">#?     (lookup *ecx *(ecx+4))</span>
<span id="L15020" class="LineNr">15020 </span><span class="CommentedCode">#?     (write-buffered Stderr %eax)</span>
<span id="L15021" class="LineNr">15021 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot; at depth &quot;)</span>
<span id="L15022" class="LineNr">15022 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr *(ecx+0x10))</span>
<span id="L15023" class="LineNr">15023 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L15024" class="LineNr">15024 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L15025" class="LineNr">15025 </span>    <span class="subxComment"># ensure that v is in a register</span>
<span id="L15026" class="LineNr">15026 </span>    81 7/subop/compare *(ecx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L15027" class="LineNr">15027 </span>    0f 84/jump-if-= $push-output-and-maybe-emit-spill:abort/disp32
<span id="L15028" class="LineNr">15028 </span>    <span class="subxComment"># var emit-spill?/edx: boolean = not-yet-spilled-this-block? &amp;&amp; will-not-write-some-register?(fn)</span>
<span id="L15029" class="LineNr">15029 </span>    (<a href='mu.subx.html#L15433'>not-yet-spilled-this-block?</a> %ecx *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L15030" class="LineNr">15030 </span>    89/&lt;- %edx 0/r32/eax
<span id="L15031" class="LineNr">15031 </span>    3d/compare-eax-and 0/imm32/false
<span id="L15032" class="LineNr">15032 </span>    0f 84/jump-if-= $push-output-and-maybe-emit-spill:<a href='../203stack.subx.html#L114'>push</a>/disp32
<span id="L15033" class="LineNr">15033 </span>    (<a href='mu.subx.html#L15506'>will-not-write-some-register?</a> %ecx *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># =&gt; eax</span>
<span id="L15034" class="LineNr">15034 </span>    89/&lt;- %edx 0/r32/eax
<span id="L15035" class="LineNr">15035 </span>    <span class="subxComment"># check emit-spill?</span>
<span id="L15036" class="LineNr">15036 </span>    3d/compare-eax-and 0/imm32/false
<span id="L15037" class="LineNr">15037 </span>    0f 84/jump-if-= $push-output-and-maybe-emit-spill:<a href='../203stack.subx.html#L114'>push</a>/disp32
<span id="L15038" class="LineNr">15038 </span>    <span class="subxComment"># TODO: assert(size-of(output) == 4)</span>
<span id="L15039" class="LineNr">15039 </span>    <span class="subxComment"># *Curr-local-stack-offset -= 4</span>
<span id="L15040" class="LineNr">15040 </span>    81 5/subop/subtract *<span class="SpecialChar"><a href='mu.subx.html#L14682'>Curr-local-stack-offset</a></span> 4/imm32
<span id="L15041" class="LineNr">15041 </span>    <span class="subxComment"># emit spill</span>
<span id="L15042" class="LineNr">15042 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15043" class="LineNr">15043 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;ff 6/subop/push %&quot;</span>)
<span id="L15044" class="LineNr">15044 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15045" class="LineNr">15045 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L15046" class="LineNr">15046 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L15047" class="LineNr">15047 </span><span class="Constant">$push-output-and-maybe-emit-spill:<a href='../203stack.subx.html#L114'>push</a></span>:
<span id="L15048" class="LineNr">15048 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15049" class="LineNr">15049 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Regvardef-outputs Regvardef-outputs =&gt; eax</span>
<span id="L15050" class="LineNr">15050 </span>    <span class="subxComment"># push(vars, {sv-&gt;value, emit-spill?})</span>
<span id="L15051" class="LineNr">15051 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *eax)  <span class="subxComment"># Stmt-var-value</span>
<span id="L15052" class="LineNr">15052 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(eax+4))  <span class="subxComment"># Stmt-var-value</span>
<span id="L15053" class="LineNr">15053 </span>    (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) %edx)
<span id="L15054" class="LineNr">15054 </span><span class="Constant">$push-output-and-maybe-emit-spill:end</span>:
<span id="L15055" class="LineNr">15055 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15056" class="LineNr">15056 </span>    5a/pop-to-edx
<span id="L15057" class="LineNr">15057 </span>    59/pop-to-ecx
<span id="L15058" class="LineNr">15058 </span>    58/pop-to-eax
<span id="L15059" class="LineNr">15059 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15060" class="LineNr">15060 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15061" class="LineNr">15061 </span>    5d/pop-to-ebp
<span id="L15062" class="LineNr">15062 </span>    c3/return
<span id="L15063" class="LineNr">15063 </span>
<span id="L15064" class="LineNr">15064 </span><span class="Constant">$push-output-and-maybe-emit-spill:abort</span>:
<span id="L15065" class="LineNr">15065 </span>    <span class="subxComment"># error(&quot;var '&quot; var-&gt;name &quot;' initialized from an instruction must live in a register\n&quot;)</span>
<span id="L15066" class="LineNr">15066 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x1c) <span class="Constant">&quot;var '&quot;</span>)
<span id="L15067" class="LineNr">15067 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x1c) *eax)  <span class="subxComment"># Var-name</span>
<span id="L15068" class="LineNr">15068 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x1c) <span class="Constant">&quot;' initialized from an instruction must live in a register\n&quot;</span>)
<span id="L15069" class="LineNr">15069 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x1c))
<span id="L15070" class="LineNr">15070 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x20) 1)
<span id="L15071" class="LineNr">15071 </span>    <span class="subxComment"># never gets here</span>
<span id="L15072" class="LineNr">15072 </span>
<span id="L15073" class="LineNr">15073 </span><span class="subxFunction">emit-subx-cleanup-and-unconditional-nonlocal-branch</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt1), vars: (addr stack live-var)</span>
<span id="L15074" class="LineNr">15074 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15075" class="LineNr">15075 </span>    55/push-ebp
<span id="L15076" class="LineNr">15076 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15077" class="LineNr">15077 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15078" class="LineNr">15078 </span>    50/push-eax
<span id="L15079" class="LineNr">15079 </span>    51/push-ecx
<span id="L15080" class="LineNr">15080 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L15081" class="LineNr">15081 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15082" class="LineNr">15082 </span>    <span class="subxComment"># var target/eax: (addr array byte) = curr-stmt-&gt;inouts-&gt;value-&gt;name</span>
<span id="L15083" class="LineNr">15083 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L15084" class="LineNr">15084 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L15085" class="LineNr">15085 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L15086" class="LineNr">15086 </span>    <span class="subxComment"># clean up until target block</span>
<span id="L15087" class="LineNr">15087 </span>    (<a href='mu.subx.html#L15352'>emit-cleanup-code-until-target</a> *(ebp+8) *(ebp+0x10) %eax)
<span id="L15088" class="LineNr">15088 </span>    <span class="subxComment"># emit jump to target block</span>
<span id="L15089" class="LineNr">15089 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15090" class="LineNr">15090 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;e9/jump &quot;</span>)
<span id="L15091" class="LineNr">15091 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L15092" class="LineNr">15092 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L15093" class="LineNr">15093 </span>    (<a href='../105string-equal.subx.html#L57'>string-starts-with?</a> %eax <span class="Constant">&quot;break&quot;</span>)
<span id="L15094" class="LineNr">15094 </span>    3d/compare-eax-and 0/imm32/false
<span id="L15095" class="LineNr">15095 </span>    {
<span id="L15096" class="LineNr">15096 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15097" class="LineNr">15097 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:break/disp32\n&quot;</span>)
<span id="L15098" class="LineNr">15098 </span>    }
<span id="L15099" class="LineNr">15099 </span>    3d/compare-eax-and 0/imm32/false  <span class="subxComment"># just in case the function call modified flags</span>
<span id="L15100" class="LineNr">15100 </span>    {
<span id="L15101" class="LineNr">15101 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15102" class="LineNr">15102 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:loop/disp32\n&quot;</span>)
<span id="L15103" class="LineNr">15103 </span>    }
<span id="L15104" class="LineNr">15104 </span><span class="Constant">$emit-subx-cleanup-and-unconditional-nonlocal-branch:end</span>:
<span id="L15105" class="LineNr">15105 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15106" class="LineNr">15106 </span>    59/pop-to-ecx
<span id="L15107" class="LineNr">15107 </span>    58/pop-to-eax
<span id="L15108" class="LineNr">15108 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15109" class="LineNr">15109 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15110" class="LineNr">15110 </span>    5d/pop-to-ebp
<span id="L15111" class="LineNr">15111 </span>    c3/return
<span id="L15112" class="LineNr">15112 </span>
<span id="L15113" class="LineNr">15113 </span><span class="subxFunction">is-mu-branch?</span>:  <span class="subxComment"># stmt: (addr stmt1) -&gt; result/eax: boolean</span>
<span id="L15114" class="LineNr">15114 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15115" class="LineNr">15115 </span>    55/push-ebp
<span id="L15116" class="LineNr">15116 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15117" class="LineNr">15117 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15118" class="LineNr">15118 </span>    51/push-ecx
<span id="L15119" class="LineNr">15119 </span>    <span class="subxComment"># ecx = lookup(stmt-&gt;operation)</span>
<span id="L15120" class="LineNr">15120 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15121" class="LineNr">15121 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L15122" class="LineNr">15122 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L15123" class="LineNr">15123 </span>    <span class="subxComment"># if (stmt-&gt;operation starts with &quot;loop&quot;) return true</span>
<span id="L15124" class="LineNr">15124 </span>    (<a href='../105string-equal.subx.html#L57'>string-starts-with?</a> %ecx <span class="Constant">&quot;loop&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L15125" class="LineNr">15125 </span>    3d/compare-eax-and 0/imm32/false
<span id="L15126" class="LineNr">15126 </span>    75/jump-if-not-equal $is-mu-branch?:end/disp8
<span id="L15127" class="LineNr">15127 </span>    <span class="subxComment"># otherwise return (stmt-&gt;operation starts with &quot;break&quot;)</span>
<span id="L15128" class="LineNr">15128 </span>    (<a href='../105string-equal.subx.html#L57'>string-starts-with?</a> %ecx <span class="Constant">&quot;break&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L15129" class="LineNr">15129 </span><span class="Constant">$is-mu-branch?:end</span>:
<span id="L15130" class="LineNr">15130 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15131" class="LineNr">15131 </span>    59/pop-to-ecx
<span id="L15132" class="LineNr">15132 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15133" class="LineNr">15133 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15134" class="LineNr">15134 </span>    5d/pop-to-ebp
<span id="L15135" class="LineNr">15135 </span>    c3/return
<span id="L15136" class="LineNr">15136 </span>
<span id="L15137" class="LineNr">15137 </span><span class="subxFunction">emit-reverse-break</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt1)</span>
<span id="L15138" class="LineNr">15138 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15139" class="LineNr">15139 </span>    55/push-ebp
<span id="L15140" class="LineNr">15140 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15141" class="LineNr">15141 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15142" class="LineNr">15142 </span>    50/push-eax
<span id="L15143" class="LineNr">15143 </span>    <span class="subxComment"># eax = stmt</span>
<span id="L15144" class="LineNr">15144 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L15145" class="LineNr">15145 </span>    <span class="subxComment">#</span>
<span id="L15146" class="LineNr">15146 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L15147" class="LineNr">15147 </span>    (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L15163'>Reverse-branch</a></span> %eax 0x10 <span class="Constant">&quot;reverse-branch: &quot;</span>)  <span class="subxComment"># =&gt; eax: (addr handle array byte)</span>
<span id="L15148" class="LineNr">15148 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15149" class="LineNr">15149 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15150" class="LineNr">15150 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L15151" class="LineNr">15151 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; break/disp32\n&quot;</span>)
<span id="L15152" class="LineNr">15152 </span><span class="Constant">$emit-reverse-break:end</span>:
<span id="L15153" class="LineNr">15153 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15154" class="LineNr">15154 </span>    58/pop-to-eax
<span id="L15155" class="LineNr">15155 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15156" class="LineNr">15156 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15157" class="LineNr">15157 </span>    5d/pop-to-ebp
<span id="L15158" class="LineNr">15158 </span>    c3/return
<span id="L15159" class="LineNr">15159 </span>
<span id="L15160" class="LineNr">15160 </span>== data
<span id="L15161" class="LineNr">15161 </span>
<span id="L15162" class="LineNr">15162 </span><span class="subxComment"># Table from Mu branch instructions to the reverse SubX opcodes for them.</span>
<span id="L15163" class="LineNr">15163 </span><span class="SpecialChar">Reverse-branch</span>:  <span class="subxComment"># (table (handle array byte) (handle array byte))</span>
<span id="L15164" class="LineNr">15164 </span>  <span class="subxComment"># a table is a stream</span>
<span id="L15165" class="LineNr">15165 </span>  0x140/imm32/write
<span id="L15166" class="LineNr">15166 </span>  0/imm32/read
<span id="L15167" class="LineNr">15167 </span>  0x140/imm32/size
<span id="L15168" class="LineNr">15168 </span>  <span class="subxComment"># data</span>
<span id="L15169" class="LineNr">15169 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19672'>_string-break-if-=</a>/imm32                0x11/imm32/alloc-id   <a href='mu.subx.html#L19929'>_string_0f_85_jump_label</a>/imm32
<span id="L15170" class="LineNr">15170 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19762'>_string-loop-if-=</a>/imm32                 0x11/imm32/alloc-id   <a href='mu.subx.html#L19929'>_string_0f_85_jump_label</a>/imm32
<span id="L15171" class="LineNr">15171 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19687'>_string-break-if-!=</a>/imm32               0x11/imm32/alloc-id   <a href='mu.subx.html#L19914'>_string_0f_84_jump_label</a>/imm32
<span id="L15172" class="LineNr">15172 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19777'>_string-loop-if-!=</a>/imm32                0x11/imm32/alloc-id   <a href='mu.subx.html#L19914'>_string_0f_84_jump_label</a>/imm32
<span id="L15173" class="LineNr">15173 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19662'>_string-break-if-&lt;</a>/imm32                0x11/imm32/alloc-id   <a href='mu.subx.html#L19989'>_string_0f_8d_jump_label</a>/imm32
<span id="L15174" class="LineNr">15174 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19752'>_string-loop-if-&lt;</a>/imm32                 0x11/imm32/alloc-id   <a href='mu.subx.html#L19989'>_string_0f_8d_jump_label</a>/imm32
<span id="L15175" class="LineNr">15175 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19677'>_string-break-if-&gt;</a>/imm32                0x11/imm32/alloc-id   <a href='mu.subx.html#L20004'>_string_0f_8e_jump_label</a>/imm32
<span id="L15176" class="LineNr">15176 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19767'>_string-loop-if-&gt;</a>/imm32                 0x11/imm32/alloc-id   <a href='mu.subx.html#L20004'>_string_0f_8e_jump_label</a>/imm32
<span id="L15177" class="LineNr">15177 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19667'>_string-break-if-&lt;=</a>/imm32               0x11/imm32/alloc-id   <a href='mu.subx.html#L19959'>_string_0f_87_jump_label</a>/imm32
<span id="L15178" class="LineNr">15178 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19757'>_string-loop-if-&lt;=</a>/imm32                0x11/imm32/alloc-id   <a href='mu.subx.html#L19959'>_string_0f_87_jump_label</a>/imm32
<span id="L15179" class="LineNr">15179 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19682'>_string-break-if-&gt;=</a>/imm32               0x11/imm32/alloc-id   <a href='mu.subx.html#L19974'>_string_0f_8c_jump_label</a>/imm32
<span id="L15180" class="LineNr">15180 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19772'>_string-loop-if-&gt;=</a>/imm32                0x11/imm32/alloc-id   <a href='mu.subx.html#L19974'>_string_0f_8c_jump_label</a>/imm32
<span id="L15181" class="LineNr">15181 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19692'>_string-break-if-addr&lt;</a>/imm32            0x11/imm32/alloc-id   <a href='mu.subx.html#L19899'>_string_0f_83_jump_label</a>/imm32
<span id="L15182" class="LineNr">15182 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19782'>_string-loop-if-addr&lt;</a>/imm32             0x11/imm32/alloc-id   <a href='mu.subx.html#L19899'>_string_0f_83_jump_label</a>/imm32
<span id="L15183" class="LineNr">15183 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19702'>_string-break-if-addr&gt;</a>/imm32            0x11/imm32/alloc-id   <a href='mu.subx.html#L19944'>_string_0f_86_jump_label</a>/imm32
<span id="L15184" class="LineNr">15184 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19792'>_string-loop-if-addr&gt;</a>/imm32             0x11/imm32/alloc-id   <a href='mu.subx.html#L19944'>_string_0f_86_jump_label</a>/imm32
<span id="L15185" class="LineNr">15185 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19697'>_string-break-if-addr&lt;=</a>/imm32           0x11/imm32/alloc-id   <a href='mu.subx.html#L19959'>_string_0f_87_jump_label</a>/imm32
<span id="L15186" class="LineNr">15186 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19787'>_string-loop-if-addr&lt;=</a>/imm32            0x11/imm32/alloc-id   <a href='mu.subx.html#L19959'>_string_0f_87_jump_label</a>/imm32
<span id="L15187" class="LineNr">15187 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19707'>_string-break-if-addr&gt;=</a>/imm32           0x11/imm32/alloc-id   <a href='mu.subx.html#L19884'>_string_0f_82_jump_label</a>/imm32
<span id="L15188" class="LineNr">15188 </span>  0x11/imm32/alloc-id   <a href='mu.subx.html#L19797'>_string-loop-if-addr&gt;=</a>/imm32            0x11/imm32/alloc-id   <a href='mu.subx.html#L19884'>_string_0f_82_jump_label</a>/imm32
<span id="L15189" class="LineNr">15189 </span>
<span id="L15190" class="LineNr">15190 </span>== code
<span id="L15191" class="LineNr">15191 </span>
<span id="L15192" class="LineNr">15192 </span><span class="subxFunction">emit-unconditional-jump-to-depth</span>:  <span class="subxComment"># out: (addr buffered-file), vars: (addr stack live-var), depth: int, label-suffix: (addr array byte)</span>
<span id="L15193" class="LineNr">15193 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15194" class="LineNr">15194 </span>    55/push-ebp
<span id="L15195" class="LineNr">15195 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15196" class="LineNr">15196 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15197" class="LineNr">15197 </span>    50/push-eax
<span id="L15198" class="LineNr">15198 </span>    51/push-ecx
<span id="L15199" class="LineNr">15199 </span>    52/push-edx
<span id="L15200" class="LineNr">15200 </span>    53/push-ebx
<span id="L15201" class="LineNr">15201 </span>    56/push-esi
<span id="L15202" class="LineNr">15202 </span>    <span class="subxComment"># ecx = vars</span>
<span id="L15203" class="LineNr">15203 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15204" class="LineNr">15204 </span>    <span class="subxComment"># var eax: int = vars-&gt;top</span>
<span id="L15205" class="LineNr">15205 </span>    8b/-&gt; *ecx 0/r32/eax
<span id="L15206" class="LineNr">15206 </span>    <span class="subxComment"># var curr/esi: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L15207" class="LineNr">15207 </span>    8d/copy-address *(ecx+eax-4) 6/r32/esi  <span class="subxComment"># vars + 8 + vars-&gt;top - 12/Live-var-size</span>
<span id="L15208" class="LineNr">15208 </span>    <span class="subxComment"># var min/ecx: (addr handle var) = vars-&gt;data</span>
<span id="L15209" class="LineNr">15209 </span>    8d/copy-address *(ecx+8) 1/r32/ecx
<span id="L15210" class="LineNr">15210 </span>    <span class="subxComment"># edx = depth</span>
<span id="L15211" class="LineNr">15211 </span>    8b/-&gt; *(ebp+0x10) 2/r32/edx
<span id="L15212" class="LineNr">15212 </span>    {
<span id="L15213" class="LineNr">15213 </span><span class="Constant">$emit-unconditional-jump-to-depth:loop</span>:
<span id="L15214" class="LineNr">15214 </span>      <span class="subxComment"># if (curr &lt; min) break</span>
<span id="L15215" class="LineNr">15215 </span>      39/compare %esi 1/r32/ecx
<span id="L15216" class="LineNr">15216 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L15217" class="LineNr">15217 </span>      <span class="subxComment"># var v/ebx: (addr var) = lookup(*curr)</span>
<span id="L15218" class="LineNr">15218 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15219" class="LineNr">15219 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L15220" class="LineNr">15220 </span>      <span class="subxComment"># if (v-&gt;block-depth &lt; until-block-depth) break</span>
<span id="L15221" class="LineNr">15221 </span>      39/compare *(ebx+0x10) 2/r32/edx  <span class="subxComment"># Var-block-depth</span>
<span id="L15222" class="LineNr">15222 </span>      0f 8c/jump-if-&lt; <span class="Constant">break</span>/disp32
<span id="L15223" class="LineNr">15223 </span>      {
<span id="L15224" class="LineNr">15224 </span><span class="Constant">$emit-unconditional-jump-to-depth:check</span>:
<span id="L15225" class="LineNr">15225 </span>        <span class="subxComment"># if v-&gt;block-depth != until-block-depth, continue</span>
<span id="L15226" class="LineNr">15226 </span>        39/compare *(ebx+0x10) 2/r32/edx  <span class="subxComment"># Var-block-depth</span>
<span id="L15227" class="LineNr">15227 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L15228" class="LineNr">15228 </span><span class="Constant">$emit-unconditional-jump-to-depth:depth-found</span>:
<span id="L15229" class="LineNr">15229 </span>        <span class="subxComment"># if v is not a literal, continue</span>
<span id="L15230" class="LineNr">15230 </span>        (<a href='mu.subx.html#L14286'>size-of</a> %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L15231" class="LineNr">15231 </span>        3d/compare-eax-and 0/imm32
<span id="L15232" class="LineNr">15232 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L15233" class="LineNr">15233 </span><span class="Constant">$emit-unconditional-jump-to-depth:label-found</span>:
<span id="L15234" class="LineNr">15234 </span>        <span class="subxComment"># emit unconditional jump, then return</span>
<span id="L15235" class="LineNr">15235 </span>        (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15236" class="LineNr">15236 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;e9/jump &quot;</span>)
<span id="L15237" class="LineNr">15237 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L15238" class="LineNr">15238 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L15239" class="LineNr">15239 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:&quot;</span>)
<span id="L15240" class="LineNr">15240 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) *(ebp+0x14))
<span id="L15241" class="LineNr">15241 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/disp32\n&quot;</span>)
<span id="L15242" class="LineNr">15242 </span>        eb/jump $emit-unconditional-jump-to-depth:end/disp8
<span id="L15243" class="LineNr">15243 </span>      }
<span id="L15244" class="LineNr">15244 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L15245" class="LineNr">15245 </span>      81 5/subop/subtract %esi 0xc/imm32
<span id="L15246" class="LineNr">15246 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L15247" class="LineNr">15247 </span>    }
<span id="L15248" class="LineNr">15248 </span>    <span class="subxComment"># TODO: error if no label at 'depth' was found</span>
<span id="L15249" class="LineNr">15249 </span><span class="Constant">$emit-unconditional-jump-to-depth:end</span>:
<span id="L15250" class="LineNr">15250 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15251" class="LineNr">15251 </span>    5e/pop-to-esi
<span id="L15252" class="LineNr">15252 </span>    5b/pop-to-ebx
<span id="L15253" class="LineNr">15253 </span>    5a/pop-to-edx
<span id="L15254" class="LineNr">15254 </span>    59/pop-to-ecx
<span id="L15255" class="LineNr">15255 </span>    58/pop-to-eax
<span id="L15256" class="LineNr">15256 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15257" class="LineNr">15257 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15258" class="LineNr">15258 </span>    5d/pop-to-ebp
<span id="L15259" class="LineNr">15259 </span>    c3/return
<span id="L15260" class="LineNr">15260 </span>
<span id="L15261" class="LineNr">15261 </span><span class="subxComment"># emit clean-up code for 'vars' until some block depth</span>
<span id="L15262" class="LineNr">15262 </span><span class="subxComment"># doesn't actually modify 'vars' so we need traverse manually inside the stack</span>
<span id="L15263" class="LineNr">15263 </span><span class="subxFunction">emit-cleanup-code-until-depth</span>:  <span class="subxComment"># out: (addr buffered-file), vars: (addr stack live-var), until-block-depth: int</span>
<span id="L15264" class="LineNr">15264 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15265" class="LineNr">15265 </span>    55/push-ebp
<span id="L15266" class="LineNr">15266 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15267" class="LineNr">15267 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15268" class="LineNr">15268 </span>    50/push-eax
<span id="L15269" class="LineNr">15269 </span>    51/push-ecx
<span id="L15270" class="LineNr">15270 </span>    52/push-edx
<span id="L15271" class="LineNr">15271 </span>    53/push-ebx
<span id="L15272" class="LineNr">15272 </span>    56/push-esi
<span id="L15273" class="LineNr">15273 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;--- cleanup\n&quot;)</span>
<span id="L15274" class="LineNr">15274 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L15275" class="LineNr">15275 </span>    <span class="subxComment"># ecx = vars</span>
<span id="L15276" class="LineNr">15276 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15277" class="LineNr">15277 </span>    <span class="subxComment"># var esi: int = vars-&gt;top</span>
<span id="L15278" class="LineNr">15278 </span>    8b/-&gt; *ecx 6/r32/esi
<span id="L15279" class="LineNr">15279 </span>    <span class="subxComment"># var curr/esi: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L15280" class="LineNr">15280 </span>    8d/copy-address *(ecx+esi-4) 6/r32/esi  <span class="subxComment"># vars + 8 + vars-&gt;top - 12/Live-var-size</span>
<span id="L15281" class="LineNr">15281 </span>    <span class="subxComment"># var min/ecx: (addr handle var) = vars-&gt;data</span>
<span id="L15282" class="LineNr">15282 </span>    81 0/subop/add %ecx 8/imm32
<span id="L15283" class="LineNr">15283 </span>    <span class="subxComment"># edx = until-block-depth</span>
<span id="L15284" class="LineNr">15284 </span>    8b/-&gt; *(ebp+0x10) 2/r32/edx
<span id="L15285" class="LineNr">15285 </span>    {
<span id="L15286" class="LineNr">15286 </span><span class="Constant">$emit-cleanup-code-until-depth:loop</span>:
<span id="L15287" class="LineNr">15287 </span>      <span class="subxComment"># if (curr &lt; min) break</span>
<span id="L15288" class="LineNr">15288 </span>      39/compare %esi 1/r32/ecx
<span id="L15289" class="LineNr">15289 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L15290" class="LineNr">15290 </span>      <span class="subxComment"># var v/ebx: (addr var) = lookup(*curr)</span>
<span id="L15291" class="LineNr">15291 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15292" class="LineNr">15292 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L15293" class="LineNr">15293 </span><span class="CommentedCode">#?       (lookup *ebx *(ebx+4))  # Var-name</span>
<span id="L15294" class="LineNr">15294 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;var &quot;)</span>
<span id="L15295" class="LineNr">15295 </span><span class="CommentedCode">#?       (write-buffered Stderr %eax)</span>
<span id="L15296" class="LineNr">15296 </span><span class="CommentedCode">#?       (write-buffered Stderr Newline)</span>
<span id="L15297" class="LineNr">15297 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L15298" class="LineNr">15298 </span>      <span class="subxComment"># if (v-&gt;block-depth &lt; until-block-depth) break</span>
<span id="L15299" class="LineNr">15299 </span>      39/compare *(ebx+0x10) 2/r32/edx  <span class="subxComment"># Var-block-depth</span>
<span id="L15300" class="LineNr">15300 </span>      0f 8c/jump-if-&lt; <span class="Constant">break</span>/disp32
<span id="L15301" class="LineNr">15301 </span>      <span class="subxComment"># if v is in a register</span>
<span id="L15302" class="LineNr">15302 </span>      81 7/subop/compare *(ebx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L15303" class="LineNr">15303 </span>      {
<span id="L15304" class="LineNr">15304 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L15305" class="LineNr">15305 </span>        {
<span id="L15306" class="LineNr">15306 </span><span class="Constant">$emit-cleanup-code-until-depth:check-for-previous-spill</span>:
<span id="L15307" class="LineNr">15307 </span>          8b/-&gt; *(esi+8) 0/r32/eax  <span class="subxComment"># Live-var-register-spilled</span>
<span id="L15308" class="LineNr">15308 </span>          3d/compare-eax-and 0/imm32/false
<span id="L15309" class="LineNr">15309 </span>          74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15310" class="LineNr">15310 </span><span class="Constant">$emit-cleanup-code-until-depth:reclaim-var-in-register</span>:
<span id="L15311" class="LineNr">15311 </span>          (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15312" class="LineNr">15312 </span>          (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;8f 0/subop/pop %&quot;</span>)
<span id="L15313" class="LineNr">15313 </span>          (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15314" class="LineNr">15314 </span>          (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L15315" class="LineNr">15315 </span>          (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L15316" class="LineNr">15316 </span>        }
<span id="L15317" class="LineNr">15317 </span>        eb/jump $emit-cleanup-code-until-depth:continue/disp8
<span id="L15318" class="LineNr">15318 </span>      }
<span id="L15319" class="LineNr">15319 </span>      <span class="subxComment"># otherwise v is on the stack</span>
<span id="L15320" class="LineNr">15320 </span>      {
<span id="L15321" class="LineNr">15321 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15322" class="LineNr">15322 </span><span class="Constant">$emit-cleanup-code-until-depth:var-on-stack</span>:
<span id="L15323" class="LineNr">15323 </span>        (<a href='mu.subx.html#L14286'>size-of</a> %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L15324" class="LineNr">15324 </span>        <span class="subxComment"># don't emit code for labels</span>
<span id="L15325" class="LineNr">15325 </span>        3d/compare-eax-and 0/imm32
<span id="L15326" class="LineNr">15326 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15327" class="LineNr">15327 </span><span class="Constant">$emit-cleanup-code-until-depth:reclaim-var-on-stack</span>:
<span id="L15328" class="LineNr">15328 </span>        (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15329" class="LineNr">15329 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;81 0/subop/add %esp &quot;</span>)
<span id="L15330" class="LineNr">15330 </span>        (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L15331" class="LineNr">15331 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm32\n&quot;</span>)
<span id="L15332" class="LineNr">15332 </span>      }
<span id="L15333" class="LineNr">15333 </span><span class="Constant">$emit-cleanup-code-until-depth:continue</span>:
<span id="L15334" class="LineNr">15334 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L15335" class="LineNr">15335 </span>      81 5/subop/subtract %esi 0xc/imm32
<span id="L15336" class="LineNr">15336 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L15337" class="LineNr">15337 </span>    }
<span id="L15338" class="LineNr">15338 </span><span class="Constant">$emit-cleanup-code-until-depth:end</span>:
<span id="L15339" class="LineNr">15339 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15340" class="LineNr">15340 </span>    5e/pop-to-esi
<span id="L15341" class="LineNr">15341 </span>    5b/pop-to-ebx
<span id="L15342" class="LineNr">15342 </span>    5a/pop-to-edx
<span id="L15343" class="LineNr">15343 </span>    59/pop-to-ecx
<span id="L15344" class="LineNr">15344 </span>    58/pop-to-eax
<span id="L15345" class="LineNr">15345 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15346" class="LineNr">15346 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15347" class="LineNr">15347 </span>    5d/pop-to-ebp
<span id="L15348" class="LineNr">15348 </span>    c3/return
<span id="L15349" class="LineNr">15349 </span>
<span id="L15350" class="LineNr">15350 </span><span class="subxComment"># emit clean-up code for 'vars' until a given label is encountered</span>
<span id="L15351" class="LineNr">15351 </span><span class="subxComment"># doesn't actually modify 'vars' so we need traverse manually inside the stack</span>
<span id="L15352" class="LineNr">15352 </span><span class="subxFunction">emit-cleanup-code-until-target</span>:  <span class="subxComment"># out: (addr buffered-file), vars: (addr stack live-var), until-block-label: (addr array byte)</span>
<span id="L15353" class="LineNr">15353 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15354" class="LineNr">15354 </span>    55/push-ebp
<span id="L15355" class="LineNr">15355 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15356" class="LineNr">15356 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15357" class="LineNr">15357 </span>    50/push-eax
<span id="L15358" class="LineNr">15358 </span>    51/push-ecx
<span id="L15359" class="LineNr">15359 </span>    52/push-edx
<span id="L15360" class="LineNr">15360 </span>    53/push-ebx
<span id="L15361" class="LineNr">15361 </span>    <span class="subxComment"># ecx = vars</span>
<span id="L15362" class="LineNr">15362 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15363" class="LineNr">15363 </span>    <span class="subxComment"># var eax: int = vars-&gt;top</span>
<span id="L15364" class="LineNr">15364 </span>    8b/-&gt; *ecx 0/r32/eax
<span id="L15365" class="LineNr">15365 </span>    <span class="subxComment"># var curr/edx: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L15366" class="LineNr">15366 </span>    8d/copy-address *(ecx+eax-4) 2/r32/edx  <span class="subxComment"># vars + 8 + vars-&gt;top - 12/Live-var-size</span>
<span id="L15367" class="LineNr">15367 </span>    <span class="subxComment"># var min/ecx: (addr handle var) = vars-&gt;data</span>
<span id="L15368" class="LineNr">15368 </span>    81 0/subop/add %ecx 8/imm32
<span id="L15369" class="LineNr">15369 </span>    {
<span id="L15370" class="LineNr">15370 </span><span class="Constant">$emit-cleanup-code-until-target:loop</span>:
<span id="L15371" class="LineNr">15371 </span>      <span class="subxComment"># if (curr &lt; min) break</span>
<span id="L15372" class="LineNr">15372 </span>      39/compare %edx 1/r32/ecx
<span id="L15373" class="LineNr">15373 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L15374" class="LineNr">15374 </span>      <span class="subxComment"># var v/ebx: (handle var) = lookup(*curr)</span>
<span id="L15375" class="LineNr">15375 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15376" class="LineNr">15376 </span>      89/&lt;- %ebx 0/r32/eax
<span id="L15377" class="LineNr">15377 </span>      <span class="subxComment"># if (v-&gt;name == until-block-label) break</span>
<span id="L15378" class="LineNr">15378 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L15379" class="LineNr">15379 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %eax *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L15380" class="LineNr">15380 </span>      3d/compare-eax-and 0/imm32/false
<span id="L15381" class="LineNr">15381 </span>      0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L15382" class="LineNr">15382 </span>      <span class="subxComment"># if v is in a register</span>
<span id="L15383" class="LineNr">15383 </span>      81 7/subop/compare *(ebx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L15384" class="LineNr">15384 </span>      {
<span id="L15385" class="LineNr">15385 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L15386" class="LineNr">15386 </span>        {
<span id="L15387" class="LineNr">15387 </span><span class="Constant">$emit-cleanup-code-until-target:check-for-previous-spill</span>:
<span id="L15388" class="LineNr">15388 </span>          8b/-&gt; *(edx+8) 0/r32/eax  <span class="subxComment"># Live-var-register-spilled</span>
<span id="L15389" class="LineNr">15389 </span>          3d/compare-eax-and 0/imm32/false
<span id="L15390" class="LineNr">15390 </span>          74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15391" class="LineNr">15391 </span><span class="Constant">$emit-cleanup-code-until-target:reclaim-var-in-register</span>:
<span id="L15392" class="LineNr">15392 </span>          (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15393" class="LineNr">15393 </span>          (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;8f 0/subop/pop %&quot;</span>)
<span id="L15394" class="LineNr">15394 </span>          (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15395" class="LineNr">15395 </span>          (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L15396" class="LineNr">15396 </span>          (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L15397" class="LineNr">15397 </span>        }
<span id="L15398" class="LineNr">15398 </span>        eb/jump $emit-cleanup-code-until-target:continue/disp8
<span id="L15399" class="LineNr">15399 </span>      }
<span id="L15400" class="LineNr">15400 </span>      <span class="subxComment"># otherwise v is on the stack</span>
<span id="L15401" class="LineNr">15401 </span>      {
<span id="L15402" class="LineNr">15402 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15403" class="LineNr">15403 </span><span class="Constant">$emit-cleanup-code-until-target:reclaim-var-on-stack</span>:
<span id="L15404" class="LineNr">15404 </span>        (<a href='mu.subx.html#L14286'>size-of</a> %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L15405" class="LineNr">15405 </span>        <span class="subxComment"># don't emit code for labels</span>
<span id="L15406" class="LineNr">15406 </span>        3d/compare-eax-and 0/imm32
<span id="L15407" class="LineNr">15407 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15408" class="LineNr">15408 </span>        <span class="subxComment">#</span>
<span id="L15409" class="LineNr">15409 </span>        (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15410" class="LineNr">15410 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;81 0/subop/add %esp &quot;</span>)
<span id="L15411" class="LineNr">15411 </span>        (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L15412" class="LineNr">15412 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm32\n&quot;</span>)
<span id="L15413" class="LineNr">15413 </span>      }
<span id="L15414" class="LineNr">15414 </span><span class="Constant">$emit-cleanup-code-until-target:continue</span>:
<span id="L15415" class="LineNr">15415 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L15416" class="LineNr">15416 </span>      81 5/subop/subtract %edx 0xc/imm32
<span id="L15417" class="LineNr">15417 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L15418" class="LineNr">15418 </span>    }
<span id="L15419" class="LineNr">15419 </span><span class="Constant">$emit-cleanup-code-until-target:end</span>:
<span id="L15420" class="LineNr">15420 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15421" class="LineNr">15421 </span>    5b/pop-to-ebx
<span id="L15422" class="LineNr">15422 </span>    5a/pop-to-edx
<span id="L15423" class="LineNr">15423 </span>    59/pop-to-ecx
<span id="L15424" class="LineNr">15424 </span>    58/pop-to-eax
<span id="L15425" class="LineNr">15425 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15426" class="LineNr">15426 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15427" class="LineNr">15427 </span>    5d/pop-to-ebp
<span id="L15428" class="LineNr">15428 </span>    c3/return
<span id="L15429" class="LineNr">15429 </span>
<span id="L15430" class="LineNr">15430 </span><span class="subxComment"># Return true if there isn't a variable in 'vars' with the same block-depth</span>
<span id="L15431" class="LineNr">15431 </span><span class="subxComment"># and register as 'v'.</span>
<span id="L15432" class="LineNr">15432 </span><span class="subxComment"># 'v' is guaranteed not to be within 'vars'.</span>
<span id="L15433" class="LineNr">15433 </span><span class="subxFunction">not-yet-spilled-this-block?</span>:  <span class="subxComment"># v: (addr var), vars: (addr stack live-var) -&gt; result/eax: boolean</span>
<span id="L15434" class="LineNr">15434 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15435" class="LineNr">15435 </span>    55/push-ebp
<span id="L15436" class="LineNr">15436 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15437" class="LineNr">15437 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15438" class="LineNr">15438 </span>    51/push-ecx
<span id="L15439" class="LineNr">15439 </span>    52/push-edx
<span id="L15440" class="LineNr">15440 </span>    53/push-ebx
<span id="L15441" class="LineNr">15441 </span>    56/push-esi
<span id="L15442" class="LineNr">15442 </span>    57/push-edi
<span id="L15443" class="LineNr">15443 </span>    <span class="subxComment"># ecx = vars</span>
<span id="L15444" class="LineNr">15444 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15445" class="LineNr">15445 </span>    <span class="subxComment"># var eax: int = vars-&gt;top</span>
<span id="L15446" class="LineNr">15446 </span>    8b/-&gt; *ecx 0/r32/eax
<span id="L15447" class="LineNr">15447 </span>    <span class="subxComment"># var curr/edx: (addr handle var) = &amp;vars-&gt;data[vars-&gt;top - 12]</span>
<span id="L15448" class="LineNr">15448 </span>    8d/copy-address *(ecx+eax-4) 2/r32/edx  <span class="subxComment"># vars + 8 + vars-&gt;top - 12/Live-var-size</span>
<span id="L15449" class="LineNr">15449 </span>    <span class="subxComment"># var min/ecx: (addr handle var) = vars-&gt;data</span>
<span id="L15450" class="LineNr">15450 </span>    8d/copy-address *(ecx+8) 1/r32/ecx
<span id="L15451" class="LineNr">15451 </span>    <span class="subxComment"># var depth/ebx: int = v-&gt;block-depth</span>
<span id="L15452" class="LineNr">15452 </span>    8b/-&gt; *(ebp+8) 3/r32/ebx
<span id="L15453" class="LineNr">15453 </span>    8b/-&gt; *(ebx+0x10) 3/r32/ebx  <span class="subxComment"># Var-block-depth</span>
<span id="L15454" class="LineNr">15454 </span>    <span class="subxComment"># var needle/esi: (addr array byte) = v-&gt;register</span>
<span id="L15455" class="LineNr">15455 </span>    8b/-&gt; *(ebp+8) 6/r32/esi
<span id="L15456" class="LineNr">15456 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x18) *(esi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15457" class="LineNr">15457 </span>    89/&lt;- %esi 0/r32/eax
<span id="L15458" class="LineNr">15458 </span>    {
<span id="L15459" class="LineNr">15459 </span><span class="Constant">$not-yet-spilled-this-block?:loop</span>:
<span id="L15460" class="LineNr">15460 </span>      <span class="subxComment"># if (curr &lt; min) break</span>
<span id="L15461" class="LineNr">15461 </span>      39/compare %edx 1/r32/ecx
<span id="L15462" class="LineNr">15462 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L15463" class="LineNr">15463 </span>      <span class="subxComment"># var cand/edi: (addr var) = lookup(*curr)</span>
<span id="L15464" class="LineNr">15464 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15465" class="LineNr">15465 </span>      89/&lt;- %edi 0/r32/eax
<span id="L15466" class="LineNr">15466 </span>      <span class="subxComment"># if (cand-&gt;block-depth &lt; depth) break</span>
<span id="L15467" class="LineNr">15467 </span>      39/compare *(edi+0x10) 3/r32/ebx  <span class="subxComment"># Var-block-depth</span>
<span id="L15468" class="LineNr">15468 </span>      0f 8c/jump-if-&lt; <span class="Constant">break</span>/disp32
<span id="L15469" class="LineNr">15469 </span>      <span class="subxComment"># var cand-reg/edi: (array array byte) = cand-&gt;reg</span>
<span id="L15470" class="LineNr">15470 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0x18) *(edi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15471" class="LineNr">15471 </span>      89/&lt;- %edi 0/r32/eax
<span id="L15472" class="LineNr">15472 </span>      <span class="subxComment"># if (cand-reg == null) continue</span>
<span id="L15473" class="LineNr">15473 </span>      {
<span id="L15474" class="LineNr">15474 </span><span class="Constant">$not-yet-spilled-this-block?:check-reg</span>:
<span id="L15475" class="LineNr">15475 </span>        81 7/subop/compare %edi 0/imm32
<span id="L15476" class="LineNr">15476 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L15477" class="LineNr">15477 </span>        <span class="subxComment"># if (cand-reg == needle) return true</span>
<span id="L15478" class="LineNr">15478 </span>        (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi %edi)  <span class="subxComment"># =&gt; eax</span>
<span id="L15479" class="LineNr">15479 </span>        3d/compare-eax-and 0/imm32/false
<span id="L15480" class="LineNr">15480 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15481" class="LineNr">15481 </span><span class="Constant">$not-yet-spilled-this-block?:return-false</span>:
<span id="L15482" class="LineNr">15482 </span>        b8/copy-to-eax 0/imm32/false
<span id="L15483" class="LineNr">15483 </span>        eb/jump $not-yet-spilled-this-block?:end/disp8
<span id="L15484" class="LineNr">15484 </span>      }
<span id="L15485" class="LineNr">15485 </span><span class="Constant">$not-yet-spilled-this-block?:continue</span>:
<span id="L15486" class="LineNr">15486 </span>      <span class="subxComment"># curr -= 12</span>
<span id="L15487" class="LineNr">15487 </span>      81 5/subop/subtract %edx 0xc/imm32
<span id="L15488" class="LineNr">15488 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L15489" class="LineNr">15489 </span>    }
<span id="L15490" class="LineNr">15490 </span><span class="Constant">$not-yet-spilled-this-block?:return-true</span>:
<span id="L15491" class="LineNr">15491 </span>    <span class="subxComment"># return true</span>
<span id="L15492" class="LineNr">15492 </span>    b8/copy-to-eax 1/imm32/true
<span id="L15493" class="LineNr">15493 </span><span class="Constant">$not-yet-spilled-this-block?:end</span>:
<span id="L15494" class="LineNr">15494 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15495" class="LineNr">15495 </span>    5f/pop-to-edi
<span id="L15496" class="LineNr">15496 </span>    5e/pop-to-esi
<span id="L15497" class="LineNr">15497 </span>    5b/pop-to-ebx
<span id="L15498" class="LineNr">15498 </span>    5a/pop-to-edx
<span id="L15499" class="LineNr">15499 </span>    59/pop-to-ecx
<span id="L15500" class="LineNr">15500 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15501" class="LineNr">15501 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15502" class="LineNr">15502 </span>    5d/pop-to-ebp
<span id="L15503" class="LineNr">15503 </span>    c3/return
<span id="L15504" class="LineNr">15504 </span>
<span id="L15505" class="LineNr">15505 </span><span class="subxComment"># could the register of 'v' ever be written to by one of the vars in fn-outputs?</span>
<span id="L15506" class="LineNr">15506 </span><span class="subxFunction">will-not-write-some-register?</span>:  <span class="subxComment"># v: (addr var), stmts: (addr list stmt), fn: (addr function) -&gt; result/eax: boolean</span>
<span id="L15507" class="LineNr">15507 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15508" class="LineNr">15508 </span>    55/push-ebp
<span id="L15509" class="LineNr">15509 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15510" class="LineNr">15510 </span>    <span class="subxComment"># eax = v</span>
<span id="L15511" class="LineNr">15511 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L15512" class="LineNr">15512 </span>    <span class="subxComment"># var reg/eax: (addr array byte) = lookup(v-&gt;register)</span>
<span id="L15513" class="LineNr">15513 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15514" class="LineNr">15514 </span>    <span class="subxComment"># var target/eax: (addr var) = find-register(fn-outputs, reg)</span>
<span id="L15515" class="LineNr">15515 </span>    (<a href='mu.subx.html#L15536'>find-register</a> *(ebp+0x10) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15516" class="LineNr">15516 </span>    <span class="subxComment"># if (target == 0) return true</span>
<span id="L15517" class="LineNr">15517 </span>    {
<span id="L15518" class="LineNr">15518 </span>      3d/compare-eax-and 0/imm32
<span id="L15519" class="LineNr">15519 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15520" class="LineNr">15520 </span>      b8/copy-to-eax 1/imm32/true
<span id="L15521" class="LineNr">15521 </span>      eb/jump $will-not-write-some-register?:end/disp8
<span id="L15522" class="LineNr">15522 </span>    }
<span id="L15523" class="LineNr">15523 </span>    <span class="subxComment"># return !assigns-in-stmts?(stmts, target)</span>
<span id="L15524" class="LineNr">15524 </span>    (<a href='mu.subx.html#L15578'>assigns-in-stmts?</a> *(ebp+0xc) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15525" class="LineNr">15525 </span>    3d/compare-eax-and 0/imm32/false
<span id="L15526" class="LineNr">15526 </span>    <span class="subxComment"># assume: true = 1, so no need to mask with 0x000000ff</span>
<span id="L15527" class="LineNr">15527 </span>    0f 94/set-if-= %al
<span id="L15528" class="LineNr">15528 </span><span class="Constant">$will-not-write-some-register?:end</span>:
<span id="L15529" class="LineNr">15529 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15530" class="LineNr">15530 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15531" class="LineNr">15531 </span>    5d/pop-to-ebp
<span id="L15532" class="LineNr">15532 </span>    c3/return
<span id="L15533" class="LineNr">15533 </span>
<span id="L15534" class="LineNr">15534 </span><span class="subxComment"># return fn output with matching register</span>
<span id="L15535" class="LineNr">15535 </span><span class="subxComment"># always returns false if 'reg' is null</span>
<span id="L15536" class="LineNr">15536 </span><span class="subxFunction">find-register</span>:  <span class="subxComment"># fn: (addr function), reg: (addr array byte) -&gt; result/eax: (addr var)</span>
<span id="L15537" class="LineNr">15537 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15538" class="LineNr">15538 </span>    55/push-ebp
<span id="L15539" class="LineNr">15539 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15540" class="LineNr">15540 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15541" class="LineNr">15541 </span>    51/push-ecx
<span id="L15542" class="LineNr">15542 </span>    <span class="subxComment"># var curr/ecx: (addr list var) = lookup(fn-&gt;outputs)</span>
<span id="L15543" class="LineNr">15543 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15544" class="LineNr">15544 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x10) *(ecx+0x14))  <span class="subxComment"># Function-outputs Function-outputs =&gt; eax</span>
<span id="L15545" class="LineNr">15545 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L15546" class="LineNr">15546 </span>    {
<span id="L15547" class="LineNr">15547 </span><span class="Constant">$find-register:loop</span>:
<span id="L15548" class="LineNr">15548 </span>      <span class="subxComment"># if (curr == 0) break</span>
<span id="L15549" class="LineNr">15549 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L15550" class="LineNr">15550 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15551" class="LineNr">15551 </span>      <span class="subxComment"># eax = curr-&gt;value-&gt;register</span>
<span id="L15552" class="LineNr">15552 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L15553" class="LineNr">15553 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15554" class="LineNr">15554 </span>      <span class="subxComment"># if (eax == reg) return curr-&gt;value</span>
<span id="L15555" class="LineNr">15555 </span><span class="Constant">$find-register:compare</span>:
<span id="L15556" class="LineNr">15556 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> *(ebp+0xc) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15557" class="LineNr">15557 </span>      {
<span id="L15558" class="LineNr">15558 </span>        3d/compare-eax-and 0/imm32/false
<span id="L15559" class="LineNr">15559 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15560" class="LineNr">15560 </span><span class="Constant">$find-register:found</span>:
<span id="L15561" class="LineNr">15561 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L15562" class="LineNr">15562 </span>        eb/jump $find-register:end/disp8
<span id="L15563" class="LineNr">15563 </span>      }
<span id="L15564" class="LineNr">15564 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L15565" class="LineNr">15565 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L15566" class="LineNr">15566 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L15567" class="LineNr">15567 </span>      <span class="subxComment">#</span>
<span id="L15568" class="LineNr">15568 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15569" class="LineNr">15569 </span>    }
<span id="L15570" class="LineNr">15570 </span><span class="Constant">$find-register:end</span>:
<span id="L15571" class="LineNr">15571 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15572" class="LineNr">15572 </span>    59/pop-to-ecx
<span id="L15573" class="LineNr">15573 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15574" class="LineNr">15574 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15575" class="LineNr">15575 </span>    5d/pop-to-ebp
<span id="L15576" class="LineNr">15576 </span>    c3/return
<span id="L15577" class="LineNr">15577 </span>
<span id="L15578" class="LineNr">15578 </span><span class="subxFunction">assigns-in-stmts?</span>:  <span class="subxComment"># stmts: (addr list stmt), v: (addr var) -&gt; result/eax: boolean</span>
<span id="L15579" class="LineNr">15579 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15580" class="LineNr">15580 </span>    55/push-ebp
<span id="L15581" class="LineNr">15581 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15582" class="LineNr">15582 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15583" class="LineNr">15583 </span>    51/push-ecx
<span id="L15584" class="LineNr">15584 </span>    <span class="subxComment"># var curr/ecx: (addr list stmt) = stmts</span>
<span id="L15585" class="LineNr">15585 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15586" class="LineNr">15586 </span>    {
<span id="L15587" class="LineNr">15587 </span>      <span class="subxComment"># if (curr == 0) break</span>
<span id="L15588" class="LineNr">15588 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L15589" class="LineNr">15589 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15590" class="LineNr">15590 </span>      <span class="subxComment"># if assigns-in-stmt?(curr-&gt;value, v) return true</span>
<span id="L15591" class="LineNr">15591 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L15592" class="LineNr">15592 </span>      (<a href='mu.subx.html#L15609'>assigns-in-stmt?</a> %eax *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L15593" class="LineNr">15593 </span>      3d/compare-eax-and 0/imm32/false
<span id="L15594" class="LineNr">15594 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15595" class="LineNr">15595 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L15596" class="LineNr">15596 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L15597" class="LineNr">15597 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L15598" class="LineNr">15598 </span>      <span class="subxComment">#</span>
<span id="L15599" class="LineNr">15599 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15600" class="LineNr">15600 </span>    }
<span id="L15601" class="LineNr">15601 </span><span class="Constant">$assigns-in-stmts?:end</span>:
<span id="L15602" class="LineNr">15602 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15603" class="LineNr">15603 </span>    59/pop-to-ecx
<span id="L15604" class="LineNr">15604 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15605" class="LineNr">15605 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15606" class="LineNr">15606 </span>    5d/pop-to-ebp
<span id="L15607" class="LineNr">15607 </span>    c3/return
<span id="L15608" class="LineNr">15608 </span>
<span id="L15609" class="LineNr">15609 </span><span class="subxFunction">assigns-in-stmt?</span>:  <span class="subxComment"># stmt: (addr stmt), v: (addr var) -&gt; result/eax: boolean</span>
<span id="L15610" class="LineNr">15610 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15611" class="LineNr">15611 </span>    55/push-ebp
<span id="L15612" class="LineNr">15612 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15613" class="LineNr">15613 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15614" class="LineNr">15614 </span>    51/push-ecx
<span id="L15615" class="LineNr">15615 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L15616" class="LineNr">15616 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15617" class="LineNr">15617 </span>    <span class="subxComment"># if stmt is a stmt1, return assigns-in-stmt-vars?(stmt-&gt;outputs, v)</span>
<span id="L15618" class="LineNr">15618 </span>    {
<span id="L15619" class="LineNr">15619 </span>      81 7/subop/compare *ecx 1/imm32/stmt1  <span class="subxComment"># Stmt-tag</span>
<span id="L15620" class="LineNr">15620 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15621" class="LineNr">15621 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L15622" class="LineNr">15622 </span>      (<a href='mu.subx.html#L15643'>assigns-in-stmt-vars?</a> %eax *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L15623" class="LineNr">15623 </span>      eb/jump $assigns-in-stmt?:end/disp8
<span id="L15624" class="LineNr">15624 </span>    }
<span id="L15625" class="LineNr">15625 </span>    <span class="subxComment"># if stmt is a block, return assigns-in-stmts?(stmt-&gt;stmts, v)</span>
<span id="L15626" class="LineNr">15626 </span>    {
<span id="L15627" class="LineNr">15627 </span>      81 7/subop/compare *ecx 0/imm32/block  <span class="subxComment"># Stmt-tag</span>
<span id="L15628" class="LineNr">15628 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15629" class="LineNr">15629 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Block-stmts Block-stmts =&gt; eax</span>
<span id="L15630" class="LineNr">15630 </span>      (<a href='mu.subx.html#L15578'>assigns-in-stmts?</a> %eax *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L15631" class="LineNr">15631 </span>      eb/jump $assigns-in-stmt?:end/disp8
<span id="L15632" class="LineNr">15632 </span>    }
<span id="L15633" class="LineNr">15633 </span>    <span class="subxComment"># otherwise return false</span>
<span id="L15634" class="LineNr">15634 </span>    b8/copy 0/imm32/false
<span id="L15635" class="LineNr">15635 </span><span class="Constant">$assigns-in-stmt?:end</span>:
<span id="L15636" class="LineNr">15636 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15637" class="LineNr">15637 </span>    59/pop-to-ecx
<span id="L15638" class="LineNr">15638 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15639" class="LineNr">15639 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15640" class="LineNr">15640 </span>    5d/pop-to-ebp
<span id="L15641" class="LineNr">15641 </span>    c3/return
<span id="L15642" class="LineNr">15642 </span>
<span id="L15643" class="LineNr">15643 </span><span class="subxFunction">assigns-in-stmt-vars?</span>:  <span class="subxComment"># stmt-var: (addr stmt-var), v: (addr var) -&gt; result/eax: boolean</span>
<span id="L15644" class="LineNr">15644 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15645" class="LineNr">15645 </span>    55/push-ebp
<span id="L15646" class="LineNr">15646 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15647" class="LineNr">15647 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15648" class="LineNr">15648 </span>    51/push-ecx
<span id="L15649" class="LineNr">15649 </span>    <span class="subxComment"># var curr/ecx: (addr stmt-var) = stmt-var</span>
<span id="L15650" class="LineNr">15650 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15651" class="LineNr">15651 </span>    {
<span id="L15652" class="LineNr">15652 </span>      <span class="subxComment"># if (curr == 0) break</span>
<span id="L15653" class="LineNr">15653 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L15654" class="LineNr">15654 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15655" class="LineNr">15655 </span>      <span class="subxComment"># eax = lookup(curr-&gt;value)</span>
<span id="L15656" class="LineNr">15656 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L15657" class="LineNr">15657 </span>      <span class="subxComment"># if (eax == v  &amp;&amp;  curr-&gt;is-deref? == false) return true</span>
<span id="L15658" class="LineNr">15658 </span>      {
<span id="L15659" class="LineNr">15659 </span>        39/compare *(ebp+0xc) 0/r32/eax
<span id="L15660" class="LineNr">15660 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15661" class="LineNr">15661 </span>        81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L15662" class="LineNr">15662 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L15663" class="LineNr">15663 </span>        b8/copy-to-eax 1/imm32/true
<span id="L15664" class="LineNr">15664 </span>        eb/jump $assigns-in-stmt-vars?:end/disp8
<span id="L15665" class="LineNr">15665 </span>      }
<span id="L15666" class="LineNr">15666 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L15667" class="LineNr">15667 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L15668" class="LineNr">15668 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L15669" class="LineNr">15669 </span>      <span class="subxComment">#</span>
<span id="L15670" class="LineNr">15670 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15671" class="LineNr">15671 </span>    }
<span id="L15672" class="LineNr">15672 </span><span class="Constant">$assigns-in-stmt-vars?:end</span>:
<span id="L15673" class="LineNr">15673 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15674" class="LineNr">15674 </span>    59/pop-to-ecx
<span id="L15675" class="LineNr">15675 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15676" class="LineNr">15676 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15677" class="LineNr">15677 </span>    5d/pop-to-ebp
<span id="L15678" class="LineNr">15678 </span>    c3/return
<span id="L15679" class="LineNr">15679 </span>
<span id="L15680" class="LineNr">15680 </span><span class="subxComment"># is there a var before 'v' with the same block-depth and register on the 'vars' stack?</span>
<span id="L15681" class="LineNr">15681 </span><span class="subxComment"># v is guaranteed to be within vars</span>
<span id="L15682" class="LineNr">15682 </span><span class="subxComment"># 'start' is provided as an optimization, a pointer within vars</span>
<span id="L15683" class="LineNr">15683 </span><span class="subxComment"># *start == v</span>
<span id="L15684" class="LineNr">15684 </span><span class="subxFunction">same-register-spilled-before?</span>:  <span class="subxComment"># v: (addr var), vars: (addr stack (handle var)), start: (addr var) -&gt; result/eax: boolean</span>
<span id="L15685" class="LineNr">15685 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15686" class="LineNr">15686 </span>    55/push-ebp
<span id="L15687" class="LineNr">15687 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15688" class="LineNr">15688 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15689" class="LineNr">15689 </span>    51/push-ecx
<span id="L15690" class="LineNr">15690 </span>    52/push-edx
<span id="L15691" class="LineNr">15691 </span>    53/push-ebx
<span id="L15692" class="LineNr">15692 </span>    56/push-esi
<span id="L15693" class="LineNr">15693 </span>    57/push-edi
<span id="L15694" class="LineNr">15694 </span>    <span class="subxComment"># ecx = v</span>
<span id="L15695" class="LineNr">15695 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15696" class="LineNr">15696 </span>    <span class="subxComment"># var reg/edx: (addr array byte) = lookup(v-&gt;register)</span>
<span id="L15697" class="LineNr">15697 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15698" class="LineNr">15698 </span>    89/&lt;- %edx 0/r32/eax
<span id="L15699" class="LineNr">15699 </span>    <span class="subxComment"># var depth/ebx: int = v-&gt;block-depth</span>
<span id="L15700" class="LineNr">15700 </span>    8b/-&gt; *(ecx+0x10) 3/r32/ebx  <span class="subxComment"># Var-block-depth</span>
<span id="L15701" class="LineNr">15701 </span>    <span class="subxComment"># var min/ecx: (addr handle var) = vars-&gt;data</span>
<span id="L15702" class="LineNr">15702 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L15703" class="LineNr">15703 </span>    81 0/subop/add %ecx 8/imm32
<span id="L15704" class="LineNr">15704 </span>    <span class="subxComment"># TODO: check that start &gt;= min and start &lt; &amp;vars-&gt;data[top]</span>
<span id="L15705" class="LineNr">15705 </span>    <span class="subxComment"># TODO: check that *start == v</span>
<span id="L15706" class="LineNr">15706 </span>    <span class="subxComment"># var curr/esi: (addr handle var) = start</span>
<span id="L15707" class="LineNr">15707 </span>    8b/-&gt; *(ebp+0x10) 6/r32/esi
<span id="L15708" class="LineNr">15708 </span>    <span class="subxComment"># curr -= 8</span>
<span id="L15709" class="LineNr">15709 </span>    81 5/subop/subtract %esi 8/imm32
<span id="L15710" class="LineNr">15710 </span>    {
<span id="L15711" class="LineNr">15711 </span><span class="Constant">$same-register-spilled-before?:loop</span>:
<span id="L15712" class="LineNr">15712 </span>      <span class="subxComment"># if (curr &lt; min) break</span>
<span id="L15713" class="LineNr">15713 </span>      39/compare %esi 1/r32/ecx
<span id="L15714" class="LineNr">15714 </span>      0f 82/jump-if-addr&lt; <span class="Constant">break</span>/disp32
<span id="L15715" class="LineNr">15715 </span>      <span class="subxComment"># var x/eax: (addr var) = lookup(*curr)</span>
<span id="L15716" class="LineNr">15716 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15717" class="LineNr">15717 </span>      <span class="subxComment"># if (x-&gt;block-depth &lt; depth) break</span>
<span id="L15718" class="LineNr">15718 </span>      39/compare *(eax+0x10) 3/r32/ebx  <span class="subxComment"># Var-block-depth</span>
<span id="L15719" class="LineNr">15719 </span>      0f 8c/jump-if-&lt; <span class="Constant">break</span>/disp32
<span id="L15720" class="LineNr">15720 </span>      <span class="subxComment"># if (x-&gt;register == 0) continue</span>
<span id="L15721" class="LineNr">15721 </span>      81 7/subop/compare *(eax+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L15722" class="LineNr">15722 </span>      74/jump-if-= $same-register-spilled-before?:continue/disp8
<span id="L15723" class="LineNr">15723 </span>      <span class="subxComment"># if (x-&gt;register == reg) return true</span>
<span id="L15724" class="LineNr">15724 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L15725" class="LineNr">15725 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %eax %edx)  <span class="subxComment"># =&gt; eax</span>
<span id="L15726" class="LineNr">15726 </span>      3d/compare-eax-and 0/imm32/false
<span id="L15727" class="LineNr">15727 </span>      b8/copy-to-eax 1/imm32/true
<span id="L15728" class="LineNr">15728 </span>      75/jump-if-!= $same-register-spilled-before?:end/disp8
<span id="L15729" class="LineNr">15729 </span><span class="Constant">$same-register-spilled-before?:continue</span>:
<span id="L15730" class="LineNr">15730 </span>      <span class="subxComment"># curr -= 8</span>
<span id="L15731" class="LineNr">15731 </span>      81 5/subop/subtract %esi 8/imm32
<span id="L15732" class="LineNr">15732 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L15733" class="LineNr">15733 </span>    }
<span id="L15734" class="LineNr">15734 </span><span class="Constant">$same-register-spilled-before?:false</span>:
<span id="L15735" class="LineNr">15735 </span>    b8/copy-to-eax 0/imm32/false
<span id="L15736" class="LineNr">15736 </span><span class="Constant">$same-register-spilled-before?:end</span>:
<span id="L15737" class="LineNr">15737 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15738" class="LineNr">15738 </span>    5f/pop-to-edi
<span id="L15739" class="LineNr">15739 </span>    5e/pop-to-esi
<span id="L15740" class="LineNr">15740 </span>    5b/pop-to-ebx
<span id="L15741" class="LineNr">15741 </span>    5a/pop-to-edx
<span id="L15742" class="LineNr">15742 </span>    59/pop-to-ecx
<span id="L15743" class="LineNr">15743 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15744" class="LineNr">15744 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15745" class="LineNr">15745 </span>    5d/pop-to-ebp
<span id="L15746" class="LineNr">15746 </span>    c3/return
<span id="L15747" class="LineNr">15747 </span>
<span id="L15748" class="LineNr">15748 </span><span class="subxComment"># Clean up global state for 'vars' until some block depth (inclusive).</span>
<span id="L15749" class="LineNr">15749 </span><span class="subxComment">#</span>
<span id="L15750" class="LineNr">15750 </span><span class="subxComment"># This would be a simple series of pops, if it wasn't for fn outputs, which</span>
<span id="L15751" class="LineNr">15751 </span><span class="subxComment"># can occur anywhere in the stack.</span>
<span id="L15752" class="LineNr">15752 </span><span class="subxComment"># So we have to _compact_ the entire array underlying the stack.</span>
<span id="L15753" class="LineNr">15753 </span><span class="subxComment">#</span>
<span id="L15754" class="LineNr">15754 </span><span class="subxComment"># We want to allow a fn output register to be written to by locals before the</span>
<span id="L15755" class="LineNr">15755 </span><span class="subxComment"># output is set.</span>
<span id="L15756" class="LineNr">15756 </span><span class="subxComment"># So fn outputs can't just be pushed at the start of the function.</span>
<span id="L15757" class="LineNr">15757 </span><span class="subxComment">#</span>
<span id="L15758" class="LineNr">15758 </span><span class="subxComment"># We want to allow other locals to shadow a fn output register after the</span>
<span id="L15759" class="LineNr">15759 </span><span class="subxComment"># output is set.</span>
<span id="L15760" class="LineNr">15760 </span><span class="subxComment"># So the output can't just always override anything in the stack. Sequence matters.</span>
<span id="L15761" class="LineNr">15761 </span><span class="subxFunction">clean-up-blocks</span>:  <span class="subxComment"># vars: (addr stack live-var), until-block-depth: int, fn: (addr function)</span>
<span id="L15762" class="LineNr">15762 </span>    <span class="subxComment"># pseudocode:</span>
<span id="L15763" class="LineNr">15763 </span>    <span class="subxComment">#   to = vars-&gt;top  (which points outside the stack)</span>
<span id="L15764" class="LineNr">15764 </span>    <span class="subxComment">#   while true</span>
<span id="L15765" class="LineNr">15765 </span>    <span class="subxComment">#     if to &lt;= 0</span>
<span id="L15766" class="LineNr">15766 </span>    <span class="subxComment">#       break</span>
<span id="L15767" class="LineNr">15767 </span>    <span class="subxComment">#     var v = vars-&gt;data[to-1]</span>
<span id="L15768" class="LineNr">15768 </span>    <span class="subxComment">#     if v.depth &lt; until and !in-function-outputs?(fn, v)</span>
<span id="L15769" class="LineNr">15769 </span>    <span class="subxComment">#       break</span>
<span id="L15770" class="LineNr">15770 </span>    <span class="subxComment">#     --to</span>
<span id="L15771" class="LineNr">15771 </span>    <span class="subxComment">#   from = to</span>
<span id="L15772" class="LineNr">15772 </span>    <span class="subxComment">#   while true</span>
<span id="L15773" class="LineNr">15773 </span>    <span class="subxComment">#     if from &gt;= vars-&gt;top</span>
<span id="L15774" class="LineNr">15774 </span>    <span class="subxComment">#       break</span>
<span id="L15775" class="LineNr">15775 </span>    <span class="subxComment">#     assert(from &gt;= to)</span>
<span id="L15776" class="LineNr">15776 </span>    <span class="subxComment">#     v = vars-&gt;data[from]</span>
<span id="L15777" class="LineNr">15777 </span>    <span class="subxComment">#     if in-function-outputs?(fn, v)</span>
<span id="L15778" class="LineNr">15778 </span>    <span class="subxComment">#       if from &gt; to</span>
<span id="L15779" class="LineNr">15779 </span>    <span class="subxComment">#         vars-&gt;data[to] = vars-&gt;data[from]</span>
<span id="L15780" class="LineNr">15780 </span>    <span class="subxComment">#       ++to</span>
<span id="L15781" class="LineNr">15781 </span>    <span class="subxComment">#     ++from</span>
<span id="L15782" class="LineNr">15782 </span>    <span class="subxComment">#   vars-&gt;top = to</span>
<span id="L15783" class="LineNr">15783 </span>    <span class="subxComment">#</span>
<span id="L15784" class="LineNr">15784 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15785" class="LineNr">15785 </span>    55/push-ebp
<span id="L15786" class="LineNr">15786 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15787" class="LineNr">15787 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15788" class="LineNr">15788 </span>    50/push-eax
<span id="L15789" class="LineNr">15789 </span>    52/push-edx
<span id="L15790" class="LineNr">15790 </span>    53/push-ebx
<span id="L15791" class="LineNr">15791 </span>    56/push-esi
<span id="L15792" class="LineNr">15792 </span>    57/push-edi
<span id="L15793" class="LineNr">15793 </span>    <span class="subxComment"># ebx = vars</span>
<span id="L15794" class="LineNr">15794 </span>    8b/-&gt; *(ebp+8) 3/r32/ebx
<span id="L15795" class="LineNr">15795 </span>    <span class="subxComment"># edx = until-block-depth</span>
<span id="L15796" class="LineNr">15796 </span>    8b/-&gt; *(ebp+0xc) 2/r32/edx
<span id="L15797" class="LineNr">15797 </span><span class="Constant">$clean-up-blocks:phase1</span>:
<span id="L15798" class="LineNr">15798 </span>    <span class="subxComment"># var to/edi: int = vars-&gt;top</span>
<span id="L15799" class="LineNr">15799 </span>    8b/-&gt; *ebx 7/r32/edi
<span id="L15800" class="LineNr">15800 </span>    {
<span id="L15801" class="LineNr">15801 </span><span class="Constant">$clean-up-blocks:loop1</span>:
<span id="L15802" class="LineNr">15802 </span>      <span class="subxComment"># if (to &lt;= 0) break</span>
<span id="L15803" class="LineNr">15803 </span>      81 7/subop/compare %edi 0/imm32
<span id="L15804" class="LineNr">15804 </span>      7e/jump-if-&lt;= <span class="Constant">break</span>/disp8
<span id="L15805" class="LineNr">15805 </span>      <span class="subxComment"># var v/eax: (addr var) = lookup(vars-&gt;data[to-1]-&gt;var)</span>
<span id="L15806" class="LineNr">15806 </span>      8d/copy-address *(ebx+edi-4) 0/r32/eax  <span class="subxComment"># vars + 8 + to - 12</span>
<span id="L15807" class="LineNr">15807 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15808" class="LineNr">15808 </span>      <span class="subxComment"># if (v-&gt;block-depth &gt;= until-block-depth) continue</span>
<span id="L15809" class="LineNr">15809 </span>      39/compare *(eax+0x10) 2/r32/edx  <span class="subxComment"># Var-block-depth</span>
<span id="L15810" class="LineNr">15810 </span>      {
<span id="L15811" class="LineNr">15811 </span>        7d/jump-if-&gt;= <span class="Constant">break</span>/disp8
<span id="L15812" class="LineNr">15812 </span>        <span class="subxComment"># if (!in-function-outputs?(fn, v)) break</span>
<span id="L15813" class="LineNr">15813 </span>        (<a href='mu.subx.html#L15880'>in-function-outputs?</a> *(ebp+0x10) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15814" class="LineNr">15814 </span>        3d/compare-eax-and 0/imm32/false
<span id="L15815" class="LineNr">15815 </span>        74/jump-if-= $clean-up-blocks:phase2/disp8
<span id="L15816" class="LineNr">15816 </span>      }
<span id="L15817" class="LineNr">15817 </span><span class="Constant">$clean-up-blocks:loop1-continue</span>:
<span id="L15818" class="LineNr">15818 </span>      <span class="subxComment"># --to</span>
<span id="L15819" class="LineNr">15819 </span>      81 5/subop/subtract %edi 0xc/imm32
<span id="L15820" class="LineNr">15820 </span>      <span class="subxComment">#</span>
<span id="L15821" class="LineNr">15821 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15822" class="LineNr">15822 </span>    }
<span id="L15823" class="LineNr">15823 </span><span class="Constant">$clean-up-blocks:phase2</span>:
<span id="L15824" class="LineNr">15824 </span>    <span class="subxComment"># var from/esi: int = to</span>
<span id="L15825" class="LineNr">15825 </span>    89/&lt;- %esi 7/r32/edi
<span id="L15826" class="LineNr">15826 </span>    {
<span id="L15827" class="LineNr">15827 </span><span class="Constant">$clean-up-blocks:loop2</span>:
<span id="L15828" class="LineNr">15828 </span>      <span class="subxComment"># if (from &gt;= vars-&gt;top) break</span>
<span id="L15829" class="LineNr">15829 </span>      3b/compare 6/r32/esi *ebx
<span id="L15830" class="LineNr">15830 </span>      7d/jump-if-&gt;= <span class="Constant">break</span>/disp8
<span id="L15831" class="LineNr">15831 </span>      <span class="subxComment"># var v/eax: (addr var) = lookup(vars-&gt;data[from]-&gt;var)</span>
<span id="L15832" class="LineNr">15832 </span>      8d/copy-address *(ebx+esi+8) 0/r32/eax
<span id="L15833" class="LineNr">15833 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># =&gt; eax</span>
<span id="L15834" class="LineNr">15834 </span>      <span class="subxComment"># if !in-function-outputs?(fn, v) continue</span>
<span id="L15835" class="LineNr">15835 </span>      (<a href='mu.subx.html#L15880'>in-function-outputs?</a> *(ebp+0x10) %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15836" class="LineNr">15836 </span>      3d/compare-eax-and 0/imm32/false
<span id="L15837" class="LineNr">15837 </span>      74/jump-if-= $clean-up-blocks:loop2-continue/disp8
<span id="L15838" class="LineNr">15838 </span>      <span class="subxComment"># invariant: from &gt;= to</span>
<span id="L15839" class="LineNr">15839 </span>      <span class="subxComment"># if (from &gt; to) vars-&gt;data[to] = vars-&gt;data[from]</span>
<span id="L15840" class="LineNr">15840 </span>      {
<span id="L15841" class="LineNr">15841 </span>        39/compare %esi 7/r32/edi
<span id="L15842" class="LineNr">15842 </span>        7e/jump-if-&lt;= <span class="Constant">break</span>/disp8
<span id="L15843" class="LineNr">15843 </span>        56/push-esi
<span id="L15844" class="LineNr">15844 </span>        57/push-edi
<span id="L15845" class="LineNr">15845 </span>        <span class="subxS1Comment"># . var from/esi: (addr byte) = &amp;vars-&gt;data[from]</span>
<span id="L15846" class="LineNr">15846 </span>        8d/copy-address *(ebx+esi+8) 6/r32/esi
<span id="L15847" class="LineNr">15847 </span>        <span class="subxS1Comment"># . var to/edi: (addr byte) = &amp;vars-&gt;data[to]</span>
<span id="L15848" class="LineNr">15848 </span>        8d/copy-address *(ebx+edi+8) 7/r32/edi
<span id="L15849" class="LineNr">15849 </span>        <span class="subxS1Comment"># .</span>
<span id="L15850" class="LineNr">15850 </span>        8b/-&gt; *esi 0/r32/eax
<span id="L15851" class="LineNr">15851 </span>        89/&lt;- *edi 0/r32/eax
<span id="L15852" class="LineNr">15852 </span>        8b/-&gt; *(esi+4) 0/r32/eax
<span id="L15853" class="LineNr">15853 </span>        89/&lt;- *(edi+4) 0/r32/eax
<span id="L15854" class="LineNr">15854 </span>        8b/-&gt; *(esi+8) 0/r32/eax
<span id="L15855" class="LineNr">15855 </span>        89/&lt;- *(edi+8) 0/r32/eax
<span id="L15856" class="LineNr">15856 </span>        5f/pop-to-edi
<span id="L15857" class="LineNr">15857 </span>        5e/pop-to-esi
<span id="L15858" class="LineNr">15858 </span>      }
<span id="L15859" class="LineNr">15859 </span>      <span class="subxComment"># ++to</span>
<span id="L15860" class="LineNr">15860 </span>      81 0/subop/add %edi 0xc/imm32
<span id="L15861" class="LineNr">15861 </span><span class="Constant">$clean-up-blocks:loop2-continue</span>:
<span id="L15862" class="LineNr">15862 </span>      <span class="subxComment"># ++from</span>
<span id="L15863" class="LineNr">15863 </span>      81 0/subop/add %esi 0xc/imm32
<span id="L15864" class="LineNr">15864 </span>      <span class="subxComment">#</span>
<span id="L15865" class="LineNr">15865 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15866" class="LineNr">15866 </span>    }
<span id="L15867" class="LineNr">15867 </span>    89/&lt;- *ebx 7/r32/edi
<span id="L15868" class="LineNr">15868 </span><span class="Constant">$clean-up-blocks:end</span>:
<span id="L15869" class="LineNr">15869 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15870" class="LineNr">15870 </span>    5f/pop-to-edi
<span id="L15871" class="LineNr">15871 </span>    5e/pop-to-esi
<span id="L15872" class="LineNr">15872 </span>    5b/pop-to-ebx
<span id="L15873" class="LineNr">15873 </span>    5a/pop-to-edx
<span id="L15874" class="LineNr">15874 </span>    58/pop-to-eax
<span id="L15875" class="LineNr">15875 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15876" class="LineNr">15876 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15877" class="LineNr">15877 </span>    5d/pop-to-ebp
<span id="L15878" class="LineNr">15878 </span>    c3/return
<span id="L15879" class="LineNr">15879 </span>
<span id="L15880" class="LineNr">15880 </span><span class="subxFunction">in-function-outputs?</span>:  <span class="subxComment"># fn: (addr function), target: (addr var) -&gt; result/eax: boolean</span>
<span id="L15881" class="LineNr">15881 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15882" class="LineNr">15882 </span>    55/push-ebp
<span id="L15883" class="LineNr">15883 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15884" class="LineNr">15884 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15885" class="LineNr">15885 </span>    51/push-ecx
<span id="L15886" class="LineNr">15886 </span>    <span class="subxComment"># var curr/ecx: (addr list var) = lookup(fn-&gt;outputs)</span>
<span id="L15887" class="LineNr">15887 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L15888" class="LineNr">15888 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x10) *(ecx+0x14))  <span class="subxComment"># Function-outputs Function-outputs =&gt; eax</span>
<span id="L15889" class="LineNr">15889 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L15890" class="LineNr">15890 </span>    <span class="subxComment"># while curr != null</span>
<span id="L15891" class="LineNr">15891 </span>    {
<span id="L15892" class="LineNr">15892 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L15893" class="LineNr">15893 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L15894" class="LineNr">15894 </span>      <span class="subxComment"># var v/eax: (addr var) = lookup(curr-&gt;value)</span>
<span id="L15895" class="LineNr">15895 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L15896" class="LineNr">15896 </span>      <span class="subxComment"># if (v == target) return true</span>
<span id="L15897" class="LineNr">15897 </span>      39/compare *(ebp+0xc) 0/r32/eax
<span id="L15898" class="LineNr">15898 </span>      b8/copy-to-eax 1/imm32/true
<span id="L15899" class="LineNr">15899 </span>      74/jump-if-= $in-function-outputs?:end/disp8
<span id="L15900" class="LineNr">15900 </span>      <span class="subxComment"># curr = curr-&gt;next</span>
<span id="L15901" class="LineNr">15901 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L15902" class="LineNr">15902 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L15903" class="LineNr">15903 </span>      <span class="subxComment">#</span>
<span id="L15904" class="LineNr">15904 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15905" class="LineNr">15905 </span>    }
<span id="L15906" class="LineNr">15906 </span>    b8/copy-to-eax 0/imm32
<span id="L15907" class="LineNr">15907 </span><span class="Constant">$in-function-outputs?:end</span>:
<span id="L15908" class="LineNr">15908 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15909" class="LineNr">15909 </span>    59/pop-to-ecx
<span id="L15910" class="LineNr">15910 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15911" class="LineNr">15911 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15912" class="LineNr">15912 </span>    5d/pop-to-ebp
<span id="L15913" class="LineNr">15913 </span>    c3/return
<span id="L15914" class="LineNr">15914 </span>
<span id="L15915" class="LineNr">15915 </span><span class="subxFunction">emit-subx-var-def</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt)</span>
<span id="L15916" class="LineNr">15916 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15917" class="LineNr">15917 </span>    55/push-ebp
<span id="L15918" class="LineNr">15918 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15919" class="LineNr">15919 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L15920" class="LineNr">15920 </span>    50/push-eax
<span id="L15921" class="LineNr">15921 </span>    51/push-ecx
<span id="L15922" class="LineNr">15922 </span>    52/push-edx
<span id="L15923" class="LineNr">15923 </span>    <span class="subxComment"># eax = stmt</span>
<span id="L15924" class="LineNr">15924 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L15925" class="LineNr">15925 </span>    <span class="subxComment"># var v/ecx: (addr var)</span>
<span id="L15926" class="LineNr">15926 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Vardef-var Vardef-var =&gt; eax</span>
<span id="L15927" class="LineNr">15927 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L15928" class="LineNr">15928 </span>    <span class="subxComment"># v-&gt;block-depth = *Curr-block-depth</span>
<span id="L15929" class="LineNr">15929 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/r32/eax
<span id="L15930" class="LineNr">15930 </span>    89/&lt;- *(ecx+0x10) 0/r32/eax  <span class="subxComment"># Var-block-depth</span>
<span id="L15931" class="LineNr">15931 </span>    <span class="subxComment"># var n/edx: int = size-of(stmt-&gt;var)</span>
<span id="L15932" class="LineNr">15932 </span>    (<a href='mu.subx.html#L14286'>size-of</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L15933" class="LineNr">15933 </span>    89/&lt;- %edx 0/r32/eax
<span id="L15934" class="LineNr">15934 </span>    <span class="subxComment"># *Curr-local-stack-offset -= n</span>
<span id="L15935" class="LineNr">15935 </span>    29/subtract-from *<span class="SpecialChar"><a href='mu.subx.html#L14682'>Curr-local-stack-offset</a></span> 2/r32/edx
<span id="L15936" class="LineNr">15936 </span>    <span class="subxComment"># v-&gt;offset = *Curr-local-stack-offset</span>
<span id="L15937" class="LineNr">15937 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L14682'>Curr-local-stack-offset</a></span> 0/r32/eax
<span id="L15938" class="LineNr">15938 </span>    89/&lt;- *(ecx+0x14) 0/r32/eax  <span class="subxComment"># Var-offset</span>
<span id="L15939" class="LineNr">15939 </span>    <span class="subxComment"># if v is an array, do something special to initialize it</span>
<span id="L15940" class="LineNr">15940 </span>    {
<span id="L15941" class="LineNr">15941 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L15942" class="LineNr">15942 </span>      (<a href='mu.subx.html#L14383'>is-mu-array?</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15943" class="LineNr">15943 </span>      3d/compare-eax-and 0/imm32/false
<span id="L15944" class="LineNr">15944 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L15945" class="LineNr">15945 </span>      <span class="subxComment"># var array-size-without-size/edx: int = n-4</span>
<span id="L15946" class="LineNr">15946 </span>      81 5/subop/subtract %edx 4/imm32
<span id="L15947" class="LineNr">15947 </span>      <span class="subxComment">#</span>
<span id="L15948" class="LineNr">15948 </span>      (<a href='mu.subx.html#L15990'>emit-array-data-initialization</a> *(ebp+8) %edx)
<span id="L15949" class="LineNr">15949 </span>      e9/jump $emit-subx-var-def:end/disp32
<span id="L15950" class="LineNr">15950 </span>    }
<span id="L15951" class="LineNr">15951 </span>    <span class="subxComment"># another special-case for initializing streams</span>
<span id="L15952" class="LineNr">15952 </span>    <span class="subxComment"># a stream is an array with 2 extra pointers</span>
<span id="L15953" class="LineNr">15953 </span>    {
<span id="L15954" class="LineNr">15954 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L15955" class="LineNr">15955 </span>      (<a href='mu.subx.html#L14448'>is-mu-stream?</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L15956" class="LineNr">15956 </span>      3d/compare-eax-and 0/imm32/false
<span id="L15957" class="LineNr">15957 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L15958" class="LineNr">15958 </span>      <span class="subxComment"># var array-size-without-size/edx: int = n-12</span>
<span id="L15959" class="LineNr">15959 </span>      81 5/subop/subtract %edx 0xc/imm32
<span id="L15960" class="LineNr">15960 </span>      (<a href='mu.subx.html#L15990'>emit-array-data-initialization</a> *(ebp+8) %edx)
<span id="L15961" class="LineNr">15961 </span>      <span class="subxComment"># emit read and write pointers</span>
<span id="L15962" class="LineNr">15962 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15963" class="LineNr">15963 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;68/push 0/imm32\n&quot;</span>)
<span id="L15964" class="LineNr">15964 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15965" class="LineNr">15965 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;68/push 0/imm32\n&quot;</span>)
<span id="L15966" class="LineNr">15966 </span>      <span class="subxComment">#</span>
<span id="L15967" class="LineNr">15967 </span>      eb/jump $emit-subx-var-def:end/disp8
<span id="L15968" class="LineNr">15968 </span>    }
<span id="L15969" class="LineNr">15969 </span>    <span class="subxComment"># while n &gt; 0</span>
<span id="L15970" class="LineNr">15970 </span>    {
<span id="L15971" class="LineNr">15971 </span>      81 7/subop/compare %edx 0/imm32
<span id="L15972" class="LineNr">15972 </span>      7e/jump-if-&lt;= <span class="Constant">break</span>/disp8
<span id="L15973" class="LineNr">15973 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15974" class="LineNr">15974 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;68/push 0/imm32\n&quot;</span>)
<span id="L15975" class="LineNr">15975 </span>      <span class="subxComment"># n -= 4</span>
<span id="L15976" class="LineNr">15976 </span>      81 5/subop/subtract %edx 4/imm32
<span id="L15977" class="LineNr">15977 </span>      <span class="subxComment">#</span>
<span id="L15978" class="LineNr">15978 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L15979" class="LineNr">15979 </span>    }
<span id="L15980" class="LineNr">15980 </span><span class="Constant">$emit-subx-var-def:end</span>:
<span id="L15981" class="LineNr">15981 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L15982" class="LineNr">15982 </span>    5a/pop-to-edx
<span id="L15983" class="LineNr">15983 </span>    59/pop-to-ecx
<span id="L15984" class="LineNr">15984 </span>    58/pop-to-eax
<span id="L15985" class="LineNr">15985 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L15986" class="LineNr">15986 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L15987" class="LineNr">15987 </span>    5d/pop-to-ebp
<span id="L15988" class="LineNr">15988 </span>    c3/return
<span id="L15989" class="LineNr">15989 </span>
<span id="L15990" class="LineNr">15990 </span><span class="subxFunction">emit-array-data-initialization</span>:  <span class="subxComment"># out: (addr buffered-file), n: int</span>
<span id="L15991" class="LineNr">15991 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L15992" class="LineNr">15992 </span>    55/push-ebp
<span id="L15993" class="LineNr">15993 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L15994" class="LineNr">15994 </span>    <span class="subxComment">#</span>
<span id="L15995" class="LineNr">15995 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L15996" class="LineNr">15996 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(<a href='../302stack_allocate.subx.html#L34'>push-n-zero-bytes</a> &quot;</span>)
<span id="L15997" class="LineNr">15997 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *(ebp+0xc))
<span id="L15998" class="LineNr">15998 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L15999" class="LineNr">15999 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16000" class="LineNr">16000 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;68/push &quot;</span>)
<span id="L16001" class="LineNr">16001 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *(ebp+0xc))
<span id="L16002" class="LineNr">16002 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm32\n&quot;</span>)
<span id="L16003" class="LineNr">16003 </span><span class="Constant">$emit-array-data-initialization:end</span>:
<span id="L16004" class="LineNr">16004 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16005" class="LineNr">16005 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16006" class="LineNr">16006 </span>    5d/pop-to-ebp
<span id="L16007" class="LineNr">16007 </span>    c3/return
<span id="L16008" class="LineNr">16008 </span>
<span id="L16009" class="LineNr">16009 </span><span class="subxFunction">emit-subx-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), primitives: (addr primitive), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16010" class="LineNr">16010 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16011" class="LineNr">16011 </span>    55/push-ebp
<span id="L16012" class="LineNr">16012 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16013" class="LineNr">16013 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16014" class="LineNr">16014 </span>    50/push-eax
<span id="L16015" class="LineNr">16015 </span>    51/push-ecx
<span id="L16016" class="LineNr">16016 </span>    <span class="subxH1Comment"># - some special-case primitives that don't actually use the 'primitives' data structure</span>
<span id="L16017" class="LineNr">16017 </span>    <span class="subxComment"># var op/ecx: (addr array byte) = lookup(stmt-&gt;operation)</span>
<span id="L16018" class="LineNr">16018 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L16019" class="LineNr">16019 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L16020" class="LineNr">16020 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L16021" class="LineNr">16021 </span>    <span class="subxComment"># array size</span>
<span id="L16022" class="LineNr">16022 </span>    {
<span id="L16023" class="LineNr">16023 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;length&quot;)) break</span>
<span id="L16024" class="LineNr">16024 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;length&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16025" class="LineNr">16025 </span>      3d/compare-eax-and 0/imm32
<span id="L16026" class="LineNr">16026 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16027" class="LineNr">16027 </span>      (<a href='mu.subx.html#L16135'>translate-mu-length-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16028" class="LineNr">16028 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16029" class="LineNr">16029 </span>    }
<span id="L16030" class="LineNr">16030 </span>    <span class="subxComment"># index into array</span>
<span id="L16031" class="LineNr">16031 </span>    {
<span id="L16032" class="LineNr">16032 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;index&quot;)) break</span>
<span id="L16033" class="LineNr">16033 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;index&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16034" class="LineNr">16034 </span>      3d/compare-eax-and 0/imm32
<span id="L16035" class="LineNr">16035 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16036" class="LineNr">16036 </span>      (<a href='mu.subx.html#L16453'>translate-mu-index-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16037" class="LineNr">16037 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16038" class="LineNr">16038 </span>    }
<span id="L16039" class="LineNr">16039 </span>    <span class="subxComment"># compute-offset for index into array</span>
<span id="L16040" class="LineNr">16040 </span>    {
<span id="L16041" class="LineNr">16041 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;compute-offset&quot;)) break</span>
<span id="L16042" class="LineNr">16042 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;compute-offset&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16043" class="LineNr">16043 </span>      3d/compare-eax-and 0/imm32
<span id="L16044" class="LineNr">16044 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16045" class="LineNr">16045 </span>      (<a href='mu.subx.html#L16736'>translate-mu-compute-index-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16046" class="LineNr">16046 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16047" class="LineNr">16047 </span>    }
<span id="L16048" class="LineNr">16048 </span>    <span class="subxComment"># get field from record</span>
<span id="L16049" class="LineNr">16049 </span>    {
<span id="L16050" class="LineNr">16050 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;get&quot;)) break</span>
<span id="L16051" class="LineNr">16051 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;get&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16052" class="LineNr">16052 </span>      3d/compare-eax-and 0/imm32
<span id="L16053" class="LineNr">16053 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16054" class="LineNr">16054 </span>      (<a href='mu.subx.html#L16784'>translate-mu-get-stmt</a> *(ebp+8) *(ebp+0xc))
<span id="L16055" class="LineNr">16055 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16056" class="LineNr">16056 </span>    }
<span id="L16057" class="LineNr">16057 </span>    <span class="subxComment"># allocate scalar</span>
<span id="L16058" class="LineNr">16058 </span>    {
<span id="L16059" class="LineNr">16059 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;allocate&quot;)) break</span>
<span id="L16060" class="LineNr">16060 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;allocate&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16061" class="LineNr">16061 </span>      3d/compare-eax-and 0/imm32
<span id="L16062" class="LineNr">16062 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16063" class="LineNr">16063 </span>      (<a href='mu.subx.html#L16874'>translate-mu-allocate-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16064" class="LineNr">16064 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16065" class="LineNr">16065 </span>    }
<span id="L16066" class="LineNr">16066 </span>    <span class="subxComment"># copy-object</span>
<span id="L16067" class="LineNr">16067 </span>    {
<span id="L16068" class="LineNr">16068 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;copy-object&quot;)) break</span>
<span id="L16069" class="LineNr">16069 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;copy-object&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16070" class="LineNr">16070 </span>      3d/compare-eax-and 0/imm32
<span id="L16071" class="LineNr">16071 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16072" class="LineNr">16072 </span>      (<a href='mu.subx.html#L16846'>translate-mu-copy-object-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16073" class="LineNr">16073 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16074" class="LineNr">16074 </span>    }
<span id="L16075" class="LineNr">16075 </span>    <span class="subxComment"># allocate array</span>
<span id="L16076" class="LineNr">16076 </span>    {
<span id="L16077" class="LineNr">16077 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;populate&quot;)) break</span>
<span id="L16078" class="LineNr">16078 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;populate&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16079" class="LineNr">16079 </span>      3d/compare-eax-and 0/imm32
<span id="L16080" class="LineNr">16080 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16081" class="LineNr">16081 </span>      (<a href='mu.subx.html#L16970'>translate-mu-populate-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16082" class="LineNr">16082 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16083" class="LineNr">16083 </span>    }
<span id="L16084" class="LineNr">16084 </span>    <span class="subxComment"># allocate stream</span>
<span id="L16085" class="LineNr">16085 </span>    {
<span id="L16086" class="LineNr">16086 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;populate-stream&quot;)) break</span>
<span id="L16087" class="LineNr">16087 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;populate-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16088" class="LineNr">16088 </span>      3d/compare-eax-and 0/imm32
<span id="L16089" class="LineNr">16089 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16090" class="LineNr">16090 </span>      (<a href='mu.subx.html#L17006'>translate-mu-populate-stream-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16091" class="LineNr">16091 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16092" class="LineNr">16092 </span>    }
<span id="L16093" class="LineNr">16093 </span>    <span class="subxComment"># read from stream</span>
<span id="L16094" class="LineNr">16094 </span>    {
<span id="L16095" class="LineNr">16095 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;read-from-stream&quot;)) break</span>
<span id="L16096" class="LineNr">16096 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;read-from-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16097" class="LineNr">16097 </span>      3d/compare-eax-and 0/imm32
<span id="L16098" class="LineNr">16098 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16099" class="LineNr">16099 </span>      (<a href='mu.subx.html#L17042'>translate-mu-read-from-stream-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16100" class="LineNr">16100 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16101" class="LineNr">16101 </span>    }
<span id="L16102" class="LineNr">16102 </span>    <span class="subxComment"># write to stream</span>
<span id="L16103" class="LineNr">16103 </span>    {
<span id="L16104" class="LineNr">16104 </span>      <span class="subxComment"># if (!string-equal?(stmt-&gt;operation, &quot;write-to-stream&quot;)) break</span>
<span id="L16105" class="LineNr">16105 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;write-to-stream&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16106" class="LineNr">16106 </span>      3d/compare-eax-and 0/imm32
<span id="L16107" class="LineNr">16107 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16108" class="LineNr">16108 </span>      (<a href='mu.subx.html#L17079'>translate-mu-write-to-stream-stmt</a> *(ebp+8) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))
<span id="L16109" class="LineNr">16109 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16110" class="LineNr">16110 </span>    }
<span id="L16111" class="LineNr">16111 </span>    <span class="subxH1Comment"># - if stmt matches a primitive, emit it</span>
<span id="L16112" class="LineNr">16112 </span>    {
<span id="L16113" class="LineNr">16113 </span><span class="Constant">$emit-subx-stmt:check-for-primitive</span>:
<span id="L16114" class="LineNr">16114 </span>      <span class="subxComment"># var curr/eax: (addr primitive)</span>
<span id="L16115" class="LineNr">16115 </span>      (<a href='mu.subx.html#L21076'>find-matching-primitive</a> *(ebp+0x10) *(ebp+0xc))  <span class="subxComment"># primitives, stmt =&gt; eax</span>
<span id="L16116" class="LineNr">16116 </span>      3d/compare-eax-and 0/imm32
<span id="L16117" class="LineNr">16117 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16118" class="LineNr">16118 </span><span class="Constant">$emit-subx-stmt:primitive</span>:
<span id="L16119" class="LineNr">16119 </span>      (<a href='mu.subx.html#L20597'>emit-subx-primitive</a> *(ebp+8) *(ebp+0xc) %eax)  <span class="subxComment"># out, stmt, curr</span>
<span id="L16120" class="LineNr">16120 </span>      e9/jump $emit-subx-stmt:end/disp32
<span id="L16121" class="LineNr">16121 </span>    }
<span id="L16122" class="LineNr">16122 </span>    <span class="subxH1Comment"># - otherwise emit a call</span>
<span id="L16123" class="LineNr">16123 </span>    <span class="subxComment"># TODO: type-checking</span>
<span id="L16124" class="LineNr">16124 </span><span class="Constant">$emit-subx-stmt:call</span>:
<span id="L16125" class="LineNr">16125 </span>    (<a href='mu.subx.html#L20827'>emit-call</a> *(ebp+8) *(ebp+0xc))
<span id="L16126" class="LineNr">16126 </span><span class="Constant">$emit-subx-stmt:end</span>:
<span id="L16127" class="LineNr">16127 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16128" class="LineNr">16128 </span>    59/pop-to-ecx
<span id="L16129" class="LineNr">16129 </span>    58/pop-to-eax
<span id="L16130" class="LineNr">16130 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16131" class="LineNr">16131 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16132" class="LineNr">16132 </span>    5d/pop-to-ebp
<span id="L16133" class="LineNr">16133 </span>    c3/return
<span id="L16134" class="LineNr">16134 </span>
<span id="L16135" class="LineNr">16135 </span><span class="subxFunction">translate-mu-length-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16136" class="LineNr">16136 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16137" class="LineNr">16137 </span>    55/push-ebp
<span id="L16138" class="LineNr">16138 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16139" class="LineNr">16139 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16140" class="LineNr">16140 </span>    50/push-eax
<span id="L16141" class="LineNr">16141 </span>    51/push-ecx
<span id="L16142" class="LineNr">16142 </span>    52/push-edx
<span id="L16143" class="LineNr">16143 </span>    53/push-ebx
<span id="L16144" class="LineNr">16144 </span>    56/push-esi
<span id="L16145" class="LineNr">16145 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L16146" class="LineNr">16146 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L16147" class="LineNr">16147 </span>    <span class="subxComment"># var base/ebx: (addr var) = stmt-&gt;inouts[0]-&gt;value</span>
<span id="L16148" class="LineNr">16148 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16149" class="LineNr">16149 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16150" class="LineNr">16150 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L16151" class="LineNr">16151 </span>    <span class="subxComment"># var elemsize/ecx: int = array-element-size(base)</span>
<span id="L16152" class="LineNr">16152 </span>    (<a href='mu.subx.html#L16256'>array-element-size</a> %ebx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16153" class="LineNr">16153 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L16154" class="LineNr">16154 </span>    <span class="subxComment"># var outreg/edx: (addr array byte) = stmt-&gt;outputs[0]-&gt;value-&gt;register</span>
<span id="L16155" class="LineNr">16155 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x14) *(esi+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L16156" class="LineNr">16156 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16157" class="LineNr">16157 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16158" class="LineNr">16158 </span>    89/&lt;- %edx 0/r32/eax
<span id="L16159" class="LineNr">16159 </span>    <span class="subxComment"># if elemsize == 1</span>
<span id="L16160" class="LineNr">16160 </span>    {
<span id="L16161" class="LineNr">16161 </span>      81 7/subop/compare %ecx 1/imm32
<span id="L16162" class="LineNr">16162 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L16163" class="LineNr">16163 </span><span class="Constant">$translate-mu-length-stmt:size-1</span>:
<span id="L16164" class="LineNr">16164 </span>      (<a href='mu.subx.html#L16388'>emit-save-size-to</a> *(ebp+8) %ebx %edx)
<span id="L16165" class="LineNr">16165 </span>      e9/jump $translate-mu-length-stmt:end/disp32
<span id="L16166" class="LineNr">16166 </span>    }
<span id="L16167" class="LineNr">16167 </span>    <span class="subxComment"># if elemsize is a power of 2 less than 256</span>
<span id="L16168" class="LineNr">16168 </span>    {
<span id="L16169" class="LineNr">16169 </span>      (<a href='mu.subx.html#L17205'>power-of-2?</a> %ecx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16170" class="LineNr">16170 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16171" class="LineNr">16171 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16172" class="LineNr">16172 </span>      81 7/subop/compare %ecx 0xff/imm32
<span id="L16173" class="LineNr">16173 </span>      7f/jump-if-&gt; <span class="Constant">break</span>/disp8
<span id="L16174" class="LineNr">16174 </span><span class="Constant">$translate-mu-length-stmt:size-power-of-2</span>:
<span id="L16175" class="LineNr">16175 </span>      (<a href='mu.subx.html#L16388'>emit-save-size-to</a> *(ebp+8) %ebx %edx)
<span id="L16176" class="LineNr">16176 </span>      (<a href='mu.subx.html#L16431'>emit-divide-by-shift-right</a> *(ebp+8) %edx %ecx)
<span id="L16177" class="LineNr">16177 </span>      e9/jump $translate-mu-length-stmt:end/disp32
<span id="L16178" class="LineNr">16178 </span>    }
<span id="L16179" class="LineNr">16179 </span>    <span class="subxComment"># otherwise, the complex case</span>
<span id="L16180" class="LineNr">16180 </span>    <span class="subxS1Comment"># . emit register spills</span>
<span id="L16181" class="LineNr">16181 </span>    {
<span id="L16182" class="LineNr">16182 </span><span class="Constant">$translate-mu-length-stmt:complex</span>:
<span id="L16183" class="LineNr">16183 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;eax&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16184" class="LineNr">16184 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16185" class="LineNr">16185 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16186" class="LineNr">16186 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16187" class="LineNr">16187 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;50/push-eax\n&quot;</span>)
<span id="L16188" class="LineNr">16188 </span>    }
<span id="L16189" class="LineNr">16189 </span>    {
<span id="L16190" class="LineNr">16190 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;ecx&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16191" class="LineNr">16191 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16192" class="LineNr">16192 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16193" class="LineNr">16193 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16194" class="LineNr">16194 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;51/push-ecx\n&quot;</span>)
<span id="L16195" class="LineNr">16195 </span>    }
<span id="L16196" class="LineNr">16196 </span>    {
<span id="L16197" class="LineNr">16197 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;edx&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16198" class="LineNr">16198 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16199" class="LineNr">16199 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16200" class="LineNr">16200 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16201" class="LineNr">16201 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;52/push-edx\n&quot;</span>)
<span id="L16202" class="LineNr">16202 </span>    }
<span id="L16203" class="LineNr">16203 </span>    <span class="subxS1Comment"># .</span>
<span id="L16204" class="LineNr">16204 </span>    (<a href='mu.subx.html#L16388'>emit-save-size-to</a> *(ebp+8) %ebx <span class="Constant">&quot;eax&quot;</span>)
<span id="L16205" class="LineNr">16205 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16206" class="LineNr">16206 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;31/xor %edx 2/r32/edx\n&quot;</span>)
<span id="L16207" class="LineNr">16207 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16208" class="LineNr">16208 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;b9/copy-to-ecx &quot;</span>)
<span id="L16209" class="LineNr">16209 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %ecx)
<span id="L16210" class="LineNr">16210 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm32\n&quot;</span>)
<span id="L16211" class="LineNr">16211 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16212" class="LineNr">16212 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;f7 7/subop/idiv-eax-edx-by %ecx\n&quot;</span>)
<span id="L16213" class="LineNr">16213 </span>    {
<span id="L16214" class="LineNr">16214 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;eax&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16215" class="LineNr">16215 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16216" class="LineNr">16216 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16217" class="LineNr">16217 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16218" class="LineNr">16218 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;89/&lt;- %&quot;</span>)
<span id="L16219" class="LineNr">16219 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %edx)
<span id="L16220" class="LineNr">16220 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; 0/r32/eax\n&quot;</span>)
<span id="L16221" class="LineNr">16221 </span>    }
<span id="L16222" class="LineNr">16222 </span>    <span class="subxS1Comment"># . emit register restores</span>
<span id="L16223" class="LineNr">16223 </span>    {
<span id="L16224" class="LineNr">16224 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;edx&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16225" class="LineNr">16225 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16226" class="LineNr">16226 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16227" class="LineNr">16227 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16228" class="LineNr">16228 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;5a/pop-to-edx\n&quot;</span>)
<span id="L16229" class="LineNr">16229 </span>    }
<span id="L16230" class="LineNr">16230 </span>    {
<span id="L16231" class="LineNr">16231 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;ecx&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16232" class="LineNr">16232 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16233" class="LineNr">16233 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16234" class="LineNr">16234 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16235" class="LineNr">16235 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;59/pop-to-ecx\n&quot;</span>)
<span id="L16236" class="LineNr">16236 </span>    }
<span id="L16237" class="LineNr">16237 </span>    {
<span id="L16238" class="LineNr">16238 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %edx <span class="Constant">&quot;eax&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16239" class="LineNr">16239 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16240" class="LineNr">16240 </span>      75/break-if-!= <span class="Constant">break</span>/disp8
<span id="L16241" class="LineNr">16241 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16242" class="LineNr">16242 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;58/pop-to-eax\n&quot;</span>)
<span id="L16243" class="LineNr">16243 </span>    }
<span id="L16244" class="LineNr">16244 </span><span class="Constant">$translate-mu-length-stmt:end</span>:
<span id="L16245" class="LineNr">16245 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16246" class="LineNr">16246 </span>    5e/pop-to-esi
<span id="L16247" class="LineNr">16247 </span>    5b/pop-to-ebx
<span id="L16248" class="LineNr">16248 </span>    5a/pop-to-edx
<span id="L16249" class="LineNr">16249 </span>    59/pop-to-ecx
<span id="L16250" class="LineNr">16250 </span>    58/pop-to-eax
<span id="L16251" class="LineNr">16251 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16252" class="LineNr">16252 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16253" class="LineNr">16253 </span>    5d/pop-to-ebp
<span id="L16254" class="LineNr">16254 </span>    c3/return
<span id="L16255" class="LineNr">16255 </span>
<span id="L16256" class="LineNr">16256 </span><span class="subxFunction">array-element-size</span>:  <span class="subxComment"># arr: (addr var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L16257" class="LineNr">16257 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16258" class="LineNr">16258 </span>    55/push-ebp
<span id="L16259" class="LineNr">16259 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16260" class="LineNr">16260 </span>    <span class="subxComment">#</span>
<span id="L16261" class="LineNr">16261 </span>    (<a href='mu.subx.html#L16269'>array-element-type-id</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L16262" class="LineNr">16262 </span>    (<a href='mu.subx.html#L16367'>size-of-type-id-as-array-element</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L16263" class="LineNr">16263 </span><span class="Constant">$array-element-size:end</span>:
<span id="L16264" class="LineNr">16264 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16265" class="LineNr">16265 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16266" class="LineNr">16266 </span>    5d/pop-to-ebp
<span id="L16267" class="LineNr">16267 </span>    c3/return
<span id="L16268" class="LineNr">16268 </span>
<span id="L16269" class="LineNr">16269 </span><span class="subxFunction">array-element-type-id</span>:  <span class="subxComment"># v: (addr var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: type-id</span>
<span id="L16270" class="LineNr">16270 </span>    <span class="subxComment"># precondition: n is positive</span>
<span id="L16271" class="LineNr">16271 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16272" class="LineNr">16272 </span>    55/push-ebp
<span id="L16273" class="LineNr">16273 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16274" class="LineNr">16274 </span>    <span class="subxComment">#</span>
<span id="L16275" class="LineNr">16275 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16276" class="LineNr">16276 </span>    <span class="subxComment"># var t/eax: (addr type-tree)</span>
<span id="L16277" class="LineNr">16277 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16278" class="LineNr">16278 </span>    <span class="subxComment"># if t == 0 abort</span>
<span id="L16279" class="LineNr">16279 </span>    3d/compare-eax-with 0/imm32
<span id="L16280" class="LineNr">16280 </span>    0f 84/jump-if-== $array-element-type-id:error0/disp32
<span id="L16281" class="LineNr">16281 </span>    <span class="subxComment"># if t-&gt;is-atom? abort</span>
<span id="L16282" class="LineNr">16282 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L16283" class="LineNr">16283 </span>    0f 85/jump-if-!= $array-element-type-id:error1/disp32
<span id="L16284" class="LineNr">16284 </span>    <span class="subxComment"># if (t-&gt;left == addr) t = t-&gt;right</span>
<span id="L16285" class="LineNr">16285 </span>    {
<span id="L16286" class="LineNr">16286 </span>      50/push-eax
<span id="L16287" class="LineNr">16287 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16288" class="LineNr">16288 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 2)  <span class="subxComment"># addr =&gt; eax</span>
<span id="L16289" class="LineNr">16289 </span>      3d/compare-eax-with 0/imm32/false
<span id="L16290" class="LineNr">16290 </span>      58/pop-to-eax
<span id="L16291" class="LineNr">16291 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16292" class="LineNr">16292 </span><span class="Constant">$array-element-type-id:skip-addr</span>:
<span id="L16293" class="LineNr">16293 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L16294" class="LineNr">16294 </span>    }
<span id="L16295" class="LineNr">16295 </span>    <span class="subxComment"># if t == 0 abort</span>
<span id="L16296" class="LineNr">16296 </span>    3d/compare-eax-with 0/imm32
<span id="L16297" class="LineNr">16297 </span>    0f 84/jump-if-= $array-element-type-id:error2/disp32
<span id="L16298" class="LineNr">16298 </span>    <span class="subxComment"># if t-&gt;is-atom? abort</span>
<span id="L16299" class="LineNr">16299 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L16300" class="LineNr">16300 </span>    0f 85/jump-if-!= $array-element-type-id:error2/disp32
<span id="L16301" class="LineNr">16301 </span>    <span class="subxComment"># if t-&gt;left != array abort</span>
<span id="L16302" class="LineNr">16302 </span>    {
<span id="L16303" class="LineNr">16303 </span>      50/push-eax
<span id="L16304" class="LineNr">16304 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16305" class="LineNr">16305 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 3)  <span class="subxComment"># array =&gt; eax</span>
<span id="L16306" class="LineNr">16306 </span>      3d/compare-eax-with 0/imm32/false
<span id="L16307" class="LineNr">16307 </span>      58/pop-to-eax
<span id="L16308" class="LineNr">16308 </span><span class="Constant">$array-element-type-id:no-array</span>:
<span id="L16309" class="LineNr">16309 </span>      0f 84/jump-if-= $array-element-type-id:error2/disp32
<span id="L16310" class="LineNr">16310 </span>    }
<span id="L16311" class="LineNr">16311 </span><span class="Constant">$array-element-type-id:skip-array</span>:
<span id="L16312" class="LineNr">16312 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L16313" class="LineNr">16313 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L16314" class="LineNr">16314 </span>    <span class="subxComment"># if t == 0 abort</span>
<span id="L16315" class="LineNr">16315 </span>    3d/compare-eax-with 0/imm32
<span id="L16316" class="LineNr">16316 </span>    0f 84/jump-if-= $array-element-type-id:error2/disp32
<span id="L16317" class="LineNr">16317 </span>    <span class="subxComment"># if t-&gt;is-atom? abort</span>
<span id="L16318" class="LineNr">16318 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L16319" class="LineNr">16319 </span>    0f 85/jump-if-!= $array-element-type-id:error2/disp32
<span id="L16320" class="LineNr">16320 </span>    <span class="subxComment"># return t-&gt;left-&gt;value</span>
<span id="L16321" class="LineNr">16321 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16322" class="LineNr">16322 </span>    8b/-&gt; *(eax+4) 0/r32/eax  <span class="subxComment"># Type-tree-value</span>
<span id="L16323" class="LineNr">16323 </span><span class="Constant">$array-element-type-id:end</span>:
<span id="L16324" class="LineNr">16324 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16325" class="LineNr">16325 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16326" class="LineNr">16326 </span>    5d/pop-to-ebp
<span id="L16327" class="LineNr">16327 </span>    c3/return
<span id="L16328" class="LineNr">16328 </span>
<span id="L16329" class="LineNr">16329 </span><span class="Constant">$array-element-type-id:error0</span>:
<span id="L16330" class="LineNr">16330 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;array-element-type-id: var '&quot;</span>)
<span id="L16331" class="LineNr">16331 </span>    50/push-eax
<span id="L16332" class="LineNr">16332 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16333" class="LineNr">16333 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L16334" class="LineNr">16334 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) %eax)
<span id="L16335" class="LineNr">16335 </span>    58/pop-to-eax
<span id="L16336" class="LineNr">16336 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;' has no type\n&quot;</span>)
<span id="L16337" class="LineNr">16337 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L16338" class="LineNr">16338 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L16339" class="LineNr">16339 </span>    <span class="subxComment"># never gets here</span>
<span id="L16340" class="LineNr">16340 </span>
<span id="L16341" class="LineNr">16341 </span><span class="Constant">$array-element-type-id:error1</span>:
<span id="L16342" class="LineNr">16342 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;array-element-type-id: var '&quot;</span>)
<span id="L16343" class="LineNr">16343 </span>    50/push-eax
<span id="L16344" class="LineNr">16344 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16345" class="LineNr">16345 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L16346" class="LineNr">16346 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) %eax)
<span id="L16347" class="LineNr">16347 </span>    58/pop-to-eax
<span id="L16348" class="LineNr">16348 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;' has atomic type &quot;</span>)
<span id="L16349" class="LineNr">16349 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+0xc) *(eax+4))  <span class="subxComment"># Type-tree-value</span>
<span id="L16350" class="LineNr">16350 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L16351" class="LineNr">16351 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L16352" class="LineNr">16352 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L16353" class="LineNr">16353 </span>    <span class="subxComment"># never gets here</span>
<span id="L16354" class="LineNr">16354 </span>
<span id="L16355" class="LineNr">16355 </span><span class="Constant">$array-element-type-id:error2</span>:
<span id="L16356" class="LineNr">16356 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;array-element-type-id: var '&quot;</span>)
<span id="L16357" class="LineNr">16357 </span>    50/push-eax
<span id="L16358" class="LineNr">16358 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16359" class="LineNr">16359 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L16360" class="LineNr">16360 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) %eax)
<span id="L16361" class="LineNr">16361 </span>    58/pop-to-eax
<span id="L16362" class="LineNr">16362 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;' has non-array type\n&quot;</span>)
<span id="L16363" class="LineNr">16363 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L16364" class="LineNr">16364 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L16365" class="LineNr">16365 </span>    <span class="subxComment"># never gets here</span>
<span id="L16366" class="LineNr">16366 </span>
<span id="L16367" class="LineNr">16367 </span><span class="subxFunction">size-of-type-id-as-array-element</span>:  <span class="subxComment"># t: type-id -&gt; result/eax: int</span>
<span id="L16368" class="LineNr">16368 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16369" class="LineNr">16369 </span>    55/push-ebp
<span id="L16370" class="LineNr">16370 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16371" class="LineNr">16371 </span>    <span class="subxComment"># eax = t</span>
<span id="L16372" class="LineNr">16372 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16373" class="LineNr">16373 </span>    <span class="subxComment"># if t is 'byte', size is 1</span>
<span id="L16374" class="LineNr">16374 </span>    3d/compare-eax-and 8/imm32/byte
<span id="L16375" class="LineNr">16375 </span>    {
<span id="L16376" class="LineNr">16376 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L16377" class="LineNr">16377 </span>      b8/copy-to-eax 1/imm32
<span id="L16378" class="LineNr">16378 </span>      eb/jump $size-of-type-id-as-array-element:end/disp8
<span id="L16379" class="LineNr">16379 </span>    }
<span id="L16380" class="LineNr">16380 </span>    <span class="subxComment"># otherwise proceed as usual</span>
<span id="L16381" class="LineNr">16381 </span>    (<a href='mu.subx.html#L14492'>size-of-type-id</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L16382" class="LineNr">16382 </span><span class="Constant">$size-of-type-id-as-array-element:end</span>:
<span id="L16383" class="LineNr">16383 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16384" class="LineNr">16384 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16385" class="LineNr">16385 </span>    5d/pop-to-ebp
<span id="L16386" class="LineNr">16386 </span>    c3/return
<span id="L16387" class="LineNr">16387 </span>
<span id="L16388" class="LineNr">16388 </span><span class="subxFunction">emit-save-size-to</span>:  <span class="subxComment"># out: (addr buffered-file), base: (addr var), outreg: (addr array byte)</span>
<span id="L16389" class="LineNr">16389 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16390" class="LineNr">16390 </span>    55/push-ebp
<span id="L16391" class="LineNr">16391 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16392" class="LineNr">16392 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16393" class="LineNr">16393 </span>    50/push-eax
<span id="L16394" class="LineNr">16394 </span>    53/push-ebx
<span id="L16395" class="LineNr">16395 </span>    <span class="subxComment"># ebx = base</span>
<span id="L16396" class="LineNr">16396 </span>    8b/-&gt; *(ebp+0xc) 3/r32/ebx
<span id="L16397" class="LineNr">16397 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16398" class="LineNr">16398 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;8b/-&gt; *&quot;</span>)
<span id="L16399" class="LineNr">16399 </span>    <span class="subxComment"># if base is an (addr array ...) in a register</span>
<span id="L16400" class="LineNr">16400 </span>    {
<span id="L16401" class="LineNr">16401 </span>      81 7/subop/compare *(ebx+0x18)) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L16402" class="LineNr">16402 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16403" class="LineNr">16403 </span><span class="Constant">$emit-save-size-to:emit-base-from-register</span>:
<span id="L16404" class="LineNr">16404 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16405" class="LineNr">16405 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16406" class="LineNr">16406 </span>      eb/jump $emit-save-size-to:emit-output/disp8
<span id="L16407" class="LineNr">16407 </span>    }
<span id="L16408" class="LineNr">16408 </span>    <span class="subxComment"># otherwise if base is an (array ...) on the stack</span>
<span id="L16409" class="LineNr">16409 </span>    {
<span id="L16410" class="LineNr">16410 </span>      81 7/subop/compare *(ebx+0x14)) 0/imm32  <span class="subxComment"># Var-offset</span>
<span id="L16411" class="LineNr">16411 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16412" class="LineNr">16412 </span><span class="Constant">$emit-save-size-to:emit-base-from-stack</span>:
<span id="L16413" class="LineNr">16413 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(ebp+&quot;</span>)
<span id="L16414" class="LineNr">16414 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *(ebx+0x14))  <span class="subxComment"># Var-offset</span>
<span id="L16415" class="LineNr">16415 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)&quot;</span>)
<span id="L16416" class="LineNr">16416 </span>    }
<span id="L16417" class="LineNr">16417 </span><span class="Constant">$emit-save-size-to:emit-output</span>:
<span id="L16418" class="LineNr">16418 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; &quot;</span>)
<span id="L16419" class="LineNr">16419 </span>    (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> *(ebp+0x10) 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L16420" class="LineNr">16420 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *eax)
<span id="L16421" class="LineNr">16421 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/r32\n&quot;</span>)
<span id="L16422" class="LineNr">16422 </span><span class="Constant">$emit-save-size-to:end</span>:
<span id="L16423" class="LineNr">16423 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16424" class="LineNr">16424 </span>    5b/pop-to-ebx
<span id="L16425" class="LineNr">16425 </span>    58/pop-to-eax
<span id="L16426" class="LineNr">16426 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16427" class="LineNr">16427 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16428" class="LineNr">16428 </span>    5d/pop-to-ebp
<span id="L16429" class="LineNr">16429 </span>    c3/return
<span id="L16430" class="LineNr">16430 </span>
<span id="L16431" class="LineNr">16431 </span><span class="subxFunction">emit-divide-by-shift-right</span>:  <span class="subxComment"># out: (addr buffered-file), reg: (addr array byte), size: int</span>
<span id="L16432" class="LineNr">16432 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16433" class="LineNr">16433 </span>    55/push-ebp
<span id="L16434" class="LineNr">16434 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16435" class="LineNr">16435 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16436" class="LineNr">16436 </span>    50/push-eax
<span id="L16437" class="LineNr">16437 </span>    <span class="subxComment">#</span>
<span id="L16438" class="LineNr">16438 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16439" class="LineNr">16439 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;c1/shift 5/subop/&gt;&gt; %&quot;</span>)
<span id="L16440" class="LineNr">16440 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) *(ebp+0xc))
<span id="L16441" class="LineNr">16441 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L16442" class="LineNr">16442 </span>    (<a href='mu.subx.html#L17235'>num-shift-rights</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L16443" class="LineNr">16443 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16444" class="LineNr">16444 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm8\n&quot;</span>)
<span id="L16445" class="LineNr">16445 </span><span class="Constant">$emit-divide-by-shift-right:end</span>:
<span id="L16446" class="LineNr">16446 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16447" class="LineNr">16447 </span>    58/pop-to-eax
<span id="L16448" class="LineNr">16448 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16449" class="LineNr">16449 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16450" class="LineNr">16450 </span>    5d/pop-to-ebp
<span id="L16451" class="LineNr">16451 </span>    c3/return
<span id="L16452" class="LineNr">16452 </span>
<span id="L16453" class="LineNr">16453 </span><span class="subxFunction">translate-mu-index-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16454" class="LineNr">16454 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16455" class="LineNr">16455 </span>    55/push-ebp
<span id="L16456" class="LineNr">16456 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16457" class="LineNr">16457 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16458" class="LineNr">16458 </span>    51/push-ecx
<span id="L16459" class="LineNr">16459 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L16460" class="LineNr">16460 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L16461" class="LineNr">16461 </span>    <span class="subxComment"># var base/ecx: (addr var) = stmt-&gt;inouts[0]</span>
<span id="L16462" class="LineNr">16462 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16463" class="LineNr">16463 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16464" class="LineNr">16464 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L16465" class="LineNr">16465 </span>    <span class="subxComment"># if (var-&gt;register) do one thing</span>
<span id="L16466" class="LineNr">16466 </span>    {
<span id="L16467" class="LineNr">16467 </span>      81 7/subop/compare *(ecx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L16468" class="LineNr">16468 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16469" class="LineNr">16469 </span>      <span class="subxComment"># TODO: ensure there's no dereference</span>
<span id="L16470" class="LineNr">16470 </span>      (<a href='mu.subx.html#L16501'>translate-mu-index-stmt-with-array-in-register</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L16471" class="LineNr">16471 </span>      eb/jump $translate-mu-index-stmt:end/disp8
<span id="L16472" class="LineNr">16472 </span>    }
<span id="L16473" class="LineNr">16473 </span>    <span class="subxComment"># if (var-&gt;offset) do a different thing</span>
<span id="L16474" class="LineNr">16474 </span>    {
<span id="L16475" class="LineNr">16475 </span>      81 7/subop/compare *(ecx+0x14) 0/imm32  <span class="subxComment"># Var-offset</span>
<span id="L16476" class="LineNr">16476 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L16477" class="LineNr">16477 </span>      <span class="subxComment"># TODO: ensure there's no dereference</span>
<span id="L16478" class="LineNr">16478 </span>      (<a href='mu.subx.html#L16617'>translate-mu-index-stmt-with-array-on-stack</a> *(ebp+8) *(ebp+0xc) *(ebp+0x10) *(ebp+0x14))
<span id="L16479" class="LineNr">16479 </span>      eb/jump $translate-mu-index-stmt:end/disp8
<span id="L16480" class="LineNr">16480 </span>    }
<span id="L16481" class="LineNr">16481 </span><span class="Constant">$translate-mu-index-stmt:end</span>:
<span id="L16482" class="LineNr">16482 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16483" class="LineNr">16483 </span>    59/pop-to-ecx
<span id="L16484" class="LineNr">16484 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16485" class="LineNr">16485 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16486" class="LineNr">16486 </span>    5d/pop-to-ebp
<span id="L16487" class="LineNr">16487 </span>    c3/return
<span id="L16488" class="LineNr">16488 </span>
<span id="L16489" class="LineNr">16489 </span><span class="Constant">$translate-mu-index-stmt-with-array:error1</span>:
<span id="L16490" class="LineNr">16490 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;couldn't translate an index instruction. second (index) input must either lie in a register or be a literal\n&quot;</span>)
<span id="L16491" class="LineNr">16491 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L16492" class="LineNr">16492 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L16493" class="LineNr">16493 </span>    <span class="subxComment"># never gets here</span>
<span id="L16494" class="LineNr">16494 </span>
<span id="L16495" class="LineNr">16495 </span><span class="Constant">$translate-mu-index-stmt-with-array:error2</span>:
<span id="L16496" class="LineNr">16496 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;couldn't translate an index instruction. second (index) input when in a register must be an int or offset\n&quot;</span>)
<span id="L16497" class="LineNr">16497 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L16498" class="LineNr">16498 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L16499" class="LineNr">16499 </span>    <span class="subxComment"># never gets here</span>
<span id="L16500" class="LineNr">16500 </span>
<span id="L16501" class="LineNr">16501 </span><span class="subxFunction">translate-mu-index-stmt-with-array-in-register</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16502" class="LineNr">16502 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16503" class="LineNr">16503 </span>    55/push-ebp
<span id="L16504" class="LineNr">16504 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16505" class="LineNr">16505 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16506" class="LineNr">16506 </span>    50/push-eax
<span id="L16507" class="LineNr">16507 </span>    51/push-ecx
<span id="L16508" class="LineNr">16508 </span>    52/push-edx
<span id="L16509" class="LineNr">16509 </span>    53/push-ebx
<span id="L16510" class="LineNr">16510 </span>    <span class="subxComment">#</span>
<span id="L16511" class="LineNr">16511 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16512" class="LineNr">16512 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;8d/copy-address *(&quot;</span>)
<span id="L16513" class="LineNr">16513 </span>    <span class="subxComment"># TODO: ensure inouts[0] is in a register and not dereferenced</span>
<span id="L16514" class="LineNr">16514 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-base</span>:
<span id="L16515" class="LineNr">16515 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L16516" class="LineNr">16516 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L16517" class="LineNr">16517 </span>    <span class="subxComment"># var base/ebx: (addr var) = inouts[0]</span>
<span id="L16518" class="LineNr">16518 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16519" class="LineNr">16519 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16520" class="LineNr">16520 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L16521" class="LineNr">16521 </span>    <span class="subxComment"># print base-&gt;register &quot; + &quot;</span>
<span id="L16522" class="LineNr">16522 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+0x18) *(ebx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16523" class="LineNr">16523 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16524" class="LineNr">16524 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; + &quot;</span>)
<span id="L16525" class="LineNr">16525 </span>    <span class="subxComment"># var index/edx: (addr var) = inouts[1]</span>
<span id="L16526" class="LineNr">16526 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16527" class="LineNr">16527 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L16528" class="LineNr">16528 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16529" class="LineNr">16529 </span>    89/&lt;- %edx 0/r32/eax
<span id="L16530" class="LineNr">16530 </span>    <span class="subxComment"># if index-&gt;register</span>
<span id="L16531" class="LineNr">16531 </span>    81 7/subop/compare *(edx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L16532" class="LineNr">16532 </span>    {
<span id="L16533" class="LineNr">16533 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16534" class="LineNr">16534 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-register-index</span>:
<span id="L16535" class="LineNr">16535 </span>      <span class="subxComment"># if index is an int</span>
<span id="L16536" class="LineNr">16536 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16537" class="LineNr">16537 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 1)  <span class="subxComment"># int =&gt; eax</span>
<span id="L16538" class="LineNr">16538 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16539" class="LineNr">16539 </span>      {
<span id="L16540" class="LineNr">16540 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16541" class="LineNr">16541 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-int-register-index</span>:
<span id="L16542" class="LineNr">16542 </span>        <span class="subxComment"># print index-&gt;register &quot;&lt;&lt;&quot; log2(array-element-size(base)) &quot; + 4) &quot;</span>
<span id="L16543" class="LineNr">16543 </span>        <span class="subxS1Comment"># . index-&gt;register &quot;&lt;&lt;&quot;</span>
<span id="L16544" class="LineNr">16544 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x18) *(edx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16545" class="LineNr">16545 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16546" class="LineNr">16546 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;&lt;&lt;&quot;</span>)
<span id="L16547" class="LineNr">16547 </span>        <span class="subxS1Comment"># . log2(array-element-size(base-&gt;type))</span>
<span id="L16548" class="LineNr">16548 </span>        <span class="subxComment"># TODO: ensure size is a power of 2</span>
<span id="L16549" class="LineNr">16549 </span>        (<a href='mu.subx.html#L16256'>array-element-size</a> %ebx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16550" class="LineNr">16550 </span>        (<a href='mu.subx.html#L17235'>num-shift-rights</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L16551" class="LineNr">16551 </span>        (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16552" class="LineNr">16552 </span>        e9/jump $translate-mu-index-stmt-with-array-in-register:emit-register-index-done/disp32
<span id="L16553" class="LineNr">16553 </span>      }
<span id="L16554" class="LineNr">16554 </span>      <span class="subxComment"># if index-&gt;type is any other atom, abort</span>
<span id="L16555" class="LineNr">16555 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16556" class="LineNr">16556 </span>      81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L16557" class="LineNr">16557 </span>      0f 85/jump-if-!= $translate-mu-index-stmt-with-array:error2/disp32
<span id="L16558" class="LineNr">16558 </span>      <span class="subxComment"># if index has type (offset ...)</span>
<span id="L16559" class="LineNr">16559 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16560" class="LineNr">16560 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 7)  <span class="subxComment"># =&gt; eax</span>
<span id="L16561" class="LineNr">16561 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16562" class="LineNr">16562 </span>      {
<span id="L16563" class="LineNr">16563 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16564" class="LineNr">16564 </span>        <span class="subxComment"># print index-&gt;register</span>
<span id="L16565" class="LineNr">16565 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-offset-register-index</span>:
<span id="L16566" class="LineNr">16566 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x18) *(edx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16567" class="LineNr">16567 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16568" class="LineNr">16568 </span>      }
<span id="L16569" class="LineNr">16569 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-register-index-done</span>:
<span id="L16570" class="LineNr">16570 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; + 4) &quot;</span>)
<span id="L16571" class="LineNr">16571 </span>      e9/jump $translate-mu-index-stmt-with-array-in-register:emit-output/disp32
<span id="L16572" class="LineNr">16572 </span>    }
<span id="L16573" class="LineNr">16573 </span>    <span class="subxComment"># otherwise if index is a literal</span>
<span id="L16574" class="LineNr">16574 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16575" class="LineNr">16575 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 0)  <span class="subxComment"># =&gt; eax</span>
<span id="L16576" class="LineNr">16576 </span>    3d/compare-eax-and 0/imm32/false
<span id="L16577" class="LineNr">16577 </span>    {
<span id="L16578" class="LineNr">16578 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16579" class="LineNr">16579 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-literal-index</span>:
<span id="L16580" class="LineNr">16580 </span>      <span class="subxComment"># var index-value/edx: int = parse-hex-int(index-&gt;name)</span>
<span id="L16581" class="LineNr">16581 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L16582" class="LineNr">16582 </span>      (<a href='../118parse-hex.subx.html#L354'>parse-hex-int</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L16583" class="LineNr">16583 </span>      89/&lt;- %edx 0/r32/eax
<span id="L16584" class="LineNr">16584 </span>      <span class="subxComment"># offset = idx-value * array-element-size(base-&gt;type)</span>
<span id="L16585" class="LineNr">16585 </span>      (<a href='mu.subx.html#L16256'>array-element-size</a> %ebx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16586" class="LineNr">16586 </span>      f7 4/subop/multiply-into-edx-eax %edx  <span class="subxComment"># clobbers edx</span>
<span id="L16587" class="LineNr">16587 </span>      <span class="subxComment"># offset += 4 for array size</span>
<span id="L16588" class="LineNr">16588 </span>      05/add-to-eax 4/imm32
<span id="L16589" class="LineNr">16589 </span>      <span class="subxComment"># TODO: check edx for overflow</span>
<span id="L16590" class="LineNr">16590 </span>      <span class="subxComment"># print offset</span>
<span id="L16591" class="LineNr">16591 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16592" class="LineNr">16592 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;) &quot;</span>)
<span id="L16593" class="LineNr">16593 </span>      e9/jump $translate-mu-index-stmt-with-array-in-register:emit-output/disp32
<span id="L16594" class="LineNr">16594 </span>    }
<span id="L16595" class="LineNr">16595 </span>    <span class="subxComment"># otherwise abort</span>
<span id="L16596" class="LineNr">16596 </span>    e9/jump $translate-mu-index-stmt-with-array:error1/disp32
<span id="L16597" class="LineNr">16597 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:emit-output</span>:
<span id="L16598" class="LineNr">16598 </span>    <span class="subxComment"># outputs[0] &quot;/r32&quot;</span>
<span id="L16599" class="LineNr">16599 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L16600" class="LineNr">16600 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L16601" class="LineNr">16601 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16602" class="LineNr">16602 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16603" class="LineNr">16603 </span>    (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax: (addr int)</span>
<span id="L16604" class="LineNr">16604 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *eax)
<span id="L16605" class="LineNr">16605 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/r32\n&quot;</span>)
<span id="L16606" class="LineNr">16606 </span><span class="Constant">$translate-mu-index-stmt-with-array-in-register:end</span>:
<span id="L16607" class="LineNr">16607 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16608" class="LineNr">16608 </span>    5b/pop-to-ebx
<span id="L16609" class="LineNr">16609 </span>    5a/pop-to-edx
<span id="L16610" class="LineNr">16610 </span>    59/pop-to-ecx
<span id="L16611" class="LineNr">16611 </span>    58/pop-to-eax
<span id="L16612" class="LineNr">16612 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16613" class="LineNr">16613 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16614" class="LineNr">16614 </span>    5d/pop-to-ebp
<span id="L16615" class="LineNr">16615 </span>    c3/return
<span id="L16616" class="LineNr">16616 </span>
<span id="L16617" class="LineNr">16617 </span><span class="subxFunction">translate-mu-index-stmt-with-array-on-stack</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16618" class="LineNr">16618 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16619" class="LineNr">16619 </span>    55/push-ebp
<span id="L16620" class="LineNr">16620 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16621" class="LineNr">16621 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16622" class="LineNr">16622 </span>    50/push-eax
<span id="L16623" class="LineNr">16623 </span>    51/push-ecx
<span id="L16624" class="LineNr">16624 </span>    52/push-edx
<span id="L16625" class="LineNr">16625 </span>    53/push-ebx
<span id="L16626" class="LineNr">16626 </span>    <span class="subxComment">#</span>
<span id="L16627" class="LineNr">16627 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16628" class="LineNr">16628 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;8d/copy-address *(ebp + &quot;</span>)
<span id="L16629" class="LineNr">16629 </span>    <span class="subxComment"># var curr/edx: (addr stmt-var) = lookup(stmt-&gt;inouts)</span>
<span id="L16630" class="LineNr">16630 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L16631" class="LineNr">16631 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16632" class="LineNr">16632 </span>    89/&lt;- %edx 0/r32/eax
<span id="L16633" class="LineNr">16633 </span>    <span class="subxComment"># var base/ecx: (addr var) = lookup(curr-&gt;value)</span>
<span id="L16634" class="LineNr">16634 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16635" class="LineNr">16635 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L16636" class="LineNr">16636 </span>    <span class="subxComment"># var curr2/eax: (addr stmt-var) = lookup(curr-&gt;next)</span>
<span id="L16637" class="LineNr">16637 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L16638" class="LineNr">16638 </span>    <span class="subxComment"># var index/edx: (handle var) = curr2-&gt;value</span>
<span id="L16639" class="LineNr">16639 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16640" class="LineNr">16640 </span>    89/&lt;- %edx 0/r32/eax
<span id="L16641" class="LineNr">16641 </span>    <span class="subxComment"># if index-&gt;register</span>
<span id="L16642" class="LineNr">16642 </span>    81 7/subop/compare *(edx+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L16643" class="LineNr">16643 </span>    {
<span id="L16644" class="LineNr">16644 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16645" class="LineNr">16645 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:emit-register-index</span>:
<span id="L16646" class="LineNr">16646 </span>      <span class="subxComment"># if index is an int</span>
<span id="L16647" class="LineNr">16647 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16648" class="LineNr">16648 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 1)  <span class="subxComment"># int =&gt; eax</span>
<span id="L16649" class="LineNr">16649 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16650" class="LineNr">16650 </span>      {
<span id="L16651" class="LineNr">16651 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16652" class="LineNr">16652 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:emit-int-register-index</span>:
<span id="L16653" class="LineNr">16653 </span>        <span class="subxComment"># print index-&gt;register &quot;&lt;&lt;&quot; log2(array-element-size(base)) &quot; + &quot; base-&gt;offset+4</span>
<span id="L16654" class="LineNr">16654 </span>        <span class="subxS1Comment"># . inouts[1]-&gt;register &quot;&lt;&lt;&quot;</span>
<span id="L16655" class="LineNr">16655 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x18) *(edx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16656" class="LineNr">16656 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16657" class="LineNr">16657 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;&lt;&lt;&quot;</span>)
<span id="L16658" class="LineNr">16658 </span>        <span class="subxS1Comment"># . log2(array-element-size(base))</span>
<span id="L16659" class="LineNr">16659 </span>        <span class="subxComment"># TODO: ensure size is a power of 2</span>
<span id="L16660" class="LineNr">16660 </span>        (<a href='mu.subx.html#L16256'>array-element-size</a> %ecx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16661" class="LineNr">16661 </span>        (<a href='mu.subx.html#L17235'>num-shift-rights</a> %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L16662" class="LineNr">16662 </span>        (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16663" class="LineNr">16663 </span>        <span class="subxComment">#</span>
<span id="L16664" class="LineNr">16664 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; + &quot;</span>)
<span id="L16665" class="LineNr">16665 </span>        <span class="subxComment">#</span>
<span id="L16666" class="LineNr">16666 </span>        8b/-&gt; *(ecx+0x14) 0/r32/eax  <span class="subxComment"># Var-offset</span>
<span id="L16667" class="LineNr">16667 </span>        05/add-to-eax 4/imm32  <span class="subxComment"># for array length</span>
<span id="L16668" class="LineNr">16668 </span>        (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16669" class="LineNr">16669 </span>        e9/jump $translate-mu-index-stmt-with-array-on-stack:emit-register-index-done/disp32
<span id="L16670" class="LineNr">16670 </span>      }
<span id="L16671" class="LineNr">16671 </span>      <span class="subxComment"># if index-&gt;type is any other atom, abort</span>
<span id="L16672" class="LineNr">16672 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16673" class="LineNr">16673 </span>      81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L16674" class="LineNr">16674 </span>      0f 85/jump-if-!= $translate-mu-index-stmt-with-array:error2/disp32
<span id="L16675" class="LineNr">16675 </span>      <span class="subxComment"># if index has type (offset ...)</span>
<span id="L16676" class="LineNr">16676 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16677" class="LineNr">16677 </span>      (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 7)  <span class="subxComment"># =&gt; eax</span>
<span id="L16678" class="LineNr">16678 </span>      3d/compare-eax-and 0/imm32/false
<span id="L16679" class="LineNr">16679 </span>      {
<span id="L16680" class="LineNr">16680 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16681" class="LineNr">16681 </span>        <span class="subxComment"># print index-&gt;register</span>
<span id="L16682" class="LineNr">16682 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:emit-offset-register-index</span>:
<span id="L16683" class="LineNr">16683 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x18) *(edx+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16684" class="LineNr">16684 </span>        (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16685" class="LineNr">16685 </span>      }
<span id="L16686" class="LineNr">16686 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:emit-register-index-done</span>:
<span id="L16687" class="LineNr">16687 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;) &quot;</span>)
<span id="L16688" class="LineNr">16688 </span>      e9/jump $translate-mu-index-stmt-with-array-on-stack:emit-output/disp32
<span id="L16689" class="LineNr">16689 </span>    }
<span id="L16690" class="LineNr">16690 </span>    <span class="subxComment"># otherwise if index is a literal</span>
<span id="L16691" class="LineNr">16691 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16692" class="LineNr">16692 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> %eax 0)  <span class="subxComment"># =&gt; eax</span>
<span id="L16693" class="LineNr">16693 </span>    3d/compare-eax-and 0/imm32/false
<span id="L16694" class="LineNr">16694 </span>    {
<span id="L16695" class="LineNr">16695 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16696" class="LineNr">16696 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:emit-literal-index</span>:
<span id="L16697" class="LineNr">16697 </span>      <span class="subxComment"># var idx-value/edx: int = parse-hex-int(index-&gt;name)</span>
<span id="L16698" class="LineNr">16698 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L16699" class="LineNr">16699 </span>      (<a href='../118parse-hex.subx.html#L354'>parse-hex-int</a> %eax)  <span class="subxComment"># Var-name =&gt; eax</span>
<span id="L16700" class="LineNr">16700 </span>      89/&lt;- %edx 0/r32/eax
<span id="L16701" class="LineNr">16701 </span>      <span class="subxComment"># offset = idx-value * array-element-size(base)</span>
<span id="L16702" class="LineNr">16702 </span>      (<a href='mu.subx.html#L16256'>array-element-size</a> %ecx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16703" class="LineNr">16703 </span>      f7 4/subop/multiply-into-edx-eax %edx  <span class="subxComment"># clobbers edx</span>
<span id="L16704" class="LineNr">16704 </span>      <span class="subxComment"># offset += base-&gt;offset</span>
<span id="L16705" class="LineNr">16705 </span>      03/add *(ecx+0x14) 0/r32/eax  <span class="subxComment"># Var-offset</span>
<span id="L16706" class="LineNr">16706 </span>      <span class="subxComment"># offset += 4 for array size</span>
<span id="L16707" class="LineNr">16707 </span>      05/add-to-eax 4/imm32
<span id="L16708" class="LineNr">16708 </span>      <span class="subxComment"># TODO: check edx for overflow</span>
<span id="L16709" class="LineNr">16709 </span>      <span class="subxComment"># print offset</span>
<span id="L16710" class="LineNr">16710 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16711" class="LineNr">16711 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;) &quot;</span>)
<span id="L16712" class="LineNr">16712 </span>      e9/jump $translate-mu-index-stmt-with-array-on-stack:emit-output/disp32
<span id="L16713" class="LineNr">16713 </span>    }
<span id="L16714" class="LineNr">16714 </span>    <span class="subxComment"># otherwise abort</span>
<span id="L16715" class="LineNr">16715 </span>    e9/jump $translate-mu-index-stmt-with-array:error1/disp32
<span id="L16716" class="LineNr">16716 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:emit-output</span>:
<span id="L16717" class="LineNr">16717 </span>    <span class="subxComment"># outputs[0] &quot;/r32&quot;</span>
<span id="L16718" class="LineNr">16718 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L16719" class="LineNr">16719 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x14) *(eax+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L16720" class="LineNr">16720 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16721" class="LineNr">16721 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16722" class="LineNr">16722 </span>    (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax: (addr int)</span>
<span id="L16723" class="LineNr">16723 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *eax)
<span id="L16724" class="LineNr">16724 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/r32\n&quot;</span>)
<span id="L16725" class="LineNr">16725 </span><span class="Constant">$translate-mu-index-stmt-with-array-on-stack:end</span>:
<span id="L16726" class="LineNr">16726 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16727" class="LineNr">16727 </span>    5b/pop-to-ebx
<span id="L16728" class="LineNr">16728 </span>    5a/pop-to-edx
<span id="L16729" class="LineNr">16729 </span>    59/pop-to-ecx
<span id="L16730" class="LineNr">16730 </span>    58/pop-to-eax
<span id="L16731" class="LineNr">16731 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16732" class="LineNr">16732 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16733" class="LineNr">16733 </span>    5d/pop-to-ebp
<span id="L16734" class="LineNr">16734 </span>    c3/return
<span id="L16735" class="LineNr">16735 </span>
<span id="L16736" class="LineNr">16736 </span><span class="subxFunction">translate-mu-compute-index-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16737" class="LineNr">16737 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16738" class="LineNr">16738 </span>    55/push-ebp
<span id="L16739" class="LineNr">16739 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16740" class="LineNr">16740 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16741" class="LineNr">16741 </span>    50/push-eax
<span id="L16742" class="LineNr">16742 </span>    51/push-ecx
<span id="L16743" class="LineNr">16743 </span>    52/push-edx
<span id="L16744" class="LineNr">16744 </span>    53/push-ebx
<span id="L16745" class="LineNr">16745 </span>    <span class="subxComment">#</span>
<span id="L16746" class="LineNr">16746 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16747" class="LineNr">16747 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;69/multiply&quot;</span>)
<span id="L16748" class="LineNr">16748 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L16749" class="LineNr">16749 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L16750" class="LineNr">16750 </span>    <span class="subxComment"># var first-inout/ebx: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L16751" class="LineNr">16751 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16752" class="LineNr">16752 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L16753" class="LineNr">16753 </span><span class="Constant">$translate-mu-compute-index-stmt:emit-index</span>:
<span id="L16754" class="LineNr">16754 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ebx+8) *(ebx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L16755" class="LineNr">16755 </span>    (<a href='mu.subx.html#L21017'>emit-subx-var-as-rm32</a> *(ebp+8) %eax)
<span id="L16756" class="LineNr">16756 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L16757" class="LineNr">16757 </span><span class="Constant">$translate-mu-compute-index-stmt:emit-elem-size</span>:
<span id="L16758" class="LineNr">16758 </span>    <span class="subxComment"># var base/ebx: (addr var)</span>
<span id="L16759" class="LineNr">16759 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ebx *(ebx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16760" class="LineNr">16760 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L16761" class="LineNr">16761 </span>    <span class="subxComment"># print array-element-size(base)</span>
<span id="L16762" class="LineNr">16762 </span>    (<a href='mu.subx.html#L16256'>array-element-size</a> %ebx *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16763" class="LineNr">16763 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16764" class="LineNr">16764 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm32 &quot;</span>)
<span id="L16765" class="LineNr">16765 </span><span class="Constant">$translate-mu-compute-index-stmt:emit-output</span>:
<span id="L16766" class="LineNr">16766 </span>    <span class="subxComment"># outputs[0] &quot;/r32&quot;</span>
<span id="L16767" class="LineNr">16767 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L16768" class="LineNr">16768 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16769" class="LineNr">16769 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16770" class="LineNr">16770 </span>    (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax: (addr int)</span>
<span id="L16771" class="LineNr">16771 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *eax)
<span id="L16772" class="LineNr">16772 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/r32\n&quot;</span>)
<span id="L16773" class="LineNr">16773 </span><span class="Constant">$translate-mu-compute-index-stmt:end</span>:
<span id="L16774" class="LineNr">16774 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16775" class="LineNr">16775 </span>    5b/pop-to-ebx
<span id="L16776" class="LineNr">16776 </span>    5a/pop-to-edx
<span id="L16777" class="LineNr">16777 </span>    59/pop-to-ecx
<span id="L16778" class="LineNr">16778 </span>    58/pop-to-eax
<span id="L16779" class="LineNr">16779 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16780" class="LineNr">16780 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16781" class="LineNr">16781 </span>    5d/pop-to-ebp
<span id="L16782" class="LineNr">16782 </span>    c3/return
<span id="L16783" class="LineNr">16783 </span>
<span id="L16784" class="LineNr">16784 </span><span class="subxFunction">translate-mu-get-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt)</span>
<span id="L16785" class="LineNr">16785 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16786" class="LineNr">16786 </span>    55/push-ebp
<span id="L16787" class="LineNr">16787 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16788" class="LineNr">16788 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16789" class="LineNr">16789 </span>    50/push-eax
<span id="L16790" class="LineNr">16790 </span>    51/push-ecx
<span id="L16791" class="LineNr">16791 </span>    52/push-edx
<span id="L16792" class="LineNr">16792 </span>    <span class="subxComment">#</span>
<span id="L16793" class="LineNr">16793 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16794" class="LineNr">16794 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;8d/copy-address &quot;</span>)
<span id="L16795" class="LineNr">16795 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L16796" class="LineNr">16796 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L16797" class="LineNr">16797 </span>    <span class="subxComment"># var offset/edx: int = get offset of stmt</span>
<span id="L16798" class="LineNr">16798 </span>    (<a href='mu.subx.html#L17262'>mu-get-offset</a> %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L16799" class="LineNr">16799 </span>    89/&lt;- %edx 0/r32/eax
<span id="L16800" class="LineNr">16800 </span>    <span class="subxComment"># var base/eax: (addr var) = stmt-&gt;inouts-&gt;value</span>
<span id="L16801" class="LineNr">16801 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16802" class="LineNr">16802 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16803" class="LineNr">16803 </span>    <span class="subxComment"># if base is in a register</span>
<span id="L16804" class="LineNr">16804 </span>    81 7/subop/compare *(eax+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L16805" class="LineNr">16805 </span>    {
<span id="L16806" class="LineNr">16806 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L16807" class="LineNr">16807 </span><span class="Constant">$translate-mu-get-stmt:emit-register-input</span>:
<span id="L16808" class="LineNr">16808 </span>      <span class="subxComment"># emit &quot;*(&quot; base-&gt;register &quot; + &quot; offset &quot;) &quot;</span>
<span id="L16809" class="LineNr">16809 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;*(&quot;</span>)
<span id="L16810" class="LineNr">16810 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16811" class="LineNr">16811 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L16812" class="LineNr">16812 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; + &quot;</span>)
<span id="L16813" class="LineNr">16813 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %edx)
<span id="L16814" class="LineNr">16814 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;) &quot;</span>)
<span id="L16815" class="LineNr">16815 </span>      e9/jump $translate-mu-get-stmt:emit-output/disp32
<span id="L16816" class="LineNr">16816 </span>    }
<span id="L16817" class="LineNr">16817 </span>    <span class="subxComment"># otherwise base is on the stack</span>
<span id="L16818" class="LineNr">16818 </span>    {
<span id="L16819" class="LineNr">16819 </span><span class="Constant">$translate-mu-get-stmt:emit-stack-input</span>:
<span id="L16820" class="LineNr">16820 </span>      <span class="subxComment"># emit &quot;*(ebp + &quot; inouts[0]-&gt;stack-offset + offset &quot;) &quot;</span>
<span id="L16821" class="LineNr">16821 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;*(ebp+&quot;</span>)
<span id="L16822" class="LineNr">16822 </span>      03/add *(eax+0x14) 2/r32/edx  <span class="subxComment"># Var-offset</span>
<span id="L16823" class="LineNr">16823 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %edx)
<span id="L16824" class="LineNr">16824 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;) &quot;</span>)
<span id="L16825" class="LineNr">16825 </span>      eb/jump $translate-mu-get-stmt:emit-output/disp8
<span id="L16826" class="LineNr">16826 </span>    }
<span id="L16827" class="LineNr">16827 </span><span class="Constant">$translate-mu-get-stmt:emit-output</span>:
<span id="L16828" class="LineNr">16828 </span>    <span class="subxComment"># var output/eax: (addr var) = stmt-&gt;outputs-&gt;value</span>
<span id="L16829" class="LineNr">16829 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L16830" class="LineNr">16830 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16831" class="LineNr">16831 </span>    <span class="subxComment"># emit offset-&gt;register &quot;/r32&quot;</span>
<span id="L16832" class="LineNr">16832 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L16833" class="LineNr">16833 </span>    (<a href='../131table.subx.html#L26'>get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc <span class="Constant">&quot;Mu-registers&quot;</span>)  <span class="subxComment"># =&gt; eax: (addr int)</span>
<span id="L16834" class="LineNr">16834 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *eax)
<span id="L16835" class="LineNr">16835 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/r32\n&quot;</span>)
<span id="L16836" class="LineNr">16836 </span><span class="Constant">$translate-mu-get-stmt:end</span>:
<span id="L16837" class="LineNr">16837 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16838" class="LineNr">16838 </span>    5a/pop-to-edx
<span id="L16839" class="LineNr">16839 </span>    59/pop-to-ecx
<span id="L16840" class="LineNr">16840 </span>    58/pop-to-eax
<span id="L16841" class="LineNr">16841 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16842" class="LineNr">16842 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16843" class="LineNr">16843 </span>    5d/pop-to-ebp
<span id="L16844" class="LineNr">16844 </span>    c3/return
<span id="L16845" class="LineNr">16845 </span>
<span id="L16846" class="LineNr">16846 </span><span class="subxFunction">translate-mu-copy-object-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16847" class="LineNr">16847 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16848" class="LineNr">16848 </span>    55/push-ebp
<span id="L16849" class="LineNr">16849 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16850" class="LineNr">16850 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16851" class="LineNr">16851 </span>    50/push-eax
<span id="L16852" class="LineNr">16852 </span>    <span class="subxComment">#</span>
<span id="L16853" class="LineNr">16853 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16854" class="LineNr">16854 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(copy-bytes&quot;</span>)
<span id="L16855" class="LineNr">16855 </span>    <span class="subxComment"># eax = stmt</span>
<span id="L16856" class="LineNr">16856 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L16857" class="LineNr">16857 </span>    <span class="subxComment"># var first-inout/eax: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L16858" class="LineNr">16858 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16859" class="LineNr">16859 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %eax)
<span id="L16860" class="LineNr">16860 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L16861" class="LineNr">16861 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %eax)
<span id="L16862" class="LineNr">16862 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L16863" class="LineNr">16863 </span>    (<a href='mu.subx.html#L16940'>addr-payload-size</a> %eax *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16864" class="LineNr">16864 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16865" class="LineNr">16865 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L16866" class="LineNr">16866 </span><span class="Constant">$translate-mu-copy-object-stmt:end</span>:
<span id="L16867" class="LineNr">16867 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16868" class="LineNr">16868 </span>    58/pop-to-eax
<span id="L16869" class="LineNr">16869 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16870" class="LineNr">16870 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16871" class="LineNr">16871 </span>    5d/pop-to-ebp
<span id="L16872" class="LineNr">16872 </span>    c3/return
<span id="L16873" class="LineNr">16873 </span>
<span id="L16874" class="LineNr">16874 </span><span class="subxFunction">translate-mu-allocate-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16875" class="LineNr">16875 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16876" class="LineNr">16876 </span>    55/push-ebp
<span id="L16877" class="LineNr">16877 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16878" class="LineNr">16878 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16879" class="LineNr">16879 </span>    50/push-eax
<span id="L16880" class="LineNr">16880 </span>    56/push-esi
<span id="L16881" class="LineNr">16881 </span>    57/push-edi
<span id="L16882" class="LineNr">16882 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L16883" class="LineNr">16883 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L16884" class="LineNr">16884 </span>    <span class="subxComment"># var target/edi: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L16885" class="LineNr">16885 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16886" class="LineNr">16886 </span>    89/&lt;- %edi 0/r32/eax
<span id="L16887" class="LineNr">16887 </span>    <span class="subxComment">#</span>
<span id="L16888" class="LineNr">16888 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16889" class="LineNr">16889 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(<a href='../120allocate.subx.html#L66'>allocate</a> <a href='../120allocate.subx.html#L27'>Heap</a> &quot;</span>)
<span id="L16890" class="LineNr">16890 </span>    (<a href='mu.subx.html#L16904'>addr-handle-payload-size</a> %edi *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16891" class="LineNr">16891 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16892" class="LineNr">16892 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %edi)
<span id="L16893" class="LineNr">16893 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L16894" class="LineNr">16894 </span><span class="Constant">$translate-mu-allocate-stmt:end</span>:
<span id="L16895" class="LineNr">16895 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16896" class="LineNr">16896 </span>    5f/pop-to-edi
<span id="L16897" class="LineNr">16897 </span>    5e/pop-to-esi
<span id="L16898" class="LineNr">16898 </span>    58/pop-to-eax
<span id="L16899" class="LineNr">16899 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16900" class="LineNr">16900 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16901" class="LineNr">16901 </span>    5d/pop-to-ebp
<span id="L16902" class="LineNr">16902 </span>    c3/return
<span id="L16903" class="LineNr">16903 </span>
<span id="L16904" class="LineNr">16904 </span><span class="subxFunction">addr-handle-payload-size</span>:  <span class="subxComment"># s: (addr stmt-var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L16905" class="LineNr">16905 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16906" class="LineNr">16906 </span>    55/push-ebp
<span id="L16907" class="LineNr">16907 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16908" class="LineNr">16908 </span>    <span class="subxComment"># var t/eax: (addr type-tree) = s-&gt;value-&gt;type</span>
<span id="L16909" class="LineNr">16909 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16910" class="LineNr">16910 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16911" class="LineNr">16911 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16912" class="LineNr">16912 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L16913" class="LineNr">16913 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L16914" class="LineNr">16914 </span>    <span class="subxComment"># TODO: check t-&gt;left == addr</span>
<span id="L16915" class="LineNr">16915 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L16916" class="LineNr">16916 </span><span class="Constant">$addr-handle-payload-size:skip-addr</span>:
<span id="L16917" class="LineNr">16917 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L16918" class="LineNr">16918 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L16919" class="LineNr">16919 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L16920" class="LineNr">16920 </span>    <span class="subxComment"># TODO: check t-&gt;left == handle</span>
<span id="L16921" class="LineNr">16921 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L16922" class="LineNr">16922 </span><span class="Constant">$addr-handle-payload-size:skip-handle</span>:
<span id="L16923" class="LineNr">16923 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L16924" class="LineNr">16924 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L16925" class="LineNr">16925 </span>    <span class="subxComment"># if !t-&gt;is-atom? t = t-&gt;left</span>
<span id="L16926" class="LineNr">16926 </span>    81 7/subop/compare *eax 0/imm32/false
<span id="L16927" class="LineNr">16927 </span>    {
<span id="L16928" class="LineNr">16928 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L16929" class="LineNr">16929 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16930" class="LineNr">16930 </span>    }
<span id="L16931" class="LineNr">16931 </span>    <span class="subxComment"># TODO: check t-&gt;is-atom?</span>
<span id="L16932" class="LineNr">16932 </span>    <span class="subxComment"># return size(t-&gt;value)</span>
<span id="L16933" class="LineNr">16933 </span>    (<a href='mu.subx.html#L14492'>size-of-type-id</a> *(eax+4))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L16934" class="LineNr">16934 </span><span class="Constant">$addr-handle-payload-size:end</span>:
<span id="L16935" class="LineNr">16935 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16936" class="LineNr">16936 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16937" class="LineNr">16937 </span>    5d/pop-to-ebp
<span id="L16938" class="LineNr">16938 </span>    c3/return
<span id="L16939" class="LineNr">16939 </span>
<span id="L16940" class="LineNr">16940 </span><span class="subxFunction">addr-payload-size</span>:  <span class="subxComment"># s: (addr stmt-var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L16941" class="LineNr">16941 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16942" class="LineNr">16942 </span>    55/push-ebp
<span id="L16943" class="LineNr">16943 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16944" class="LineNr">16944 </span>    <span class="subxComment"># var t/eax: (addr type-tree) = s-&gt;value-&gt;type</span>
<span id="L16945" class="LineNr">16945 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L16946" class="LineNr">16946 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L16947" class="LineNr">16947 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L16948" class="LineNr">16948 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L16949" class="LineNr">16949 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L16950" class="LineNr">16950 </span>    <span class="subxComment"># TODO: check t-&gt;left == addr</span>
<span id="L16951" class="LineNr">16951 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L16952" class="LineNr">16952 </span><span class="Constant">$addr-payload-size:skip-addr</span>:
<span id="L16953" class="LineNr">16953 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L16954" class="LineNr">16954 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L16955" class="LineNr">16955 </span>    <span class="subxComment"># if !t-&gt;is-atom? t = t-&gt;left</span>
<span id="L16956" class="LineNr">16956 </span>    81 7/subop/compare *eax 0/imm32/false
<span id="L16957" class="LineNr">16957 </span>    {
<span id="L16958" class="LineNr">16958 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L16959" class="LineNr">16959 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L16960" class="LineNr">16960 </span>    }
<span id="L16961" class="LineNr">16961 </span>    <span class="subxComment"># TODO: check t-&gt;is-atom?</span>
<span id="L16962" class="LineNr">16962 </span>    <span class="subxComment"># return size(t-&gt;value)</span>
<span id="L16963" class="LineNr">16963 </span>    (<a href='mu.subx.html#L14492'>size-of-type-id</a> *(eax+4))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L16964" class="LineNr">16964 </span><span class="Constant">$addr-payload-size:end</span>:
<span id="L16965" class="LineNr">16965 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L16966" class="LineNr">16966 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L16967" class="LineNr">16967 </span>    5d/pop-to-ebp
<span id="L16968" class="LineNr">16968 </span>    c3/return
<span id="L16969" class="LineNr">16969 </span>
<span id="L16970" class="LineNr">16970 </span><span class="subxFunction">translate-mu-populate-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L16971" class="LineNr">16971 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L16972" class="LineNr">16972 </span>    55/push-ebp
<span id="L16973" class="LineNr">16973 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L16974" class="LineNr">16974 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L16975" class="LineNr">16975 </span>    50/push-eax
<span id="L16976" class="LineNr">16976 </span>    51/push-ecx
<span id="L16977" class="LineNr">16977 </span>    56/push-esi
<span id="L16978" class="LineNr">16978 </span>    57/push-edi
<span id="L16979" class="LineNr">16979 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L16980" class="LineNr">16980 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L16981" class="LineNr">16981 </span>    <span class="subxComment"># var target/edi: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L16982" class="LineNr">16982 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L16983" class="LineNr">16983 </span>    89/&lt;- %edi 0/r32/eax
<span id="L16984" class="LineNr">16984 </span>    <span class="subxComment"># var len/ecx: (addr stmt-var) = stmt-&gt;inouts[1]</span>
<span id="L16985" class="LineNr">16985 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L16986" class="LineNr">16986 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L16987" class="LineNr">16987 </span>    <span class="subxComment">#</span>
<span id="L16988" class="LineNr">16988 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L16989" class="LineNr">16989 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(<a href='../308allocate-array.subx.html#L5'>allocate-array2</a> <a href='../120allocate.subx.html#L27'>Heap</a> &quot;</span>)
<span id="L16990" class="LineNr">16990 </span>    (<a href='mu.subx.html#L17119'>addr-handle-array-payload-size</a> %edi *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L16991" class="LineNr">16991 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L16992" class="LineNr">16992 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %ecx)
<span id="L16993" class="LineNr">16993 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %edi)
<span id="L16994" class="LineNr">16994 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L16995" class="LineNr">16995 </span><span class="Constant">$translate-mu-populate-stmt:end</span>:
<span id="L16996" class="LineNr">16996 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L16997" class="LineNr">16997 </span>    5f/pop-to-edi
<span id="L16998" class="LineNr">16998 </span>    5e/pop-to-esi
<span id="L16999" class="LineNr">16999 </span>    59/pop-to-ecx
<span id="L17000" class="LineNr">17000 </span>    58/pop-to-eax
<span id="L17001" class="LineNr">17001 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17002" class="LineNr">17002 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17003" class="LineNr">17003 </span>    5d/pop-to-ebp
<span id="L17004" class="LineNr">17004 </span>    c3/return
<span id="L17005" class="LineNr">17005 </span>
<span id="L17006" class="LineNr">17006 </span><span class="subxFunction">translate-mu-populate-stream-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L17007" class="LineNr">17007 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17008" class="LineNr">17008 </span>    55/push-ebp
<span id="L17009" class="LineNr">17009 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17010" class="LineNr">17010 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L17011" class="LineNr">17011 </span>    50/push-eax
<span id="L17012" class="LineNr">17012 </span>    51/push-ecx
<span id="L17013" class="LineNr">17013 </span>    56/push-esi
<span id="L17014" class="LineNr">17014 </span>    57/push-edi
<span id="L17015" class="LineNr">17015 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L17016" class="LineNr">17016 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L17017" class="LineNr">17017 </span>    <span class="subxComment"># var target/edi: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L17018" class="LineNr">17018 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L17019" class="LineNr">17019 </span>    89/&lt;- %edi 0/r32/eax
<span id="L17020" class="LineNr">17020 </span>    <span class="subxComment"># var len/ecx: (addr stmt-var) = stmt-&gt;inouts[1]</span>
<span id="L17021" class="LineNr">17021 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L17022" class="LineNr">17022 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L17023" class="LineNr">17023 </span>    <span class="subxComment">#</span>
<span id="L17024" class="LineNr">17024 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L17025" class="LineNr">17025 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(<a href='../121new-stream.subx.html#L8'>new-stream</a> <a href='../120allocate.subx.html#L27'>Heap</a> &quot;</span>)
<span id="L17026" class="LineNr">17026 </span>    (<a href='mu.subx.html#L17162'>addr-handle-stream-payload-size</a> %edi *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L17027" class="LineNr">17027 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L17028" class="LineNr">17028 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %ecx)
<span id="L17029" class="LineNr">17029 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %edi)
<span id="L17030" class="LineNr">17030 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L17031" class="LineNr">17031 </span><span class="Constant">$translate-mu-populate-stream-stmt:end</span>:
<span id="L17032" class="LineNr">17032 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L17033" class="LineNr">17033 </span>    5f/pop-to-edi
<span id="L17034" class="LineNr">17034 </span>    5e/pop-to-esi
<span id="L17035" class="LineNr">17035 </span>    59/pop-to-ecx
<span id="L17036" class="LineNr">17036 </span>    58/pop-to-eax
<span id="L17037" class="LineNr">17037 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17038" class="LineNr">17038 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17039" class="LineNr">17039 </span>    5d/pop-to-ebp
<span id="L17040" class="LineNr">17040 </span>    c3/return
<span id="L17041" class="LineNr">17041 </span>
<span id="L17042" class="LineNr">17042 </span><span class="subxFunction">translate-mu-read-from-stream-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L17043" class="LineNr">17043 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17044" class="LineNr">17044 </span>    55/push-ebp
<span id="L17045" class="LineNr">17045 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17046" class="LineNr">17046 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L17047" class="LineNr">17047 </span>    50/push-eax
<span id="L17048" class="LineNr">17048 </span>    51/push-ecx
<span id="L17049" class="LineNr">17049 </span>    56/push-esi
<span id="L17050" class="LineNr">17050 </span>    57/push-edi
<span id="L17051" class="LineNr">17051 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L17052" class="LineNr">17052 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L17053" class="LineNr">17053 </span>    <span class="subxComment"># var stream/ecx: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L17054" class="LineNr">17054 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L17055" class="LineNr">17055 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L17056" class="LineNr">17056 </span>    <span class="subxComment"># var target/edi: (addr stmt-var) = stmt-&gt;inouts[1]</span>
<span id="L17057" class="LineNr">17057 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L17058" class="LineNr">17058 </span>    89/&lt;- %edi 0/r32/eax
<span id="L17059" class="LineNr">17059 </span>    <span class="subxComment">#</span>
<span id="L17060" class="LineNr">17060 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L17061" class="LineNr">17061 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(read-from-stream&quot;</span>)
<span id="L17062" class="LineNr">17062 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %ecx)
<span id="L17063" class="LineNr">17063 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %edi)
<span id="L17064" class="LineNr">17064 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L17065" class="LineNr">17065 </span>    (<a href='mu.subx.html#L16940'>addr-payload-size</a> %edi *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L17066" class="LineNr">17066 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L17067" class="LineNr">17067 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L17068" class="LineNr">17068 </span><span class="Constant">$translate-mu-read-from-stream-stmt:end</span>:
<span id="L17069" class="LineNr">17069 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L17070" class="LineNr">17070 </span>    5f/pop-to-edi
<span id="L17071" class="LineNr">17071 </span>    5e/pop-to-esi
<span id="L17072" class="LineNr">17072 </span>    59/pop-to-ecx
<span id="L17073" class="LineNr">17073 </span>    58/pop-to-eax
<span id="L17074" class="LineNr">17074 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17075" class="LineNr">17075 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17076" class="LineNr">17076 </span>    5d/pop-to-ebp
<span id="L17077" class="LineNr">17077 </span>    c3/return
<span id="L17078" class="LineNr">17078 </span>
<span id="L17079" class="LineNr">17079 </span><span class="subxFunction">translate-mu-write-to-stream-stmt</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L17080" class="LineNr">17080 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17081" class="LineNr">17081 </span>    55/push-ebp
<span id="L17082" class="LineNr">17082 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17083" class="LineNr">17083 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L17084" class="LineNr">17084 </span>    50/push-eax
<span id="L17085" class="LineNr">17085 </span>    51/push-ecx
<span id="L17086" class="LineNr">17086 </span>    56/push-esi
<span id="L17087" class="LineNr">17087 </span>    57/push-edi
<span id="L17088" class="LineNr">17088 </span>    <span class="subxComment"># esi = stmt</span>
<span id="L17089" class="LineNr">17089 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L17090" class="LineNr">17090 </span>    <span class="subxComment"># var stream/ecx: (addr stmt-var) = stmt-&gt;inouts[0]</span>
<span id="L17091" class="LineNr">17091 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L17092" class="LineNr">17092 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L17093" class="LineNr">17093 </span>    <span class="subxComment"># var target/edi: (addr stmt-var) = stmt-&gt;inouts[1]</span>
<span id="L17094" class="LineNr">17094 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+8) *(ecx+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L17095" class="LineNr">17095 </span>    89/&lt;- %edi 0/r32/eax
<span id="L17096" class="LineNr">17096 </span>    <span class="subxComment">#</span>
<span id="L17097" class="LineNr">17097 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L17098" class="LineNr">17098 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(write-to-stream&quot;</span>)
<span id="L17099" class="LineNr">17099 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %ecx)
<span id="L17100" class="LineNr">17100 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+8))
<span id="L17101" class="LineNr">17101 </span>    (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %edi)
<span id="L17102" class="LineNr">17102 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+8))
<span id="L17103" class="LineNr">17103 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L17104" class="LineNr">17104 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+8))
<span id="L17105" class="LineNr">17105 </span>    (<a href='mu.subx.html#L16940'>addr-payload-size</a> %edi *(ebp+0x10) *(ebp+0x14))  <span class="subxComment"># =&gt; eax</span>
<span id="L17106" class="LineNr">17106 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L17107" class="LineNr">17107 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L17108" class="LineNr">17108 </span><span class="Constant">$translate-mu-write-to-stream-stmt:end</span>:
<span id="L17109" class="LineNr">17109 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L17110" class="LineNr">17110 </span>    5f/pop-to-edi
<span id="L17111" class="LineNr">17111 </span>    5e/pop-to-esi
<span id="L17112" class="LineNr">17112 </span>    59/pop-to-ecx
<span id="L17113" class="LineNr">17113 </span>    58/pop-to-eax
<span id="L17114" class="LineNr">17114 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17115" class="LineNr">17115 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17116" class="LineNr">17116 </span>    5d/pop-to-ebp
<span id="L17117" class="LineNr">17117 </span>    c3/return
<span id="L17118" class="LineNr">17118 </span>
<span id="L17119" class="LineNr">17119 </span><span class="subxFunction">addr-handle-array-payload-size</span>:  <span class="subxComment"># s: (addr stmt-var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L17120" class="LineNr">17120 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17121" class="LineNr">17121 </span>    55/push-ebp
<span id="L17122" class="LineNr">17122 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17123" class="LineNr">17123 </span>    <span class="subxComment"># var t/eax: (addr type-tree) = s-&gt;value-&gt;type</span>
<span id="L17124" class="LineNr">17124 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L17125" class="LineNr">17125 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L17126" class="LineNr">17126 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L17127" class="LineNr">17127 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17128" class="LineNr">17128 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L17129" class="LineNr">17129 </span>    <span class="subxComment"># TODO: check t-&gt;left == addr</span>
<span id="L17130" class="LineNr">17130 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L17131" class="LineNr">17131 </span><span class="Constant">$addr-handle-array-payload-size:skip-addr</span>:
<span id="L17132" class="LineNr">17132 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L17133" class="LineNr">17133 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17134" class="LineNr">17134 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L17135" class="LineNr">17135 </span>    <span class="subxComment"># TODO: check t-&gt;left == handle</span>
<span id="L17136" class="LineNr">17136 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L17137" class="LineNr">17137 </span><span class="Constant">$addr-handle-array-payload-size:skip-handle</span>:
<span id="L17138" class="LineNr">17138 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L17139" class="LineNr">17139 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17140" class="LineNr">17140 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L17141" class="LineNr">17141 </span>    <span class="subxComment"># TODO: check t-&gt;left == array</span>
<span id="L17142" class="LineNr">17142 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L17143" class="LineNr">17143 </span><span class="Constant">$addr-handle-array-payload-size:skip-array</span>:
<span id="L17144" class="LineNr">17144 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L17145" class="LineNr">17145 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17146" class="LineNr">17146 </span>    <span class="subxComment"># if !t-&gt;is-atom? t = t-&gt;left</span>
<span id="L17147" class="LineNr">17147 </span>    81 7/subop/compare *eax 0/imm32/false
<span id="L17148" class="LineNr">17148 </span>    {
<span id="L17149" class="LineNr">17149 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L17150" class="LineNr">17150 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L17151" class="LineNr">17151 </span>    }
<span id="L17152" class="LineNr">17152 </span><span class="Constant">$addr-handle-array-payload-size:compute-size</span>:
<span id="L17153" class="LineNr">17153 </span>    <span class="subxComment"># TODO: check t-&gt;is-atom?</span>
<span id="L17154" class="LineNr">17154 </span>    <span class="subxComment"># return size(t-&gt;value)</span>
<span id="L17155" class="LineNr">17155 </span>    (<a href='mu.subx.html#L16367'>size-of-type-id-as-array-element</a> *(eax+4))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L17156" class="LineNr">17156 </span><span class="Constant">$addr-handle-array-payload-size:end</span>:
<span id="L17157" class="LineNr">17157 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17158" class="LineNr">17158 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17159" class="LineNr">17159 </span>    5d/pop-to-ebp
<span id="L17160" class="LineNr">17160 </span>    c3/return
<span id="L17161" class="LineNr">17161 </span>
<span id="L17162" class="LineNr">17162 </span><span class="subxFunction">addr-handle-stream-payload-size</span>:  <span class="subxComment"># s: (addr stmt-var), err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: int</span>
<span id="L17163" class="LineNr">17163 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17164" class="LineNr">17164 </span>    55/push-ebp
<span id="L17165" class="LineNr">17165 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17166" class="LineNr">17166 </span>    <span class="subxComment"># var t/eax: (addr type-tree) = s-&gt;value-&gt;type</span>
<span id="L17167" class="LineNr">17167 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L17168" class="LineNr">17168 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L17169" class="LineNr">17169 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L17170" class="LineNr">17170 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17171" class="LineNr">17171 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L17172" class="LineNr">17172 </span>    <span class="subxComment"># TODO: check t-&gt;left == addr</span>
<span id="L17173" class="LineNr">17173 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L17174" class="LineNr">17174 </span><span class="Constant">$addr-handle-stream-payload-size:skip-addr</span>:
<span id="L17175" class="LineNr">17175 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L17176" class="LineNr">17176 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17177" class="LineNr">17177 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L17178" class="LineNr">17178 </span>    <span class="subxComment"># TODO: check t-&gt;left == handle</span>
<span id="L17179" class="LineNr">17179 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L17180" class="LineNr">17180 </span><span class="Constant">$addr-handle-stream-payload-size:skip-handle</span>:
<span id="L17181" class="LineNr">17181 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L17182" class="LineNr">17182 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17183" class="LineNr">17183 </span>    <span class="subxComment"># TODO: check !t-&gt;is-atom?</span>
<span id="L17184" class="LineNr">17184 </span>    <span class="subxComment"># TODO: check t-&gt;left == stream</span>
<span id="L17185" class="LineNr">17185 </span>    <span class="subxComment"># t = t-&gt;right</span>
<span id="L17186" class="LineNr">17186 </span><span class="Constant">$addr-handle-stream-payload-size:skip-stream</span>:
<span id="L17187" class="LineNr">17187 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Type-tree-right Type-tree-right =&gt; eax</span>
<span id="L17188" class="LineNr">17188 </span>    <span class="subxComment"># TODO: check eax != 0</span>
<span id="L17189" class="LineNr">17189 </span>    <span class="subxComment"># if !t-&gt;is-atom? t = t-&gt;left</span>
<span id="L17190" class="LineNr">17190 </span>    81 7/subop/compare *eax 0/imm32/false
<span id="L17191" class="LineNr">17191 </span>    {
<span id="L17192" class="LineNr">17192 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L17193" class="LineNr">17193 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L17194" class="LineNr">17194 </span>    }
<span id="L17195" class="LineNr">17195 </span><span class="Constant">$addr-handle-stream-payload-size:compute-size</span>:
<span id="L17196" class="LineNr">17196 </span>    <span class="subxComment"># TODO: check t-&gt;is-atom?</span>
<span id="L17197" class="LineNr">17197 </span>    <span class="subxComment"># return size(t-&gt;value)</span>
<span id="L17198" class="LineNr">17198 </span>    (<a href='mu.subx.html#L16367'>size-of-type-id-as-array-element</a> *(eax+4))  <span class="subxComment"># Type-tree-value =&gt; eax</span>
<span id="L17199" class="LineNr">17199 </span><span class="Constant">$addr-handle-stream-payload-size:end</span>:
<span id="L17200" class="LineNr">17200 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17201" class="LineNr">17201 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17202" class="LineNr">17202 </span>    5d/pop-to-ebp
<span id="L17203" class="LineNr">17203 </span>    c3/return
<span id="L17204" class="LineNr">17204 </span>
<span id="L17205" class="LineNr">17205 </span><span class="subxFunction">power-of-2?</span>:  <span class="subxComment"># n: int, err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; result/eax: boolean</span>
<span id="L17206" class="LineNr">17206 </span>    <span class="subxComment"># precondition: n is positive</span>
<span id="L17207" class="LineNr">17207 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17208" class="LineNr">17208 </span>    55/push-ebp
<span id="L17209" class="LineNr">17209 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17210" class="LineNr">17210 </span>    <span class="subxComment"># eax = n</span>
<span id="L17211" class="LineNr">17211 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L17212" class="LineNr">17212 </span>    <span class="subxComment"># if (n &lt; 0) abort</span>
<span id="L17213" class="LineNr">17213 </span>    3d/compare-eax-with 0/imm32
<span id="L17214" class="LineNr">17214 </span>    0f 8c/jump-if-&lt; $power-of-2?:abort/disp32
<span id="L17215" class="LineNr">17215 </span>    <span class="subxComment"># var tmp/eax: int = n-1</span>
<span id="L17216" class="LineNr">17216 </span>    48/decrement-eax
<span id="L17217" class="LineNr">17217 </span>    <span class="subxComment"># var tmp2/eax: int = n &amp; tmp</span>
<span id="L17218" class="LineNr">17218 </span>    23/and-&gt; *(ebp+8) 0/r32/eax
<span id="L17219" class="LineNr">17219 </span>    <span class="subxComment"># return (tmp2 == 0)</span>
<span id="L17220" class="LineNr">17220 </span>    3d/compare-eax-and 0/imm32
<span id="L17221" class="LineNr">17221 </span>    0f 94/set-byte-if-= %al
<span id="L17222" class="LineNr">17222 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L17223" class="LineNr">17223 </span><span class="Constant">$power-of-2?:end</span>:
<span id="L17224" class="LineNr">17224 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17225" class="LineNr">17225 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17226" class="LineNr">17226 </span>    5d/pop-to-ebp
<span id="L17227" class="LineNr">17227 </span>    c3/return
<span id="L17228" class="LineNr">17228 </span>
<span id="L17229" class="LineNr">17229 </span><span class="Constant">$power-of-2?:abort</span>:
<span id="L17230" class="LineNr">17230 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0xc) <span class="Constant">&quot;power-of-2?: negative number\n&quot;</span>)
<span id="L17231" class="LineNr">17231 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0xc))
<span id="L17232" class="LineNr">17232 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x10) 1)
<span id="L17233" class="LineNr">17233 </span>    <span class="subxComment"># never gets here</span>
<span id="L17234" class="LineNr">17234 </span>
<span id="L17235" class="LineNr">17235 </span><span class="subxFunction">num-shift-rights</span>:  <span class="subxComment"># n: int -&gt; result/eax: int</span>
<span id="L17236" class="LineNr">17236 </span>    <span class="subxComment"># precondition: n is a positive power of 2</span>
<span id="L17237" class="LineNr">17237 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17238" class="LineNr">17238 </span>    55/push-ebp
<span id="L17239" class="LineNr">17239 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17240" class="LineNr">17240 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L17241" class="LineNr">17241 </span>    51/push-ecx
<span id="L17242" class="LineNr">17242 </span>    <span class="subxComment"># var curr/ecx: int = n</span>
<span id="L17243" class="LineNr">17243 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L17244" class="LineNr">17244 </span>    <span class="subxComment"># result = 0</span>
<span id="L17245" class="LineNr">17245 </span>    b8/copy-to-eax 0/imm32
<span id="L17246" class="LineNr">17246 </span>    {
<span id="L17247" class="LineNr">17247 </span>      <span class="subxComment"># if (curr &lt;= 1) break</span>
<span id="L17248" class="LineNr">17248 </span>      81 7/subop/compare %ecx 1/imm32
<span id="L17249" class="LineNr">17249 </span>      7e/jump-if-&lt;= <span class="Constant">break</span>/disp8
<span id="L17250" class="LineNr">17250 </span>      40/increment-eax
<span id="L17251" class="LineNr">17251 </span>      c1/shift 5/subop/arithmetic-right %ecx 1/imm8
<span id="L17252" class="LineNr">17252 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L17253" class="LineNr">17253 </span>    }
<span id="L17254" class="LineNr">17254 </span><span class="Constant">$num-shift-rights:end</span>:
<span id="L17255" class="LineNr">17255 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L17256" class="LineNr">17256 </span>    59/pop-to-ecx
<span id="L17257" class="LineNr">17257 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17258" class="LineNr">17258 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17259" class="LineNr">17259 </span>    5d/pop-to-ebp
<span id="L17260" class="LineNr">17260 </span>    c3/return
<span id="L17261" class="LineNr">17261 </span>
<span id="L17262" class="LineNr">17262 </span><span class="subxFunction">mu-get-offset</span>:  <span class="subxComment"># stmt: (addr stmt) -&gt; result/eax: int</span>
<span id="L17263" class="LineNr">17263 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17264" class="LineNr">17264 </span>    55/push-ebp
<span id="L17265" class="LineNr">17265 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17266" class="LineNr">17266 </span>    <span class="subxComment"># var second-inout/eax: (addr stmt-var) = stmt-&gt;inouts-&gt;next</span>
<span id="L17267" class="LineNr">17267 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L17268" class="LineNr">17268 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0xc) *(eax+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L17269" class="LineNr">17269 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L17270" class="LineNr">17270 </span>    <span class="subxComment"># var output-var/eax: (addr var) = second-inout-&gt;value</span>
<span id="L17271" class="LineNr">17271 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L17272" class="LineNr">17272 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;mu-get-offset: &quot;)</span>
<span id="L17273" class="LineNr">17273 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L17274" class="LineNr">17274 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot; name: &quot;)</span>
<span id="L17275" class="LineNr">17275 </span><span class="CommentedCode">#?     50/push-eax</span>
<span id="L17276" class="LineNr">17276 </span><span class="CommentedCode">#?     (lookup *eax *(eax+4))  # Var-name</span>
<span id="L17277" class="LineNr">17277 </span><span class="CommentedCode">#?     (write-buffered Stderr %eax)</span>
<span id="L17278" class="LineNr">17278 </span><span class="CommentedCode">#?     58/pop-to-eax</span>
<span id="L17279" class="LineNr">17279 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L17280" class="LineNr">17280 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L17281" class="LineNr">17281 </span>    <span class="subxComment"># return output-var-&gt;stack-offset</span>
<span id="L17282" class="LineNr">17282 </span>    8b/-&gt; *(eax+0x14) 0/r32/eax  <span class="subxComment"># Var-offset</span>
<span id="L17283" class="LineNr">17283 </span><span class="CommentedCode">#?     (write-buffered Stderr &quot;=&gt; &quot;)</span>
<span id="L17284" class="LineNr">17284 </span><span class="CommentedCode">#?     (write-int32-hex-buffered Stderr %eax)</span>
<span id="L17285" class="LineNr">17285 </span><span class="CommentedCode">#?     (write-buffered Stderr Newline)</span>
<span id="L17286" class="LineNr">17286 </span><span class="CommentedCode">#?     (flush Stderr)</span>
<span id="L17287" class="LineNr">17287 </span><span class="Constant">$emit-get-offset:end</span>:
<span id="L17288" class="LineNr">17288 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17289" class="LineNr">17289 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17290" class="LineNr">17290 </span>    5d/pop-to-ebp
<span id="L17291" class="LineNr">17291 </span>    c3/return
<span id="L17292" class="LineNr">17292 </span>
<span id="L17293" class="LineNr">17293 </span><span class="subxFunction">emit-subx-block</span>:  <span class="subxComment"># out: (addr buffered-file), block: (addr block), vars: (addr stack live-var), fn: (addr function), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L17294" class="LineNr">17294 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L17295" class="LineNr">17295 </span>    55/push-ebp
<span id="L17296" class="LineNr">17296 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L17297" class="LineNr">17297 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L17298" class="LineNr">17298 </span>    50/push-eax
<span id="L17299" class="LineNr">17299 </span>    51/push-ecx
<span id="L17300" class="LineNr">17300 </span>    56/push-esi
<span id="L17301" class="LineNr">17301 </span>    <span class="subxComment"># esi = block</span>
<span id="L17302" class="LineNr">17302 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L17303" class="LineNr">17303 </span>    <span class="subxComment"># block-&gt;var-&gt;block-depth = *Curr-block-depth</span>
<span id="L17304" class="LineNr">17304 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Block-var Block-var =&gt; eax</span>
<span id="L17305" class="LineNr">17305 </span>    8b/-&gt; *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 1/r32/ecx
<span id="L17306" class="LineNr">17306 </span>    89/&lt;- *(eax+0x10) 1/r32/ecx  <span class="subxComment"># Var-block-depth</span>
<span id="L17307" class="LineNr">17307 </span>    <span class="subxComment"># var stmts/eax: (addr list stmt) = lookup(block-&gt;statements)</span>
<span id="L17308" class="LineNr">17308 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Block-stmts Block-stmts =&gt; eax</span>
<span id="L17309" class="LineNr">17309 </span>    <span class="subxComment">#</span>
<span id="L17310" class="LineNr">17310 </span>    {
<span id="L17311" class="LineNr">17311 </span><span class="Constant">$emit-subx-block:check-empty</span>:
<span id="L17312" class="LineNr">17312 </span>      3d/compare-eax-and 0/imm32
<span id="L17313" class="LineNr">17313 </span>      0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L17314" class="LineNr">17314 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L17315" class="LineNr">17315 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;{\n&quot;</span>)
<span id="L17316" class="LineNr">17316 </span>      <span class="subxComment"># var v/ecx: (addr var) = lookup(block-&gt;var)</span>
<span id="L17317" class="LineNr">17317 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0xc) *(esi+0x10))  <span class="subxComment"># Block-var Block-var =&gt; eax</span>
<span id="L17318" class="LineNr">17318 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L17319" class="LineNr">17319 </span>      <span class="subxComment">#</span>
<span id="L17320" class="LineNr">17320 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L17321" class="LineNr">17321 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L17322" class="LineNr">17322 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:loop:\n&quot;</span>)
<span id="L17323" class="LineNr">17323 </span>      ff 0/subop/increment *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>
<span id="L17324" class="LineNr">17324 </span>      (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(esi+0xc))  <span class="subxComment"># Block-var</span>
<span id="L17325" class="LineNr">17325 </span>      (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) *(esi+0x10))  <span class="subxComment"># Block-var</span>
<span id="L17326" class="LineNr">17326 </span>      (<a href='../203stack.subx.html#L114'>push</a> *(ebp+0x10) 0)  <span class="subxComment"># false</span>
<span id="L17327" class="LineNr">17327 </span>      <span class="subxComment"># emit block-&gt;statements</span>
<span id="L17328" class="LineNr">17328 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+4) *(esi+8))  <span class="subxComment"># Block-stmts Block-stmts =&gt; eax</span>
<span id="L17329" class="LineNr">17329 </span>      (<a href='mu.subx.html#L14812'>emit-subx-stmt-list</a> *(ebp+8) %eax *(ebp+0x10) *(ebp+0x14) *(ebp+0x18) *(ebp+0x1c))
<span id="L17330" class="LineNr">17330 </span>      (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L17331" class="LineNr">17331 </span>      (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L17332" class="LineNr">17332 </span>      (<a href='../203stack.subx.html#L234'>pop</a> *(ebp+0x10))  <span class="subxComment"># =&gt; eax</span>
<span id="L17333" class="LineNr">17333 </span>      ff 1/subop/decrement *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>
<span id="L17334" class="LineNr">17334 </span>      (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L17335" class="LineNr">17335 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;}\n&quot;</span>)
<span id="L17336" class="LineNr">17336 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L17337" class="LineNr">17337 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L17338" class="LineNr">17338 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:break:\n&quot;</span>)
<span id="L17339" class="LineNr">17339 </span>    }
<span id="L17340" class="LineNr">17340 </span><span class="Constant">$emit-subx-block:end</span>:
<span id="L17341" class="LineNr">17341 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L17342" class="LineNr">17342 </span>    5e/pop-to-esi
<span id="L17343" class="LineNr">17343 </span>    59/pop-to-ecx
<span id="L17344" class="LineNr">17344 </span>    58/pop-to-eax
<span id="L17345" class="LineNr">17345 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L17346" class="LineNr">17346 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L17347" class="LineNr">17347 </span>    5d/pop-to-ebp
<span id="L17348" class="LineNr">17348 </span>    c3/return
<span id="L17349" class="LineNr">17349 </span>
<span id="L17350" class="LineNr">17350 </span><span class="subxComment"># Primitives supported</span>
<span id="L17351" class="LineNr">17351 </span><span class="subxComment"># See mu_instructions for a summary of this linked-list data structure.</span>
<span id="L17352" class="LineNr">17352 </span><span class="subxComment">#</span>
<span id="L17353" class="LineNr">17353 </span><span class="subxComment"># For each operation, put variants with hard-coded registers before flexible ones.</span>
<span id="L17354" class="LineNr">17354 </span><span class="subxComment">#</span>
<span id="L17355" class="LineNr">17355 </span><span class="subxComment"># Unfortunately, our restrictions on addresses require that various fields in</span>
<span id="L17356" class="LineNr">17356 </span><span class="subxComment"># primitives be handles, which complicates these definitions.</span>
<span id="L17357" class="LineNr">17357 </span><span class="subxComment">#   - we need to insert dummy fields all over the place for fake alloc-ids</span>
<span id="L17358" class="LineNr">17358 </span><span class="subxComment">#   - we can't use our syntax sugar of quoted literals for string fields</span>
<span id="L17359" class="LineNr">17359 </span><span class="subxComment">#</span>
<span id="L17360" class="LineNr">17360 </span><span class="subxComment"># Fake alloc-ids are needed because our type definitions up top require</span>
<span id="L17361" class="LineNr">17361 </span><span class="subxComment"># handles but it's clearer to statically allocate these long-lived objects.</span>
<span id="L17362" class="LineNr">17362 </span><span class="subxComment"># Fake alloc-ids are perfectly safe, but they can't be reclaimed.</span>
<span id="L17363" class="LineNr">17363 </span><span class="subxComment">#</span>
<span id="L17364" class="LineNr">17364 </span><span class="subxComment"># Every 'object' below starts with a fake alloc-id. It may also contain other</span>
<span id="L17365" class="LineNr">17365 </span><span class="subxComment"># fake alloc-ids for various handle fields.</span>
<span id="L17366" class="LineNr">17366 </span><span class="subxComment">#</span>
<span id="L17367" class="LineNr">17367 </span><span class="subxComment"># I think of objects starting with a fake alloc-id as having type 'payload'.</span>
<span id="L17368" class="LineNr">17368 </span><span class="subxComment"># It's not really intended to be created dynamically; for that use `allocate`</span>
<span id="L17369" class="LineNr">17369 </span><span class="subxComment"># as usual.</span>
<span id="L17370" class="LineNr">17370 </span><span class="subxComment">#</span>
<span id="L17371" class="LineNr">17371 </span><span class="subxComment"># Idea for a notation to simplify such definitions:</span>
<span id="L17372" class="LineNr">17372 </span><span class="subxComment">#   _Primitive-increment-eax:  # (payload primitive)</span>
<span id="L17373" class="LineNr">17373 </span><span class="subxComment">#     0x11/alloc-id:fake:payload</span>
<span id="L17374" class="LineNr">17374 </span><span class="subxComment">#     0x11 @(0x11 &quot;increment&quot;)  # name</span>
<span id="L17375" class="LineNr">17375 </span><span class="subxComment">#     0 0                       # inouts</span>
<span id="L17376" class="LineNr">17376 </span><span class="subxComment">#     0x11 @(0x11/payload</span>
<span id="L17377" class="LineNr">17377 </span><span class="subxComment">#            0x11 @(0x11/payload  # List-value</span>
<span id="L17378" class="LineNr">17378 </span><span class="subxComment">#                   0 0             # Var-name</span>
<span id="L17379" class="LineNr">17379 </span><span class="subxComment">#                   0x11 @(0x11     # Var-type</span>
<span id="L17380" class="LineNr">17380 </span><span class="subxComment">#                          1/is-atom</span>
<span id="L17381" class="LineNr">17381 </span><span class="subxComment">#                          1/value 0/unused   # Type-tree-left</span>
<span id="L17382" class="LineNr">17382 </span><span class="subxComment">#                          0 0                # Type-tree-right</span>
<span id="L17383" class="LineNr">17383 </span><span class="subxComment">#                         )</span>
<span id="L17384" class="LineNr">17384 </span><span class="subxComment">#                   1               # block-depth</span>
<span id="L17385" class="LineNr">17385 </span><span class="subxComment">#                   0               # stack-offset</span>
<span id="L17386" class="LineNr">17386 </span><span class="subxComment">#                   0x11 @(0x11 &quot;eax&quot;)  # Var-register</span>
<span id="L17387" class="LineNr">17387 </span><span class="subxComment">#                  )</span>
<span id="L17388" class="LineNr">17388 </span><span class="subxComment">#            0 0)                 # List-next</span>
<span id="L17389" class="LineNr">17389 </span><span class="subxComment">#     ...</span>
<span id="L17390" class="LineNr">17390 </span><span class="subxComment">#     _Primitive-increment-ecx/imm32/next</span>
<span id="L17391" class="LineNr">17391 </span><span class="subxComment">#   ...</span>
<span id="L17392" class="LineNr">17392 </span><span class="subxComment"># Awfully complex and non-obvious. But also clearly signals there's something</span>
<span id="L17393" class="LineNr">17393 </span><span class="subxComment"># to learn here, so may be worth trying.</span>
<span id="L17394" class="LineNr">17394 </span><span class="subxComment">#</span>
<span id="L17395" class="LineNr">17395 </span><span class="subxComment"># '@' is just an initial thought. Punctuation used so far in Mu: () * % # / &quot;</span>
<span id="L17396" class="LineNr">17396 </span><span class="subxComment">#</span>
<span id="L17397" class="LineNr">17397 </span><span class="subxComment"># For now we'll continue to just use comments and manually ensure they stay up</span>
<span id="L17398" class="LineNr">17398 </span><span class="subxComment"># to date.</span>
<span id="L17399" class="LineNr">17399 </span>== data
<span id="L17400" class="LineNr">17400 </span><span class="SpecialChar">Primitives</span>:  <span class="subxComment"># (addr primitive)</span>
<span id="L17401" class="LineNr">17401 </span><span class="subxH1Comment"># - increment/decrement</span>
<span id="L17402" class="LineNr">17402 </span><span class="subxMinorFunction">_Primitive-increment-eax</span>:  <span class="subxComment"># (addr primitive)</span>
<span id="L17403" class="LineNr">17403 </span>    <span class="subxComment"># var/eax &lt;- increment =&gt; 40/increment-eax</span>
<span id="L17404" class="LineNr">17404 </span>    0x11/imm32/alloc-id:fake
<span id="L17405" class="LineNr">17405 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17406" class="LineNr">17406 </span>    0/imm32/no-inouts
<span id="L17407" class="LineNr">17407 </span>    0/imm32/no-inouts
<span id="L17408" class="LineNr">17408 </span>    0x11/imm32/alloc-id:fake
<span id="L17409" class="LineNr">17409 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L17410" class="LineNr">17410 </span>    0x11/imm32/alloc-id:fake
<span id="L17411" class="LineNr">17411 </span>    <a href='mu.subx.html#L20099'>_string_40_increment_eax</a>/imm32/subx-name
<span id="L17412" class="LineNr">17412 </span>    0/imm32/no-rm32
<span id="L17413" class="LineNr">17413 </span>    0/imm32/no-r32
<span id="L17414" class="LineNr">17414 </span>    0/imm32/no-imm32
<span id="L17415" class="LineNr">17415 </span>    0/imm32/no-imm8
<span id="L17416" class="LineNr">17416 </span>    0/imm32/no-disp32
<span id="L17417" class="LineNr">17417 </span>    0/imm32/output-is-write-only
<span id="L17418" class="LineNr">17418 </span>    0x11/imm32/alloc-id:fake
<span id="L17419" class="LineNr">17419 </span>    <a href='mu.subx.html#L17420'>_Primitive-increment-ecx</a>/imm32/next
<span id="L17420" class="LineNr">17420 </span><span class="subxMinorFunction">_Primitive-increment-ecx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17421" class="LineNr">17421 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17422" class="LineNr">17422 </span>    <span class="subxComment"># var/ecx &lt;- increment =&gt; 41/increment-ecx</span>
<span id="L17423" class="LineNr">17423 </span>    0x11/imm32/alloc-id:fake
<span id="L17424" class="LineNr">17424 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17425" class="LineNr">17425 </span>    0/imm32/no-inouts
<span id="L17426" class="LineNr">17426 </span>    0/imm32/no-inouts
<span id="L17427" class="LineNr">17427 </span>    0x11/imm32/alloc-id:fake
<span id="L17428" class="LineNr">17428 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20456'>Single-int-var-in-ecx</a></span>/imm32/outputs
<span id="L17429" class="LineNr">17429 </span>    0x11/imm32/alloc-id:fake
<span id="L17430" class="LineNr">17430 </span>    <a href='mu.subx.html#L20104'>_string_41_increment_ecx</a>/imm32/subx-name
<span id="L17431" class="LineNr">17431 </span>    0/imm32/no-rm32
<span id="L17432" class="LineNr">17432 </span>    0/imm32/no-r32
<span id="L17433" class="LineNr">17433 </span>    0/imm32/no-imm32
<span id="L17434" class="LineNr">17434 </span>    0/imm32/no-imm8
<span id="L17435" class="LineNr">17435 </span>    0/imm32/no-disp32
<span id="L17436" class="LineNr">17436 </span>    0/imm32/output-is-write-only
<span id="L17437" class="LineNr">17437 </span>    0x11/imm32/alloc-id:fake
<span id="L17438" class="LineNr">17438 </span>    <a href='mu.subx.html#L17439'>_Primitive-increment-edx</a>/imm32/next
<span id="L17439" class="LineNr">17439 </span><span class="subxMinorFunction">_Primitive-increment-edx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17440" class="LineNr">17440 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17441" class="LineNr">17441 </span>    <span class="subxComment"># var/edx &lt;- increment =&gt; 42/increment-edx</span>
<span id="L17442" class="LineNr">17442 </span>    0x11/imm32/alloc-id:fake
<span id="L17443" class="LineNr">17443 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17444" class="LineNr">17444 </span>    0/imm32/no-inouts
<span id="L17445" class="LineNr">17445 </span>    0/imm32/no-inouts
<span id="L17446" class="LineNr">17446 </span>    0x11/imm32/alloc-id:fake
<span id="L17447" class="LineNr">17447 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20474'>Single-int-var-in-edx</a></span>/imm32/outputs
<span id="L17448" class="LineNr">17448 </span>    0x11/imm32/alloc-id:fake
<span id="L17449" class="LineNr">17449 </span>    <a href='mu.subx.html#L20109'>_string_42_increment_edx</a>/imm32/subx-name
<span id="L17450" class="LineNr">17450 </span>    0/imm32/no-rm32
<span id="L17451" class="LineNr">17451 </span>    0/imm32/no-r32
<span id="L17452" class="LineNr">17452 </span>    0/imm32/no-imm32
<span id="L17453" class="LineNr">17453 </span>    0/imm32/no-imm8
<span id="L17454" class="LineNr">17454 </span>    0/imm32/no-disp32
<span id="L17455" class="LineNr">17455 </span>    0/imm32/output-is-write-only
<span id="L17456" class="LineNr">17456 </span>    0x11/imm32/alloc-id:fake
<span id="L17457" class="LineNr">17457 </span>    <a href='mu.subx.html#L17458'>_Primitive-increment-ebx</a>/imm32/next
<span id="L17458" class="LineNr">17458 </span><span class="subxMinorFunction">_Primitive-increment-ebx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17459" class="LineNr">17459 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17460" class="LineNr">17460 </span>    <span class="subxComment"># var/ebx &lt;- increment =&gt; 43/increment-ebx</span>
<span id="L17461" class="LineNr">17461 </span>    0x11/imm32/alloc-id:fake
<span id="L17462" class="LineNr">17462 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17463" class="LineNr">17463 </span>    0/imm32/no-inouts
<span id="L17464" class="LineNr">17464 </span>    0/imm32/no-inouts
<span id="L17465" class="LineNr">17465 </span>    0x11/imm32/alloc-id:fake
<span id="L17466" class="LineNr">17466 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20492'>Single-int-var-in-ebx</a></span>/imm32/outputs
<span id="L17467" class="LineNr">17467 </span>    0x11/imm32/alloc-id:fake
<span id="L17468" class="LineNr">17468 </span>    <a href='mu.subx.html#L20114'>_string_43_increment_ebx</a>/imm32/subx-name
<span id="L17469" class="LineNr">17469 </span>    0/imm32/no-rm32
<span id="L17470" class="LineNr">17470 </span>    0/imm32/no-r32
<span id="L17471" class="LineNr">17471 </span>    0/imm32/no-imm32
<span id="L17472" class="LineNr">17472 </span>    0/imm32/no-imm8
<span id="L17473" class="LineNr">17473 </span>    0/imm32/no-disp32
<span id="L17474" class="LineNr">17474 </span>    0/imm32/output-is-write-only
<span id="L17475" class="LineNr">17475 </span>    0x11/imm32/alloc-id:fake
<span id="L17476" class="LineNr">17476 </span>    <a href='mu.subx.html#L17477'>_Primitive-increment-esi</a>/imm32/next
<span id="L17477" class="LineNr">17477 </span><span class="subxMinorFunction">_Primitive-increment-esi</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17478" class="LineNr">17478 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17479" class="LineNr">17479 </span>    <span class="subxComment"># var/esi &lt;- increment =&gt; 46/increment-esi</span>
<span id="L17480" class="LineNr">17480 </span>    0x11/imm32/alloc-id:fake
<span id="L17481" class="LineNr">17481 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17482" class="LineNr">17482 </span>    0/imm32/no-inouts
<span id="L17483" class="LineNr">17483 </span>    0/imm32/no-inouts
<span id="L17484" class="LineNr">17484 </span>    0x11/imm32/alloc-id:fake
<span id="L17485" class="LineNr">17485 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20510'>Single-int-var-in-esi</a></span>/imm32/outputs
<span id="L17486" class="LineNr">17486 </span>    0x11/imm32/alloc-id:fake
<span id="L17487" class="LineNr">17487 </span>    <a href='mu.subx.html#L20119'>_string_46_increment_esi</a>/imm32/subx-name
<span id="L17488" class="LineNr">17488 </span>    0/imm32/no-rm32
<span id="L17489" class="LineNr">17489 </span>    0/imm32/no-r32
<span id="L17490" class="LineNr">17490 </span>    0/imm32/no-imm32
<span id="L17491" class="LineNr">17491 </span>    0/imm32/no-imm8
<span id="L17492" class="LineNr">17492 </span>    0/imm32/no-disp32
<span id="L17493" class="LineNr">17493 </span>    0/imm32/output-is-write-only
<span id="L17494" class="LineNr">17494 </span>    0x11/imm32/alloc-id:fake
<span id="L17495" class="LineNr">17495 </span>    <a href='mu.subx.html#L17496'>_Primitive-increment-edi</a>/imm32/next
<span id="L17496" class="LineNr">17496 </span><span class="subxMinorFunction">_Primitive-increment-edi</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17497" class="LineNr">17497 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17498" class="LineNr">17498 </span>    <span class="subxComment"># var/edi &lt;- increment =&gt; 47/increment-edi</span>
<span id="L17499" class="LineNr">17499 </span>    0x11/imm32/alloc-id:fake
<span id="L17500" class="LineNr">17500 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17501" class="LineNr">17501 </span>    0/imm32/no-inouts
<span id="L17502" class="LineNr">17502 </span>    0/imm32/no-inouts
<span id="L17503" class="LineNr">17503 </span>    0x11/imm32/alloc-id:fake
<span id="L17504" class="LineNr">17504 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20528'>Single-int-var-in-edi</a></span>/imm32/outputs
<span id="L17505" class="LineNr">17505 </span>    0x11/imm32/alloc-id:fake
<span id="L17506" class="LineNr">17506 </span>    <a href='mu.subx.html#L20124'>_string_47_increment_edi</a>/imm32/subx-name
<span id="L17507" class="LineNr">17507 </span>    0/imm32/no-rm32
<span id="L17508" class="LineNr">17508 </span>    0/imm32/no-r32
<span id="L17509" class="LineNr">17509 </span>    0/imm32/no-imm32
<span id="L17510" class="LineNr">17510 </span>    0/imm32/no-imm8
<span id="L17511" class="LineNr">17511 </span>    0/imm32/no-disp32
<span id="L17512" class="LineNr">17512 </span>    0/imm32/output-is-write-only
<span id="L17513" class="LineNr">17513 </span>    0x11/imm32/alloc-id:fake
<span id="L17514" class="LineNr">17514 </span>    <a href='mu.subx.html#L17515'>_Primitive-decrement-eax</a>/imm32/next
<span id="L17515" class="LineNr">17515 </span><span class="subxMinorFunction">_Primitive-decrement-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17516" class="LineNr">17516 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17517" class="LineNr">17517 </span>    <span class="subxComment"># var/eax &lt;- decrement =&gt; 48/decrement-eax</span>
<span id="L17518" class="LineNr">17518 </span>    0x11/imm32/alloc-id:fake
<span id="L17519" class="LineNr">17519 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17520" class="LineNr">17520 </span>    0/imm32/no-inouts
<span id="L17521" class="LineNr">17521 </span>    0/imm32/no-inouts
<span id="L17522" class="LineNr">17522 </span>    0x11/imm32/alloc-id:fake
<span id="L17523" class="LineNr">17523 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L17524" class="LineNr">17524 </span>    0x11/imm32/alloc-id:fake
<span id="L17525" class="LineNr">17525 </span>    <a href='mu.subx.html#L20129'>_string_48_decrement_eax</a>/imm32/subx-name
<span id="L17526" class="LineNr">17526 </span>    0/imm32/no-rm32
<span id="L17527" class="LineNr">17527 </span>    0/imm32/no-r32
<span id="L17528" class="LineNr">17528 </span>    0/imm32/no-imm32
<span id="L17529" class="LineNr">17529 </span>    0/imm32/no-imm8
<span id="L17530" class="LineNr">17530 </span>    0/imm32/no-disp32
<span id="L17531" class="LineNr">17531 </span>    0/imm32/output-is-write-only
<span id="L17532" class="LineNr">17532 </span>    0x11/imm32/alloc-id:fake
<span id="L17533" class="LineNr">17533 </span>    <a href='mu.subx.html#L17534'>_Primitive-decrement-ecx</a>/imm32/next
<span id="L17534" class="LineNr">17534 </span><span class="subxMinorFunction">_Primitive-decrement-ecx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17535" class="LineNr">17535 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17536" class="LineNr">17536 </span>    <span class="subxComment"># var/ecx &lt;- decrement =&gt; 49/decrement-ecx</span>
<span id="L17537" class="LineNr">17537 </span>    0x11/imm32/alloc-id:fake
<span id="L17538" class="LineNr">17538 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17539" class="LineNr">17539 </span>    0/imm32/no-inouts
<span id="L17540" class="LineNr">17540 </span>    0/imm32/no-inouts
<span id="L17541" class="LineNr">17541 </span>    0x11/imm32/alloc-id:fake
<span id="L17542" class="LineNr">17542 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20456'>Single-int-var-in-ecx</a></span>/imm32/outputs
<span id="L17543" class="LineNr">17543 </span>    0x11/imm32/alloc-id:fake
<span id="L17544" class="LineNr">17544 </span>    <a href='mu.subx.html#L20134'>_string_49_decrement_ecx</a>/imm32/subx-name
<span id="L17545" class="LineNr">17545 </span>    0/imm32/no-rm32
<span id="L17546" class="LineNr">17546 </span>    0/imm32/no-r32
<span id="L17547" class="LineNr">17547 </span>    0/imm32/no-imm32
<span id="L17548" class="LineNr">17548 </span>    0/imm32/no-imm8
<span id="L17549" class="LineNr">17549 </span>    0/imm32/no-disp32
<span id="L17550" class="LineNr">17550 </span>    0/imm32/output-is-write-only
<span id="L17551" class="LineNr">17551 </span>    0x11/imm32/alloc-id:fake
<span id="L17552" class="LineNr">17552 </span>    <a href='mu.subx.html#L17553'>_Primitive-decrement-edx</a>/imm32/next
<span id="L17553" class="LineNr">17553 </span><span class="subxMinorFunction">_Primitive-decrement-edx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17554" class="LineNr">17554 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17555" class="LineNr">17555 </span>    <span class="subxComment"># var/edx &lt;- decrement =&gt; 4a/decrement-edx</span>
<span id="L17556" class="LineNr">17556 </span>    0x11/imm32/alloc-id:fake
<span id="L17557" class="LineNr">17557 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17558" class="LineNr">17558 </span>    0/imm32/no-inouts
<span id="L17559" class="LineNr">17559 </span>    0/imm32/no-inouts
<span id="L17560" class="LineNr">17560 </span>    0x11/imm32/alloc-id:fake
<span id="L17561" class="LineNr">17561 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20474'>Single-int-var-in-edx</a></span>/imm32/outputs
<span id="L17562" class="LineNr">17562 </span>    0x11/imm32/alloc-id:fake
<span id="L17563" class="LineNr">17563 </span>    <a href='mu.subx.html#L20139'>_string_4a_decrement_edx</a>/imm32/subx-name
<span id="L17564" class="LineNr">17564 </span>    0/imm32/no-rm32
<span id="L17565" class="LineNr">17565 </span>    0/imm32/no-r32
<span id="L17566" class="LineNr">17566 </span>    0/imm32/no-imm32
<span id="L17567" class="LineNr">17567 </span>    0/imm32/no-imm8
<span id="L17568" class="LineNr">17568 </span>    0/imm32/no-disp32
<span id="L17569" class="LineNr">17569 </span>    0/imm32/output-is-write-only
<span id="L17570" class="LineNr">17570 </span>    0x11/imm32/alloc-id:fake
<span id="L17571" class="LineNr">17571 </span>    <a href='mu.subx.html#L17572'>_Primitive-decrement-ebx</a>/imm32/next
<span id="L17572" class="LineNr">17572 </span><span class="subxMinorFunction">_Primitive-decrement-ebx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17573" class="LineNr">17573 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17574" class="LineNr">17574 </span>    <span class="subxComment"># var/ebx &lt;- decrement =&gt; 4b/decrement-ebx</span>
<span id="L17575" class="LineNr">17575 </span>    0x11/imm32/alloc-id:fake
<span id="L17576" class="LineNr">17576 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17577" class="LineNr">17577 </span>    0/imm32/no-inouts
<span id="L17578" class="LineNr">17578 </span>    0/imm32/no-inouts
<span id="L17579" class="LineNr">17579 </span>    0x11/imm32/alloc-id:fake
<span id="L17580" class="LineNr">17580 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20492'>Single-int-var-in-ebx</a></span>/imm32/outputs
<span id="L17581" class="LineNr">17581 </span>    0x11/imm32/alloc-id:fake
<span id="L17582" class="LineNr">17582 </span>    <a href='mu.subx.html#L20144'>_string_4b_decrement_ebx</a>/imm32/subx-name
<span id="L17583" class="LineNr">17583 </span>    0/imm32/no-rm32
<span id="L17584" class="LineNr">17584 </span>    0/imm32/no-r32
<span id="L17585" class="LineNr">17585 </span>    0/imm32/no-imm32
<span id="L17586" class="LineNr">17586 </span>    0/imm32/no-imm8
<span id="L17587" class="LineNr">17587 </span>    0/imm32/no-disp32
<span id="L17588" class="LineNr">17588 </span>    0/imm32/output-is-write-only
<span id="L17589" class="LineNr">17589 </span>    0x11/imm32/alloc-id:fake
<span id="L17590" class="LineNr">17590 </span>    <a href='mu.subx.html#L17591'>_Primitive-decrement-esi</a>/imm32/next
<span id="L17591" class="LineNr">17591 </span><span class="subxMinorFunction">_Primitive-decrement-esi</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17592" class="LineNr">17592 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17593" class="LineNr">17593 </span>    <span class="subxComment"># var/esi &lt;- decrement =&gt; 4e/decrement-esi</span>
<span id="L17594" class="LineNr">17594 </span>    0x11/imm32/alloc-id:fake
<span id="L17595" class="LineNr">17595 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17596" class="LineNr">17596 </span>    0/imm32/no-inouts
<span id="L17597" class="LineNr">17597 </span>    0/imm32/no-inouts
<span id="L17598" class="LineNr">17598 </span>    0x11/imm32/alloc-id:fake
<span id="L17599" class="LineNr">17599 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20510'>Single-int-var-in-esi</a></span>/imm32/outputs
<span id="L17600" class="LineNr">17600 </span>    0x11/imm32/alloc-id:fake
<span id="L17601" class="LineNr">17601 </span>    <a href='mu.subx.html#L20149'>_string_4e_decrement_esi</a>/imm32/subx-name
<span id="L17602" class="LineNr">17602 </span>    0/imm32/no-rm32
<span id="L17603" class="LineNr">17603 </span>    0/imm32/no-r32
<span id="L17604" class="LineNr">17604 </span>    0/imm32/no-imm32
<span id="L17605" class="LineNr">17605 </span>    0/imm32/no-imm8
<span id="L17606" class="LineNr">17606 </span>    0/imm32/no-disp32
<span id="L17607" class="LineNr">17607 </span>    0/imm32/output-is-write-only
<span id="L17608" class="LineNr">17608 </span>    0x11/imm32/alloc-id:fake
<span id="L17609" class="LineNr">17609 </span>    <a href='mu.subx.html#L17610'>_Primitive-decrement-edi</a>/imm32/next
<span id="L17610" class="LineNr">17610 </span><span class="subxMinorFunction">_Primitive-decrement-edi</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17611" class="LineNr">17611 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17612" class="LineNr">17612 </span>    <span class="subxComment"># var/edi &lt;- decrement =&gt; 4f/decrement-edi</span>
<span id="L17613" class="LineNr">17613 </span>    0x11/imm32/alloc-id:fake
<span id="L17614" class="LineNr">17614 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17615" class="LineNr">17615 </span>    0/imm32/no-inouts
<span id="L17616" class="LineNr">17616 </span>    0/imm32/no-inouts
<span id="L17617" class="LineNr">17617 </span>    0x11/imm32/alloc-id:fake
<span id="L17618" class="LineNr">17618 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20528'>Single-int-var-in-edi</a></span>/imm32/outputs
<span id="L17619" class="LineNr">17619 </span>    0x11/imm32/alloc-id:fake
<span id="L17620" class="LineNr">17620 </span>    <a href='mu.subx.html#L20154'>_string_4f_decrement_edi</a>/imm32/subx-name
<span id="L17621" class="LineNr">17621 </span>    0/imm32/no-rm32
<span id="L17622" class="LineNr">17622 </span>    0/imm32/no-r32
<span id="L17623" class="LineNr">17623 </span>    0/imm32/no-imm32
<span id="L17624" class="LineNr">17624 </span>    0/imm32/no-imm8
<span id="L17625" class="LineNr">17625 </span>    0/imm32/no-disp32
<span id="L17626" class="LineNr">17626 </span>    0/imm32/output-is-write-only
<span id="L17627" class="LineNr">17627 </span>    0x11/imm32/alloc-id:fake
<span id="L17628" class="LineNr">17628 </span>    <a href='mu.subx.html#L17629'>_Primitive-increment-mem</a>/imm32/next
<span id="L17629" class="LineNr">17629 </span><span class="subxMinorFunction">_Primitive-increment-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17630" class="LineNr">17630 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17631" class="LineNr">17631 </span>    <span class="subxComment"># increment var =&gt; ff 0/subop/increment *(ebp+__)</span>
<span id="L17632" class="LineNr">17632 </span>    0x11/imm32/alloc-id:fake
<span id="L17633" class="LineNr">17633 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17634" class="LineNr">17634 </span>    0x11/imm32/alloc-id:fake
<span id="L17635" class="LineNr">17635 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L17636" class="LineNr">17636 </span>    0/imm32/no-outputs
<span id="L17637" class="LineNr">17637 </span>    0/imm32/no-outputs
<span id="L17638" class="LineNr">17638 </span>    0x11/imm32/alloc-id:fake
<span id="L17639" class="LineNr">17639 </span>    <a href='mu.subx.html#L20264'>_string_ff_subop_increment</a>/imm32/subx-name
<span id="L17640" class="LineNr">17640 </span>    1/imm32/rm32-is-first-inout
<span id="L17641" class="LineNr">17641 </span>    0/imm32/no-r32
<span id="L17642" class="LineNr">17642 </span>    0/imm32/no-imm32
<span id="L17643" class="LineNr">17643 </span>    0/imm32/no-imm8
<span id="L17644" class="LineNr">17644 </span>    0/imm32/no-disp32
<span id="L17645" class="LineNr">17645 </span>    0/imm32/output-is-write-only
<span id="L17646" class="LineNr">17646 </span>    0x11/imm32/alloc-id:fake
<span id="L17647" class="LineNr">17647 </span>    <a href='mu.subx.html#L17648'>_Primitive-increment-reg</a>/imm32/next
<span id="L17648" class="LineNr">17648 </span><span class="subxMinorFunction">_Primitive-increment-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17649" class="LineNr">17649 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17650" class="LineNr">17650 </span>    <span class="subxComment"># var/reg &lt;- increment =&gt; ff 0/subop/increment %__</span>
<span id="L17651" class="LineNr">17651 </span>    0x11/imm32/alloc-id:fake
<span id="L17652" class="LineNr">17652 </span>    <a href='mu.subx.html#L19742'>_string-increment</a>/imm32/name
<span id="L17653" class="LineNr">17653 </span>    0/imm32/no-inouts
<span id="L17654" class="LineNr">17654 </span>    0/imm32/no-inouts
<span id="L17655" class="LineNr">17655 </span>    0x11/imm32/alloc-id:fake
<span id="L17656" class="LineNr">17656 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17657" class="LineNr">17657 </span>    0x11/imm32/alloc-id:fake
<span id="L17658" class="LineNr">17658 </span>    <a href='mu.subx.html#L20264'>_string_ff_subop_increment</a>/imm32/subx-name
<span id="L17659" class="LineNr">17659 </span>    3/imm32/rm32-is-first-output
<span id="L17660" class="LineNr">17660 </span>    0/imm32/no-r32
<span id="L17661" class="LineNr">17661 </span>    0/imm32/no-imm32
<span id="L17662" class="LineNr">17662 </span>    0/imm32/no-imm8
<span id="L17663" class="LineNr">17663 </span>    0/imm32/no-disp32
<span id="L17664" class="LineNr">17664 </span>    0/imm32/output-is-write-only
<span id="L17665" class="LineNr">17665 </span>    0x11/imm32/alloc-id:fake
<span id="L17666" class="LineNr">17666 </span>    <a href='mu.subx.html#L17667'>_Primitive-decrement-mem</a>/imm32/next
<span id="L17667" class="LineNr">17667 </span><span class="subxMinorFunction">_Primitive-decrement-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17668" class="LineNr">17668 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17669" class="LineNr">17669 </span>    <span class="subxComment"># decrement var =&gt; ff 1/subop/decrement *(ebp+__)</span>
<span id="L17670" class="LineNr">17670 </span>    0x11/imm32/alloc-id:fake
<span id="L17671" class="LineNr">17671 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17672" class="LineNr">17672 </span>    0x11/imm32/alloc-id:fake
<span id="L17673" class="LineNr">17673 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L17674" class="LineNr">17674 </span>    0/imm32/no-outputs
<span id="L17675" class="LineNr">17675 </span>    0/imm32/no-outputs
<span id="L17676" class="LineNr">17676 </span>    0x11/imm32/alloc-id:fake
<span id="L17677" class="LineNr">17677 </span>    <a href='mu.subx.html#L20269'>_string_ff_subop_decrement</a>/imm32/subx-name
<span id="L17678" class="LineNr">17678 </span>    1/imm32/rm32-is-first-inout
<span id="L17679" class="LineNr">17679 </span>    0/imm32/no-r32
<span id="L17680" class="LineNr">17680 </span>    0/imm32/no-imm32
<span id="L17681" class="LineNr">17681 </span>    0/imm32/no-imm8
<span id="L17682" class="LineNr">17682 </span>    0/imm32/no-disp32
<span id="L17683" class="LineNr">17683 </span>    0/imm32/output-is-write-only
<span id="L17684" class="LineNr">17684 </span>    0x11/imm32/alloc-id:fake
<span id="L17685" class="LineNr">17685 </span>    <a href='mu.subx.html#L17686'>_Primitive-decrement-reg</a>/imm32/next
<span id="L17686" class="LineNr">17686 </span><span class="subxMinorFunction">_Primitive-decrement-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17687" class="LineNr">17687 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17688" class="LineNr">17688 </span>    <span class="subxComment"># var/reg &lt;- decrement =&gt; ff 1/subop/decrement %__</span>
<span id="L17689" class="LineNr">17689 </span>    0x11/imm32/alloc-id:fake
<span id="L17690" class="LineNr">17690 </span>    <a href='mu.subx.html#L19737'>_string-decrement</a>/imm32/name
<span id="L17691" class="LineNr">17691 </span>    0/imm32/no-inouts
<span id="L17692" class="LineNr">17692 </span>    0/imm32/no-inouts
<span id="L17693" class="LineNr">17693 </span>    0x11/imm32/alloc-id:fake
<span id="L17694" class="LineNr">17694 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17695" class="LineNr">17695 </span>    0x11/imm32/alloc-id:fake
<span id="L17696" class="LineNr">17696 </span>    <a href='mu.subx.html#L20269'>_string_ff_subop_decrement</a>/imm32/subx-name
<span id="L17697" class="LineNr">17697 </span>    3/imm32/rm32-is-first-output
<span id="L17698" class="LineNr">17698 </span>    0/imm32/no-r32
<span id="L17699" class="LineNr">17699 </span>    0/imm32/no-imm32
<span id="L17700" class="LineNr">17700 </span>    0/imm32/no-imm8
<span id="L17701" class="LineNr">17701 </span>    0/imm32/no-disp32
<span id="L17702" class="LineNr">17702 </span>    0/imm32/output-is-write-only
<span id="L17703" class="LineNr">17703 </span>    0x11/imm32/alloc-id:fake
<span id="L17704" class="LineNr">17704 </span>    <a href='mu.subx.html#L17706'>_Primitive-add-to-eax</a>/imm32/next
<span id="L17705" class="LineNr">17705 </span><span class="subxH1Comment"># - add</span>
<span id="L17706" class="LineNr">17706 </span><span class="subxMinorFunction">_Primitive-add-to-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17707" class="LineNr">17707 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17708" class="LineNr">17708 </span>    <span class="subxComment"># var/eax &lt;- add lit =&gt; 05/add-to-eax lit/imm32</span>
<span id="L17709" class="LineNr">17709 </span>    0x11/imm32/alloc-id:fake
<span id="L17710" class="LineNr">17710 </span>    <a href='mu.subx.html#L19632'>_string-add</a>/imm32/name
<span id="L17711" class="LineNr">17711 </span>    0x11/imm32/alloc-id:fake
<span id="L17712" class="LineNr">17712 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L17713" class="LineNr">17713 </span>    0x11/imm32/alloc-id:fake
<span id="L17714" class="LineNr">17714 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L17715" class="LineNr">17715 </span>    0x11/imm32/alloc-id:fake
<span id="L17716" class="LineNr">17716 </span>    <a href='mu.subx.html#L19864'>_string_05_add_to_eax</a>/imm32/subx-name
<span id="L17717" class="LineNr">17717 </span>    0/imm32/no-rm32
<span id="L17718" class="LineNr">17718 </span>    0/imm32/no-r32
<span id="L17719" class="LineNr">17719 </span>    1/imm32/imm32-is-first-inout
<span id="L17720" class="LineNr">17720 </span>    0/imm32/no-imm8
<span id="L17721" class="LineNr">17721 </span>    0/imm32/no-disp32
<span id="L17722" class="LineNr">17722 </span>    0/imm32/output-is-write-only
<span id="L17723" class="LineNr">17723 </span>    0x11/imm32/alloc-id:fake
<span id="L17724" class="LineNr">17724 </span>    <a href='mu.subx.html#L17725'>_Primitive-add-reg-to-reg</a>/imm32/next
<span id="L17725" class="LineNr">17725 </span><span class="subxMinorFunction">_Primitive-add-reg-to-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17726" class="LineNr">17726 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17727" class="LineNr">17727 </span>    <span class="subxComment"># var1/reg &lt;- add var2/reg =&gt; 01/add-to var1/rm32 var2/r32</span>
<span id="L17728" class="LineNr">17728 </span>    0x11/imm32/alloc-id:fake
<span id="L17729" class="LineNr">17729 </span>    <a href='mu.subx.html#L19632'>_string-add</a>/imm32/name
<span id="L17730" class="LineNr">17730 </span>    0x11/imm32/alloc-id:fake
<span id="L17731" class="LineNr">17731 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L17732" class="LineNr">17732 </span>    0x11/imm32/alloc-id:fake
<span id="L17733" class="LineNr">17733 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17734" class="LineNr">17734 </span>    0x11/imm32/alloc-id:fake
<span id="L17735" class="LineNr">17735 </span>    <a href='mu.subx.html#L19854'>_string_01_add_to</a>/imm32/subx-name
<span id="L17736" class="LineNr">17736 </span>    3/imm32/rm32-is-first-output
<span id="L17737" class="LineNr">17737 </span>    1/imm32/r32-is-first-inout
<span id="L17738" class="LineNr">17738 </span>    0/imm32/no-imm32
<span id="L17739" class="LineNr">17739 </span>    0/imm32/no-imm8
<span id="L17740" class="LineNr">17740 </span>    0/imm32/no-disp32
<span id="L17741" class="LineNr">17741 </span>    0/imm32/output-is-write-only
<span id="L17742" class="LineNr">17742 </span>    0x11/imm32/alloc-id:fake
<span id="L17743" class="LineNr">17743 </span>    <a href='mu.subx.html#L17744'>_Primitive-add-reg-to-mem</a>/imm32/next
<span id="L17744" class="LineNr">17744 </span><span class="subxMinorFunction">_Primitive-add-reg-to-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17745" class="LineNr">17745 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17746" class="LineNr">17746 </span>    <span class="subxComment"># add-to var1 var2/reg =&gt; 01/add-to var1 var2/r32</span>
<span id="L17747" class="LineNr">17747 </span>    0x11/imm32/alloc-id:fake
<span id="L17748" class="LineNr">17748 </span>    <a href='mu.subx.html#L19642'>_string-add-to</a>/imm32/name
<span id="L17749" class="LineNr">17749 </span>    0x11/imm32/alloc-id:fake
<span id="L17750" class="LineNr">17750 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L17751" class="LineNr">17751 </span>    0/imm32/no-outputs
<span id="L17752" class="LineNr">17752 </span>    0/imm32/no-outputs
<span id="L17753" class="LineNr">17753 </span>    0x11/imm32/alloc-id:fake
<span id="L17754" class="LineNr">17754 </span>    <a href='mu.subx.html#L19854'>_string_01_add_to</a>/imm32/subx-name
<span id="L17755" class="LineNr">17755 </span>    1/imm32/rm32-is-first-inout
<span id="L17756" class="LineNr">17756 </span>    2/imm32/r32-is-second-inout
<span id="L17757" class="LineNr">17757 </span>    0/imm32/no-imm32
<span id="L17758" class="LineNr">17758 </span>    0/imm32/no-imm8
<span id="L17759" class="LineNr">17759 </span>    0/imm32/no-disp32
<span id="L17760" class="LineNr">17760 </span>    0/imm32/output-is-write-only
<span id="L17761" class="LineNr">17761 </span>    0x11/imm32/alloc-id:fake
<span id="L17762" class="LineNr">17762 </span>    <a href='mu.subx.html#L17763'>_Primitive-add-mem-to-reg</a>/imm32/next
<span id="L17763" class="LineNr">17763 </span><span class="subxMinorFunction">_Primitive-add-mem-to-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17764" class="LineNr">17764 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17765" class="LineNr">17765 </span>    <span class="subxComment"># var1/reg &lt;- add var2 =&gt; 03/add var2/rm32 var1/r32</span>
<span id="L17766" class="LineNr">17766 </span>    0x11/imm32/alloc-id:fake
<span id="L17767" class="LineNr">17767 </span>    <a href='mu.subx.html#L19632'>_string-add</a>/imm32/name
<span id="L17768" class="LineNr">17768 </span>    0x11/imm32/alloc-id:fake
<span id="L17769" class="LineNr">17769 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L17770" class="LineNr">17770 </span>    0x11/imm32/alloc-id:fake
<span id="L17771" class="LineNr">17771 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17772" class="LineNr">17772 </span>    0x11/imm32/alloc-id:fake
<span id="L17773" class="LineNr">17773 </span>    <a href='mu.subx.html#L19859'>_string_03_add</a>/imm32/subx-name
<span id="L17774" class="LineNr">17774 </span>    1/imm32/rm32-is-first-inout
<span id="L17775" class="LineNr">17775 </span>    3/imm32/r32-is-first-output
<span id="L17776" class="LineNr">17776 </span>    0/imm32/no-imm32
<span id="L17777" class="LineNr">17777 </span>    0/imm32/no-imm8
<span id="L17778" class="LineNr">17778 </span>    0/imm32/no-disp32
<span id="L17779" class="LineNr">17779 </span>    0/imm32/output-is-write-only
<span id="L17780" class="LineNr">17780 </span>    0x11/imm32/alloc-id:fake
<span id="L17781" class="LineNr">17781 </span>    <a href='mu.subx.html#L17782'>_Primitive-add-lit-to-reg</a>/imm32/next
<span id="L17782" class="LineNr">17782 </span><span class="subxMinorFunction">_Primitive-add-lit-to-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17783" class="LineNr">17783 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17784" class="LineNr">17784 </span>    <span class="subxComment"># var1/reg &lt;- add lit =&gt; 81 0/subop/add var1/rm32 lit/imm32</span>
<span id="L17785" class="LineNr">17785 </span>    0x11/imm32/alloc-id:fake
<span id="L17786" class="LineNr">17786 </span>    <a href='mu.subx.html#L19632'>_string-add</a>/imm32/name
<span id="L17787" class="LineNr">17787 </span>    0x11/imm32/alloc-id:fake
<span id="L17788" class="LineNr">17788 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L17789" class="LineNr">17789 </span>    0x11/imm32/alloc-id:fake
<span id="L17790" class="LineNr">17790 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17791" class="LineNr">17791 </span>    0x11/imm32/alloc-id:fake
<span id="L17792" class="LineNr">17792 </span>    <a href='mu.subx.html#L20159'>_string_81_subop_add</a>/imm32/subx-name
<span id="L17793" class="LineNr">17793 </span>    3/imm32/rm32-is-first-output
<span id="L17794" class="LineNr">17794 </span>    0/imm32/no-r32
<span id="L17795" class="LineNr">17795 </span>    1/imm32/imm32-is-first-inout
<span id="L17796" class="LineNr">17796 </span>    0/imm32/no-imm8
<span id="L17797" class="LineNr">17797 </span>    0/imm32/no-disp32
<span id="L17798" class="LineNr">17798 </span>    0/imm32/output-is-write-only
<span id="L17799" class="LineNr">17799 </span>    0x11/imm32/alloc-id:fake
<span id="L17800" class="LineNr">17800 </span>    <a href='mu.subx.html#L17801'>_Primitive-add-lit-to-mem</a>/imm32/next
<span id="L17801" class="LineNr">17801 </span><span class="subxMinorFunction">_Primitive-add-lit-to-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17802" class="LineNr">17802 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17803" class="LineNr">17803 </span>    <span class="subxComment"># add-to var1, lit =&gt; 81 0/subop/add var1/rm32 lit/imm32</span>
<span id="L17804" class="LineNr">17804 </span>    0x11/imm32/alloc-id:fake
<span id="L17805" class="LineNr">17805 </span>    <a href='mu.subx.html#L19642'>_string-add-to</a>/imm32/name
<span id="L17806" class="LineNr">17806 </span>    0x11/imm32/alloc-id:fake
<span id="L17807" class="LineNr">17807 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L17808" class="LineNr">17808 </span>    0/imm32/no-outputs
<span id="L17809" class="LineNr">17809 </span>    0/imm32/no-outputs
<span id="L17810" class="LineNr">17810 </span>    0x11/imm32/alloc-id:fake
<span id="L17811" class="LineNr">17811 </span>    <a href='mu.subx.html#L20159'>_string_81_subop_add</a>/imm32/subx-name
<span id="L17812" class="LineNr">17812 </span>    1/imm32/rm32-is-first-inout
<span id="L17813" class="LineNr">17813 </span>    0/imm32/no-r32
<span id="L17814" class="LineNr">17814 </span>    2/imm32/imm32-is-second-inout
<span id="L17815" class="LineNr">17815 </span>    0/imm32/no-imm8
<span id="L17816" class="LineNr">17816 </span>    0/imm32/no-disp32
<span id="L17817" class="LineNr">17817 </span>    0/imm32/output-is-write-only
<span id="L17818" class="LineNr">17818 </span>    0x11/imm32/alloc-id:fake
<span id="L17819" class="LineNr">17819 </span>    <a href='mu.subx.html#L17821'>_Primitive-subtract-from-eax</a>/imm32/next
<span id="L17820" class="LineNr">17820 </span><span class="subxH1Comment"># - subtract</span>
<span id="L17821" class="LineNr">17821 </span><span class="subxMinorFunction">_Primitive-subtract-from-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17822" class="LineNr">17822 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17823" class="LineNr">17823 </span>    <span class="subxComment"># var/eax &lt;- subtract lit =&gt; 2d/subtract-from-eax lit/imm32</span>
<span id="L17824" class="LineNr">17824 </span>    0x11/imm32/alloc-id:fake
<span id="L17825" class="LineNr">17825 </span>    <a href='mu.subx.html#L19817'>_string-subtract</a>/imm32/name
<span id="L17826" class="LineNr">17826 </span>    0x11/imm32/alloc-id:fake
<span id="L17827" class="LineNr">17827 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L17828" class="LineNr">17828 </span>    0x11/imm32/alloc-id:fake
<span id="L17829" class="LineNr">17829 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L17830" class="LineNr">17830 </span>    0x11/imm32/alloc-id:fake
<span id="L17831" class="LineNr">17831 </span>    <a href='mu.subx.html#L20064'>_string_2d_subtract_from_eax</a>/imm32/subx-name
<span id="L17832" class="LineNr">17832 </span>    0/imm32/no-rm32
<span id="L17833" class="LineNr">17833 </span>    0/imm32/no-r32
<span id="L17834" class="LineNr">17834 </span>    1/imm32/imm32-is-first-inout
<span id="L17835" class="LineNr">17835 </span>    0/imm32/no-imm8
<span id="L17836" class="LineNr">17836 </span>    0/imm32/no-disp32
<span id="L17837" class="LineNr">17837 </span>    0/imm32/output-is-write-only
<span id="L17838" class="LineNr">17838 </span>    0x11/imm32/alloc-id:fake
<span id="L17839" class="LineNr">17839 </span>    <a href='mu.subx.html#L17840'>_Primitive-subtract-reg-from-reg</a>/imm32/next
<span id="L17840" class="LineNr">17840 </span><span class="subxMinorFunction">_Primitive-subtract-reg-from-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17841" class="LineNr">17841 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17842" class="LineNr">17842 </span>    <span class="subxComment"># var1/reg &lt;- subtract var2/reg =&gt; 29/subtract-from var1/rm32 var2/r32</span>
<span id="L17843" class="LineNr">17843 </span>    0x11/imm32/alloc-id:fake
<span id="L17844" class="LineNr">17844 </span>    <a href='mu.subx.html#L19817'>_string-subtract</a>/imm32/name
<span id="L17845" class="LineNr">17845 </span>    0x11/imm32/alloc-id:fake
<span id="L17846" class="LineNr">17846 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L17847" class="LineNr">17847 </span>    0x11/imm32/alloc-id:fake
<span id="L17848" class="LineNr">17848 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17849" class="LineNr">17849 </span>    0x11/imm32/alloc-id:fake
<span id="L17850" class="LineNr">17850 </span>    <a href='mu.subx.html#L20054'>_string_29_subtract_from</a>/imm32/subx-name
<span id="L17851" class="LineNr">17851 </span>    3/imm32/rm32-is-first-output
<span id="L17852" class="LineNr">17852 </span>    1/imm32/r32-is-first-inout
<span id="L17853" class="LineNr">17853 </span>    0/imm32/no-imm32
<span id="L17854" class="LineNr">17854 </span>    0/imm32/no-imm8
<span id="L17855" class="LineNr">17855 </span>    0/imm32/no-disp32
<span id="L17856" class="LineNr">17856 </span>    0/imm32/output-is-write-only
<span id="L17857" class="LineNr">17857 </span>    0x11/imm32/alloc-id:fake
<span id="L17858" class="LineNr">17858 </span>    <a href='mu.subx.html#L17859'>_Primitive-subtract-reg-from-mem</a>/imm32/next
<span id="L17859" class="LineNr">17859 </span><span class="subxMinorFunction">_Primitive-subtract-reg-from-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17860" class="LineNr">17860 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17861" class="LineNr">17861 </span>    <span class="subxComment"># subtract-from var1 var2/reg =&gt; 29/subtract-from var1 var2/r32</span>
<span id="L17862" class="LineNr">17862 </span>    0x11/imm32/alloc-id:fake
<span id="L17863" class="LineNr">17863 </span>    <a href='mu.subx.html#L19822'>_string-subtract-from</a>/imm32/name
<span id="L17864" class="LineNr">17864 </span>    0x11/imm32/alloc-id:fake
<span id="L17865" class="LineNr">17865 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L17866" class="LineNr">17866 </span>    0/imm32/no-outputs
<span id="L17867" class="LineNr">17867 </span>    0/imm32/no-outputs
<span id="L17868" class="LineNr">17868 </span>    0x11/imm32/alloc-id:fake
<span id="L17869" class="LineNr">17869 </span>    <a href='mu.subx.html#L20054'>_string_29_subtract_from</a>/imm32/subx-name
<span id="L17870" class="LineNr">17870 </span>    1/imm32/rm32-is-first-inout
<span id="L17871" class="LineNr">17871 </span>    2/imm32/r32-is-second-inout
<span id="L17872" class="LineNr">17872 </span>    0/imm32/no-imm32
<span id="L17873" class="LineNr">17873 </span>    0/imm32/no-imm8
<span id="L17874" class="LineNr">17874 </span>    0/imm32/no-disp32
<span id="L17875" class="LineNr">17875 </span>    0/imm32/output-is-write-only
<span id="L17876" class="LineNr">17876 </span>    0x11/imm32/alloc-id:fake
<span id="L17877" class="LineNr">17877 </span>    <a href='mu.subx.html#L17878'>_Primitive-subtract-mem-from-reg</a>/imm32/next
<span id="L17878" class="LineNr">17878 </span><span class="subxMinorFunction">_Primitive-subtract-mem-from-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17879" class="LineNr">17879 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17880" class="LineNr">17880 </span>    <span class="subxComment"># var1/reg &lt;- subtract var2 =&gt; 2b/subtract var2/rm32 var1/r32</span>
<span id="L17881" class="LineNr">17881 </span>    0x11/imm32/alloc-id:fake
<span id="L17882" class="LineNr">17882 </span>    <a href='mu.subx.html#L19817'>_string-subtract</a>/imm32/name
<span id="L17883" class="LineNr">17883 </span>    0x11/imm32/alloc-id:fake
<span id="L17884" class="LineNr">17884 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L17885" class="LineNr">17885 </span>    0x11/imm32/alloc-id:fake
<span id="L17886" class="LineNr">17886 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17887" class="LineNr">17887 </span>    0x11/imm32/alloc-id:fake
<span id="L17888" class="LineNr">17888 </span>    <a href='mu.subx.html#L20059'>_string_2b_subtract</a>/imm32/subx-name
<span id="L17889" class="LineNr">17889 </span>    1/imm32/rm32-is-first-inout
<span id="L17890" class="LineNr">17890 </span>    3/imm32/r32-is-first-output
<span id="L17891" class="LineNr">17891 </span>    0/imm32/no-imm32
<span id="L17892" class="LineNr">17892 </span>    0/imm32/no-imm8
<span id="L17893" class="LineNr">17893 </span>    0/imm32/no-disp32
<span id="L17894" class="LineNr">17894 </span>    0/imm32/output-is-write-only
<span id="L17895" class="LineNr">17895 </span>    0x11/imm32/alloc-id:fake
<span id="L17896" class="LineNr">17896 </span>    <a href='mu.subx.html#L17897'>_Primitive-subtract-lit-from-reg</a>/imm32/next
<span id="L17897" class="LineNr">17897 </span><span class="subxMinorFunction">_Primitive-subtract-lit-from-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17898" class="LineNr">17898 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17899" class="LineNr">17899 </span>    <span class="subxComment"># var1/reg &lt;- subtract lit =&gt; 81 5/subop/subtract var1/rm32 lit/imm32</span>
<span id="L17900" class="LineNr">17900 </span>    0x11/imm32/alloc-id:fake
<span id="L17901" class="LineNr">17901 </span>    <a href='mu.subx.html#L19817'>_string-subtract</a>/imm32/name
<span id="L17902" class="LineNr">17902 </span>    0x11/imm32/alloc-id:fake
<span id="L17903" class="LineNr">17903 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L17904" class="LineNr">17904 </span>    0x11/imm32/alloc-id:fake
<span id="L17905" class="LineNr">17905 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17906" class="LineNr">17906 </span>    0x11/imm32/alloc-id:fake
<span id="L17907" class="LineNr">17907 </span>    <a href='mu.subx.html#L20174'>_string_81_subop_subtract</a>/imm32/subx-name
<span id="L17908" class="LineNr">17908 </span>    3/imm32/rm32-is-first-output
<span id="L17909" class="LineNr">17909 </span>    0/imm32/no-r32
<span id="L17910" class="LineNr">17910 </span>    1/imm32/imm32-is-first-inout
<span id="L17911" class="LineNr">17911 </span>    0/imm32/no-imm8
<span id="L17912" class="LineNr">17912 </span>    0/imm32/no-disp32
<span id="L17913" class="LineNr">17913 </span>    0/imm32/output-is-write-only
<span id="L17914" class="LineNr">17914 </span>    0x11/imm32/alloc-id:fake
<span id="L17915" class="LineNr">17915 </span>    <a href='mu.subx.html#L17916'>_Primitive-subtract-lit-from-mem</a>/imm32/next
<span id="L17916" class="LineNr">17916 </span><span class="subxMinorFunction">_Primitive-subtract-lit-from-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17917" class="LineNr">17917 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17918" class="LineNr">17918 </span>    <span class="subxComment"># subtract-from var1, lit =&gt; 81 5/subop/subtract var1/rm32 lit/imm32</span>
<span id="L17919" class="LineNr">17919 </span>    0x11/imm32/alloc-id:fake
<span id="L17920" class="LineNr">17920 </span>    <a href='mu.subx.html#L19822'>_string-subtract-from</a>/imm32/name
<span id="L17921" class="LineNr">17921 </span>    0x11/imm32/alloc-id:fake
<span id="L17922" class="LineNr">17922 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L17923" class="LineNr">17923 </span>    0/imm32/no-outputs
<span id="L17924" class="LineNr">17924 </span>    0/imm32/no-outputs
<span id="L17925" class="LineNr">17925 </span>    0x11/imm32/alloc-id:fake
<span id="L17926" class="LineNr">17926 </span>    <a href='mu.subx.html#L20174'>_string_81_subop_subtract</a>/imm32/subx-name
<span id="L17927" class="LineNr">17927 </span>    1/imm32/rm32-is-first-inout
<span id="L17928" class="LineNr">17928 </span>    0/imm32/no-r32
<span id="L17929" class="LineNr">17929 </span>    2/imm32/imm32-is-second-inout
<span id="L17930" class="LineNr">17930 </span>    0/imm32/no-imm8
<span id="L17931" class="LineNr">17931 </span>    0/imm32/no-disp32
<span id="L17932" class="LineNr">17932 </span>    0/imm32/output-is-write-only
<span id="L17933" class="LineNr">17933 </span>    0x11/imm32/alloc-id:fake
<span id="L17934" class="LineNr">17934 </span>    <a href='mu.subx.html#L17936'>_Primitive-and-with-eax</a>/imm32/next
<span id="L17935" class="LineNr">17935 </span><span class="subxH1Comment"># - and</span>
<span id="L17936" class="LineNr">17936 </span><span class="subxMinorFunction">_Primitive-and-with-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17937" class="LineNr">17937 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17938" class="LineNr">17938 </span>    <span class="subxComment"># var/eax &lt;- and lit =&gt; 25/and-with-eax lit/imm32</span>
<span id="L17939" class="LineNr">17939 </span>    0x11/imm32/alloc-id:fake
<span id="L17940" class="LineNr">17940 </span>    <a href='mu.subx.html#L19647'>_string-and</a>/imm32/name
<span id="L17941" class="LineNr">17941 </span>    0x11/imm32/alloc-id:fake
<span id="L17942" class="LineNr">17942 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L17943" class="LineNr">17943 </span>    0x11/imm32/alloc-id:fake
<span id="L17944" class="LineNr">17944 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L17945" class="LineNr">17945 </span>    0x11/imm32/alloc-id:fake
<span id="L17946" class="LineNr">17946 </span>    <a href='mu.subx.html#L20049'>_string_25_and_with_eax</a>/imm32/subx-name
<span id="L17947" class="LineNr">17947 </span>    0/imm32/no-rm32
<span id="L17948" class="LineNr">17948 </span>    0/imm32/no-r32
<span id="L17949" class="LineNr">17949 </span>    1/imm32/imm32-is-first-inout
<span id="L17950" class="LineNr">17950 </span>    0/imm32/no-imm8
<span id="L17951" class="LineNr">17951 </span>    0/imm32/no-disp32
<span id="L17952" class="LineNr">17952 </span>    0/imm32/output-is-write-only
<span id="L17953" class="LineNr">17953 </span>    0x11/imm32/alloc-id:fake
<span id="L17954" class="LineNr">17954 </span>    <a href='mu.subx.html#L17955'>_Primitive-and-reg-with-reg</a>/imm32/next
<span id="L17955" class="LineNr">17955 </span><span class="subxMinorFunction">_Primitive-and-reg-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17956" class="LineNr">17956 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17957" class="LineNr">17957 </span>    <span class="subxComment"># var1/reg &lt;- and var2/reg =&gt; 21/and-with var1/rm32 var2/r32</span>
<span id="L17958" class="LineNr">17958 </span>    0x11/imm32/alloc-id:fake
<span id="L17959" class="LineNr">17959 </span>    <a href='mu.subx.html#L19647'>_string-and</a>/imm32/name
<span id="L17960" class="LineNr">17960 </span>    0x11/imm32/alloc-id:fake
<span id="L17961" class="LineNr">17961 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L17962" class="LineNr">17962 </span>    0x11/imm32/alloc-id:fake
<span id="L17963" class="LineNr">17963 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L17964" class="LineNr">17964 </span>    0x11/imm32/alloc-id:fake
<span id="L17965" class="LineNr">17965 </span>    <a href='mu.subx.html#L20039'>_string_21_and_with</a>/imm32/subx-name
<span id="L17966" class="LineNr">17966 </span>    3/imm32/rm32-is-first-output
<span id="L17967" class="LineNr">17967 </span>    1/imm32/r32-is-first-inout
<span id="L17968" class="LineNr">17968 </span>    0/imm32/no-imm32
<span id="L17969" class="LineNr">17969 </span>    0/imm32/no-imm8
<span id="L17970" class="LineNr">17970 </span>    0/imm32/no-disp32
<span id="L17971" class="LineNr">17971 </span>    0/imm32/output-is-write-only
<span id="L17972" class="LineNr">17972 </span>    0x11/imm32/alloc-id:fake
<span id="L17973" class="LineNr">17973 </span>    <a href='mu.subx.html#L17974'>_Primitive-and-reg-with-mem</a>/imm32/next
<span id="L17974" class="LineNr">17974 </span><span class="subxMinorFunction">_Primitive-and-reg-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17975" class="LineNr">17975 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17976" class="LineNr">17976 </span>    <span class="subxComment"># and-with var1 var2/reg =&gt; 21/and-with var1 var2/r32</span>
<span id="L17977" class="LineNr">17977 </span>    0x11/imm32/alloc-id:fake
<span id="L17978" class="LineNr">17978 </span>    <a href='mu.subx.html#L19652'>_string-and-with</a>/imm32/name
<span id="L17979" class="LineNr">17979 </span>    0x11/imm32/alloc-id:fake
<span id="L17980" class="LineNr">17980 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L17981" class="LineNr">17981 </span>    0/imm32/no-outputs
<span id="L17982" class="LineNr">17982 </span>    0/imm32/no-outputs
<span id="L17983" class="LineNr">17983 </span>    0x11/imm32/alloc-id:fake
<span id="L17984" class="LineNr">17984 </span>    <a href='mu.subx.html#L20039'>_string_21_and_with</a>/imm32/subx-name
<span id="L17985" class="LineNr">17985 </span>    1/imm32/rm32-is-first-inout
<span id="L17986" class="LineNr">17986 </span>    2/imm32/r32-is-second-inout
<span id="L17987" class="LineNr">17987 </span>    0/imm32/no-imm32
<span id="L17988" class="LineNr">17988 </span>    0/imm32/no-imm8
<span id="L17989" class="LineNr">17989 </span>    0/imm32/no-disp32
<span id="L17990" class="LineNr">17990 </span>    0/imm32/output-is-write-only
<span id="L17991" class="LineNr">17991 </span>    0x11/imm32/alloc-id:fake
<span id="L17992" class="LineNr">17992 </span>    <a href='mu.subx.html#L17993'>_Primitive-and-mem-with-reg</a>/imm32/next
<span id="L17993" class="LineNr">17993 </span><span class="subxMinorFunction">_Primitive-and-mem-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L17994" class="LineNr">17994 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L17995" class="LineNr">17995 </span>    <span class="subxComment"># var1/reg &lt;- and var2 =&gt; 23/and var2/rm32 var1/r32</span>
<span id="L17996" class="LineNr">17996 </span>    0x11/imm32/alloc-id:fake
<span id="L17997" class="LineNr">17997 </span>    <a href='mu.subx.html#L19647'>_string-and</a>/imm32/name
<span id="L17998" class="LineNr">17998 </span>    0x11/imm32/alloc-id:fake
<span id="L17999" class="LineNr">17999 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L18000" class="LineNr">18000 </span>    0x11/imm32/alloc-id:fake
<span id="L18001" class="LineNr">18001 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18002" class="LineNr">18002 </span>    0x11/imm32/alloc-id:fake
<span id="L18003" class="LineNr">18003 </span>    <a href='mu.subx.html#L20044'>_string_23_and</a>/imm32/subx-name
<span id="L18004" class="LineNr">18004 </span>    1/imm32/rm32-is-first-inout
<span id="L18005" class="LineNr">18005 </span>    3/imm32/r32-is-first-output
<span id="L18006" class="LineNr">18006 </span>    0/imm32/no-imm32
<span id="L18007" class="LineNr">18007 </span>    0/imm32/no-imm8
<span id="L18008" class="LineNr">18008 </span>    0/imm32/no-disp32
<span id="L18009" class="LineNr">18009 </span>    0/imm32/output-is-write-only
<span id="L18010" class="LineNr">18010 </span>    0x11/imm32/alloc-id:fake
<span id="L18011" class="LineNr">18011 </span>    <a href='mu.subx.html#L18012'>_Primitive-and-lit-with-reg</a>/imm32/next
<span id="L18012" class="LineNr">18012 </span><span class="subxMinorFunction">_Primitive-and-lit-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18013" class="LineNr">18013 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18014" class="LineNr">18014 </span>    <span class="subxComment"># var1/reg &lt;- and lit =&gt; 81 4/subop/and var1/rm32 lit/imm32</span>
<span id="L18015" class="LineNr">18015 </span>    0x11/imm32/alloc-id:fake
<span id="L18016" class="LineNr">18016 </span>    <a href='mu.subx.html#L19647'>_string-and</a>/imm32/name
<span id="L18017" class="LineNr">18017 </span>    0x11/imm32/alloc-id:fake
<span id="L18018" class="LineNr">18018 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18019" class="LineNr">18019 </span>    0x11/imm32/alloc-id:fake
<span id="L18020" class="LineNr">18020 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18021" class="LineNr">18021 </span>    0x11/imm32/alloc-id:fake
<span id="L18022" class="LineNr">18022 </span>    <a href='mu.subx.html#L20169'>_string_81_subop_and</a>/imm32/subx-name
<span id="L18023" class="LineNr">18023 </span>    3/imm32/rm32-is-first-output
<span id="L18024" class="LineNr">18024 </span>    0/imm32/no-r32
<span id="L18025" class="LineNr">18025 </span>    1/imm32/imm32-is-first-inout
<span id="L18026" class="LineNr">18026 </span>    0/imm32/no-imm8
<span id="L18027" class="LineNr">18027 </span>    0/imm32/no-disp32
<span id="L18028" class="LineNr">18028 </span>    0/imm32/output-is-write-only
<span id="L18029" class="LineNr">18029 </span>    0x11/imm32/alloc-id:fake
<span id="L18030" class="LineNr">18030 </span>    <a href='mu.subx.html#L18031'>_Primitive-and-lit-with-mem</a>/imm32/next
<span id="L18031" class="LineNr">18031 </span><span class="subxMinorFunction">_Primitive-and-lit-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18032" class="LineNr">18032 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18033" class="LineNr">18033 </span>    <span class="subxComment"># and-with var1, lit =&gt; 81 4/subop/and var1/rm32 lit/imm32</span>
<span id="L18034" class="LineNr">18034 </span>    0x11/imm32/alloc-id:fake
<span id="L18035" class="LineNr">18035 </span>    <a href='mu.subx.html#L19652'>_string-and-with</a>/imm32/name
<span id="L18036" class="LineNr">18036 </span>    0x11/imm32/alloc-id:fake
<span id="L18037" class="LineNr">18037 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18038" class="LineNr">18038 </span>    0/imm32/no-outputs
<span id="L18039" class="LineNr">18039 </span>    0/imm32/no-outputs
<span id="L18040" class="LineNr">18040 </span>    0x11/imm32/alloc-id:fake
<span id="L18041" class="LineNr">18041 </span>    <a href='mu.subx.html#L20169'>_string_81_subop_and</a>/imm32/subx-name
<span id="L18042" class="LineNr">18042 </span>    1/imm32/rm32-is-first-inout
<span id="L18043" class="LineNr">18043 </span>    0/imm32/no-r32
<span id="L18044" class="LineNr">18044 </span>    2/imm32/imm32-is-second-inout
<span id="L18045" class="LineNr">18045 </span>    0/imm32/no-imm8
<span id="L18046" class="LineNr">18046 </span>    0/imm32/no-disp32
<span id="L18047" class="LineNr">18047 </span>    0/imm32/output-is-write-only
<span id="L18048" class="LineNr">18048 </span>    0x11/imm32/alloc-id:fake
<span id="L18049" class="LineNr">18049 </span>    <a href='mu.subx.html#L18051'>_Primitive-or-with-eax</a>/imm32/next
<span id="L18050" class="LineNr">18050 </span><span class="subxH1Comment"># - or</span>
<span id="L18051" class="LineNr">18051 </span><span class="subxMinorFunction">_Primitive-or-with-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18052" class="LineNr">18052 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18053" class="LineNr">18053 </span>    <span class="subxComment"># var/eax &lt;- or lit =&gt; 0d/or-with-eax lit/imm32</span>
<span id="L18054" class="LineNr">18054 </span>    0x11/imm32/alloc-id:fake
<span id="L18055" class="LineNr">18055 </span>    <a href='mu.subx.html#L19807'>_string-or</a>/imm32/name
<span id="L18056" class="LineNr">18056 </span>    0x11/imm32/alloc-id:fake
<span id="L18057" class="LineNr">18057 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18058" class="LineNr">18058 </span>    0x11/imm32/alloc-id:fake
<span id="L18059" class="LineNr">18059 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L18060" class="LineNr">18060 </span>    0x11/imm32/alloc-id:fake
<span id="L18061" class="LineNr">18061 </span>    <a href='mu.subx.html#L19879'>_string_0d_or_with_eax</a>/imm32/subx-name
<span id="L18062" class="LineNr">18062 </span>    0/imm32/no-rm32
<span id="L18063" class="LineNr">18063 </span>    0/imm32/no-r32
<span id="L18064" class="LineNr">18064 </span>    1/imm32/imm32-is-first-inout
<span id="L18065" class="LineNr">18065 </span>    0/imm32/no-imm8
<span id="L18066" class="LineNr">18066 </span>    0/imm32/no-disp32
<span id="L18067" class="LineNr">18067 </span>    0/imm32/output-is-write-only
<span id="L18068" class="LineNr">18068 </span>    0x11/imm32/alloc-id:fake
<span id="L18069" class="LineNr">18069 </span>    <a href='mu.subx.html#L18070'>_Primitive-or-reg-with-reg</a>/imm32/next
<span id="L18070" class="LineNr">18070 </span><span class="subxMinorFunction">_Primitive-or-reg-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18071" class="LineNr">18071 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18072" class="LineNr">18072 </span>    <span class="subxComment"># var1/reg &lt;- or var2/reg =&gt; 09/or-with var1/rm32 var2/r32</span>
<span id="L18073" class="LineNr">18073 </span>    0x11/imm32/alloc-id:fake
<span id="L18074" class="LineNr">18074 </span>    <a href='mu.subx.html#L19807'>_string-or</a>/imm32/name
<span id="L18075" class="LineNr">18075 </span>    0x11/imm32/alloc-id:fake
<span id="L18076" class="LineNr">18076 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L18077" class="LineNr">18077 </span>    0x11/imm32/alloc-id:fake
<span id="L18078" class="LineNr">18078 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18079" class="LineNr">18079 </span>    0x11/imm32/alloc-id:fake
<span id="L18080" class="LineNr">18080 </span>    <a href='mu.subx.html#L19869'>_string_09_or_with</a>/imm32/subx-name
<span id="L18081" class="LineNr">18081 </span>    3/imm32/rm32-is-first-output
<span id="L18082" class="LineNr">18082 </span>    1/imm32/r32-is-first-inout
<span id="L18083" class="LineNr">18083 </span>    0/imm32/no-imm32
<span id="L18084" class="LineNr">18084 </span>    0/imm32/no-imm8
<span id="L18085" class="LineNr">18085 </span>    0/imm32/no-disp32
<span id="L18086" class="LineNr">18086 </span>    0/imm32/output-is-write-only
<span id="L18087" class="LineNr">18087 </span>    0x11/imm32/alloc-id:fake
<span id="L18088" class="LineNr">18088 </span>    <a href='mu.subx.html#L18089'>_Primitive-or-reg-with-mem</a>/imm32/next
<span id="L18089" class="LineNr">18089 </span><span class="subxMinorFunction">_Primitive-or-reg-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18090" class="LineNr">18090 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18091" class="LineNr">18091 </span>    <span class="subxComment"># or-with var1 var2/reg =&gt; 09/or-with var1 var2/r32</span>
<span id="L18092" class="LineNr">18092 </span>    0x11/imm32/alloc-id:fake
<span id="L18093" class="LineNr">18093 </span>    <a href='mu.subx.html#L19812'>_string-or-with</a>/imm32/name
<span id="L18094" class="LineNr">18094 </span>    0x11/imm32/alloc-id:fake
<span id="L18095" class="LineNr">18095 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L18096" class="LineNr">18096 </span>    0/imm32/no-outputs
<span id="L18097" class="LineNr">18097 </span>    0/imm32/no-outputs
<span id="L18098" class="LineNr">18098 </span>    0x11/imm32/alloc-id:fake
<span id="L18099" class="LineNr">18099 </span>    <a href='mu.subx.html#L19869'>_string_09_or_with</a>/imm32/subx-name
<span id="L18100" class="LineNr">18100 </span>    1/imm32/rm32-is-first-inout
<span id="L18101" class="LineNr">18101 </span>    2/imm32/r32-is-second-inout
<span id="L18102" class="LineNr">18102 </span>    0/imm32/no-imm32
<span id="L18103" class="LineNr">18103 </span>    0/imm32/no-imm8
<span id="L18104" class="LineNr">18104 </span>    0/imm32/no-disp32
<span id="L18105" class="LineNr">18105 </span>    0/imm32/output-is-write-only
<span id="L18106" class="LineNr">18106 </span>    0x11/imm32/alloc-id:fake
<span id="L18107" class="LineNr">18107 </span>    <a href='mu.subx.html#L18108'>_Primitive-or-mem-with-reg</a>/imm32/next
<span id="L18108" class="LineNr">18108 </span><span class="subxMinorFunction">_Primitive-or-mem-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18109" class="LineNr">18109 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18110" class="LineNr">18110 </span>    <span class="subxComment"># var1/reg &lt;- or var2 =&gt; 0b/or var2/rm32 var1/r32</span>
<span id="L18111" class="LineNr">18111 </span>    0x11/imm32/alloc-id:fake
<span id="L18112" class="LineNr">18112 </span>    <a href='mu.subx.html#L19807'>_string-or</a>/imm32/name
<span id="L18113" class="LineNr">18113 </span>    0x11/imm32/alloc-id:fake
<span id="L18114" class="LineNr">18114 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L18115" class="LineNr">18115 </span>    0x11/imm32/alloc-id:fake
<span id="L18116" class="LineNr">18116 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18117" class="LineNr">18117 </span>    0x11/imm32/alloc-id:fake
<span id="L18118" class="LineNr">18118 </span>    <a href='mu.subx.html#L19874'>_string_0b_or</a>/imm32/subx-name
<span id="L18119" class="LineNr">18119 </span>    1/imm32/rm32-is-first-inout
<span id="L18120" class="LineNr">18120 </span>    3/imm32/r32-is-first-output
<span id="L18121" class="LineNr">18121 </span>    0/imm32/no-imm32
<span id="L18122" class="LineNr">18122 </span>    0/imm32/no-imm8
<span id="L18123" class="LineNr">18123 </span>    0/imm32/no-disp32
<span id="L18124" class="LineNr">18124 </span>    0/imm32/output-is-write-only
<span id="L18125" class="LineNr">18125 </span>    0x11/imm32/alloc-id:fake
<span id="L18126" class="LineNr">18126 </span>    <a href='mu.subx.html#L18127'>_Primitive-or-lit-with-reg</a>/imm32/next
<span id="L18127" class="LineNr">18127 </span><span class="subxMinorFunction">_Primitive-or-lit-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18128" class="LineNr">18128 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18129" class="LineNr">18129 </span>    <span class="subxComment"># var1/reg &lt;- or lit =&gt; 81 1/subop/or var1/rm32 lit/imm32</span>
<span id="L18130" class="LineNr">18130 </span>    0x11/imm32/alloc-id:fake
<span id="L18131" class="LineNr">18131 </span>    <a href='mu.subx.html#L19807'>_string-or</a>/imm32/name
<span id="L18132" class="LineNr">18132 </span>    0x11/imm32/alloc-id:fake
<span id="L18133" class="LineNr">18133 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18134" class="LineNr">18134 </span>    0x11/imm32/alloc-id:fake
<span id="L18135" class="LineNr">18135 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18136" class="LineNr">18136 </span>    0x11/imm32/alloc-id:fake
<span id="L18137" class="LineNr">18137 </span>    <a href='mu.subx.html#L20164'>_string_81_subop_or</a>/imm32/subx-name
<span id="L18138" class="LineNr">18138 </span>    3/imm32/rm32-is-first-output
<span id="L18139" class="LineNr">18139 </span>    0/imm32/no-r32
<span id="L18140" class="LineNr">18140 </span>    1/imm32/imm32-is-first-inout
<span id="L18141" class="LineNr">18141 </span>    0/imm32/no-imm8
<span id="L18142" class="LineNr">18142 </span>    0/imm32/no-disp32
<span id="L18143" class="LineNr">18143 </span>    0/imm32/output-is-write-only
<span id="L18144" class="LineNr">18144 </span>    0x11/imm32/alloc-id:fake
<span id="L18145" class="LineNr">18145 </span>    <a href='mu.subx.html#L18146'>_Primitive-or-lit-with-mem</a>/imm32/next
<span id="L18146" class="LineNr">18146 </span><span class="subxMinorFunction">_Primitive-or-lit-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18147" class="LineNr">18147 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18148" class="LineNr">18148 </span>    <span class="subxComment"># or-with var1, lit =&gt; 81 1/subop/or var1/rm32 lit/imm32</span>
<span id="L18149" class="LineNr">18149 </span>    0x11/imm32/alloc-id:fake
<span id="L18150" class="LineNr">18150 </span>    <a href='mu.subx.html#L19812'>_string-or-with</a>/imm32/name
<span id="L18151" class="LineNr">18151 </span>    0x11/imm32/alloc-id:fake
<span id="L18152" class="LineNr">18152 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18153" class="LineNr">18153 </span>    0/imm32/no-outputs
<span id="L18154" class="LineNr">18154 </span>    0/imm32/no-outputs
<span id="L18155" class="LineNr">18155 </span>    0x11/imm32/alloc-id:fake
<span id="L18156" class="LineNr">18156 </span>    <a href='mu.subx.html#L20164'>_string_81_subop_or</a>/imm32/subx-name
<span id="L18157" class="LineNr">18157 </span>    1/imm32/rm32-is-first-inout
<span id="L18158" class="LineNr">18158 </span>    0/imm32/no-r32
<span id="L18159" class="LineNr">18159 </span>    2/imm32/imm32-is-second-inout
<span id="L18160" class="LineNr">18160 </span>    0/imm32/no-imm8
<span id="L18161" class="LineNr">18161 </span>    0/imm32/no-disp32
<span id="L18162" class="LineNr">18162 </span>    0/imm32/output-is-write-only
<span id="L18163" class="LineNr">18163 </span>    0x11/imm32/alloc-id:fake
<span id="L18164" class="LineNr">18164 </span>    <a href='mu.subx.html#L18166'>_Primitive-xor-with-eax</a>/imm32/next
<span id="L18165" class="LineNr">18165 </span><span class="subxH1Comment"># - xor</span>
<span id="L18166" class="LineNr">18166 </span><span class="subxMinorFunction">_Primitive-xor-with-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18167" class="LineNr">18167 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18168" class="LineNr">18168 </span>    <span class="subxComment"># var/eax &lt;- xor lit =&gt; 35/xor-with-eax lit/imm32</span>
<span id="L18169" class="LineNr">18169 </span>    0x11/imm32/alloc-id:fake
<span id="L18170" class="LineNr">18170 </span>    <a href='mu.subx.html#L19827'>_string-xor</a>/imm32/name
<span id="L18171" class="LineNr">18171 </span>    0x11/imm32/alloc-id:fake
<span id="L18172" class="LineNr">18172 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18173" class="LineNr">18173 </span>    0x11/imm32/alloc-id:fake
<span id="L18174" class="LineNr">18174 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L18175" class="LineNr">18175 </span>    0x11/imm32/alloc-id:fake
<span id="L18176" class="LineNr">18176 </span>    <a href='mu.subx.html#L20079'>_string_35_xor_with_eax</a>/imm32/subx-name
<span id="L18177" class="LineNr">18177 </span>    0/imm32/no-rm32
<span id="L18178" class="LineNr">18178 </span>    0/imm32/no-r32
<span id="L18179" class="LineNr">18179 </span>    1/imm32/imm32-is-first-inout
<span id="L18180" class="LineNr">18180 </span>    0/imm32/no-imm8
<span id="L18181" class="LineNr">18181 </span>    0/imm32/no-disp32
<span id="L18182" class="LineNr">18182 </span>    0/imm32/output-is-write-only
<span id="L18183" class="LineNr">18183 </span>    0x11/imm32/alloc-id:fake
<span id="L18184" class="LineNr">18184 </span>    <a href='mu.subx.html#L18185'>_Primitive-xor-reg-with-reg</a>/imm32/next
<span id="L18185" class="LineNr">18185 </span><span class="subxMinorFunction">_Primitive-xor-reg-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18186" class="LineNr">18186 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18187" class="LineNr">18187 </span>    <span class="subxComment"># var1/reg &lt;- xor var2/reg =&gt; 31/xor-with var1/rm32 var2/r32</span>
<span id="L18188" class="LineNr">18188 </span>    0x11/imm32/alloc-id:fake
<span id="L18189" class="LineNr">18189 </span>    <a href='mu.subx.html#L19827'>_string-xor</a>/imm32/name
<span id="L18190" class="LineNr">18190 </span>    0x11/imm32/alloc-id:fake
<span id="L18191" class="LineNr">18191 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L18192" class="LineNr">18192 </span>    0x11/imm32/alloc-id:fake
<span id="L18193" class="LineNr">18193 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18194" class="LineNr">18194 </span>    0x11/imm32/alloc-id:fake
<span id="L18195" class="LineNr">18195 </span>    <a href='mu.subx.html#L20069'>_string_31_xor_with</a>/imm32/subx-name
<span id="L18196" class="LineNr">18196 </span>    3/imm32/rm32-is-first-output
<span id="L18197" class="LineNr">18197 </span>    1/imm32/r32-is-first-inout
<span id="L18198" class="LineNr">18198 </span>    0/imm32/no-imm32
<span id="L18199" class="LineNr">18199 </span>    0/imm32/no-imm8
<span id="L18200" class="LineNr">18200 </span>    0/imm32/no-disp32
<span id="L18201" class="LineNr">18201 </span>    0/imm32/output-is-write-only
<span id="L18202" class="LineNr">18202 </span>    0x11/imm32/alloc-id:fake
<span id="L18203" class="LineNr">18203 </span>    <a href='mu.subx.html#L18204'>_Primitive-xor-reg-with-mem</a>/imm32/next
<span id="L18204" class="LineNr">18204 </span><span class="subxMinorFunction">_Primitive-xor-reg-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18205" class="LineNr">18205 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18206" class="LineNr">18206 </span>    <span class="subxComment"># xor-with var1 var2/reg =&gt; 31/xor-with var1 var2/r32</span>
<span id="L18207" class="LineNr">18207 </span>    0x11/imm32/alloc-id:fake
<span id="L18208" class="LineNr">18208 </span>    <a href='mu.subx.html#L19832'>_string-xor-with</a>/imm32/name
<span id="L18209" class="LineNr">18209 </span>    0x11/imm32/alloc-id:fake
<span id="L18210" class="LineNr">18210 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L18211" class="LineNr">18211 </span>    0/imm32/no-outputs
<span id="L18212" class="LineNr">18212 </span>    0/imm32/no-outputs
<span id="L18213" class="LineNr">18213 </span>    0x11/imm32/alloc-id:fake
<span id="L18214" class="LineNr">18214 </span>    <a href='mu.subx.html#L20069'>_string_31_xor_with</a>/imm32/subx-name
<span id="L18215" class="LineNr">18215 </span>    1/imm32/rm32-is-first-inout
<span id="L18216" class="LineNr">18216 </span>    2/imm32/r32-is-second-inout
<span id="L18217" class="LineNr">18217 </span>    0/imm32/no-imm32
<span id="L18218" class="LineNr">18218 </span>    0/imm32/no-imm8
<span id="L18219" class="LineNr">18219 </span>    0/imm32/no-disp32
<span id="L18220" class="LineNr">18220 </span>    0/imm32/output-is-write-only
<span id="L18221" class="LineNr">18221 </span>    0x11/imm32/alloc-id:fake
<span id="L18222" class="LineNr">18222 </span>    <a href='mu.subx.html#L18223'>_Primitive-xor-mem-with-reg</a>/imm32/next
<span id="L18223" class="LineNr">18223 </span><span class="subxMinorFunction">_Primitive-xor-mem-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18224" class="LineNr">18224 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18225" class="LineNr">18225 </span>    <span class="subxComment"># var1/reg &lt;- xor var2 =&gt; 33/xor var2/rm32 var1/r32</span>
<span id="L18226" class="LineNr">18226 </span>    0x11/imm32/alloc-id:fake
<span id="L18227" class="LineNr">18227 </span>    <a href='mu.subx.html#L19827'>_string-xor</a>/imm32/name
<span id="L18228" class="LineNr">18228 </span>    0x11/imm32/alloc-id:fake
<span id="L18229" class="LineNr">18229 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L18230" class="LineNr">18230 </span>    0x11/imm32/alloc-id:fake
<span id="L18231" class="LineNr">18231 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18232" class="LineNr">18232 </span>    0x11/imm32/alloc-id:fake
<span id="L18233" class="LineNr">18233 </span>    <a href='mu.subx.html#L20074'>_string_33_xor</a>/imm32/subx-name
<span id="L18234" class="LineNr">18234 </span>    1/imm32/rm32-is-first-inout
<span id="L18235" class="LineNr">18235 </span>    3/imm32/r32-is-first-output
<span id="L18236" class="LineNr">18236 </span>    0/imm32/no-imm32
<span id="L18237" class="LineNr">18237 </span>    0/imm32/no-imm8
<span id="L18238" class="LineNr">18238 </span>    0/imm32/no-disp32
<span id="L18239" class="LineNr">18239 </span>    0/imm32/output-is-write-only
<span id="L18240" class="LineNr">18240 </span>    0x11/imm32/alloc-id:fake
<span id="L18241" class="LineNr">18241 </span>    <a href='mu.subx.html#L18242'>_Primitive-xor-lit-with-reg</a>/imm32/next
<span id="L18242" class="LineNr">18242 </span><span class="subxMinorFunction">_Primitive-xor-lit-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18243" class="LineNr">18243 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18244" class="LineNr">18244 </span>    <span class="subxComment"># var1/reg &lt;- xor lit =&gt; 81 6/subop/xor var1/rm32 lit/imm32</span>
<span id="L18245" class="LineNr">18245 </span>    0x11/imm32/alloc-id:fake
<span id="L18246" class="LineNr">18246 </span>    <a href='mu.subx.html#L19827'>_string-xor</a>/imm32/name
<span id="L18247" class="LineNr">18247 </span>    0x11/imm32/alloc-id:fake
<span id="L18248" class="LineNr">18248 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18249" class="LineNr">18249 </span>    0x11/imm32/alloc-id:fake
<span id="L18250" class="LineNr">18250 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18251" class="LineNr">18251 </span>    0x11/imm32/alloc-id:fake
<span id="L18252" class="LineNr">18252 </span>    <a href='mu.subx.html#L20179'>_string_81_subop_xor</a>/imm32/subx-name
<span id="L18253" class="LineNr">18253 </span>    3/imm32/rm32-is-first-output
<span id="L18254" class="LineNr">18254 </span>    0/imm32/no-r32
<span id="L18255" class="LineNr">18255 </span>    1/imm32/imm32-is-first-inout
<span id="L18256" class="LineNr">18256 </span>    0/imm32/no-imm8
<span id="L18257" class="LineNr">18257 </span>    0/imm32/no-disp32
<span id="L18258" class="LineNr">18258 </span>    0/imm32/output-is-write-only
<span id="L18259" class="LineNr">18259 </span>    0x11/imm32/alloc-id:fake
<span id="L18260" class="LineNr">18260 </span>    <a href='mu.subx.html#L18261'>_Primitive-xor-lit-with-mem</a>/imm32/next
<span id="L18261" class="LineNr">18261 </span><span class="subxMinorFunction">_Primitive-xor-lit-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18262" class="LineNr">18262 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18263" class="LineNr">18263 </span>    <span class="subxComment"># xor-with var1, lit =&gt; 81 6/subop/xor var1/rm32 lit/imm32</span>
<span id="L18264" class="LineNr">18264 </span>    0x11/imm32/alloc-id:fake
<span id="L18265" class="LineNr">18265 </span>    <a href='mu.subx.html#L19832'>_string-xor-with</a>/imm32/name
<span id="L18266" class="LineNr">18266 </span>    0x11/imm32/alloc-id:fake
<span id="L18267" class="LineNr">18267 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18268" class="LineNr">18268 </span>    0/imm32/no-outputs
<span id="L18269" class="LineNr">18269 </span>    0/imm32/no-outputs
<span id="L18270" class="LineNr">18270 </span>    0x11/imm32/alloc-id:fake
<span id="L18271" class="LineNr">18271 </span>    <a href='mu.subx.html#L20179'>_string_81_subop_xor</a>/imm32/subx-name
<span id="L18272" class="LineNr">18272 </span>    1/imm32/rm32-is-first-inout
<span id="L18273" class="LineNr">18273 </span>    0/imm32/no-r32
<span id="L18274" class="LineNr">18274 </span>    2/imm32/imm32-is-second-inout
<span id="L18275" class="LineNr">18275 </span>    0/imm32/no-imm8
<span id="L18276" class="LineNr">18276 </span>    0/imm32/no-disp32
<span id="L18277" class="LineNr">18277 </span>    0/imm32/output-is-write-only
<span id="L18278" class="LineNr">18278 </span>    0x11/imm32/alloc-id:fake
<span id="L18279" class="LineNr">18279 </span>    <a href='mu.subx.html#L18280'>_Primitive-shift-reg-left-by-lit</a>/imm32/next
<span id="L18280" class="LineNr">18280 </span><span class="subxMinorFunction">_Primitive-shift-reg-left-by-lit</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18281" class="LineNr">18281 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18282" class="LineNr">18282 </span>    <span class="subxComment"># var1/reg &lt;- shift-left lit =&gt; c1/shift 4/subop/left var1/rm32 lit/imm32</span>
<span id="L18283" class="LineNr">18283 </span>    0x11/imm32/alloc-id:fake
<span id="L18284" class="LineNr">18284 </span>    <a href='mu.subx.html#L19837'>_string-shift-left</a>/imm32/name
<span id="L18285" class="LineNr">18285 </span>    0x11/imm32/alloc-id:fake
<span id="L18286" class="LineNr">18286 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18287" class="LineNr">18287 </span>    0x11/imm32/alloc-id:fake
<span id="L18288" class="LineNr">18288 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18289" class="LineNr">18289 </span>    0x11/imm32/alloc-id:fake
<span id="L18290" class="LineNr">18290 </span>    <a href='mu.subx.html#L20274'>_string_c1_subop_shift_left</a>/imm32/subx-name
<span id="L18291" class="LineNr">18291 </span>    3/imm32/rm32-is-first-output
<span id="L18292" class="LineNr">18292 </span>    0/imm32/no-r32
<span id="L18293" class="LineNr">18293 </span>    0/imm32/no-imm32
<span id="L18294" class="LineNr">18294 </span>    1/imm32/imm8-is-first-inout
<span id="L18295" class="LineNr">18295 </span>    0/imm32/no-disp32
<span id="L18296" class="LineNr">18296 </span>    0/imm32/output-is-write-only
<span id="L18297" class="LineNr">18297 </span>    0x11/imm32/alloc-id:fake
<span id="L18298" class="LineNr">18298 </span>    <a href='mu.subx.html#L18299'>_Primitive-shift-reg-right-by-lit</a>/imm32/next
<span id="L18299" class="LineNr">18299 </span><span class="subxMinorFunction">_Primitive-shift-reg-right-by-lit</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18300" class="LineNr">18300 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18301" class="LineNr">18301 </span>    <span class="subxComment"># var1/reg &lt;- shift-right lit =&gt; c1/shift 5/subop/right var1/rm32 lit/imm32</span>
<span id="L18302" class="LineNr">18302 </span>    0x11/imm32/alloc-id:fake
<span id="L18303" class="LineNr">18303 </span>    <a href='mu.subx.html#L19842'>_string-shift-right</a>/imm32/name
<span id="L18304" class="LineNr">18304 </span>    0x11/imm32/alloc-id:fake
<span id="L18305" class="LineNr">18305 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18306" class="LineNr">18306 </span>    0x11/imm32/alloc-id:fake
<span id="L18307" class="LineNr">18307 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18308" class="LineNr">18308 </span>    0x11/imm32/alloc-id:fake
<span id="L18309" class="LineNr">18309 </span>    <a href='mu.subx.html#L20279'>_string_c1_subop_shift_right_padding_zeroes</a>/imm32/subx-name
<span id="L18310" class="LineNr">18310 </span>    3/imm32/rm32-is-first-output
<span id="L18311" class="LineNr">18311 </span>    0/imm32/no-r32
<span id="L18312" class="LineNr">18312 </span>    0/imm32/no-imm32
<span id="L18313" class="LineNr">18313 </span>    1/imm32/imm8-is-first-inout
<span id="L18314" class="LineNr">18314 </span>    0/imm32/no-disp32
<span id="L18315" class="LineNr">18315 </span>    0/imm32/output-is-write-only
<span id="L18316" class="LineNr">18316 </span>    0x11/imm32/alloc-id:fake
<span id="L18317" class="LineNr">18317 </span>    <a href='mu.subx.html#L18318'>_Primitive-shift-reg-right-signed-by-lit</a>/imm32/next
<span id="L18318" class="LineNr">18318 </span><span class="subxMinorFunction">_Primitive-shift-reg-right-signed-by-lit</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18319" class="LineNr">18319 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18320" class="LineNr">18320 </span>    <span class="subxComment"># var1/reg &lt;- shift-right-signed lit =&gt; c1/shift 7/subop/right-preserving-sign var1/rm32 lit/imm32</span>
<span id="L18321" class="LineNr">18321 </span>    0x11/imm32/alloc-id:fake
<span id="L18322" class="LineNr">18322 </span>    <a href='mu.subx.html#L19847'>_string-shift-right-signed</a>/imm32/name
<span id="L18323" class="LineNr">18323 </span>    0x11/imm32/alloc-id:fake
<span id="L18324" class="LineNr">18324 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18325" class="LineNr">18325 </span>    0x11/imm32/alloc-id:fake
<span id="L18326" class="LineNr">18326 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18327" class="LineNr">18327 </span>    0x11/imm32/alloc-id:fake
<span id="L18328" class="LineNr">18328 </span>    <a href='mu.subx.html#L20284'>_string_c1_subop_shift_right_preserving_sign</a>/imm32/subx-name
<span id="L18329" class="LineNr">18329 </span>    3/imm32/rm32-is-first-output
<span id="L18330" class="LineNr">18330 </span>    0/imm32/no-r32
<span id="L18331" class="LineNr">18331 </span>    0/imm32/no-imm32
<span id="L18332" class="LineNr">18332 </span>    1/imm32/imm8-is-first-inout
<span id="L18333" class="LineNr">18333 </span>    0/imm32/no-disp32
<span id="L18334" class="LineNr">18334 </span>    0/imm32/output-is-write-only
<span id="L18335" class="LineNr">18335 </span>    0x11/imm32/alloc-id:fake
<span id="L18336" class="LineNr">18336 </span>    <a href='mu.subx.html#L18337'>_Primitive-shift-mem-left-by-lit</a>/imm32/next
<span id="L18337" class="LineNr">18337 </span><span class="subxMinorFunction">_Primitive-shift-mem-left-by-lit</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18338" class="LineNr">18338 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18339" class="LineNr">18339 </span>    <span class="subxComment"># shift-left var1, lit =&gt; c1/shift 4/subop/left var1/rm32 lit/imm32</span>
<span id="L18340" class="LineNr">18340 </span>    0x11/imm32/alloc-id:fake
<span id="L18341" class="LineNr">18341 </span>    <a href='mu.subx.html#L19837'>_string-shift-left</a>/imm32/name
<span id="L18342" class="LineNr">18342 </span>    0x11/imm32/alloc-id:fake
<span id="L18343" class="LineNr">18343 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18344" class="LineNr">18344 </span>    0/imm32/no-outputs
<span id="L18345" class="LineNr">18345 </span>    0/imm32/no-outputs
<span id="L18346" class="LineNr">18346 </span>    0x11/imm32/alloc-id:fake
<span id="L18347" class="LineNr">18347 </span>    <a href='mu.subx.html#L20274'>_string_c1_subop_shift_left</a>/imm32/subx-name
<span id="L18348" class="LineNr">18348 </span>    1/imm32/rm32-is-first-inout
<span id="L18349" class="LineNr">18349 </span>    0/imm32/no-r32
<span id="L18350" class="LineNr">18350 </span>    0/imm32/no-imm32
<span id="L18351" class="LineNr">18351 </span>    2/imm32/imm8-is-second-inout
<span id="L18352" class="LineNr">18352 </span>    0/imm32/no-disp32
<span id="L18353" class="LineNr">18353 </span>    0/imm32/output-is-write-only
<span id="L18354" class="LineNr">18354 </span>    0x11/imm32/alloc-id:fake
<span id="L18355" class="LineNr">18355 </span>    <a href='mu.subx.html#L18356'>_Primitive-shift-mem-right-by-lit</a>/imm32/next
<span id="L18356" class="LineNr">18356 </span><span class="subxMinorFunction">_Primitive-shift-mem-right-by-lit</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18357" class="LineNr">18357 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18358" class="LineNr">18358 </span>    <span class="subxComment"># shift-right var1, lit =&gt; c1/shift 5/subop/right var1/rm32 lit/imm32</span>
<span id="L18359" class="LineNr">18359 </span>    0x11/imm32/alloc-id:fake
<span id="L18360" class="LineNr">18360 </span>    <a href='mu.subx.html#L19842'>_string-shift-right</a>/imm32/name
<span id="L18361" class="LineNr">18361 </span>    0x11/imm32/alloc-id:fake
<span id="L18362" class="LineNr">18362 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18363" class="LineNr">18363 </span>    0/imm32/no-outputs
<span id="L18364" class="LineNr">18364 </span>    0/imm32/no-outputs
<span id="L18365" class="LineNr">18365 </span>    0x11/imm32/alloc-id:fake
<span id="L18366" class="LineNr">18366 </span>    <a href='mu.subx.html#L20279'>_string_c1_subop_shift_right_padding_zeroes</a>/imm32/subx-name
<span id="L18367" class="LineNr">18367 </span>    1/imm32/rm32-is-first-inout
<span id="L18368" class="LineNr">18368 </span>    0/imm32/no-r32
<span id="L18369" class="LineNr">18369 </span>    0/imm32/no-imm32
<span id="L18370" class="LineNr">18370 </span>    2/imm32/imm8-is-second-inout
<span id="L18371" class="LineNr">18371 </span>    0/imm32/no-disp32
<span id="L18372" class="LineNr">18372 </span>    0/imm32/output-is-write-only
<span id="L18373" class="LineNr">18373 </span>    0x11/imm32/alloc-id:fake
<span id="L18374" class="LineNr">18374 </span>    <a href='mu.subx.html#L18375'>_Primitive-shift-mem-right-signed-by-lit</a>/imm32/next
<span id="L18375" class="LineNr">18375 </span><span class="subxMinorFunction">_Primitive-shift-mem-right-signed-by-lit</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18376" class="LineNr">18376 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18377" class="LineNr">18377 </span>    <span class="subxComment"># shift-right-signed var1, lit =&gt; c1/shift 7/subop/right-preserving-sign var1/rm32 lit/imm32</span>
<span id="L18378" class="LineNr">18378 </span>    0x11/imm32/alloc-id:fake
<span id="L18379" class="LineNr">18379 </span>    <a href='mu.subx.html#L19847'>_string-shift-right-signed</a>/imm32/name
<span id="L18380" class="LineNr">18380 </span>    0x11/imm32/alloc-id:fake
<span id="L18381" class="LineNr">18381 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18382" class="LineNr">18382 </span>    0/imm32/no-outputs
<span id="L18383" class="LineNr">18383 </span>    0/imm32/no-outputs
<span id="L18384" class="LineNr">18384 </span>    0x11/imm32/alloc-id:fake
<span id="L18385" class="LineNr">18385 </span>    <a href='mu.subx.html#L20284'>_string_c1_subop_shift_right_preserving_sign</a>/imm32/subx-name
<span id="L18386" class="LineNr">18386 </span>    1/imm32/rm32-is-first-inout
<span id="L18387" class="LineNr">18387 </span>    0/imm32/no-r32
<span id="L18388" class="LineNr">18388 </span>    0/imm32/no-imm32
<span id="L18389" class="LineNr">18389 </span>    2/imm32/imm8-is-second-inout
<span id="L18390" class="LineNr">18390 </span>    0/imm32/no-disp32
<span id="L18391" class="LineNr">18391 </span>    0/imm32/output-is-write-only
<span id="L18392" class="LineNr">18392 </span>    0x11/imm32/alloc-id:fake
<span id="L18393" class="LineNr">18393 </span>    <a href='mu.subx.html#L18395'>_Primitive-copy-to-eax</a>/imm32/next
<span id="L18394" class="LineNr">18394 </span><span class="subxH1Comment"># - copy</span>
<span id="L18395" class="LineNr">18395 </span><span class="subxMinorFunction">_Primitive-copy-to-eax</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18396" class="LineNr">18396 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18397" class="LineNr">18397 </span>    <span class="subxComment"># var/eax &lt;- copy lit =&gt; b8/copy-to-eax lit/imm32</span>
<span id="L18398" class="LineNr">18398 </span>    0x11/imm32/alloc-id:fake
<span id="L18399" class="LineNr">18399 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18400" class="LineNr">18400 </span>    0x11/imm32/alloc-id:fake
<span id="L18401" class="LineNr">18401 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18402" class="LineNr">18402 </span>    0x11/imm32/alloc-id:fake
<span id="L18403" class="LineNr">18403 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20438'>Single-int-var-in-eax</a></span>/imm32/outputs
<span id="L18404" class="LineNr">18404 </span>    0x11/imm32/alloc-id:fake
<span id="L18405" class="LineNr">18405 </span>    <a href='mu.subx.html#L20214'>_string_b8_copy_to_eax</a>/imm32/subx-name
<span id="L18406" class="LineNr">18406 </span>    0/imm32/no-rm32
<span id="L18407" class="LineNr">18407 </span>    0/imm32/no-r32
<span id="L18408" class="LineNr">18408 </span>    1/imm32/imm32-is-first-inout
<span id="L18409" class="LineNr">18409 </span>    0/imm32/no-imm8
<span id="L18410" class="LineNr">18410 </span>    0/imm32/no-disp32
<span id="L18411" class="LineNr">18411 </span>    1/imm32/output-is-write-only
<span id="L18412" class="LineNr">18412 </span>    0x11/imm32/alloc-id:fake
<span id="L18413" class="LineNr">18413 </span>    <a href='mu.subx.html#L18414'>_Primitive-copy-to-ecx</a>/imm32/next
<span id="L18414" class="LineNr">18414 </span><span class="subxMinorFunction">_Primitive-copy-to-ecx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18415" class="LineNr">18415 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18416" class="LineNr">18416 </span>    <span class="subxComment"># var/ecx &lt;- copy lit =&gt; b9/copy-to-ecx lit/imm32</span>
<span id="L18417" class="LineNr">18417 </span>    0x11/imm32/alloc-id:fake
<span id="L18418" class="LineNr">18418 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18419" class="LineNr">18419 </span>    0x11/imm32/alloc-id:fake
<span id="L18420" class="LineNr">18420 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18421" class="LineNr">18421 </span>    0x11/imm32/alloc-id:fake
<span id="L18422" class="LineNr">18422 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20456'>Single-int-var-in-ecx</a></span>/imm32/outputs
<span id="L18423" class="LineNr">18423 </span>    0x11/imm32/alloc-id:fake
<span id="L18424" class="LineNr">18424 </span>    <a href='mu.subx.html#L20219'>_string_b9_copy_to_ecx</a>/imm32/subx-name
<span id="L18425" class="LineNr">18425 </span>    0/imm32/no-rm32
<span id="L18426" class="LineNr">18426 </span>    0/imm32/no-r32
<span id="L18427" class="LineNr">18427 </span>    1/imm32/imm32-is-first-inout
<span id="L18428" class="LineNr">18428 </span>    0/imm32/no-imm8
<span id="L18429" class="LineNr">18429 </span>    0/imm32/no-disp32
<span id="L18430" class="LineNr">18430 </span>    1/imm32/output-is-write-only
<span id="L18431" class="LineNr">18431 </span>    0x11/imm32/alloc-id:fake
<span id="L18432" class="LineNr">18432 </span>    <a href='mu.subx.html#L18433'>_Primitive-copy-to-edx</a>/imm32/next
<span id="L18433" class="LineNr">18433 </span><span class="subxMinorFunction">_Primitive-copy-to-edx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18434" class="LineNr">18434 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18435" class="LineNr">18435 </span>    <span class="subxComment"># var/edx &lt;- copy lit =&gt; ba/copy-to-edx lit/imm32</span>
<span id="L18436" class="LineNr">18436 </span>    0x11/imm32/alloc-id:fake
<span id="L18437" class="LineNr">18437 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18438" class="LineNr">18438 </span>    0x11/imm32/alloc-id:fake
<span id="L18439" class="LineNr">18439 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18440" class="LineNr">18440 </span>    0x11/imm32/alloc-id:fake
<span id="L18441" class="LineNr">18441 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20474'>Single-int-var-in-edx</a></span>/imm32/outputs
<span id="L18442" class="LineNr">18442 </span>    0x11/imm32/alloc-id:fake
<span id="L18443" class="LineNr">18443 </span>    <a href='mu.subx.html#L20224'>_string_ba_copy_to_edx</a>/imm32/subx-name
<span id="L18444" class="LineNr">18444 </span>    0/imm32/no-rm32
<span id="L18445" class="LineNr">18445 </span>    0/imm32/no-r32
<span id="L18446" class="LineNr">18446 </span>    1/imm32/imm32-is-first-inout
<span id="L18447" class="LineNr">18447 </span>    0/imm32/no-imm8
<span id="L18448" class="LineNr">18448 </span>    0/imm32/no-disp32
<span id="L18449" class="LineNr">18449 </span>    1/imm32/output-is-write-only
<span id="L18450" class="LineNr">18450 </span>    0x11/imm32/alloc-id:fake
<span id="L18451" class="LineNr">18451 </span>    <a href='mu.subx.html#L18452'>_Primitive-copy-to-ebx</a>/imm32/next
<span id="L18452" class="LineNr">18452 </span><span class="subxMinorFunction">_Primitive-copy-to-ebx</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18453" class="LineNr">18453 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18454" class="LineNr">18454 </span>    <span class="subxComment"># var/ebx &lt;- copy lit =&gt; bb/copy-to-ebx lit/imm32</span>
<span id="L18455" class="LineNr">18455 </span>    0x11/imm32/alloc-id:fake
<span id="L18456" class="LineNr">18456 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18457" class="LineNr">18457 </span>    0x11/imm32/alloc-id:fake
<span id="L18458" class="LineNr">18458 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18459" class="LineNr">18459 </span>    0x11/imm32/alloc-id:fake
<span id="L18460" class="LineNr">18460 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20492'>Single-int-var-in-ebx</a></span>/imm32/outputs
<span id="L18461" class="LineNr">18461 </span>    0x11/imm32/alloc-id:fake
<span id="L18462" class="LineNr">18462 </span>    <a href='mu.subx.html#L20229'>_string_bb_copy_to_ebx</a>/imm32/subx-name
<span id="L18463" class="LineNr">18463 </span>    0/imm32/no-rm32
<span id="L18464" class="LineNr">18464 </span>    0/imm32/no-r32
<span id="L18465" class="LineNr">18465 </span>    1/imm32/imm32-is-first-inout
<span id="L18466" class="LineNr">18466 </span>    0/imm32/no-imm8
<span id="L18467" class="LineNr">18467 </span>    0/imm32/no-disp32
<span id="L18468" class="LineNr">18468 </span>    1/imm32/output-is-write-only
<span id="L18469" class="LineNr">18469 </span>    0x11/imm32/alloc-id:fake
<span id="L18470" class="LineNr">18470 </span>    <a href='mu.subx.html#L18471'>_Primitive-copy-to-esi</a>/imm32/next
<span id="L18471" class="LineNr">18471 </span><span class="subxMinorFunction">_Primitive-copy-to-esi</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18472" class="LineNr">18472 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18473" class="LineNr">18473 </span>    <span class="subxComment"># var/esi &lt;- copy lit =&gt; be/copy-to-esi lit/imm32</span>
<span id="L18474" class="LineNr">18474 </span>    0x11/imm32/alloc-id:fake
<span id="L18475" class="LineNr">18475 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18476" class="LineNr">18476 </span>    0x11/imm32/alloc-id:fake
<span id="L18477" class="LineNr">18477 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18478" class="LineNr">18478 </span>    0x11/imm32/alloc-id:fake
<span id="L18479" class="LineNr">18479 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20510'>Single-int-var-in-esi</a></span>/imm32/outputs
<span id="L18480" class="LineNr">18480 </span>    0x11/imm32/alloc-id:fake
<span id="L18481" class="LineNr">18481 </span>    <a href='mu.subx.html#L20234'>_string_be_copy_to_esi</a>/imm32/subx-name
<span id="L18482" class="LineNr">18482 </span>    0/imm32/no-rm32
<span id="L18483" class="LineNr">18483 </span>    0/imm32/no-r32
<span id="L18484" class="LineNr">18484 </span>    1/imm32/imm32-is-first-inout
<span id="L18485" class="LineNr">18485 </span>    0/imm32/no-imm8
<span id="L18486" class="LineNr">18486 </span>    0/imm32/no-disp32
<span id="L18487" class="LineNr">18487 </span>    1/imm32/output-is-write-only
<span id="L18488" class="LineNr">18488 </span>    0x11/imm32/alloc-id:fake
<span id="L18489" class="LineNr">18489 </span>    <a href='mu.subx.html#L18490'>_Primitive-copy-to-edi</a>/imm32/next
<span id="L18490" class="LineNr">18490 </span><span class="subxMinorFunction">_Primitive-copy-to-edi</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18491" class="LineNr">18491 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18492" class="LineNr">18492 </span>    <span class="subxComment"># var/edi &lt;- copy lit =&gt; bf/copy-to-edi lit/imm32</span>
<span id="L18493" class="LineNr">18493 </span>    0x11/imm32/alloc-id:fake
<span id="L18494" class="LineNr">18494 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18495" class="LineNr">18495 </span>    0x11/imm32/alloc-id:fake
<span id="L18496" class="LineNr">18496 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18497" class="LineNr">18497 </span>    0x11/imm32/alloc-id:fake
<span id="L18498" class="LineNr">18498 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20528'>Single-int-var-in-edi</a></span>/imm32/outputs
<span id="L18499" class="LineNr">18499 </span>    0x11/imm32/alloc-id:fake
<span id="L18500" class="LineNr">18500 </span>    <a href='mu.subx.html#L20239'>_string_bf_copy_to_edi</a>/imm32/subx-name
<span id="L18501" class="LineNr">18501 </span>    0/imm32/no-rm32
<span id="L18502" class="LineNr">18502 </span>    0/imm32/no-r32
<span id="L18503" class="LineNr">18503 </span>    1/imm32/imm32-is-first-inout
<span id="L18504" class="LineNr">18504 </span>    0/imm32/no-imm8
<span id="L18505" class="LineNr">18505 </span>    0/imm32/no-disp32
<span id="L18506" class="LineNr">18506 </span>    1/imm32/output-is-write-only
<span id="L18507" class="LineNr">18507 </span>    0x11/imm32/alloc-id:fake
<span id="L18508" class="LineNr">18508 </span>    <a href='mu.subx.html#L18509'>_Primitive-copy-reg-to-reg</a>/imm32/next
<span id="L18509" class="LineNr">18509 </span><span class="subxMinorFunction">_Primitive-copy-reg-to-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18510" class="LineNr">18510 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18511" class="LineNr">18511 </span>    <span class="subxComment"># var1/reg &lt;- copy var2/reg =&gt; 89/&lt;- var1/rm32 var2/r32</span>
<span id="L18512" class="LineNr">18512 </span>    0x11/imm32/alloc-id:fake
<span id="L18513" class="LineNr">18513 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18514" class="LineNr">18514 </span>    0x11/imm32/alloc-id:fake
<span id="L18515" class="LineNr">18515 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L18516" class="LineNr">18516 </span>    0x11/imm32/alloc-id:fake
<span id="L18517" class="LineNr">18517 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18518" class="LineNr">18518 </span>    0x11/imm32/alloc-id:fake
<span id="L18519" class="LineNr">18519 </span>    <a href='mu.subx.html#L20189'>_string_89_&lt;-</a>/imm32/subx-name
<span id="L18520" class="LineNr">18520 </span>    3/imm32/rm32-is-first-output
<span id="L18521" class="LineNr">18521 </span>    1/imm32/r32-is-first-inout
<span id="L18522" class="LineNr">18522 </span>    0/imm32/no-imm32
<span id="L18523" class="LineNr">18523 </span>    0/imm32/no-imm8
<span id="L18524" class="LineNr">18524 </span>    0/imm32/no-disp32
<span id="L18525" class="LineNr">18525 </span>    1/imm32/output-is-write-only
<span id="L18526" class="LineNr">18526 </span>    0x11/imm32/alloc-id:fake
<span id="L18527" class="LineNr">18527 </span>    <a href='mu.subx.html#L18528'>_Primitive-copy-reg-to-mem</a>/imm32/next
<span id="L18528" class="LineNr">18528 </span><span class="subxMinorFunction">_Primitive-copy-reg-to-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18529" class="LineNr">18529 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18530" class="LineNr">18530 </span>    <span class="subxComment"># copy-to var1 var2/reg =&gt; 89/&lt;- var1 var2/r32</span>
<span id="L18531" class="LineNr">18531 </span>    0x11/imm32/alloc-id:fake
<span id="L18532" class="LineNr">18532 </span>    <a href='mu.subx.html#L19722'>_string-copy-to</a>/imm32/name
<span id="L18533" class="LineNr">18533 </span>    0x11/imm32/alloc-id:fake
<span id="L18534" class="LineNr">18534 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L18535" class="LineNr">18535 </span>    0/imm32/no-outputs
<span id="L18536" class="LineNr">18536 </span>    0/imm32/no-outputs
<span id="L18537" class="LineNr">18537 </span>    0x11/imm32/alloc-id:fake
<span id="L18538" class="LineNr">18538 </span>    <a href='mu.subx.html#L20189'>_string_89_&lt;-</a>/imm32/subx-name
<span id="L18539" class="LineNr">18539 </span>    1/imm32/rm32-is-first-inout
<span id="L18540" class="LineNr">18540 </span>    2/imm32/r32-is-second-inout
<span id="L18541" class="LineNr">18541 </span>    0/imm32/no-imm32
<span id="L18542" class="LineNr">18542 </span>    0/imm32/no-imm8
<span id="L18543" class="LineNr">18543 </span>    0/imm32/no-disp32
<span id="L18544" class="LineNr">18544 </span>    1/imm32/output-is-write-only
<span id="L18545" class="LineNr">18545 </span>    0x11/imm32/alloc-id:fake
<span id="L18546" class="LineNr">18546 </span>    <a href='mu.subx.html#L18547'>_Primitive-copy-mem-to-reg</a>/imm32/next
<span id="L18547" class="LineNr">18547 </span><span class="subxMinorFunction">_Primitive-copy-mem-to-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18548" class="LineNr">18548 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18549" class="LineNr">18549 </span>    <span class="subxComment"># var1/reg &lt;- copy var2 =&gt; 8b/-&gt; var2/rm32 var1/r32</span>
<span id="L18550" class="LineNr">18550 </span>    0x11/imm32/alloc-id:fake
<span id="L18551" class="LineNr">18551 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18552" class="LineNr">18552 </span>    0x11/imm32/alloc-id:fake
<span id="L18553" class="LineNr">18553 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L18554" class="LineNr">18554 </span>    0x11/imm32/alloc-id:fake
<span id="L18555" class="LineNr">18555 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18556" class="LineNr">18556 </span>    0x11/imm32/alloc-id:fake
<span id="L18557" class="LineNr">18557 </span>    <a href='mu.subx.html#L20194'>_string_8b_-&gt;</a>/imm32/subx-name
<span id="L18558" class="LineNr">18558 </span>    1/imm32/rm32-is-first-inout
<span id="L18559" class="LineNr">18559 </span>    3/imm32/r32-is-first-output
<span id="L18560" class="LineNr">18560 </span>    0/imm32/no-imm32
<span id="L18561" class="LineNr">18561 </span>    0/imm32/no-imm8
<span id="L18562" class="LineNr">18562 </span>    0/imm32/no-disp32
<span id="L18563" class="LineNr">18563 </span>    1/imm32/output-is-write-only
<span id="L18564" class="LineNr">18564 </span>    0x11/imm32/alloc-id:fake
<span id="L18565" class="LineNr">18565 </span>    <a href='mu.subx.html#L18566'>_Primitive-copy-lit-to-reg</a>/imm32/next
<span id="L18566" class="LineNr">18566 </span><span class="subxMinorFunction">_Primitive-copy-lit-to-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18567" class="LineNr">18567 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18568" class="LineNr">18568 </span>    <span class="subxComment"># var1/reg &lt;- copy lit =&gt; c7 0/subop/copy var1/rm32 lit/imm32</span>
<span id="L18569" class="LineNr">18569 </span>    0x11/imm32/alloc-id:fake
<span id="L18570" class="LineNr">18570 </span>    <a href='mu.subx.html#L19717'>_string-copy</a>/imm32/name
<span id="L18571" class="LineNr">18571 </span>    0x11/imm32/alloc-id:fake
<span id="L18572" class="LineNr">18572 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L18573" class="LineNr">18573 </span>    0x11/imm32/alloc-id:fake
<span id="L18574" class="LineNr">18574 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18575" class="LineNr">18575 </span>    0x11/imm32/alloc-id:fake
<span id="L18576" class="LineNr">18576 </span>    <a href='mu.subx.html#L20244'>_string_c7_subop_copy</a>/imm32/subx-name
<span id="L18577" class="LineNr">18577 </span>    3/imm32/rm32-is-first-output
<span id="L18578" class="LineNr">18578 </span>    0/imm32/no-r32
<span id="L18579" class="LineNr">18579 </span>    1/imm32/imm32-is-first-inout
<span id="L18580" class="LineNr">18580 </span>    0/imm32/no-imm8
<span id="L18581" class="LineNr">18581 </span>    0/imm32/no-disp32
<span id="L18582" class="LineNr">18582 </span>    1/imm32/output-is-write-only
<span id="L18583" class="LineNr">18583 </span>    0x11/imm32/alloc-id:fake
<span id="L18584" class="LineNr">18584 </span>    <a href='mu.subx.html#L18585'>_Primitive-copy-lit-to-mem</a>/imm32/next
<span id="L18585" class="LineNr">18585 </span><span class="subxMinorFunction">_Primitive-copy-lit-to-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18586" class="LineNr">18586 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18587" class="LineNr">18587 </span>    <span class="subxComment"># copy-to var1, lit =&gt; c7 0/subop/copy var1/rm32 lit/imm32</span>
<span id="L18588" class="LineNr">18588 </span>    0x11/imm32/alloc-id:fake
<span id="L18589" class="LineNr">18589 </span>    <a href='mu.subx.html#L19722'>_string-copy-to</a>/imm32/name
<span id="L18590" class="LineNr">18590 </span>    0x11/imm32/alloc-id:fake
<span id="L18591" class="LineNr">18591 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18592" class="LineNr">18592 </span>    0/imm32/no-outputs
<span id="L18593" class="LineNr">18593 </span>    0/imm32/no-outputs
<span id="L18594" class="LineNr">18594 </span>    0x11/imm32/alloc-id:fake
<span id="L18595" class="LineNr">18595 </span>    <a href='mu.subx.html#L20244'>_string_c7_subop_copy</a>/imm32/subx-name
<span id="L18596" class="LineNr">18596 </span>    1/imm32/rm32-is-first-inout
<span id="L18597" class="LineNr">18597 </span>    0/imm32/no-r32
<span id="L18598" class="LineNr">18598 </span>    2/imm32/imm32-is-second-inout
<span id="L18599" class="LineNr">18599 </span>    0/imm32/no-imm8
<span id="L18600" class="LineNr">18600 </span>    0/imm32/no-disp32
<span id="L18601" class="LineNr">18601 </span>    1/imm32/output-is-write-only
<span id="L18602" class="LineNr">18602 </span>    0x11/imm32/alloc-id:fake
<span id="L18603" class="LineNr">18603 </span>    <a href='mu.subx.html#L18605'>_Primitive-copy-byte-from-reg</a>/imm32/next
<span id="L18604" class="LineNr">18604 </span><span class="subxH1Comment"># - copy byte</span>
<span id="L18605" class="LineNr">18605 </span><span class="subxMinorFunction">_Primitive-copy-byte-from-reg</span>:
<span id="L18606" class="LineNr">18606 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18607" class="LineNr">18607 </span>    <span class="subxComment"># var/reg &lt;- copy-byte var2/reg2 =&gt; 8a/byte-&gt; %var2 var/r32</span>
<span id="L18608" class="LineNr">18608 </span>    0x11/imm32/alloc-id:fake
<span id="L18609" class="LineNr">18609 </span>    <a href='mu.subx.html#L19727'>_string-copy-byte</a>/imm32/name
<span id="L18610" class="LineNr">18610 </span>    0x11/imm32/alloc-id:fake
<span id="L18611" class="LineNr">18611 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20392'>Single-byte-var-in-some-register</a></span>/imm32/inouts
<span id="L18612" class="LineNr">18612 </span>    0x11/imm32/alloc-id:fake
<span id="L18613" class="LineNr">18613 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20392'>Single-byte-var-in-some-register</a></span>/imm32/outputs
<span id="L18614" class="LineNr">18614 </span>    0x11/imm32/alloc-id:fake
<span id="L18615" class="LineNr">18615 </span>    <a href='mu.subx.html#L20199'>_string_8a_copy_byte</a>/imm32/subx-name
<span id="L18616" class="LineNr">18616 </span>    1/imm32/rm32-is-first-inout
<span id="L18617" class="LineNr">18617 </span>    3/imm32/r32-is-first-output
<span id="L18618" class="LineNr">18618 </span>    0/imm32/no-imm32
<span id="L18619" class="LineNr">18619 </span>    0/imm32/no-imm8
<span id="L18620" class="LineNr">18620 </span>    0/imm32/no-disp32
<span id="L18621" class="LineNr">18621 </span>    1/imm32/output-is-write-only
<span id="L18622" class="LineNr">18622 </span>    0x11/imm32/alloc-id:fake
<span id="L18623" class="LineNr">18623 </span>    <a href='mu.subx.html#L18624'>_Primitive-copy-byte-from-mem</a>/imm32/next
<span id="L18624" class="LineNr">18624 </span><span class="subxMinorFunction">_Primitive-copy-byte-from-mem</span>:
<span id="L18625" class="LineNr">18625 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18626" class="LineNr">18626 </span>    <span class="subxComment"># var/reg &lt;- copy-byte *var2/reg2 =&gt; 8a/byte-&gt; *var2 var/r32</span>
<span id="L18627" class="LineNr">18627 </span>    0x11/imm32/alloc-id:fake
<span id="L18628" class="LineNr">18628 </span>    <a href='mu.subx.html#L19727'>_string-copy-byte</a>/imm32/name
<span id="L18629" class="LineNr">18629 </span>    0x11/imm32/alloc-id:fake
<span id="L18630" class="LineNr">18630 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20309'>Single-byte-var-in-mem</a></span>/imm32/inouts
<span id="L18631" class="LineNr">18631 </span>    0x11/imm32/alloc-id:fake
<span id="L18632" class="LineNr">18632 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20392'>Single-byte-var-in-some-register</a></span>/imm32/outputs
<span id="L18633" class="LineNr">18633 </span>    0x11/imm32/alloc-id:fake
<span id="L18634" class="LineNr">18634 </span>    <a href='mu.subx.html#L20199'>_string_8a_copy_byte</a>/imm32/subx-name
<span id="L18635" class="LineNr">18635 </span>    1/imm32/rm32-is-first-inout
<span id="L18636" class="LineNr">18636 </span>    3/imm32/r32-is-first-output
<span id="L18637" class="LineNr">18637 </span>    0/imm32/no-imm32
<span id="L18638" class="LineNr">18638 </span>    0/imm32/no-imm8
<span id="L18639" class="LineNr">18639 </span>    0/imm32/no-disp32
<span id="L18640" class="LineNr">18640 </span>    1/imm32/output-is-write-only
<span id="L18641" class="LineNr">18641 </span>    0x11/imm32/alloc-id:fake
<span id="L18642" class="LineNr">18642 </span>    <a href='mu.subx.html#L18643'>_Primitive-copy-byte-to-mem</a>/imm32/next
<span id="L18643" class="LineNr">18643 </span><span class="subxMinorFunction">_Primitive-copy-byte-to-mem</span>:
<span id="L18644" class="LineNr">18644 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18645" class="LineNr">18645 </span>    <span class="subxComment"># copy-byte-to *var1/reg1, var2/reg2 =&gt; 88/byte&lt;- *reg1 reg2/r32</span>
<span id="L18646" class="LineNr">18646 </span>    0x11/imm32/alloc-id:fake
<span id="L18647" class="LineNr">18647 </span>    <a href='mu.subx.html#L19732'>_string-copy-byte-to</a>/imm32/name
<span id="L18648" class="LineNr">18648 </span>    0x11/imm32/alloc-id:fake
<span id="L18649" class="LineNr">18649 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20343'>Two-args-byte-stack-byte-reg</a></span>/imm32/inouts
<span id="L18650" class="LineNr">18650 </span>    0/imm32/no-outputs
<span id="L18651" class="LineNr">18651 </span>    0/imm32/no-outputs
<span id="L18652" class="LineNr">18652 </span>    0x11/imm32/alloc-id:fake
<span id="L18653" class="LineNr">18653 </span>    <a href='mu.subx.html#L20204'>_string_88_copy_byte</a>/imm32/subx-name
<span id="L18654" class="LineNr">18654 </span>    1/imm32/rm32-is-first-inout
<span id="L18655" class="LineNr">18655 </span>    2/imm32/r32-is-second-inout
<span id="L18656" class="LineNr">18656 </span>    0/imm32/no-imm32
<span id="L18657" class="LineNr">18657 </span>    0/imm32/no-imm8
<span id="L18658" class="LineNr">18658 </span>    0/imm32/no-disp32
<span id="L18659" class="LineNr">18659 </span>    0/imm32/output-is-write-only
<span id="L18660" class="LineNr">18660 </span>    0x11/imm32/alloc-id:fake
<span id="L18661" class="LineNr">18661 </span>    <a href='mu.subx.html#L18663'>_Primitive-address</a>/imm32/next
<span id="L18662" class="LineNr">18662 </span><span class="subxH1Comment"># - address</span>
<span id="L18663" class="LineNr">18663 </span><span class="subxMinorFunction">_Primitive-address</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18664" class="LineNr">18664 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18665" class="LineNr">18665 </span>    <span class="subxComment"># var1/reg &lt;- address var2 =&gt; 8d/copy-address var2/rm32 var1/r32</span>
<span id="L18666" class="LineNr">18666 </span>    0x11/imm32/alloc-id:fake
<span id="L18667" class="LineNr">18667 </span>    <a href='mu.subx.html#L19637'>_string-address</a>/imm32/name
<span id="L18668" class="LineNr">18668 </span>    0x11/imm32/alloc-id:fake
<span id="L18669" class="LineNr">18669 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L18670" class="LineNr">18670 </span>    0x11/imm32/alloc-id:fake
<span id="L18671" class="LineNr">18671 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20385'>Single-addr-var-in-some-register</a></span>/imm32/outputs
<span id="L18672" class="LineNr">18672 </span>    0x11/imm32/alloc-id:fake
<span id="L18673" class="LineNr">18673 </span>    <a href='mu.subx.html#L20209'>_string_8d_copy_address</a>/imm32/subx-name
<span id="L18674" class="LineNr">18674 </span>    1/imm32/rm32-is-first-inout
<span id="L18675" class="LineNr">18675 </span>    3/imm32/r32-is-first-output
<span id="L18676" class="LineNr">18676 </span>    0/imm32/no-imm32
<span id="L18677" class="LineNr">18677 </span>    0/imm32/no-imm8
<span id="L18678" class="LineNr">18678 </span>    0/imm32/no-disp32
<span id="L18679" class="LineNr">18679 </span>    1/imm32/output-is-write-only
<span id="L18680" class="LineNr">18680 </span>    0x11/imm32/alloc-id:fake
<span id="L18681" class="LineNr">18681 </span>    <a href='mu.subx.html#L18683'>_Primitive-compare-reg-with-reg</a>/imm32/next
<span id="L18682" class="LineNr">18682 </span><span class="subxH1Comment"># - compare</span>
<span id="L18683" class="LineNr">18683 </span><span class="subxMinorFunction">_Primitive-compare-reg-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18684" class="LineNr">18684 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18685" class="LineNr">18685 </span>    <span class="subxComment"># compare var1/reg1 var2/reg2 =&gt; 39/compare var1/rm32 var2/r32</span>
<span id="L18686" class="LineNr">18686 </span>    0x11/imm32/alloc-id:fake
<span id="L18687" class="LineNr">18687 </span>    <a href='mu.subx.html#L19712'>_string-compare</a>/imm32/name
<span id="L18688" class="LineNr">18688 </span>    0x11/imm32/alloc-id:fake
<span id="L18689" class="LineNr">18689 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20335'>Two-int-args-in-regs</a></span>/imm32/inouts
<span id="L18690" class="LineNr">18690 </span>    0/imm32/no-outputs
<span id="L18691" class="LineNr">18691 </span>    0/imm32/no-outputs
<span id="L18692" class="LineNr">18692 </span>    0x11/imm32/alloc-id:fake
<span id="L18693" class="LineNr">18693 </span>    <a href='mu.subx.html#L20084'>_string_39_compare-&gt;</a>/imm32/subx-name
<span id="L18694" class="LineNr">18694 </span>    1/imm32/rm32-is-first-inout
<span id="L18695" class="LineNr">18695 </span>    2/imm32/r32-is-second-inout
<span id="L18696" class="LineNr">18696 </span>    0/imm32/no-imm32
<span id="L18697" class="LineNr">18697 </span>    0/imm32/no-imm8
<span id="L18698" class="LineNr">18698 </span>    0/imm32/no-disp32
<span id="L18699" class="LineNr">18699 </span>    0/imm32/output-is-write-only
<span id="L18700" class="LineNr">18700 </span>    0x11/imm32/alloc-id:fake
<span id="L18701" class="LineNr">18701 </span>    <a href='mu.subx.html#L18702'>_Primitive-compare-mem-with-reg</a>/imm32/next
<span id="L18702" class="LineNr">18702 </span><span class="subxMinorFunction">_Primitive-compare-mem-with-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18703" class="LineNr">18703 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18704" class="LineNr">18704 </span>    <span class="subxComment"># compare var1 var2/reg =&gt; 39/compare var1/rm32 var2/r32</span>
<span id="L18705" class="LineNr">18705 </span>    0x11/imm32/alloc-id:fake
<span id="L18706" class="LineNr">18706 </span>    <a href='mu.subx.html#L19712'>_string-compare</a>/imm32/name
<span id="L18707" class="LineNr">18707 </span>    0x11/imm32/alloc-id:fake
<span id="L18708" class="LineNr">18708 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20328'>Two-args-int-stack-int-reg</a></span>/imm32/inouts
<span id="L18709" class="LineNr">18709 </span>    0/imm32/no-outputs
<span id="L18710" class="LineNr">18710 </span>    0/imm32/no-outputs
<span id="L18711" class="LineNr">18711 </span>    0x11/imm32/alloc-id:fake
<span id="L18712" class="LineNr">18712 </span>    <a href='mu.subx.html#L20084'>_string_39_compare-&gt;</a>/imm32/subx-name
<span id="L18713" class="LineNr">18713 </span>    1/imm32/rm32-is-first-inout
<span id="L18714" class="LineNr">18714 </span>    2/imm32/r32-is-second-inout
<span id="L18715" class="LineNr">18715 </span>    0/imm32/no-imm32
<span id="L18716" class="LineNr">18716 </span>    0/imm32/no-imm8
<span id="L18717" class="LineNr">18717 </span>    0/imm32/no-disp32
<span id="L18718" class="LineNr">18718 </span>    0/imm32/output-is-write-only
<span id="L18719" class="LineNr">18719 </span>    0x11/imm32/alloc-id:fake
<span id="L18720" class="LineNr">18720 </span>    <a href='mu.subx.html#L18721'>_Primitive-compare-reg-with-mem</a>/imm32/next
<span id="L18721" class="LineNr">18721 </span><span class="subxMinorFunction">_Primitive-compare-reg-with-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18722" class="LineNr">18722 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18723" class="LineNr">18723 </span>    <span class="subxComment"># compare var1/reg var2 =&gt; 3b/compare&lt;- var2/rm32 var1/r32</span>
<span id="L18724" class="LineNr">18724 </span>    0x11/imm32/alloc-id:fake
<span id="L18725" class="LineNr">18725 </span>    <a href='mu.subx.html#L19712'>_string-compare</a>/imm32/name
<span id="L18726" class="LineNr">18726 </span>    0x11/imm32/alloc-id:fake
<span id="L18727" class="LineNr">18727 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20350'>Two-args-int-reg-int-stack</a></span>/imm32/inouts
<span id="L18728" class="LineNr">18728 </span>    0/imm32/no-outputs
<span id="L18729" class="LineNr">18729 </span>    0/imm32/no-outputs
<span id="L18730" class="LineNr">18730 </span>    0x11/imm32/alloc-id:fake
<span id="L18731" class="LineNr">18731 </span>    <a href='mu.subx.html#L20089'>_string_3b_compare&lt;-</a>/imm32/subx-name
<span id="L18732" class="LineNr">18732 </span>    2/imm32/rm32-is-second-inout
<span id="L18733" class="LineNr">18733 </span>    1/imm32/r32-is-first-inout
<span id="L18734" class="LineNr">18734 </span>    0/imm32/no-imm32
<span id="L18735" class="LineNr">18735 </span>    0/imm32/no-imm8
<span id="L18736" class="LineNr">18736 </span>    0/imm32/no-disp32
<span id="L18737" class="LineNr">18737 </span>    0/imm32/output-is-write-only
<span id="L18738" class="LineNr">18738 </span>    0x11/imm32/alloc-id:fake
<span id="L18739" class="LineNr">18739 </span>    <a href='mu.subx.html#L18740'>_Primitive-compare-eax-with-literal</a>/imm32/next
<span id="L18740" class="LineNr">18740 </span><span class="subxMinorFunction">_Primitive-compare-eax-with-literal</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18741" class="LineNr">18741 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18742" class="LineNr">18742 </span>    <span class="subxComment"># compare var1/eax n =&gt; 3d/compare-eax-with n/imm32</span>
<span id="L18743" class="LineNr">18743 </span>    0x11/imm32/alloc-id:fake
<span id="L18744" class="LineNr">18744 </span>    <a href='mu.subx.html#L19712'>_string-compare</a>/imm32/name
<span id="L18745" class="LineNr">18745 </span>    0x11/imm32/alloc-id:fake
<span id="L18746" class="LineNr">18746 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20357'>Two-args-int-eax-int-literal</a></span>/imm32/inouts
<span id="L18747" class="LineNr">18747 </span>    0/imm32/no-outputs
<span id="L18748" class="LineNr">18748 </span>    0/imm32/no-outputs
<span id="L18749" class="LineNr">18749 </span>    0x11/imm32/alloc-id:fake
<span id="L18750" class="LineNr">18750 </span>    <a href='mu.subx.html#L20094'>_string_3d_compare_eax_with</a>/imm32/subx-name
<span id="L18751" class="LineNr">18751 </span>    0/imm32/no-rm32
<span id="L18752" class="LineNr">18752 </span>    0/imm32/no-r32
<span id="L18753" class="LineNr">18753 </span>    2/imm32/imm32-is-second-inout
<span id="L18754" class="LineNr">18754 </span>    0/imm32/no-imm8
<span id="L18755" class="LineNr">18755 </span>    0/imm32/no-disp32
<span id="L18756" class="LineNr">18756 </span>    0/imm32/output-is-write-only
<span id="L18757" class="LineNr">18757 </span>    0x11/imm32/alloc-id:fake
<span id="L18758" class="LineNr">18758 </span>    <a href='mu.subx.html#L18759'>_Primitive-compare-reg-with-literal</a>/imm32/next
<span id="L18759" class="LineNr">18759 </span><span class="subxMinorFunction">_Primitive-compare-reg-with-literal</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18760" class="LineNr">18760 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18761" class="LineNr">18761 </span>    <span class="subxComment"># compare var1/reg n =&gt; 81 7/subop/compare %reg n/imm32</span>
<span id="L18762" class="LineNr">18762 </span>    0x11/imm32/alloc-id:fake
<span id="L18763" class="LineNr">18763 </span>    <a href='mu.subx.html#L19712'>_string-compare</a>/imm32/name
<span id="L18764" class="LineNr">18764 </span>    0x11/imm32/alloc-id:fake
<span id="L18765" class="LineNr">18765 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20371'>Int-var-in-register-and-literal</a></span>/imm32/inouts
<span id="L18766" class="LineNr">18766 </span>    0/imm32/no-outputs
<span id="L18767" class="LineNr">18767 </span>    0/imm32/no-outputs
<span id="L18768" class="LineNr">18768 </span>    0x11/imm32/alloc-id:fake
<span id="L18769" class="LineNr">18769 </span>    <a href='mu.subx.html#L20184'>_string_81_subop_compare</a>/imm32/subx-name
<span id="L18770" class="LineNr">18770 </span>    1/imm32/rm32-is-first-inout
<span id="L18771" class="LineNr">18771 </span>    0/imm32/no-r32
<span id="L18772" class="LineNr">18772 </span>    2/imm32/imm32-is-second-inout
<span id="L18773" class="LineNr">18773 </span>    0/imm32/no-imm8
<span id="L18774" class="LineNr">18774 </span>    0/imm32/no-disp32
<span id="L18775" class="LineNr">18775 </span>    0/imm32/output-is-write-only
<span id="L18776" class="LineNr">18776 </span>    0x11/imm32/alloc-id:fake
<span id="L18777" class="LineNr">18777 </span>    <a href='mu.subx.html#L18778'>_Primitive-compare-mem-with-literal</a>/imm32/next
<span id="L18778" class="LineNr">18778 </span><span class="subxMinorFunction">_Primitive-compare-mem-with-literal</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18779" class="LineNr">18779 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18780" class="LineNr">18780 </span>    <span class="subxComment"># compare var1 n =&gt; 81 7/subop/compare *(ebp+___) n/imm32</span>
<span id="L18781" class="LineNr">18781 </span>    0x11/imm32/alloc-id:fake
<span id="L18782" class="LineNr">18782 </span>    <a href='mu.subx.html#L19712'>_string-compare</a>/imm32/name
<span id="L18783" class="LineNr">18783 </span>    0x11/imm32/alloc-id:fake
<span id="L18784" class="LineNr">18784 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20364'>Int-var-and-literal</a></span>/imm32/inouts
<span id="L18785" class="LineNr">18785 </span>    0/imm32/no-outputs
<span id="L18786" class="LineNr">18786 </span>    0/imm32/no-outputs
<span id="L18787" class="LineNr">18787 </span>    0x11/imm32/alloc-id:fake
<span id="L18788" class="LineNr">18788 </span>    <a href='mu.subx.html#L20184'>_string_81_subop_compare</a>/imm32/subx-name
<span id="L18789" class="LineNr">18789 </span>    1/imm32/rm32-is-first-inout
<span id="L18790" class="LineNr">18790 </span>    0/imm32/no-r32
<span id="L18791" class="LineNr">18791 </span>    2/imm32/imm32-is-second-inout
<span id="L18792" class="LineNr">18792 </span>    0/imm32/no-imm8
<span id="L18793" class="LineNr">18793 </span>    0/imm32/no-disp32
<span id="L18794" class="LineNr">18794 </span>    0/imm32/output-is-write-only
<span id="L18795" class="LineNr">18795 </span>    0x11/imm32/alloc-id:fake
<span id="L18796" class="LineNr">18796 </span>    <a href='mu.subx.html#L18798'>_Primitive-multiply-reg-by-reg</a>/imm32/next
<span id="L18797" class="LineNr">18797 </span><span class="subxH1Comment"># - multiply</span>
<span id="L18798" class="LineNr">18798 </span><span class="subxMinorFunction">_Primitive-multiply-reg-by-reg</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18799" class="LineNr">18799 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18800" class="LineNr">18800 </span>    <span class="subxComment"># var1/reg &lt;- multiply var2 =&gt; 0f af/multiply var2/rm32 var1/r32</span>
<span id="L18801" class="LineNr">18801 </span>    0x11/imm32/alloc-id:fake
<span id="L18802" class="LineNr">18802 </span>    <a href='mu.subx.html#L19802'>_string-multiply</a>/imm32/name
<span id="L18803" class="LineNr">18803 </span>    0x11/imm32/alloc-id:fake
<span id="L18804" class="LineNr">18804 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/inouts
<span id="L18805" class="LineNr">18805 </span>    0x11/imm32/alloc-id:fake
<span id="L18806" class="LineNr">18806 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18807" class="LineNr">18807 </span>    0x11/imm32/alloc-id:fake
<span id="L18808" class="LineNr">18808 </span>    <a href='mu.subx.html#L20034'>_string_0f_af_multiply</a>/imm32/subx-name
<span id="L18809" class="LineNr">18809 </span>    1/imm32/rm32-is-first-inout
<span id="L18810" class="LineNr">18810 </span>    3/imm32/r32-is-first-output
<span id="L18811" class="LineNr">18811 </span>    0/imm32/no-imm32
<span id="L18812" class="LineNr">18812 </span>    0/imm32/no-imm8
<span id="L18813" class="LineNr">18813 </span>    0/imm32/no-disp32
<span id="L18814" class="LineNr">18814 </span>    0/imm32/output-is-write-only
<span id="L18815" class="LineNr">18815 </span>    0x11/imm32/alloc-id:fake
<span id="L18816" class="LineNr">18816 </span>    <a href='mu.subx.html#L18817'>_Primitive-multiply-reg-by-mem</a>/imm32/next
<span id="L18817" class="LineNr">18817 </span><span class="subxMinorFunction">_Primitive-multiply-reg-by-mem</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18818" class="LineNr">18818 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18819" class="LineNr">18819 </span>    <span class="subxComment"># var1/reg &lt;- multiply var2 =&gt; 0f af/multiply var2/rm32 var1/r32</span>
<span id="L18820" class="LineNr">18820 </span>    0x11/imm32/alloc-id:fake
<span id="L18821" class="LineNr">18821 </span>    <a href='mu.subx.html#L19802'>_string-multiply</a>/imm32/name
<span id="L18822" class="LineNr">18822 </span>    0x11/imm32/alloc-id:fake
<span id="L18823" class="LineNr">18823 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/inouts
<span id="L18824" class="LineNr">18824 </span>    0x11/imm32/alloc-id:fake
<span id="L18825" class="LineNr">18825 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/outputs
<span id="L18826" class="LineNr">18826 </span>    0x11/imm32/alloc-id:fake
<span id="L18827" class="LineNr">18827 </span>    <a href='mu.subx.html#L20034'>_string_0f_af_multiply</a>/imm32/subx-name
<span id="L18828" class="LineNr">18828 </span>    1/imm32/rm32-is-first-inout
<span id="L18829" class="LineNr">18829 </span>    3/imm32/r32-is-first-output
<span id="L18830" class="LineNr">18830 </span>    0/imm32/no-imm32
<span id="L18831" class="LineNr">18831 </span>    0/imm32/no-imm8
<span id="L18832" class="LineNr">18832 </span>    0/imm32/no-disp32
<span id="L18833" class="LineNr">18833 </span>    0/imm32/output-is-write-only
<span id="L18834" class="LineNr">18834 </span>    0x11/imm32/alloc-id:fake
<span id="L18835" class="LineNr">18835 </span>    <a href='mu.subx.html#L18837'>_Primitive-break-if-addr&lt;</a>/imm32/next
<span id="L18836" class="LineNr">18836 </span><span class="subxH1Comment"># - branches</span>
<span id="L18837" class="LineNr">18837 </span><span class="subxMinorFunction">_Primitive-break-if-addr&lt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18838" class="LineNr">18838 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18839" class="LineNr">18839 </span>    0x11/imm32/alloc-id:fake
<span id="L18840" class="LineNr">18840 </span>    <a href='mu.subx.html#L19692'>_string-break-if-addr&lt;</a>/imm32/name
<span id="L18841" class="LineNr">18841 </span>    0/imm32/no-inouts
<span id="L18842" class="LineNr">18842 </span>    0/imm32/no-inouts
<span id="L18843" class="LineNr">18843 </span>    0/imm32/no-outputs
<span id="L18844" class="LineNr">18844 </span>    0/imm32/no-outputs
<span id="L18845" class="LineNr">18845 </span>    0x11/imm32/alloc-id:fake
<span id="L18846" class="LineNr">18846 </span>    <a href='mu.subx.html#L19889'>_string_0f_82_jump_break</a>/imm32/subx-name
<span id="L18847" class="LineNr">18847 </span>    0/imm32/no-rm32
<span id="L18848" class="LineNr">18848 </span>    0/imm32/no-r32
<span id="L18849" class="LineNr">18849 </span>    0/imm32/no-imm32
<span id="L18850" class="LineNr">18850 </span>    0/imm32/no-imm8
<span id="L18851" class="LineNr">18851 </span>    0/imm32/no-disp32
<span id="L18852" class="LineNr">18852 </span>    0/imm32/no-output
<span id="L18853" class="LineNr">18853 </span>    0x11/imm32/alloc-id:fake
<span id="L18854" class="LineNr">18854 </span>    <a href='mu.subx.html#L18855'>_Primitive-break-if-addr&gt;=</a>/imm32/next
<span id="L18855" class="LineNr">18855 </span><span class="subxMinorFunction">_Primitive-break-if-addr&gt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18856" class="LineNr">18856 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18857" class="LineNr">18857 </span>    0x11/imm32/alloc-id:fake
<span id="L18858" class="LineNr">18858 </span>    <a href='mu.subx.html#L19707'>_string-break-if-addr&gt;=</a>/imm32/name
<span id="L18859" class="LineNr">18859 </span>    0/imm32/no-inouts
<span id="L18860" class="LineNr">18860 </span>    0/imm32/no-inouts
<span id="L18861" class="LineNr">18861 </span>    0/imm32/no-outputs
<span id="L18862" class="LineNr">18862 </span>    0/imm32/no-outputs
<span id="L18863" class="LineNr">18863 </span>    0x11/imm32/alloc-id:fake
<span id="L18864" class="LineNr">18864 </span>    <a href='mu.subx.html#L19904'>_string_0f_83_jump_break</a>/imm32/subx-name
<span id="L18865" class="LineNr">18865 </span>    0/imm32/no-rm32
<span id="L18866" class="LineNr">18866 </span>    0/imm32/no-r32
<span id="L18867" class="LineNr">18867 </span>    0/imm32/no-imm32
<span id="L18868" class="LineNr">18868 </span>    0/imm32/no-imm8
<span id="L18869" class="LineNr">18869 </span>    0/imm32/no-disp32
<span id="L18870" class="LineNr">18870 </span>    0/imm32/no-output
<span id="L18871" class="LineNr">18871 </span>    0x11/imm32/alloc-id:fake
<span id="L18872" class="LineNr">18872 </span>    <a href='mu.subx.html#L18873'>_Primitive-break-if-=</a>/imm32/next
<span id="L18873" class="LineNr">18873 </span><span class="subxMinorFunction">_Primitive-break-if-=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18874" class="LineNr">18874 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18875" class="LineNr">18875 </span>    0x11/imm32/alloc-id:fake
<span id="L18876" class="LineNr">18876 </span>    <a href='mu.subx.html#L19672'>_string-break-if-=</a>/imm32/name
<span id="L18877" class="LineNr">18877 </span>    0/imm32/no-inouts
<span id="L18878" class="LineNr">18878 </span>    0/imm32/no-inouts
<span id="L18879" class="LineNr">18879 </span>    0/imm32/no-outputs
<span id="L18880" class="LineNr">18880 </span>    0/imm32/no-outputs
<span id="L18881" class="LineNr">18881 </span>    0x11/imm32/alloc-id:fake
<span id="L18882" class="LineNr">18882 </span>    <a href='mu.subx.html#L19919'>_string_0f_84_jump_break</a>/imm32/subx-name
<span id="L18883" class="LineNr">18883 </span>    0/imm32/no-rm32
<span id="L18884" class="LineNr">18884 </span>    0/imm32/no-r32
<span id="L18885" class="LineNr">18885 </span>    0/imm32/no-imm32
<span id="L18886" class="LineNr">18886 </span>    0/imm32/no-imm8
<span id="L18887" class="LineNr">18887 </span>    0/imm32/no-disp32
<span id="L18888" class="LineNr">18888 </span>    0/imm32/no-output
<span id="L18889" class="LineNr">18889 </span>    0x11/imm32/alloc-id:fake
<span id="L18890" class="LineNr">18890 </span>    <a href='mu.subx.html#L18891'>_Primitive-break-if-!=</a>/imm32/next
<span id="L18891" class="LineNr">18891 </span><span class="subxMinorFunction">_Primitive-break-if-!=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18892" class="LineNr">18892 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18893" class="LineNr">18893 </span>    0x11/imm32/alloc-id:fake
<span id="L18894" class="LineNr">18894 </span>    <a href='mu.subx.html#L19687'>_string-break-if-!=</a>/imm32/name
<span id="L18895" class="LineNr">18895 </span>    0/imm32/no-inouts
<span id="L18896" class="LineNr">18896 </span>    0/imm32/no-inouts
<span id="L18897" class="LineNr">18897 </span>    0/imm32/no-outputs
<span id="L18898" class="LineNr">18898 </span>    0/imm32/no-outputs
<span id="L18899" class="LineNr">18899 </span>    0x11/imm32/alloc-id:fake
<span id="L18900" class="LineNr">18900 </span>    <a href='mu.subx.html#L19934'>_string_0f_85_jump_break</a>/imm32/subx-name
<span id="L18901" class="LineNr">18901 </span>    0/imm32/no-rm32
<span id="L18902" class="LineNr">18902 </span>    0/imm32/no-r32
<span id="L18903" class="LineNr">18903 </span>    0/imm32/no-imm32
<span id="L18904" class="LineNr">18904 </span>    0/imm32/no-imm8
<span id="L18905" class="LineNr">18905 </span>    0/imm32/no-disp32
<span id="L18906" class="LineNr">18906 </span>    0/imm32/no-output
<span id="L18907" class="LineNr">18907 </span>    0x11/imm32/alloc-id:fake
<span id="L18908" class="LineNr">18908 </span>    <a href='mu.subx.html#L18909'>_Primitive-break-if-addr&lt;=</a>/imm32/next
<span id="L18909" class="LineNr">18909 </span><span class="subxMinorFunction">_Primitive-break-if-addr&lt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18910" class="LineNr">18910 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18911" class="LineNr">18911 </span>    0x11/imm32/alloc-id:fake
<span id="L18912" class="LineNr">18912 </span>    <a href='mu.subx.html#L19697'>_string-break-if-addr&lt;=</a>/imm32/name
<span id="L18913" class="LineNr">18913 </span>    0/imm32/no-inouts
<span id="L18914" class="LineNr">18914 </span>    0/imm32/no-inouts
<span id="L18915" class="LineNr">18915 </span>    0/imm32/no-outputs
<span id="L18916" class="LineNr">18916 </span>    0/imm32/no-outputs
<span id="L18917" class="LineNr">18917 </span>    0x11/imm32/alloc-id:fake
<span id="L18918" class="LineNr">18918 </span>    <a href='mu.subx.html#L19949'>_string_0f_86_jump_break</a>/imm32/subx-name
<span id="L18919" class="LineNr">18919 </span>    0/imm32/no-rm32
<span id="L18920" class="LineNr">18920 </span>    0/imm32/no-r32
<span id="L18921" class="LineNr">18921 </span>    0/imm32/no-imm32
<span id="L18922" class="LineNr">18922 </span>    0/imm32/no-imm8
<span id="L18923" class="LineNr">18923 </span>    0/imm32/no-disp32
<span id="L18924" class="LineNr">18924 </span>    0/imm32/no-output
<span id="L18925" class="LineNr">18925 </span>    0x11/imm32/alloc-id:fake
<span id="L18926" class="LineNr">18926 </span>    <a href='mu.subx.html#L18927'>_Primitive-break-if-addr&gt;</a>/imm32/next
<span id="L18927" class="LineNr">18927 </span><span class="subxMinorFunction">_Primitive-break-if-addr&gt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18928" class="LineNr">18928 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18929" class="LineNr">18929 </span>    0x11/imm32/alloc-id:fake
<span id="L18930" class="LineNr">18930 </span>    <a href='mu.subx.html#L19702'>_string-break-if-addr&gt;</a>/imm32/name
<span id="L18931" class="LineNr">18931 </span>    0/imm32/no-inouts
<span id="L18932" class="LineNr">18932 </span>    0/imm32/no-inouts
<span id="L18933" class="LineNr">18933 </span>    0/imm32/no-outputs
<span id="L18934" class="LineNr">18934 </span>    0/imm32/no-outputs
<span id="L18935" class="LineNr">18935 </span>    0x11/imm32/alloc-id:fake
<span id="L18936" class="LineNr">18936 </span>    <a href='mu.subx.html#L19964'>_string_0f_87_jump_break</a>/imm32/subx-name
<span id="L18937" class="LineNr">18937 </span>    0/imm32/no-rm32
<span id="L18938" class="LineNr">18938 </span>    0/imm32/no-r32
<span id="L18939" class="LineNr">18939 </span>    0/imm32/no-imm32
<span id="L18940" class="LineNr">18940 </span>    0/imm32/no-imm8
<span id="L18941" class="LineNr">18941 </span>    0/imm32/no-disp32
<span id="L18942" class="LineNr">18942 </span>    0/imm32/no-output
<span id="L18943" class="LineNr">18943 </span>    0x11/imm32/alloc-id:fake
<span id="L18944" class="LineNr">18944 </span>    <a href='mu.subx.html#L18945'>_Primitive-break-if-&lt;</a>/imm32/next
<span id="L18945" class="LineNr">18945 </span><span class="subxMinorFunction">_Primitive-break-if-&lt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18946" class="LineNr">18946 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18947" class="LineNr">18947 </span>    0x11/imm32/alloc-id:fake
<span id="L18948" class="LineNr">18948 </span>    <a href='mu.subx.html#L19662'>_string-break-if-&lt;</a>/imm32/name
<span id="L18949" class="LineNr">18949 </span>    0/imm32/no-inouts
<span id="L18950" class="LineNr">18950 </span>    0/imm32/no-inouts
<span id="L18951" class="LineNr">18951 </span>    0/imm32/no-outputs
<span id="L18952" class="LineNr">18952 </span>    0/imm32/no-outputs
<span id="L18953" class="LineNr">18953 </span>    0x11/imm32/alloc-id:fake
<span id="L18954" class="LineNr">18954 </span>    <a href='mu.subx.html#L19979'>_string_0f_8c_jump_break</a>/imm32/subx-name
<span id="L18955" class="LineNr">18955 </span>    0/imm32/no-rm32
<span id="L18956" class="LineNr">18956 </span>    0/imm32/no-r32
<span id="L18957" class="LineNr">18957 </span>    0/imm32/no-imm32
<span id="L18958" class="LineNr">18958 </span>    0/imm32/no-imm8
<span id="L18959" class="LineNr">18959 </span>    0/imm32/no-disp32
<span id="L18960" class="LineNr">18960 </span>    0/imm32/no-output
<span id="L18961" class="LineNr">18961 </span>    0x11/imm32/alloc-id:fake
<span id="L18962" class="LineNr">18962 </span>    <a href='mu.subx.html#L18963'>_Primitive-break-if-&gt;=</a>/imm32/next
<span id="L18963" class="LineNr">18963 </span><span class="subxMinorFunction">_Primitive-break-if-&gt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18964" class="LineNr">18964 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18965" class="LineNr">18965 </span>    0x11/imm32/alloc-id:fake
<span id="L18966" class="LineNr">18966 </span>    <a href='mu.subx.html#L19682'>_string-break-if-&gt;=</a>/imm32/name
<span id="L18967" class="LineNr">18967 </span>    0/imm32/no-inouts
<span id="L18968" class="LineNr">18968 </span>    0/imm32/no-inouts
<span id="L18969" class="LineNr">18969 </span>    0/imm32/no-outputs
<span id="L18970" class="LineNr">18970 </span>    0/imm32/no-outputs
<span id="L18971" class="LineNr">18971 </span>    0x11/imm32/alloc-id:fake
<span id="L18972" class="LineNr">18972 </span>    <a href='mu.subx.html#L19994'>_string_0f_8d_jump_break</a>/imm32/subx-name
<span id="L18973" class="LineNr">18973 </span>    0/imm32/no-rm32
<span id="L18974" class="LineNr">18974 </span>    0/imm32/no-r32
<span id="L18975" class="LineNr">18975 </span>    0/imm32/no-imm32
<span id="L18976" class="LineNr">18976 </span>    0/imm32/no-imm8
<span id="L18977" class="LineNr">18977 </span>    0/imm32/no-disp32
<span id="L18978" class="LineNr">18978 </span>    0/imm32/no-output
<span id="L18979" class="LineNr">18979 </span>    0x11/imm32/alloc-id:fake
<span id="L18980" class="LineNr">18980 </span>    <a href='mu.subx.html#L18981'>_Primitive-break-if-&lt;=</a>/imm32/next
<span id="L18981" class="LineNr">18981 </span><span class="subxMinorFunction">_Primitive-break-if-&lt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L18982" class="LineNr">18982 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L18983" class="LineNr">18983 </span>    0x11/imm32/alloc-id:fake
<span id="L18984" class="LineNr">18984 </span>    <a href='mu.subx.html#L19667'>_string-break-if-&lt;=</a>/imm32/name
<span id="L18985" class="LineNr">18985 </span>    0/imm32/no-inouts
<span id="L18986" class="LineNr">18986 </span>    0/imm32/no-inouts
<span id="L18987" class="LineNr">18987 </span>    0/imm32/no-outputs
<span id="L18988" class="LineNr">18988 </span>    0/imm32/no-outputs
<span id="L18989" class="LineNr">18989 </span>    0x11/imm32/alloc-id:fake
<span id="L18990" class="LineNr">18990 </span>    <a href='mu.subx.html#L20009'>_string_0f_8e_jump_break</a>/imm32/subx-name
<span id="L18991" class="LineNr">18991 </span>    0/imm32/no-rm32
<span id="L18992" class="LineNr">18992 </span>    0/imm32/no-r32
<span id="L18993" class="LineNr">18993 </span>    0/imm32/no-imm32
<span id="L18994" class="LineNr">18994 </span>    0/imm32/no-imm8
<span id="L18995" class="LineNr">18995 </span>    0/imm32/no-disp32
<span id="L18996" class="LineNr">18996 </span>    0/imm32/no-output
<span id="L18997" class="LineNr">18997 </span>    0x11/imm32/alloc-id:fake
<span id="L18998" class="LineNr">18998 </span>    <a href='mu.subx.html#L18999'>_Primitive-break-if-&gt;</a>/imm32/next
<span id="L18999" class="LineNr">18999 </span><span class="subxMinorFunction">_Primitive-break-if-&gt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19000" class="LineNr">19000 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19001" class="LineNr">19001 </span>    0x11/imm32/alloc-id:fake
<span id="L19002" class="LineNr">19002 </span>    <a href='mu.subx.html#L19677'>_string-break-if-&gt;</a>/imm32/name
<span id="L19003" class="LineNr">19003 </span>    0/imm32/no-inouts
<span id="L19004" class="LineNr">19004 </span>    0/imm32/no-inouts
<span id="L19005" class="LineNr">19005 </span>    0/imm32/no-outputs
<span id="L19006" class="LineNr">19006 </span>    0/imm32/no-outputs
<span id="L19007" class="LineNr">19007 </span>    0x11/imm32/alloc-id:fake
<span id="L19008" class="LineNr">19008 </span>    <a href='mu.subx.html#L20024'>_string_0f_8f_jump_break</a>/imm32/subx-name
<span id="L19009" class="LineNr">19009 </span>    0/imm32/no-rm32
<span id="L19010" class="LineNr">19010 </span>    0/imm32/no-r32
<span id="L19011" class="LineNr">19011 </span>    0/imm32/no-imm32
<span id="L19012" class="LineNr">19012 </span>    0/imm32/no-imm8
<span id="L19013" class="LineNr">19013 </span>    0/imm32/no-disp32
<span id="L19014" class="LineNr">19014 </span>    0/imm32/no-output
<span id="L19015" class="LineNr">19015 </span>    0x11/imm32/alloc-id:fake
<span id="L19016" class="LineNr">19016 </span>    <a href='mu.subx.html#L19017'>_Primitive-break</a>/imm32/next
<span id="L19017" class="LineNr">19017 </span><span class="subxMinorFunction">_Primitive-break</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19018" class="LineNr">19018 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19019" class="LineNr">19019 </span>    0x11/imm32/alloc-id:fake
<span id="L19020" class="LineNr">19020 </span>    <a href='mu.subx.html#L19657'>_string-break</a>/imm32/name
<span id="L19021" class="LineNr">19021 </span>    0/imm32/no-inouts
<span id="L19022" class="LineNr">19022 </span>    0/imm32/no-inouts
<span id="L19023" class="LineNr">19023 </span>    0/imm32/no-outputs
<span id="L19024" class="LineNr">19024 </span>    0/imm32/no-outputs
<span id="L19025" class="LineNr">19025 </span>    0x11/imm32/alloc-id:fake
<span id="L19026" class="LineNr">19026 </span>    <a href='mu.subx.html#L20254'>_string_e9_jump_break</a>/imm32/subx-name
<span id="L19027" class="LineNr">19027 </span>    0/imm32/no-rm32
<span id="L19028" class="LineNr">19028 </span>    0/imm32/no-r32
<span id="L19029" class="LineNr">19029 </span>    0/imm32/no-imm32
<span id="L19030" class="LineNr">19030 </span>    0/imm32/no-imm8
<span id="L19031" class="LineNr">19031 </span>    0/imm32/no-disp32
<span id="L19032" class="LineNr">19032 </span>    0/imm32/no-output
<span id="L19033" class="LineNr">19033 </span>    0x11/imm32/alloc-id:fake
<span id="L19034" class="LineNr">19034 </span>    <a href='mu.subx.html#L19035'>_Primitive-loop-if-addr&lt;</a>/imm32/next
<span id="L19035" class="LineNr">19035 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&lt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19036" class="LineNr">19036 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19037" class="LineNr">19037 </span>    0x11/imm32/alloc-id:fake
<span id="L19038" class="LineNr">19038 </span>    <a href='mu.subx.html#L19782'>_string-loop-if-addr&lt;</a>/imm32/name
<span id="L19039" class="LineNr">19039 </span>    0/imm32/no-inouts
<span id="L19040" class="LineNr">19040 </span>    0/imm32/no-inouts
<span id="L19041" class="LineNr">19041 </span>    0/imm32/no-outputs
<span id="L19042" class="LineNr">19042 </span>    0/imm32/no-outputs
<span id="L19043" class="LineNr">19043 </span>    0x11/imm32/alloc-id:fake
<span id="L19044" class="LineNr">19044 </span>    <a href='mu.subx.html#L19894'>_string_0f_82_jump_loop</a>/imm32/subx-name
<span id="L19045" class="LineNr">19045 </span>    0/imm32/no-rm32
<span id="L19046" class="LineNr">19046 </span>    0/imm32/no-r32
<span id="L19047" class="LineNr">19047 </span>    0/imm32/no-imm32
<span id="L19048" class="LineNr">19048 </span>    0/imm32/no-imm8
<span id="L19049" class="LineNr">19049 </span>    0/imm32/no-disp32
<span id="L19050" class="LineNr">19050 </span>    0/imm32/no-output
<span id="L19051" class="LineNr">19051 </span>    0x11/imm32/alloc-id:fake
<span id="L19052" class="LineNr">19052 </span>    <a href='mu.subx.html#L19053'>_Primitive-loop-if-addr&gt;=</a>/imm32/next
<span id="L19053" class="LineNr">19053 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&gt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19054" class="LineNr">19054 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19055" class="LineNr">19055 </span>    0x11/imm32/alloc-id:fake
<span id="L19056" class="LineNr">19056 </span>    <a href='mu.subx.html#L19797'>_string-loop-if-addr&gt;=</a>/imm32/name
<span id="L19057" class="LineNr">19057 </span>    0/imm32/no-inouts
<span id="L19058" class="LineNr">19058 </span>    0/imm32/no-inouts
<span id="L19059" class="LineNr">19059 </span>    0/imm32/no-outputs
<span id="L19060" class="LineNr">19060 </span>    0/imm32/no-outputs
<span id="L19061" class="LineNr">19061 </span>    0x11/imm32/alloc-id:fake
<span id="L19062" class="LineNr">19062 </span>    <a href='mu.subx.html#L19909'>_string_0f_83_jump_loop</a>/imm32/subx-name
<span id="L19063" class="LineNr">19063 </span>    0/imm32/no-rm32
<span id="L19064" class="LineNr">19064 </span>    0/imm32/no-r32
<span id="L19065" class="LineNr">19065 </span>    0/imm32/no-imm32
<span id="L19066" class="LineNr">19066 </span>    0/imm32/no-imm8
<span id="L19067" class="LineNr">19067 </span>    0/imm32/no-disp32
<span id="L19068" class="LineNr">19068 </span>    0/imm32/no-output
<span id="L19069" class="LineNr">19069 </span>    0x11/imm32/alloc-id:fake
<span id="L19070" class="LineNr">19070 </span>    <a href='mu.subx.html#L19071'>_Primitive-loop-if-=</a>/imm32/next
<span id="L19071" class="LineNr">19071 </span><span class="subxMinorFunction">_Primitive-loop-if-=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19072" class="LineNr">19072 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19073" class="LineNr">19073 </span>    0x11/imm32/alloc-id:fake
<span id="L19074" class="LineNr">19074 </span>    <a href='mu.subx.html#L19762'>_string-loop-if-=</a>/imm32/name
<span id="L19075" class="LineNr">19075 </span>    0/imm32/no-inouts
<span id="L19076" class="LineNr">19076 </span>    0/imm32/no-inouts
<span id="L19077" class="LineNr">19077 </span>    0/imm32/no-outputs
<span id="L19078" class="LineNr">19078 </span>    0/imm32/no-outputs
<span id="L19079" class="LineNr">19079 </span>    0x11/imm32/alloc-id:fake
<span id="L19080" class="LineNr">19080 </span>    <a href='mu.subx.html#L19924'>_string_0f_84_jump_loop</a>/imm32/subx-name
<span id="L19081" class="LineNr">19081 </span>    0/imm32/no-rm32
<span id="L19082" class="LineNr">19082 </span>    0/imm32/no-r32
<span id="L19083" class="LineNr">19083 </span>    0/imm32/no-imm32
<span id="L19084" class="LineNr">19084 </span>    0/imm32/no-imm8
<span id="L19085" class="LineNr">19085 </span>    0/imm32/no-disp32
<span id="L19086" class="LineNr">19086 </span>    0/imm32/no-output
<span id="L19087" class="LineNr">19087 </span>    0x11/imm32/alloc-id:fake
<span id="L19088" class="LineNr">19088 </span>    <a href='mu.subx.html#L19089'>_Primitive-loop-if-!=</a>/imm32/next
<span id="L19089" class="LineNr">19089 </span><span class="subxMinorFunction">_Primitive-loop-if-!=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19090" class="LineNr">19090 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19091" class="LineNr">19091 </span>    0x11/imm32/alloc-id:fake
<span id="L19092" class="LineNr">19092 </span>    <a href='mu.subx.html#L19777'>_string-loop-if-!=</a>/imm32/name
<span id="L19093" class="LineNr">19093 </span>    0/imm32/no-inouts
<span id="L19094" class="LineNr">19094 </span>    0/imm32/no-inouts
<span id="L19095" class="LineNr">19095 </span>    0/imm32/no-outputs
<span id="L19096" class="LineNr">19096 </span>    0/imm32/no-outputs
<span id="L19097" class="LineNr">19097 </span>    0x11/imm32/alloc-id:fake
<span id="L19098" class="LineNr">19098 </span>    <a href='mu.subx.html#L19939'>_string_0f_85_jump_loop</a>/imm32/subx-name
<span id="L19099" class="LineNr">19099 </span>    0/imm32/no-rm32
<span id="L19100" class="LineNr">19100 </span>    0/imm32/no-r32
<span id="L19101" class="LineNr">19101 </span>    0/imm32/no-imm32
<span id="L19102" class="LineNr">19102 </span>    0/imm32/no-imm8
<span id="L19103" class="LineNr">19103 </span>    0/imm32/no-disp32
<span id="L19104" class="LineNr">19104 </span>    0/imm32/no-output
<span id="L19105" class="LineNr">19105 </span>    0x11/imm32/alloc-id:fake
<span id="L19106" class="LineNr">19106 </span>    <a href='mu.subx.html#L19107'>_Primitive-loop-if-addr&lt;=</a>/imm32/next
<span id="L19107" class="LineNr">19107 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&lt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19108" class="LineNr">19108 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19109" class="LineNr">19109 </span>    0x11/imm32/alloc-id:fake
<span id="L19110" class="LineNr">19110 </span>    <a href='mu.subx.html#L19787'>_string-loop-if-addr&lt;=</a>/imm32/name
<span id="L19111" class="LineNr">19111 </span>    0/imm32/no-inouts
<span id="L19112" class="LineNr">19112 </span>    0/imm32/no-inouts
<span id="L19113" class="LineNr">19113 </span>    0/imm32/no-outputs
<span id="L19114" class="LineNr">19114 </span>    0/imm32/no-outputs
<span id="L19115" class="LineNr">19115 </span>    0x11/imm32/alloc-id:fake
<span id="L19116" class="LineNr">19116 </span>    <a href='mu.subx.html#L19954'>_string_0f_86_jump_loop</a>/imm32/subx-name
<span id="L19117" class="LineNr">19117 </span>    0/imm32/no-rm32
<span id="L19118" class="LineNr">19118 </span>    0/imm32/no-r32
<span id="L19119" class="LineNr">19119 </span>    0/imm32/no-imm32
<span id="L19120" class="LineNr">19120 </span>    0/imm32/no-imm8
<span id="L19121" class="LineNr">19121 </span>    0/imm32/no-disp32
<span id="L19122" class="LineNr">19122 </span>    0/imm32/no-output
<span id="L19123" class="LineNr">19123 </span>    0x11/imm32/alloc-id:fake
<span id="L19124" class="LineNr">19124 </span>    <a href='mu.subx.html#L19125'>_Primitive-loop-if-addr&gt;</a>/imm32/next
<span id="L19125" class="LineNr">19125 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&gt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19126" class="LineNr">19126 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19127" class="LineNr">19127 </span>    0x11/imm32/alloc-id:fake
<span id="L19128" class="LineNr">19128 </span>    <a href='mu.subx.html#L19792'>_string-loop-if-addr&gt;</a>/imm32/name
<span id="L19129" class="LineNr">19129 </span>    0/imm32/no-inouts
<span id="L19130" class="LineNr">19130 </span>    0/imm32/no-inouts
<span id="L19131" class="LineNr">19131 </span>    0/imm32/no-outputs
<span id="L19132" class="LineNr">19132 </span>    0/imm32/no-outputs
<span id="L19133" class="LineNr">19133 </span>    0x11/imm32/alloc-id:fake
<span id="L19134" class="LineNr">19134 </span>    <a href='mu.subx.html#L19969'>_string_0f_87_jump_loop</a>/imm32/subx-name
<span id="L19135" class="LineNr">19135 </span>    0/imm32/no-rm32
<span id="L19136" class="LineNr">19136 </span>    0/imm32/no-r32
<span id="L19137" class="LineNr">19137 </span>    0/imm32/no-imm32
<span id="L19138" class="LineNr">19138 </span>    0/imm32/no-imm8
<span id="L19139" class="LineNr">19139 </span>    0/imm32/no-disp32
<span id="L19140" class="LineNr">19140 </span>    0/imm32/no-output
<span id="L19141" class="LineNr">19141 </span>    0x11/imm32/alloc-id:fake
<span id="L19142" class="LineNr">19142 </span>    <a href='mu.subx.html#L19143'>_Primitive-loop-if-&lt;</a>/imm32/next
<span id="L19143" class="LineNr">19143 </span><span class="subxMinorFunction">_Primitive-loop-if-&lt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19144" class="LineNr">19144 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19145" class="LineNr">19145 </span>    0x11/imm32/alloc-id:fake
<span id="L19146" class="LineNr">19146 </span>    <a href='mu.subx.html#L19752'>_string-loop-if-&lt;</a>/imm32/name
<span id="L19147" class="LineNr">19147 </span>    0/imm32/no-inouts
<span id="L19148" class="LineNr">19148 </span>    0/imm32/no-inouts
<span id="L19149" class="LineNr">19149 </span>    0/imm32/no-outputs
<span id="L19150" class="LineNr">19150 </span>    0/imm32/no-outputs
<span id="L19151" class="LineNr">19151 </span>    0x11/imm32/alloc-id:fake
<span id="L19152" class="LineNr">19152 </span>    <a href='mu.subx.html#L19984'>_string_0f_8c_jump_loop</a>/imm32/subx-name
<span id="L19153" class="LineNr">19153 </span>    0/imm32/no-rm32
<span id="L19154" class="LineNr">19154 </span>    0/imm32/no-r32
<span id="L19155" class="LineNr">19155 </span>    0/imm32/no-imm32
<span id="L19156" class="LineNr">19156 </span>    0/imm32/no-imm8
<span id="L19157" class="LineNr">19157 </span>    0/imm32/no-disp32
<span id="L19158" class="LineNr">19158 </span>    0/imm32/no-output
<span id="L19159" class="LineNr">19159 </span>    0x11/imm32/alloc-id:fake
<span id="L19160" class="LineNr">19160 </span>    <a href='mu.subx.html#L19161'>_Primitive-loop-if-&gt;=</a>/imm32/next
<span id="L19161" class="LineNr">19161 </span><span class="subxMinorFunction">_Primitive-loop-if-&gt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19162" class="LineNr">19162 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19163" class="LineNr">19163 </span>    0x11/imm32/alloc-id:fake
<span id="L19164" class="LineNr">19164 </span>    <a href='mu.subx.html#L19772'>_string-loop-if-&gt;=</a>/imm32/name
<span id="L19165" class="LineNr">19165 </span>    0/imm32/no-inouts
<span id="L19166" class="LineNr">19166 </span>    0/imm32/no-inouts
<span id="L19167" class="LineNr">19167 </span>    0/imm32/no-outputs
<span id="L19168" class="LineNr">19168 </span>    0/imm32/no-outputs
<span id="L19169" class="LineNr">19169 </span>    0x11/imm32/alloc-id:fake
<span id="L19170" class="LineNr">19170 </span>    <a href='mu.subx.html#L19999'>_string_0f_8d_jump_loop</a>/imm32/subx-name
<span id="L19171" class="LineNr">19171 </span>    0/imm32/no-rm32
<span id="L19172" class="LineNr">19172 </span>    0/imm32/no-r32
<span id="L19173" class="LineNr">19173 </span>    0/imm32/no-imm32
<span id="L19174" class="LineNr">19174 </span>    0/imm32/no-imm8
<span id="L19175" class="LineNr">19175 </span>    0/imm32/no-disp32
<span id="L19176" class="LineNr">19176 </span>    0/imm32/no-output
<span id="L19177" class="LineNr">19177 </span>    0x11/imm32/alloc-id:fake
<span id="L19178" class="LineNr">19178 </span>    <a href='mu.subx.html#L19179'>_Primitive-loop-if-&lt;=</a>/imm32/next
<span id="L19179" class="LineNr">19179 </span><span class="subxMinorFunction">_Primitive-loop-if-&lt;=</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19180" class="LineNr">19180 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19181" class="LineNr">19181 </span>    0x11/imm32/alloc-id:fake
<span id="L19182" class="LineNr">19182 </span>    <a href='mu.subx.html#L19757'>_string-loop-if-&lt;=</a>/imm32/name
<span id="L19183" class="LineNr">19183 </span>    0/imm32/no-inouts
<span id="L19184" class="LineNr">19184 </span>    0/imm32/no-inouts
<span id="L19185" class="LineNr">19185 </span>    0/imm32/no-outputs
<span id="L19186" class="LineNr">19186 </span>    0/imm32/no-outputs
<span id="L19187" class="LineNr">19187 </span>    0x11/imm32/alloc-id:fake
<span id="L19188" class="LineNr">19188 </span>    <a href='mu.subx.html#L20014'>_string_0f_8e_jump_loop</a>/imm32/subx-name
<span id="L19189" class="LineNr">19189 </span>    0/imm32/no-rm32
<span id="L19190" class="LineNr">19190 </span>    0/imm32/no-r32
<span id="L19191" class="LineNr">19191 </span>    0/imm32/no-imm32
<span id="L19192" class="LineNr">19192 </span>    0/imm32/no-imm8
<span id="L19193" class="LineNr">19193 </span>    0/imm32/no-disp32
<span id="L19194" class="LineNr">19194 </span>    0/imm32/no-output
<span id="L19195" class="LineNr">19195 </span>    0x11/imm32/alloc-id:fake
<span id="L19196" class="LineNr">19196 </span>    <a href='mu.subx.html#L19197'>_Primitive-loop-if-&gt;</a>/imm32/next
<span id="L19197" class="LineNr">19197 </span><span class="subxMinorFunction">_Primitive-loop-if-&gt;</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19198" class="LineNr">19198 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19199" class="LineNr">19199 </span>    0x11/imm32/alloc-id:fake
<span id="L19200" class="LineNr">19200 </span>    <a href='mu.subx.html#L19767'>_string-loop-if-&gt;</a>/imm32/name
<span id="L19201" class="LineNr">19201 </span>    0/imm32/no-inouts
<span id="L19202" class="LineNr">19202 </span>    0/imm32/no-inouts
<span id="L19203" class="LineNr">19203 </span>    0/imm32/no-outputs
<span id="L19204" class="LineNr">19204 </span>    0/imm32/no-outputs
<span id="L19205" class="LineNr">19205 </span>    0x11/imm32/alloc-id:fake
<span id="L19206" class="LineNr">19206 </span>    <a href='mu.subx.html#L20029'>_string_0f_8f_jump_loop</a>/imm32/subx-name
<span id="L19207" class="LineNr">19207 </span>    0/imm32/no-rm32
<span id="L19208" class="LineNr">19208 </span>    0/imm32/no-r32
<span id="L19209" class="LineNr">19209 </span>    0/imm32/no-imm32
<span id="L19210" class="LineNr">19210 </span>    0/imm32/no-imm8
<span id="L19211" class="LineNr">19211 </span>    0/imm32/no-disp32
<span id="L19212" class="LineNr">19212 </span>    0/imm32/no-output
<span id="L19213" class="LineNr">19213 </span>    0x11/imm32/alloc-id:fake
<span id="L19214" class="LineNr">19214 </span>    <a href='mu.subx.html#L19215'>_Primitive-loop</a>/imm32/next  <span class="subxComment"># we probably don't need an unconditional break</span>
<span id="L19215" class="LineNr">19215 </span><span class="subxMinorFunction">_Primitive-loop</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19216" class="LineNr">19216 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19217" class="LineNr">19217 </span>    0x11/imm32/alloc-id:fake
<span id="L19218" class="LineNr">19218 </span>    <a href='mu.subx.html#L19747'>_string-loop</a>/imm32/name
<span id="L19219" class="LineNr">19219 </span>    0/imm32/no-inouts
<span id="L19220" class="LineNr">19220 </span>    0/imm32/no-inouts
<span id="L19221" class="LineNr">19221 </span>    0/imm32/no-outputs
<span id="L19222" class="LineNr">19222 </span>    0/imm32/no-outputs
<span id="L19223" class="LineNr">19223 </span>    0x11/imm32/alloc-id:fake
<span id="L19224" class="LineNr">19224 </span>    <a href='mu.subx.html#L20259'>_string_e9_jump_loop</a>/imm32/subx-name
<span id="L19225" class="LineNr">19225 </span>    0/imm32/no-rm32
<span id="L19226" class="LineNr">19226 </span>    0/imm32/no-r32
<span id="L19227" class="LineNr">19227 </span>    0/imm32/no-imm32
<span id="L19228" class="LineNr">19228 </span>    0/imm32/no-imm8
<span id="L19229" class="LineNr">19229 </span>    0/imm32/no-disp32
<span id="L19230" class="LineNr">19230 </span>    0/imm32/no-output
<span id="L19231" class="LineNr">19231 </span>    0x11/imm32/alloc-id:fake
<span id="L19232" class="LineNr">19232 </span>    <a href='mu.subx.html#L19234'>_Primitive-break-if-addr&lt;-named</a>/imm32/next
<span id="L19233" class="LineNr">19233 </span><span class="subxH1Comment"># - branches to named blocks</span>
<span id="L19234" class="LineNr">19234 </span><span class="subxMinorFunction">_Primitive-break-if-addr&lt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19235" class="LineNr">19235 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19236" class="LineNr">19236 </span>    0x11/imm32/alloc-id:fake
<span id="L19237" class="LineNr">19237 </span>    <a href='mu.subx.html#L19692'>_string-break-if-addr&lt;</a>/imm32/name
<span id="L19238" class="LineNr">19238 </span>    0x11/imm32/alloc-id:fake
<span id="L19239" class="LineNr">19239 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19240" class="LineNr">19240 </span>    0/imm32/no-outputs
<span id="L19241" class="LineNr">19241 </span>    0/imm32/no-outputs
<span id="L19242" class="LineNr">19242 </span>    0x11/imm32/alloc-id:fake
<span id="L19243" class="LineNr">19243 </span>    <a href='mu.subx.html#L19884'>_string_0f_82_jump_label</a>/imm32/subx-name
<span id="L19244" class="LineNr">19244 </span>    0/imm32/no-rm32
<span id="L19245" class="LineNr">19245 </span>    0/imm32/no-r32
<span id="L19246" class="LineNr">19246 </span>    0/imm32/no-imm32
<span id="L19247" class="LineNr">19247 </span>    0/imm32/no-imm8
<span id="L19248" class="LineNr">19248 </span>    1/imm32/disp32-is-first-inout
<span id="L19249" class="LineNr">19249 </span>    0/imm32/no-output
<span id="L19250" class="LineNr">19250 </span>    0x11/imm32/alloc-id:fake
<span id="L19251" class="LineNr">19251 </span>    <a href='mu.subx.html#L19252'>_Primitive-break-if-addr&gt;=-named</a>/imm32/next
<span id="L19252" class="LineNr">19252 </span><span class="subxMinorFunction">_Primitive-break-if-addr&gt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19253" class="LineNr">19253 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19254" class="LineNr">19254 </span>    0x11/imm32/alloc-id:fake
<span id="L19255" class="LineNr">19255 </span>    <a href='mu.subx.html#L19707'>_string-break-if-addr&gt;=</a>/imm32/name
<span id="L19256" class="LineNr">19256 </span>    0x11/imm32/alloc-id:fake
<span id="L19257" class="LineNr">19257 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19258" class="LineNr">19258 </span>    0/imm32/no-outputs
<span id="L19259" class="LineNr">19259 </span>    0/imm32/no-outputs
<span id="L19260" class="LineNr">19260 </span>    0x11/imm32/alloc-id:fake
<span id="L19261" class="LineNr">19261 </span>    <a href='mu.subx.html#L19899'>_string_0f_83_jump_label</a>/imm32/subx-name
<span id="L19262" class="LineNr">19262 </span>    0/imm32/no-rm32
<span id="L19263" class="LineNr">19263 </span>    0/imm32/no-r32
<span id="L19264" class="LineNr">19264 </span>    0/imm32/no-imm32
<span id="L19265" class="LineNr">19265 </span>    0/imm32/no-imm8
<span id="L19266" class="LineNr">19266 </span>    1/imm32/disp32-is-first-inout
<span id="L19267" class="LineNr">19267 </span>    0/imm32/no-output
<span id="L19268" class="LineNr">19268 </span>    0x11/imm32/alloc-id:fake
<span id="L19269" class="LineNr">19269 </span>    <a href='mu.subx.html#L19270'>_Primitive-break-if-=-named</a>/imm32/next
<span id="L19270" class="LineNr">19270 </span><span class="subxMinorFunction">_Primitive-break-if-=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19271" class="LineNr">19271 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19272" class="LineNr">19272 </span>    0x11/imm32/alloc-id:fake
<span id="L19273" class="LineNr">19273 </span>    <a href='mu.subx.html#L19672'>_string-break-if-=</a>/imm32/name
<span id="L19274" class="LineNr">19274 </span>    0x11/imm32/alloc-id:fake
<span id="L19275" class="LineNr">19275 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19276" class="LineNr">19276 </span>    0/imm32/no-outputs
<span id="L19277" class="LineNr">19277 </span>    0/imm32/no-outputs
<span id="L19278" class="LineNr">19278 </span>    0x11/imm32/alloc-id:fake
<span id="L19279" class="LineNr">19279 </span>    <a href='mu.subx.html#L19914'>_string_0f_84_jump_label</a>/imm32/subx-name
<span id="L19280" class="LineNr">19280 </span>    0/imm32/no-rm32
<span id="L19281" class="LineNr">19281 </span>    0/imm32/no-r32
<span id="L19282" class="LineNr">19282 </span>    0/imm32/no-imm32
<span id="L19283" class="LineNr">19283 </span>    0/imm32/no-imm8
<span id="L19284" class="LineNr">19284 </span>    1/imm32/disp32-is-first-inout
<span id="L19285" class="LineNr">19285 </span>    0/imm32/no-output
<span id="L19286" class="LineNr">19286 </span>    0x11/imm32/alloc-id:fake
<span id="L19287" class="LineNr">19287 </span>    <a href='mu.subx.html#L19288'>_Primitive-break-if-!=-named</a>/imm32/next
<span id="L19288" class="LineNr">19288 </span><span class="subxMinorFunction">_Primitive-break-if-!=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19289" class="LineNr">19289 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19290" class="LineNr">19290 </span>    0x11/imm32/alloc-id:fake
<span id="L19291" class="LineNr">19291 </span>    <a href='mu.subx.html#L19687'>_string-break-if-!=</a>/imm32/name
<span id="L19292" class="LineNr">19292 </span>    0x11/imm32/alloc-id:fake
<span id="L19293" class="LineNr">19293 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19294" class="LineNr">19294 </span>    0/imm32/no-outputs
<span id="L19295" class="LineNr">19295 </span>    0/imm32/no-outputs
<span id="L19296" class="LineNr">19296 </span>    0x11/imm32/alloc-id:fake
<span id="L19297" class="LineNr">19297 </span>    <a href='mu.subx.html#L19929'>_string_0f_85_jump_label</a>/imm32/subx-name
<span id="L19298" class="LineNr">19298 </span>    0/imm32/no-rm32
<span id="L19299" class="LineNr">19299 </span>    0/imm32/no-r32
<span id="L19300" class="LineNr">19300 </span>    0/imm32/no-imm32
<span id="L19301" class="LineNr">19301 </span>    0/imm32/no-imm8
<span id="L19302" class="LineNr">19302 </span>    1/imm32/disp32-is-first-inout
<span id="L19303" class="LineNr">19303 </span>    0/imm32/no-output
<span id="L19304" class="LineNr">19304 </span>    0x11/imm32/alloc-id:fake
<span id="L19305" class="LineNr">19305 </span>    <a href='mu.subx.html#L19306'>_Primitive-break-if-addr&lt;=-named</a>/imm32/next
<span id="L19306" class="LineNr">19306 </span><span class="subxMinorFunction">_Primitive-break-if-addr&lt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19307" class="LineNr">19307 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19308" class="LineNr">19308 </span>    0x11/imm32/alloc-id:fake
<span id="L19309" class="LineNr">19309 </span>    <a href='mu.subx.html#L19697'>_string-break-if-addr&lt;=</a>/imm32/name
<span id="L19310" class="LineNr">19310 </span>    0x11/imm32/alloc-id:fake
<span id="L19311" class="LineNr">19311 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19312" class="LineNr">19312 </span>    0/imm32/no-outputs
<span id="L19313" class="LineNr">19313 </span>    0/imm32/no-outputs
<span id="L19314" class="LineNr">19314 </span>    0x11/imm32/alloc-id:fake
<span id="L19315" class="LineNr">19315 </span>    <a href='mu.subx.html#L19944'>_string_0f_86_jump_label</a>/imm32/subx-name
<span id="L19316" class="LineNr">19316 </span>    0/imm32/no-rm32
<span id="L19317" class="LineNr">19317 </span>    0/imm32/no-r32
<span id="L19318" class="LineNr">19318 </span>    0/imm32/no-imm32
<span id="L19319" class="LineNr">19319 </span>    0/imm32/no-imm8
<span id="L19320" class="LineNr">19320 </span>    1/imm32/disp32-is-first-inout
<span id="L19321" class="LineNr">19321 </span>    0/imm32/no-output
<span id="L19322" class="LineNr">19322 </span>    0x11/imm32/alloc-id:fake
<span id="L19323" class="LineNr">19323 </span>    <a href='mu.subx.html#L19324'>_Primitive-break-if-addr&gt;-named</a>/imm32/next
<span id="L19324" class="LineNr">19324 </span><span class="subxMinorFunction">_Primitive-break-if-addr&gt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19325" class="LineNr">19325 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19326" class="LineNr">19326 </span>    0x11/imm32/alloc-id:fake
<span id="L19327" class="LineNr">19327 </span>    <a href='mu.subx.html#L19702'>_string-break-if-addr&gt;</a>/imm32/name
<span id="L19328" class="LineNr">19328 </span>    0x11/imm32/alloc-id:fake
<span id="L19329" class="LineNr">19329 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19330" class="LineNr">19330 </span>    0/imm32/no-outputs
<span id="L19331" class="LineNr">19331 </span>    0/imm32/no-outputs
<span id="L19332" class="LineNr">19332 </span>    0x11/imm32/alloc-id:fake
<span id="L19333" class="LineNr">19333 </span>    <a href='mu.subx.html#L19959'>_string_0f_87_jump_label</a>/imm32/subx-name
<span id="L19334" class="LineNr">19334 </span>    0/imm32/no-rm32
<span id="L19335" class="LineNr">19335 </span>    0/imm32/no-r32
<span id="L19336" class="LineNr">19336 </span>    0/imm32/no-imm32
<span id="L19337" class="LineNr">19337 </span>    0/imm32/no-imm8
<span id="L19338" class="LineNr">19338 </span>    1/imm32/disp32-is-first-inout
<span id="L19339" class="LineNr">19339 </span>    0/imm32/no-output
<span id="L19340" class="LineNr">19340 </span>    0x11/imm32/alloc-id:fake
<span id="L19341" class="LineNr">19341 </span>    <a href='mu.subx.html#L19342'>_Primitive-break-if-&lt;-named</a>/imm32/next
<span id="L19342" class="LineNr">19342 </span><span class="subxMinorFunction">_Primitive-break-if-&lt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19343" class="LineNr">19343 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19344" class="LineNr">19344 </span>    0x11/imm32/alloc-id:fake
<span id="L19345" class="LineNr">19345 </span>    <a href='mu.subx.html#L19662'>_string-break-if-&lt;</a>/imm32/name
<span id="L19346" class="LineNr">19346 </span>    0x11/imm32/alloc-id:fake
<span id="L19347" class="LineNr">19347 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19348" class="LineNr">19348 </span>    0/imm32/no-outputs
<span id="L19349" class="LineNr">19349 </span>    0/imm32/no-outputs
<span id="L19350" class="LineNr">19350 </span>    0x11/imm32/alloc-id:fake
<span id="L19351" class="LineNr">19351 </span>    <a href='mu.subx.html#L19974'>_string_0f_8c_jump_label</a>/imm32/subx-name
<span id="L19352" class="LineNr">19352 </span>    0/imm32/no-rm32
<span id="L19353" class="LineNr">19353 </span>    0/imm32/no-r32
<span id="L19354" class="LineNr">19354 </span>    0/imm32/no-imm32
<span id="L19355" class="LineNr">19355 </span>    0/imm32/no-imm8
<span id="L19356" class="LineNr">19356 </span>    1/imm32/disp32-is-first-inout
<span id="L19357" class="LineNr">19357 </span>    0/imm32/no-output
<span id="L19358" class="LineNr">19358 </span>    0x11/imm32/alloc-id:fake
<span id="L19359" class="LineNr">19359 </span>    <a href='mu.subx.html#L19360'>_Primitive-break-if-&gt;=-named</a>/imm32/next
<span id="L19360" class="LineNr">19360 </span><span class="subxMinorFunction">_Primitive-break-if-&gt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19361" class="LineNr">19361 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19362" class="LineNr">19362 </span>    0x11/imm32/alloc-id:fake
<span id="L19363" class="LineNr">19363 </span>    <a href='mu.subx.html#L19682'>_string-break-if-&gt;=</a>/imm32/name
<span id="L19364" class="LineNr">19364 </span>    0x11/imm32/alloc-id:fake
<span id="L19365" class="LineNr">19365 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19366" class="LineNr">19366 </span>    0/imm32/no-outputs
<span id="L19367" class="LineNr">19367 </span>    0/imm32/no-outputs
<span id="L19368" class="LineNr">19368 </span>    0x11/imm32/alloc-id:fake
<span id="L19369" class="LineNr">19369 </span>    <a href='mu.subx.html#L19989'>_string_0f_8d_jump_label</a>/imm32/subx-name
<span id="L19370" class="LineNr">19370 </span>    0/imm32/no-rm32
<span id="L19371" class="LineNr">19371 </span>    0/imm32/no-r32
<span id="L19372" class="LineNr">19372 </span>    0/imm32/no-imm32
<span id="L19373" class="LineNr">19373 </span>    0/imm32/no-imm8
<span id="L19374" class="LineNr">19374 </span>    1/imm32/disp32-is-first-inout
<span id="L19375" class="LineNr">19375 </span>    0/imm32/no-output
<span id="L19376" class="LineNr">19376 </span>    0x11/imm32/alloc-id:fake
<span id="L19377" class="LineNr">19377 </span>    <a href='mu.subx.html#L19378'>_Primitive-break-if-&lt;=-named</a>/imm32/next
<span id="L19378" class="LineNr">19378 </span><span class="subxMinorFunction">_Primitive-break-if-&lt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19379" class="LineNr">19379 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19380" class="LineNr">19380 </span>    0x11/imm32/alloc-id:fake
<span id="L19381" class="LineNr">19381 </span>    <a href='mu.subx.html#L19667'>_string-break-if-&lt;=</a>/imm32/name
<span id="L19382" class="LineNr">19382 </span>    0x11/imm32/alloc-id:fake
<span id="L19383" class="LineNr">19383 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19384" class="LineNr">19384 </span>    0/imm32/no-outputs
<span id="L19385" class="LineNr">19385 </span>    0/imm32/no-outputs
<span id="L19386" class="LineNr">19386 </span>    0x11/imm32/alloc-id:fake
<span id="L19387" class="LineNr">19387 </span>    <a href='mu.subx.html#L20004'>_string_0f_8e_jump_label</a>/imm32/subx-name
<span id="L19388" class="LineNr">19388 </span>    0/imm32/no-rm32
<span id="L19389" class="LineNr">19389 </span>    0/imm32/no-r32
<span id="L19390" class="LineNr">19390 </span>    0/imm32/no-imm32
<span id="L19391" class="LineNr">19391 </span>    0/imm32/no-imm8
<span id="L19392" class="LineNr">19392 </span>    1/imm32/disp32-is-first-inout
<span id="L19393" class="LineNr">19393 </span>    0/imm32/no-output
<span id="L19394" class="LineNr">19394 </span>    0x11/imm32/alloc-id:fake
<span id="L19395" class="LineNr">19395 </span>    <a href='mu.subx.html#L19396'>_Primitive-break-if-&gt;-named</a>/imm32/next
<span id="L19396" class="LineNr">19396 </span><span class="subxMinorFunction">_Primitive-break-if-&gt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19397" class="LineNr">19397 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19398" class="LineNr">19398 </span>    0x11/imm32/alloc-id:fake
<span id="L19399" class="LineNr">19399 </span>    <a href='mu.subx.html#L19677'>_string-break-if-&gt;</a>/imm32/name
<span id="L19400" class="LineNr">19400 </span>    0x11/imm32/alloc-id:fake
<span id="L19401" class="LineNr">19401 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19402" class="LineNr">19402 </span>    0/imm32/no-outputs
<span id="L19403" class="LineNr">19403 </span>    0/imm32/no-outputs
<span id="L19404" class="LineNr">19404 </span>    0x11/imm32/alloc-id:fake
<span id="L19405" class="LineNr">19405 </span>    <a href='mu.subx.html#L20019'>_string_0f_8f_jump_label</a>/imm32/subx-name
<span id="L19406" class="LineNr">19406 </span>    0/imm32/no-rm32
<span id="L19407" class="LineNr">19407 </span>    0/imm32/no-r32
<span id="L19408" class="LineNr">19408 </span>    0/imm32/no-imm32
<span id="L19409" class="LineNr">19409 </span>    0/imm32/no-imm8
<span id="L19410" class="LineNr">19410 </span>    1/imm32/disp32-is-first-inout
<span id="L19411" class="LineNr">19411 </span>    0/imm32/no-output
<span id="L19412" class="LineNr">19412 </span>    0x11/imm32/alloc-id:fake
<span id="L19413" class="LineNr">19413 </span>    <a href='mu.subx.html#L19414'>_Primitive-break-named</a>/imm32/next
<span id="L19414" class="LineNr">19414 </span><span class="subxMinorFunction">_Primitive-break-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19415" class="LineNr">19415 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19416" class="LineNr">19416 </span>    0x11/imm32/alloc-id:fake
<span id="L19417" class="LineNr">19417 </span>    <a href='mu.subx.html#L19657'>_string-break</a>/imm32/name
<span id="L19418" class="LineNr">19418 </span>    0x11/imm32/alloc-id:fake
<span id="L19419" class="LineNr">19419 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19420" class="LineNr">19420 </span>    0/imm32/no-outputs
<span id="L19421" class="LineNr">19421 </span>    0/imm32/no-outputs
<span id="L19422" class="LineNr">19422 </span>    0x11/imm32/alloc-id:fake
<span id="L19423" class="LineNr">19423 </span>    <a href='mu.subx.html#L20249'>_string_e9_jump_label</a>/imm32/subx-name
<span id="L19424" class="LineNr">19424 </span>    0/imm32/no-rm32
<span id="L19425" class="LineNr">19425 </span>    0/imm32/no-r32
<span id="L19426" class="LineNr">19426 </span>    0/imm32/no-imm32
<span id="L19427" class="LineNr">19427 </span>    0/imm32/no-imm8
<span id="L19428" class="LineNr">19428 </span>    1/imm32/disp32-is-first-inout
<span id="L19429" class="LineNr">19429 </span>    0/imm32/no-output
<span id="L19430" class="LineNr">19430 </span>    0x11/imm32/alloc-id:fake
<span id="L19431" class="LineNr">19431 </span>    <a href='mu.subx.html#L19432'>_Primitive-loop-if-addr&lt;-named</a>/imm32/next
<span id="L19432" class="LineNr">19432 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&lt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19433" class="LineNr">19433 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19434" class="LineNr">19434 </span>    0x11/imm32/alloc-id:fake
<span id="L19435" class="LineNr">19435 </span>    <a href='mu.subx.html#L19782'>_string-loop-if-addr&lt;</a>/imm32/name
<span id="L19436" class="LineNr">19436 </span>    0x11/imm32/alloc-id:fake
<span id="L19437" class="LineNr">19437 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19438" class="LineNr">19438 </span>    0/imm32/no-outputs
<span id="L19439" class="LineNr">19439 </span>    0/imm32/no-outputs
<span id="L19440" class="LineNr">19440 </span>    0x11/imm32/alloc-id:fake
<span id="L19441" class="LineNr">19441 </span>    <a href='mu.subx.html#L19884'>_string_0f_82_jump_label</a>/imm32/subx-name
<span id="L19442" class="LineNr">19442 </span>    0/imm32/no-rm32
<span id="L19443" class="LineNr">19443 </span>    0/imm32/no-r32
<span id="L19444" class="LineNr">19444 </span>    0/imm32/no-imm32
<span id="L19445" class="LineNr">19445 </span>    0/imm32/no-imm8
<span id="L19446" class="LineNr">19446 </span>    1/imm32/disp32-is-first-inout
<span id="L19447" class="LineNr">19447 </span>    0/imm32/no-output
<span id="L19448" class="LineNr">19448 </span>    0x11/imm32/alloc-id:fake
<span id="L19449" class="LineNr">19449 </span>    <a href='mu.subx.html#L19450'>_Primitive-loop-if-addr&gt;=-named</a>/imm32/next
<span id="L19450" class="LineNr">19450 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&gt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19451" class="LineNr">19451 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19452" class="LineNr">19452 </span>    0x11/imm32/alloc-id:fake
<span id="L19453" class="LineNr">19453 </span>    <a href='mu.subx.html#L19797'>_string-loop-if-addr&gt;=</a>/imm32/name
<span id="L19454" class="LineNr">19454 </span>    0x11/imm32/alloc-id:fake
<span id="L19455" class="LineNr">19455 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19456" class="LineNr">19456 </span>    0/imm32/no-outputs
<span id="L19457" class="LineNr">19457 </span>    0/imm32/no-outputs
<span id="L19458" class="LineNr">19458 </span>    0x11/imm32/alloc-id:fake
<span id="L19459" class="LineNr">19459 </span>    <a href='mu.subx.html#L19899'>_string_0f_83_jump_label</a>/imm32/subx-name
<span id="L19460" class="LineNr">19460 </span>    0/imm32/no-rm32
<span id="L19461" class="LineNr">19461 </span>    0/imm32/no-r32
<span id="L19462" class="LineNr">19462 </span>    0/imm32/no-imm32
<span id="L19463" class="LineNr">19463 </span>    0/imm32/no-imm8
<span id="L19464" class="LineNr">19464 </span>    1/imm32/disp32-is-first-inout
<span id="L19465" class="LineNr">19465 </span>    0/imm32/no-output
<span id="L19466" class="LineNr">19466 </span>    0x11/imm32/alloc-id:fake
<span id="L19467" class="LineNr">19467 </span>    <a href='mu.subx.html#L19468'>_Primitive-loop-if-=-named</a>/imm32/next
<span id="L19468" class="LineNr">19468 </span><span class="subxMinorFunction">_Primitive-loop-if-=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19469" class="LineNr">19469 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19470" class="LineNr">19470 </span>    0x11/imm32/alloc-id:fake
<span id="L19471" class="LineNr">19471 </span>    <a href='mu.subx.html#L19762'>_string-loop-if-=</a>/imm32/name
<span id="L19472" class="LineNr">19472 </span>    0x11/imm32/alloc-id:fake
<span id="L19473" class="LineNr">19473 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19474" class="LineNr">19474 </span>    0/imm32/no-outputs
<span id="L19475" class="LineNr">19475 </span>    0/imm32/no-outputs
<span id="L19476" class="LineNr">19476 </span>    0x11/imm32/alloc-id:fake
<span id="L19477" class="LineNr">19477 </span>    <a href='mu.subx.html#L19914'>_string_0f_84_jump_label</a>/imm32/subx-name
<span id="L19478" class="LineNr">19478 </span>    0/imm32/no-rm32
<span id="L19479" class="LineNr">19479 </span>    0/imm32/no-r32
<span id="L19480" class="LineNr">19480 </span>    0/imm32/no-imm32
<span id="L19481" class="LineNr">19481 </span>    0/imm32/no-imm8
<span id="L19482" class="LineNr">19482 </span>    1/imm32/disp32-is-first-inout
<span id="L19483" class="LineNr">19483 </span>    0/imm32/no-output
<span id="L19484" class="LineNr">19484 </span>    0x11/imm32/alloc-id:fake
<span id="L19485" class="LineNr">19485 </span>    <a href='mu.subx.html#L19486'>_Primitive-loop-if-!=-named</a>/imm32/next
<span id="L19486" class="LineNr">19486 </span><span class="subxMinorFunction">_Primitive-loop-if-!=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19487" class="LineNr">19487 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19488" class="LineNr">19488 </span>    0x11/imm32/alloc-id:fake
<span id="L19489" class="LineNr">19489 </span>    <a href='mu.subx.html#L19777'>_string-loop-if-!=</a>/imm32/name
<span id="L19490" class="LineNr">19490 </span>    0x11/imm32/alloc-id:fake
<span id="L19491" class="LineNr">19491 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19492" class="LineNr">19492 </span>    0/imm32/no-outputs
<span id="L19493" class="LineNr">19493 </span>    0/imm32/no-outputs
<span id="L19494" class="LineNr">19494 </span>    0x11/imm32/alloc-id:fake
<span id="L19495" class="LineNr">19495 </span>    <a href='mu.subx.html#L19929'>_string_0f_85_jump_label</a>/imm32/subx-name
<span id="L19496" class="LineNr">19496 </span>    0/imm32/no-rm32
<span id="L19497" class="LineNr">19497 </span>    0/imm32/no-r32
<span id="L19498" class="LineNr">19498 </span>    0/imm32/no-imm32
<span id="L19499" class="LineNr">19499 </span>    0/imm32/no-imm8
<span id="L19500" class="LineNr">19500 </span>    1/imm32/disp32-is-first-inout
<span id="L19501" class="LineNr">19501 </span>    0/imm32/no-output
<span id="L19502" class="LineNr">19502 </span>    0x11/imm32/alloc-id:fake
<span id="L19503" class="LineNr">19503 </span>    <a href='mu.subx.html#L19504'>_Primitive-loop-if-addr&lt;=-named</a>/imm32/next
<span id="L19504" class="LineNr">19504 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&lt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19505" class="LineNr">19505 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19506" class="LineNr">19506 </span>    0x11/imm32/alloc-id:fake
<span id="L19507" class="LineNr">19507 </span>    <a href='mu.subx.html#L19787'>_string-loop-if-addr&lt;=</a>/imm32/name
<span id="L19508" class="LineNr">19508 </span>    0x11/imm32/alloc-id:fake
<span id="L19509" class="LineNr">19509 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19510" class="LineNr">19510 </span>    0/imm32/no-outputs
<span id="L19511" class="LineNr">19511 </span>    0/imm32/no-outputs
<span id="L19512" class="LineNr">19512 </span>    0x11/imm32/alloc-id:fake
<span id="L19513" class="LineNr">19513 </span>    <a href='mu.subx.html#L19944'>_string_0f_86_jump_label</a>/imm32/subx-name
<span id="L19514" class="LineNr">19514 </span>    0/imm32/no-rm32
<span id="L19515" class="LineNr">19515 </span>    0/imm32/no-r32
<span id="L19516" class="LineNr">19516 </span>    0/imm32/no-imm32
<span id="L19517" class="LineNr">19517 </span>    0/imm32/no-imm8
<span id="L19518" class="LineNr">19518 </span>    1/imm32/disp32-is-first-inout
<span id="L19519" class="LineNr">19519 </span>    0/imm32/no-output
<span id="L19520" class="LineNr">19520 </span>    0x11/imm32/alloc-id:fake
<span id="L19521" class="LineNr">19521 </span>    <a href='mu.subx.html#L19522'>_Primitive-loop-if-addr&gt;-named</a>/imm32/next
<span id="L19522" class="LineNr">19522 </span><span class="subxMinorFunction">_Primitive-loop-if-addr&gt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19523" class="LineNr">19523 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19524" class="LineNr">19524 </span>    0x11/imm32/alloc-id:fake
<span id="L19525" class="LineNr">19525 </span>    <a href='mu.subx.html#L19792'>_string-loop-if-addr&gt;</a>/imm32/name
<span id="L19526" class="LineNr">19526 </span>    0x11/imm32/alloc-id:fake
<span id="L19527" class="LineNr">19527 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19528" class="LineNr">19528 </span>    0/imm32/no-outputs
<span id="L19529" class="LineNr">19529 </span>    0/imm32/no-outputs
<span id="L19530" class="LineNr">19530 </span>    0x11/imm32/alloc-id:fake
<span id="L19531" class="LineNr">19531 </span>    <a href='mu.subx.html#L19959'>_string_0f_87_jump_label</a>/imm32/subx-name
<span id="L19532" class="LineNr">19532 </span>    0/imm32/no-rm32
<span id="L19533" class="LineNr">19533 </span>    0/imm32/no-r32
<span id="L19534" class="LineNr">19534 </span>    0/imm32/no-imm32
<span id="L19535" class="LineNr">19535 </span>    0/imm32/no-imm8
<span id="L19536" class="LineNr">19536 </span>    1/imm32/disp32-is-first-inout
<span id="L19537" class="LineNr">19537 </span>    0/imm32/no-output
<span id="L19538" class="LineNr">19538 </span>    0x11/imm32/alloc-id:fake
<span id="L19539" class="LineNr">19539 </span>    <a href='mu.subx.html#L19540'>_Primitive-loop-if-&lt;-named</a>/imm32/next
<span id="L19540" class="LineNr">19540 </span><span class="subxMinorFunction">_Primitive-loop-if-&lt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19541" class="LineNr">19541 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19542" class="LineNr">19542 </span>    0x11/imm32/alloc-id:fake
<span id="L19543" class="LineNr">19543 </span>    <a href='mu.subx.html#L19752'>_string-loop-if-&lt;</a>/imm32/name
<span id="L19544" class="LineNr">19544 </span>    0x11/imm32/alloc-id:fake
<span id="L19545" class="LineNr">19545 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19546" class="LineNr">19546 </span>    0/imm32/no-outputs
<span id="L19547" class="LineNr">19547 </span>    0/imm32/no-outputs
<span id="L19548" class="LineNr">19548 </span>    0x11/imm32/alloc-id:fake
<span id="L19549" class="LineNr">19549 </span>    <a href='mu.subx.html#L19974'>_string_0f_8c_jump_label</a>/imm32/subx-name
<span id="L19550" class="LineNr">19550 </span>    0/imm32/no-rm32
<span id="L19551" class="LineNr">19551 </span>    0/imm32/no-r32
<span id="L19552" class="LineNr">19552 </span>    0/imm32/no-imm32
<span id="L19553" class="LineNr">19553 </span>    0/imm32/no-imm8
<span id="L19554" class="LineNr">19554 </span>    1/imm32/disp32-is-first-inout
<span id="L19555" class="LineNr">19555 </span>    0/imm32/no-output
<span id="L19556" class="LineNr">19556 </span>    0x11/imm32/alloc-id:fake
<span id="L19557" class="LineNr">19557 </span>    <a href='mu.subx.html#L19558'>_Primitive-loop-if-&gt;=-named</a>/imm32/next
<span id="L19558" class="LineNr">19558 </span><span class="subxMinorFunction">_Primitive-loop-if-&gt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19559" class="LineNr">19559 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19560" class="LineNr">19560 </span>    0x11/imm32/alloc-id:fake
<span id="L19561" class="LineNr">19561 </span>    <a href='mu.subx.html#L19772'>_string-loop-if-&gt;=</a>/imm32/name
<span id="L19562" class="LineNr">19562 </span>    0x11/imm32/alloc-id:fake
<span id="L19563" class="LineNr">19563 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19564" class="LineNr">19564 </span>    0/imm32/no-outputs
<span id="L19565" class="LineNr">19565 </span>    0/imm32/no-outputs
<span id="L19566" class="LineNr">19566 </span>    0x11/imm32/alloc-id:fake
<span id="L19567" class="LineNr">19567 </span>    <a href='mu.subx.html#L19989'>_string_0f_8d_jump_label</a>/imm32/subx-name
<span id="L19568" class="LineNr">19568 </span>    0/imm32/no-rm32
<span id="L19569" class="LineNr">19569 </span>    0/imm32/no-r32
<span id="L19570" class="LineNr">19570 </span>    0/imm32/no-imm32
<span id="L19571" class="LineNr">19571 </span>    0/imm32/no-imm8
<span id="L19572" class="LineNr">19572 </span>    1/imm32/disp32-is-first-inout
<span id="L19573" class="LineNr">19573 </span>    0/imm32/no-output
<span id="L19574" class="LineNr">19574 </span>    0x11/imm32/alloc-id:fake
<span id="L19575" class="LineNr">19575 </span>    <a href='mu.subx.html#L19576'>_Primitive-loop-if-&lt;=-named</a>/imm32/next
<span id="L19576" class="LineNr">19576 </span><span class="subxMinorFunction">_Primitive-loop-if-&lt;=-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19577" class="LineNr">19577 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19578" class="LineNr">19578 </span>    0x11/imm32/alloc-id:fake
<span id="L19579" class="LineNr">19579 </span>    <a href='mu.subx.html#L19757'>_string-loop-if-&lt;=</a>/imm32/name
<span id="L19580" class="LineNr">19580 </span>    0x11/imm32/alloc-id:fake
<span id="L19581" class="LineNr">19581 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19582" class="LineNr">19582 </span>    0/imm32/no-outputs
<span id="L19583" class="LineNr">19583 </span>    0/imm32/no-outputs
<span id="L19584" class="LineNr">19584 </span>    0x11/imm32/alloc-id:fake
<span id="L19585" class="LineNr">19585 </span>    <a href='mu.subx.html#L20004'>_string_0f_8e_jump_label</a>/imm32/subx-name
<span id="L19586" class="LineNr">19586 </span>    0/imm32/no-rm32
<span id="L19587" class="LineNr">19587 </span>    0/imm32/no-r32
<span id="L19588" class="LineNr">19588 </span>    0/imm32/no-imm32
<span id="L19589" class="LineNr">19589 </span>    0/imm32/no-imm8
<span id="L19590" class="LineNr">19590 </span>    1/imm32/disp32-is-first-inout
<span id="L19591" class="LineNr">19591 </span>    0/imm32/no-output
<span id="L19592" class="LineNr">19592 </span>    0x11/imm32/alloc-id:fake
<span id="L19593" class="LineNr">19593 </span>    <a href='mu.subx.html#L19594'>_Primitive-loop-if-&gt;-named</a>/imm32/next
<span id="L19594" class="LineNr">19594 </span><span class="subxMinorFunction">_Primitive-loop-if-&gt;-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19595" class="LineNr">19595 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19596" class="LineNr">19596 </span>    0x11/imm32/alloc-id:fake
<span id="L19597" class="LineNr">19597 </span>    <a href='mu.subx.html#L19767'>_string-loop-if-&gt;</a>/imm32/name
<span id="L19598" class="LineNr">19598 </span>    0x11/imm32/alloc-id:fake
<span id="L19599" class="LineNr">19599 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19600" class="LineNr">19600 </span>    0/imm32/no-outputs
<span id="L19601" class="LineNr">19601 </span>    0/imm32/no-outputs
<span id="L19602" class="LineNr">19602 </span>    0x11/imm32/alloc-id:fake
<span id="L19603" class="LineNr">19603 </span>    <a href='mu.subx.html#L20019'>_string_0f_8f_jump_label</a>/imm32/subx-name
<span id="L19604" class="LineNr">19604 </span>    0/imm32/no-rm32
<span id="L19605" class="LineNr">19605 </span>    0/imm32/no-r32
<span id="L19606" class="LineNr">19606 </span>    0/imm32/no-imm32
<span id="L19607" class="LineNr">19607 </span>    0/imm32/no-imm8
<span id="L19608" class="LineNr">19608 </span>    1/imm32/disp32-is-first-inout
<span id="L19609" class="LineNr">19609 </span>    0/imm32/no-output
<span id="L19610" class="LineNr">19610 </span>    0x11/imm32/alloc-id:fake
<span id="L19611" class="LineNr">19611 </span>    <a href='mu.subx.html#L19612'>_Primitive-loop-named</a>/imm32/next  <span class="subxComment"># we probably don't need an unconditional break</span>
<span id="L19612" class="LineNr">19612 </span><span class="subxMinorFunction">_Primitive-loop-named</span>:  <span class="subxComment"># (payload primitive)</span>
<span id="L19613" class="LineNr">19613 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19614" class="LineNr">19614 </span>    0x11/imm32/alloc-id:fake
<span id="L19615" class="LineNr">19615 </span>    <a href='mu.subx.html#L19747'>_string-loop</a>/imm32/name
<span id="L19616" class="LineNr">19616 </span>    0x11/imm32/alloc-id:fake
<span id="L19617" class="LineNr">19617 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/inouts
<span id="L19618" class="LineNr">19618 </span>    0/imm32/no-outputs
<span id="L19619" class="LineNr">19619 </span>    0/imm32/no-outputs
<span id="L19620" class="LineNr">19620 </span>    0x11/imm32/alloc-id:fake
<span id="L19621" class="LineNr">19621 </span>    <a href='mu.subx.html#L20249'>_string_e9_jump_label</a>/imm32/subx-name
<span id="L19622" class="LineNr">19622 </span>    0/imm32/no-rm32
<span id="L19623" class="LineNr">19623 </span>    0/imm32/no-r32
<span id="L19624" class="LineNr">19624 </span>    0/imm32/no-imm32
<span id="L19625" class="LineNr">19625 </span>    0/imm32/no-imm8
<span id="L19626" class="LineNr">19626 </span>    1/imm32/disp32-is-first-inout
<span id="L19627" class="LineNr">19627 </span>    0/imm32/no-output
<span id="L19628" class="LineNr">19628 </span>    0/imm32/next
<span id="L19629" class="LineNr">19629 </span>    0/imm32/next
<span id="L19630" class="LineNr">19630 </span>
<span id="L19631" class="LineNr">19631 </span><span class="subxComment"># string literals for Mu instructions</span>
<span id="L19632" class="LineNr">19632 </span><span class="subxMinorFunction">_string-add</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19633" class="LineNr">19633 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19634" class="LineNr">19634 </span>    <span class="subxComment"># &quot;add&quot;</span>
<span id="L19635" class="LineNr">19635 </span>    0x3/imm32/size
<span id="L19636" class="LineNr">19636 </span>    0x61/a 0x64/d 0x64/d
<span id="L19637" class="LineNr">19637 </span><span class="subxMinorFunction">_string-address</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19638" class="LineNr">19638 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19639" class="LineNr">19639 </span>    <span class="subxComment"># &quot;address&quot;</span>
<span id="L19640" class="LineNr">19640 </span>    0x7/imm32/size
<span id="L19641" class="LineNr">19641 </span>    0x61/a 0x64/d 0x64/d 0x72/r 0x65/e 0x73/s 0x73/s
<span id="L19642" class="LineNr">19642 </span><span class="subxMinorFunction">_string-add-to</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19643" class="LineNr">19643 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19644" class="LineNr">19644 </span>    <span class="subxComment"># &quot;add-to&quot;</span>
<span id="L19645" class="LineNr">19645 </span>    0x6/imm32/size
<span id="L19646" class="LineNr">19646 </span>    0x61/a 0x64/d 0x64/d 0x2d/dash 0x74/t 0x6f/o
<span id="L19647" class="LineNr">19647 </span><span class="subxMinorFunction">_string-and</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19648" class="LineNr">19648 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19649" class="LineNr">19649 </span>    <span class="subxComment"># &quot;and&quot;</span>
<span id="L19650" class="LineNr">19650 </span>    0x3/imm32/size
<span id="L19651" class="LineNr">19651 </span>    0x61/a 0x6e/n 0x64/d
<span id="L19652" class="LineNr">19652 </span><span class="subxMinorFunction">_string-and-with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19653" class="LineNr">19653 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19654" class="LineNr">19654 </span>    <span class="subxComment"># &quot;and-with&quot;</span>
<span id="L19655" class="LineNr">19655 </span>    0x8/imm32/size
<span id="L19656" class="LineNr">19656 </span>    0x61/a 0x6e/n 0x64/d 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L19657" class="LineNr">19657 </span><span class="subxMinorFunction">_string-break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19658" class="LineNr">19658 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19659" class="LineNr">19659 </span>    <span class="subxComment"># &quot;break&quot;</span>
<span id="L19660" class="LineNr">19660 </span>    0x5/imm32/size
<span id="L19661" class="LineNr">19661 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k
<span id="L19662" class="LineNr">19662 </span><span class="subxMinorFunction">_string-break-if-&lt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19663" class="LineNr">19663 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19664" class="LineNr">19664 </span>    <span class="subxComment"># &quot;break-if-&lt;&quot;</span>
<span id="L19665" class="LineNr">19665 </span>    0xa/imm32/size
<span id="L19666" class="LineNr">19666 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt;
<span id="L19667" class="LineNr">19667 </span><span class="subxMinorFunction">_string-break-if-&lt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19668" class="LineNr">19668 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19669" class="LineNr">19669 </span>    <span class="subxComment"># &quot;break-if-&lt;=&quot;</span>
<span id="L19670" class="LineNr">19670 </span>    0xb/imm32/size
<span id="L19671" class="LineNr">19671 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x3d/=
<span id="L19672" class="LineNr">19672 </span><span class="subxMinorFunction">_string-break-if-=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19673" class="LineNr">19673 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19674" class="LineNr">19674 </span>    <span class="subxComment"># &quot;break-if-=&quot;</span>
<span id="L19675" class="LineNr">19675 </span>    0xa/imm32/size
<span id="L19676" class="LineNr">19676 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3d/=
<span id="L19677" class="LineNr">19677 </span><span class="subxMinorFunction">_string-break-if-&gt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19678" class="LineNr">19678 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19679" class="LineNr">19679 </span>    <span class="subxComment"># &quot;break-if-&gt;&quot;</span>
<span id="L19680" class="LineNr">19680 </span>    0xa/imm32/size
<span id="L19681" class="LineNr">19681 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt;
<span id="L19682" class="LineNr">19682 </span><span class="subxMinorFunction">_string-break-if-&gt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19683" class="LineNr">19683 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19684" class="LineNr">19684 </span>    <span class="subxComment"># &quot;break-if-&gt;=&quot;</span>
<span id="L19685" class="LineNr">19685 </span>    0xb/imm32/size
<span id="L19686" class="LineNr">19686 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x3d/=
<span id="L19687" class="LineNr">19687 </span><span class="subxMinorFunction">_string-break-if-!=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19688" class="LineNr">19688 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19689" class="LineNr">19689 </span>    <span class="subxComment"># &quot;break-if-!=&quot;</span>
<span id="L19690" class="LineNr">19690 </span>    0xb/imm32/size
<span id="L19691" class="LineNr">19691 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x21/! 0x3d/=
<span id="L19692" class="LineNr">19692 </span><span class="subxMinorFunction">_string-break-if-addr&lt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19693" class="LineNr">19693 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19694" class="LineNr">19694 </span>    <span class="subxComment"># &quot;break-if-addr&lt;&quot;</span>
<span id="L19695" class="LineNr">19695 </span>    0xe/imm32/size
<span id="L19696" class="LineNr">19696 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt;
<span id="L19697" class="LineNr">19697 </span><span class="subxMinorFunction">_string-break-if-addr&lt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19698" class="LineNr">19698 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19699" class="LineNr">19699 </span>    <span class="subxComment"># &quot;break-if-addr&lt;=&quot;</span>
<span id="L19700" class="LineNr">19700 </span>    0xf/imm32/size
<span id="L19701" class="LineNr">19701 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x3d/=
<span id="L19702" class="LineNr">19702 </span><span class="subxMinorFunction">_string-break-if-addr&gt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19703" class="LineNr">19703 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19704" class="LineNr">19704 </span>    <span class="subxComment"># &quot;break-if-addr&gt;&quot;</span>
<span id="L19705" class="LineNr">19705 </span>    0xe/imm32/size
<span id="L19706" class="LineNr">19706 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt;
<span id="L19707" class="LineNr">19707 </span><span class="subxMinorFunction">_string-break-if-addr&gt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19708" class="LineNr">19708 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19709" class="LineNr">19709 </span>    <span class="subxComment"># &quot;break-if-addr&gt;=&quot;</span>
<span id="L19710" class="LineNr">19710 </span>    0xf/imm32/size
<span id="L19711" class="LineNr">19711 </span>    0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x3d/=
<span id="L19712" class="LineNr">19712 </span><span class="subxMinorFunction">_string-compare</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19713" class="LineNr">19713 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19714" class="LineNr">19714 </span>    <span class="subxComment"># &quot;compare&quot;</span>
<span id="L19715" class="LineNr">19715 </span>    0x7/imm32/size
<span id="L19716" class="LineNr">19716 </span>    0x63/c 0x6f/o 0x6d/m 0x70/p 0x61/a 0x72/r 0x65/e
<span id="L19717" class="LineNr">19717 </span><span class="subxMinorFunction">_string-copy</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19718" class="LineNr">19718 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19719" class="LineNr">19719 </span>    <span class="subxComment"># &quot;copy&quot;</span>
<span id="L19720" class="LineNr">19720 </span>    0x4/imm32/size
<span id="L19721" class="LineNr">19721 </span>    0x63/c 0x6f/o 0x70/p 0x79/y
<span id="L19722" class="LineNr">19722 </span><span class="subxMinorFunction">_string-copy-to</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19723" class="LineNr">19723 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19724" class="LineNr">19724 </span>    <span class="subxComment"># &quot;copy-to&quot;</span>
<span id="L19725" class="LineNr">19725 </span>    0x7/imm32/size
<span id="L19726" class="LineNr">19726 </span>    0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o
<span id="L19727" class="LineNr">19727 </span><span class="subxMinorFunction">_string-copy-byte</span>:
<span id="L19728" class="LineNr">19728 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19729" class="LineNr">19729 </span>    <span class="subxComment"># &quot;copy-byte&quot;</span>
<span id="L19730" class="LineNr">19730 </span>    0x9/imm32/size
<span id="L19731" class="LineNr">19731 </span>    0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/- 0x62/b 0x79/y 0x74/t 0x65/e
<span id="L19732" class="LineNr">19732 </span><span class="subxMinorFunction">_string-copy-byte-to</span>:
<span id="L19733" class="LineNr">19733 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19734" class="LineNr">19734 </span>    <span class="subxComment"># &quot;copy-byte-to&quot;</span>
<span id="L19735" class="LineNr">19735 </span>    0xc/imm32/size
<span id="L19736" class="LineNr">19736 </span>    0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/- 0x62/b 0x79/y 0x74/t 0x65/e 0x2d/- 0x74/t 0x6f/o
<span id="L19737" class="LineNr">19737 </span><span class="subxMinorFunction">_string-decrement</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19738" class="LineNr">19738 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19739" class="LineNr">19739 </span>    <span class="subxComment"># &quot;decrement&quot;</span>
<span id="L19740" class="LineNr">19740 </span>    0x9/imm32/size
<span id="L19741" class="LineNr">19741 </span>    0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t
<span id="L19742" class="LineNr">19742 </span><span class="subxMinorFunction">_string-increment</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19743" class="LineNr">19743 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19744" class="LineNr">19744 </span>    <span class="subxComment"># &quot;increment&quot;</span>
<span id="L19745" class="LineNr">19745 </span>    0x9/imm32/size
<span id="L19746" class="LineNr">19746 </span>    0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t
<span id="L19747" class="LineNr">19747 </span><span class="subxMinorFunction">_string-loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19748" class="LineNr">19748 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19749" class="LineNr">19749 </span>    <span class="subxComment"># &quot;loop&quot;</span>
<span id="L19750" class="LineNr">19750 </span>    0x4/imm32/size
<span id="L19751" class="LineNr">19751 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p
<span id="L19752" class="LineNr">19752 </span><span class="subxMinorFunction">_string-loop-if-&lt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19753" class="LineNr">19753 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19754" class="LineNr">19754 </span>    <span class="subxComment"># &quot;loop-if-&lt;&quot;</span>
<span id="L19755" class="LineNr">19755 </span>    0x9/imm32/size
<span id="L19756" class="LineNr">19756 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt;
<span id="L19757" class="LineNr">19757 </span><span class="subxMinorFunction">_string-loop-if-&lt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19758" class="LineNr">19758 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19759" class="LineNr">19759 </span>    <span class="subxComment"># &quot;loop-if-&lt;=&quot;</span>
<span id="L19760" class="LineNr">19760 </span>    0xa/imm32/size
<span id="L19761" class="LineNr">19761 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x3d/=
<span id="L19762" class="LineNr">19762 </span><span class="subxMinorFunction">_string-loop-if-=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19763" class="LineNr">19763 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19764" class="LineNr">19764 </span>    <span class="subxComment"># &quot;loop-if-=&quot;</span>
<span id="L19765" class="LineNr">19765 </span>    0x9/imm32/size
<span id="L19766" class="LineNr">19766 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3d/=
<span id="L19767" class="LineNr">19767 </span><span class="subxMinorFunction">_string-loop-if-&gt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19768" class="LineNr">19768 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19769" class="LineNr">19769 </span>    <span class="subxComment"># &quot;loop-if-&gt;&quot;</span>
<span id="L19770" class="LineNr">19770 </span>    0x9/imm32/size
<span id="L19771" class="LineNr">19771 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt;
<span id="L19772" class="LineNr">19772 </span><span class="subxMinorFunction">_string-loop-if-&gt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19773" class="LineNr">19773 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19774" class="LineNr">19774 </span>    <span class="subxComment"># &quot;loop-if-&gt;=&quot;</span>
<span id="L19775" class="LineNr">19775 </span>    0xa/imm32/size
<span id="L19776" class="LineNr">19776 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x3d/=
<span id="L19777" class="LineNr">19777 </span><span class="subxMinorFunction">_string-loop-if-!=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19778" class="LineNr">19778 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19779" class="LineNr">19779 </span>    <span class="subxComment"># &quot;loop-if-!=&quot;</span>
<span id="L19780" class="LineNr">19780 </span>    0xa/imm32/size
<span id="L19781" class="LineNr">19781 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x21/! 0x3d/=
<span id="L19782" class="LineNr">19782 </span><span class="subxMinorFunction">_string-loop-if-addr&lt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19783" class="LineNr">19783 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19784" class="LineNr">19784 </span>    <span class="subxComment"># &quot;loop-if-addr&lt;&quot;</span>
<span id="L19785" class="LineNr">19785 </span>    0xd/imm32/size
<span id="L19786" class="LineNr">19786 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt;
<span id="L19787" class="LineNr">19787 </span><span class="subxMinorFunction">_string-loop-if-addr&lt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19788" class="LineNr">19788 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19789" class="LineNr">19789 </span>    <span class="subxComment"># &quot;loop-if-addr&lt;=&quot;</span>
<span id="L19790" class="LineNr">19790 </span>    0xe/imm32/size
<span id="L19791" class="LineNr">19791 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x3d/=
<span id="L19792" class="LineNr">19792 </span><span class="subxMinorFunction">_string-loop-if-addr&gt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19793" class="LineNr">19793 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19794" class="LineNr">19794 </span>    <span class="subxComment"># &quot;loop-if-addr&gt;&quot;</span>
<span id="L19795" class="LineNr">19795 </span>    0xd/imm32/size
<span id="L19796" class="LineNr">19796 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt;
<span id="L19797" class="LineNr">19797 </span><span class="subxMinorFunction">_string-loop-if-addr&gt;=</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19798" class="LineNr">19798 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19799" class="LineNr">19799 </span>    <span class="subxComment"># &quot;loop-if-addr&gt;=&quot;</span>
<span id="L19800" class="LineNr">19800 </span>    0xe/imm32/size
<span id="L19801" class="LineNr">19801 </span>    0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x3d/=
<span id="L19802" class="LineNr">19802 </span><span class="subxMinorFunction">_string-multiply</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19803" class="LineNr">19803 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19804" class="LineNr">19804 </span>    <span class="subxComment"># &quot;multiply&quot;</span>
<span id="L19805" class="LineNr">19805 </span>    0x8/imm32/size
<span id="L19806" class="LineNr">19806 </span>    0x6d/m 0x75/u 0x6c/l 0x74/t 0x69/i 0x70/p 0x6c/l 0x79/y
<span id="L19807" class="LineNr">19807 </span><span class="subxMinorFunction">_string-or</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19808" class="LineNr">19808 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19809" class="LineNr">19809 </span>    <span class="subxComment"># &quot;or&quot;</span>
<span id="L19810" class="LineNr">19810 </span>    0x2/imm32/size
<span id="L19811" class="LineNr">19811 </span>    0x6f/o 0x72/r
<span id="L19812" class="LineNr">19812 </span><span class="subxMinorFunction">_string-or-with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19813" class="LineNr">19813 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19814" class="LineNr">19814 </span>    <span class="subxComment"># &quot;or-with&quot;</span>
<span id="L19815" class="LineNr">19815 </span>    0x7/imm32/size
<span id="L19816" class="LineNr">19816 </span>    0x6f/o 0x72/r 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L19817" class="LineNr">19817 </span><span class="subxMinorFunction">_string-subtract</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19818" class="LineNr">19818 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19819" class="LineNr">19819 </span>    <span class="subxComment"># &quot;subtract&quot;</span>
<span id="L19820" class="LineNr">19820 </span>    0x8/imm32/size
<span id="L19821" class="LineNr">19821 </span>    0x73/s 0x75/u 0x62/b 0x74/t 0x72/r 0x61/a 0x63/c 0x74/t
<span id="L19822" class="LineNr">19822 </span><span class="subxMinorFunction">_string-subtract-from</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19823" class="LineNr">19823 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19824" class="LineNr">19824 </span>    <span class="subxComment"># &quot;subtract-from&quot;</span>
<span id="L19825" class="LineNr">19825 </span>    0xd/imm32/size
<span id="L19826" class="LineNr">19826 </span>    0x73/s 0x75/u 0x62/b 0x74/t 0x72/r 0x61/a 0x63/c 0x74/t 0x2d/dash 0x66/f 0x72/r 0x6f/o 0x6d/m
<span id="L19827" class="LineNr">19827 </span><span class="subxMinorFunction">_string-xor</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19828" class="LineNr">19828 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19829" class="LineNr">19829 </span>    <span class="subxComment"># &quot;xor&quot;</span>
<span id="L19830" class="LineNr">19830 </span>    0x3/imm32/size
<span id="L19831" class="LineNr">19831 </span>    0x78/x 0x6f/o 0x72/r
<span id="L19832" class="LineNr">19832 </span><span class="subxMinorFunction">_string-xor-with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19833" class="LineNr">19833 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19834" class="LineNr">19834 </span>    <span class="subxComment"># &quot;xor-with&quot;</span>
<span id="L19835" class="LineNr">19835 </span>    0x8/imm32/size
<span id="L19836" class="LineNr">19836 </span>    0x78/x 0x6f/o 0x72/r 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L19837" class="LineNr">19837 </span><span class="subxMinorFunction">_string-shift-left</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19838" class="LineNr">19838 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19839" class="LineNr">19839 </span>    <span class="subxComment"># &quot;shift-left&quot;</span>
<span id="L19840" class="LineNr">19840 </span>    0xa/imm32/size
<span id="L19841" class="LineNr">19841 </span>    0x73/s 0x68/h 0x69/i 0x66/f 0x74/t 0x2d/dash 0x6c/l 0x65/e 0x66/f 0x74/t
<span id="L19842" class="LineNr">19842 </span><span class="subxMinorFunction">_string-shift-right</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19843" class="LineNr">19843 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19844" class="LineNr">19844 </span>    <span class="subxComment"># &quot;shift-right&quot;</span>
<span id="L19845" class="LineNr">19845 </span>    0xb/imm32/size
<span id="L19846" class="LineNr">19846 </span>    0x73/s 0x68/h 0x69/i 0x66/f 0x74/t 0x2d/dash 0x72/r 0x69/i 0x67/g 0x68/h 0x74/t
<span id="L19847" class="LineNr">19847 </span><span class="subxMinorFunction">_string-shift-right-signed</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19848" class="LineNr">19848 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19849" class="LineNr">19849 </span>    <span class="subxComment"># &quot;shift-right-signed&quot;</span>
<span id="L19850" class="LineNr">19850 </span>    0x12/imm32/size
<span id="L19851" class="LineNr">19851 </span>    0x73/s 0x68/h 0x69/i 0x66/f 0x74/t 0x2d/dash 0x72/r 0x69/i 0x67/g 0x68/h 0x74/t 0x2d/dash 0x73/s 0x69/i 0x67/g 0x6e/n 0x65/e 0x64/d
<span id="L19852" class="LineNr">19852 </span>
<span id="L19853" class="LineNr">19853 </span><span class="subxComment"># string literals for SubX instructions</span>
<span id="L19854" class="LineNr">19854 </span><span class="subxMinorFunction">_string_01_add_to</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19855" class="LineNr">19855 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19856" class="LineNr">19856 </span>    <span class="subxComment"># &quot;01/add-to&quot;</span>
<span id="L19857" class="LineNr">19857 </span>    0x9/imm32/size
<span id="L19858" class="LineNr">19858 </span>    0x30/0 0x31/1 0x2f/slash 0x61/a 0x64/d 0x64/d 0x2d/dash 0x74/t 0x6f/o
<span id="L19859" class="LineNr">19859 </span><span class="subxMinorFunction">_string_03_add</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19860" class="LineNr">19860 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19861" class="LineNr">19861 </span>    <span class="subxComment"># &quot;03/add&quot;</span>
<span id="L19862" class="LineNr">19862 </span>    0x6/imm32/size
<span id="L19863" class="LineNr">19863 </span>    0x30/0 0x33/3 0x2f/slash 0x61/a 0x64/d 0x64/d
<span id="L19864" class="LineNr">19864 </span><span class="subxMinorFunction">_string_05_add_to_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19865" class="LineNr">19865 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19866" class="LineNr">19866 </span>    <span class="subxComment"># &quot;05/add-to-eax&quot;</span>
<span id="L19867" class="LineNr">19867 </span>    0xd/imm32/size
<span id="L19868" class="LineNr">19868 </span>    0x30/0 0x35/5 0x2f/slash 0x61/a 0x64/d 0x64/d 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L19869" class="LineNr">19869 </span><span class="subxMinorFunction">_string_09_or_with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19870" class="LineNr">19870 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19871" class="LineNr">19871 </span>    <span class="subxComment"># &quot;09/or-with&quot;</span>
<span id="L19872" class="LineNr">19872 </span>    0xa/imm32/size
<span id="L19873" class="LineNr">19873 </span>    0x30/0 0x39/9 0x2f/slash 0x6f/o 0x72/r 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L19874" class="LineNr">19874 </span><span class="subxMinorFunction">_string_0b_or</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19875" class="LineNr">19875 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19876" class="LineNr">19876 </span>    <span class="subxComment"># &quot;0b/or&quot;</span>
<span id="L19877" class="LineNr">19877 </span>    0x5/imm32/size
<span id="L19878" class="LineNr">19878 </span>    0x30/0 0x62/b 0x2f/slash 0x6f/o 0x72/r
<span id="L19879" class="LineNr">19879 </span><span class="subxMinorFunction">_string_0d_or_with_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19880" class="LineNr">19880 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19881" class="LineNr">19881 </span>    <span class="subxComment"># &quot;0d/or-with-eax&quot;</span>
<span id="L19882" class="LineNr">19882 </span>    0xe/imm32/size
<span id="L19883" class="LineNr">19883 </span>    0x30/0 0x64/d 0x2f/slash 0x6f/o 0x72/r 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L19884" class="LineNr">19884 </span><span class="subxMinorFunction">_string_0f_82_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19885" class="LineNr">19885 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19886" class="LineNr">19886 </span>    <span class="subxComment"># &quot;0f 82/jump-if-addr&lt;&quot;</span>
<span id="L19887" class="LineNr">19887 </span>    0x13/imm32/size
<span id="L19888" class="LineNr">19888 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x32/2 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt;
<span id="L19889" class="LineNr">19889 </span><span class="subxMinorFunction">_string_0f_82_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19890" class="LineNr">19890 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19891" class="LineNr">19891 </span>    <span class="subxComment"># &quot;0f 82/jump-if-addr&lt; break/disp32&quot;</span>
<span id="L19892" class="LineNr">19892 </span>    0x20/imm32/size
<span id="L19893" class="LineNr">19893 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x32/2 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19894" class="LineNr">19894 </span><span class="subxMinorFunction">_string_0f_82_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19895" class="LineNr">19895 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19896" class="LineNr">19896 </span>    <span class="subxComment"># &quot;0f 82/jump-if-addr&lt; loop/disp32&quot;</span>
<span id="L19897" class="LineNr">19897 </span>    0x1f/imm32/size
<span id="L19898" class="LineNr">19898 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x32/2 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19899" class="LineNr">19899 </span><span class="subxMinorFunction">_string_0f_83_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19900" class="LineNr">19900 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19901" class="LineNr">19901 </span>    <span class="subxComment"># &quot;0f 83/jump-if-addr&gt;=&quot;</span>
<span id="L19902" class="LineNr">19902 </span>    0x14/imm32/size
<span id="L19903" class="LineNr">19903 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x33/3 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x3d/=
<span id="L19904" class="LineNr">19904 </span><span class="subxMinorFunction">_string_0f_83_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19905" class="LineNr">19905 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19906" class="LineNr">19906 </span>    <span class="subxComment"># &quot;0f 83/jump-if-addr&gt;= break/disp32&quot;</span>
<span id="L19907" class="LineNr">19907 </span>    0x21/imm32/size
<span id="L19908" class="LineNr">19908 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x33/3 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x3d/= 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19909" class="LineNr">19909 </span><span class="subxMinorFunction">_string_0f_83_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19910" class="LineNr">19910 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19911" class="LineNr">19911 </span>    <span class="subxComment"># &quot;0f 83/jump-if-addr&gt;= loop/disp32&quot;</span>
<span id="L19912" class="LineNr">19912 </span>    0x20/imm32/size
<span id="L19913" class="LineNr">19913 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x33/3 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x3d/= 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19914" class="LineNr">19914 </span><span class="subxMinorFunction">_string_0f_84_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19915" class="LineNr">19915 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19916" class="LineNr">19916 </span>    <span class="subxComment"># &quot;0f 84/jump-if-=&quot;</span>
<span id="L19917" class="LineNr">19917 </span>    0xf/imm32/size
<span id="L19918" class="LineNr">19918 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x34/4 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3d/=
<span id="L19919" class="LineNr">19919 </span><span class="subxMinorFunction">_string_0f_84_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19920" class="LineNr">19920 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19921" class="LineNr">19921 </span>    <span class="subxComment"># &quot;0f 84/jump-if-= break/disp32&quot;</span>
<span id="L19922" class="LineNr">19922 </span>    0x1c/imm32/size
<span id="L19923" class="LineNr">19923 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x34/4 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3d/= 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19924" class="LineNr">19924 </span><span class="subxMinorFunction">_string_0f_84_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19925" class="LineNr">19925 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19926" class="LineNr">19926 </span>    <span class="subxComment"># &quot;0f 84/jump-if-= loop/disp32&quot;</span>
<span id="L19927" class="LineNr">19927 </span>    0x1b/imm32/size
<span id="L19928" class="LineNr">19928 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x34/4 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3d/= 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19929" class="LineNr">19929 </span><span class="subxMinorFunction">_string_0f_85_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19930" class="LineNr">19930 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19931" class="LineNr">19931 </span>    <span class="subxComment"># &quot;0f 85/jump-if-!=&quot;</span>
<span id="L19932" class="LineNr">19932 </span>    0x10/imm32/size
<span id="L19933" class="LineNr">19933 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x35/5 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x21/! 0x3d/=
<span id="L19934" class="LineNr">19934 </span><span class="subxMinorFunction">_string_0f_85_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19935" class="LineNr">19935 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19936" class="LineNr">19936 </span>    <span class="subxComment"># &quot;0f 85/jump-if-!= break/disp32&quot;</span>
<span id="L19937" class="LineNr">19937 </span>    0x1d/imm32/size
<span id="L19938" class="LineNr">19938 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x35/5 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x21/! 0x3d/= 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19939" class="LineNr">19939 </span><span class="subxMinorFunction">_string_0f_85_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19940" class="LineNr">19940 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19941" class="LineNr">19941 </span>    <span class="subxComment"># &quot;0f 85/jump-if-!= loop/disp32&quot;</span>
<span id="L19942" class="LineNr">19942 </span>    0x1c/imm32/size
<span id="L19943" class="LineNr">19943 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x35/5 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x21/! 0x3d/= 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19944" class="LineNr">19944 </span><span class="subxMinorFunction">_string_0f_86_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19945" class="LineNr">19945 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19946" class="LineNr">19946 </span>    <span class="subxComment"># &quot;0f 86/jump-if-addr&lt;=&quot;</span>
<span id="L19947" class="LineNr">19947 </span>    0x14/imm32/size
<span id="L19948" class="LineNr">19948 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x36/6 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x3d/=
<span id="L19949" class="LineNr">19949 </span><span class="subxMinorFunction">_string_0f_86_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19950" class="LineNr">19950 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19951" class="LineNr">19951 </span>    <span class="subxComment"># &quot;0f 86/jump-if-addr&lt;= break/disp32&quot;</span>
<span id="L19952" class="LineNr">19952 </span>    0x21/imm32/size
<span id="L19953" class="LineNr">19953 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x36/6 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x3d/= 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19954" class="LineNr">19954 </span><span class="subxMinorFunction">_string_0f_86_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19955" class="LineNr">19955 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19956" class="LineNr">19956 </span>    <span class="subxComment"># &quot;0f 86/jump-if-addr&lt;= loop/disp32&quot;</span>
<span id="L19957" class="LineNr">19957 </span>    0x20/imm32/size
<span id="L19958" class="LineNr">19958 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x36/6 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3c/&lt; 0x3d/= 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19959" class="LineNr">19959 </span><span class="subxMinorFunction">_string_0f_87_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19960" class="LineNr">19960 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19961" class="LineNr">19961 </span>    <span class="subxComment"># &quot;0f 87/jump-if-addr&gt;&quot;</span>
<span id="L19962" class="LineNr">19962 </span>    0x13/imm32/size
<span id="L19963" class="LineNr">19963 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x37/7 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt;
<span id="L19964" class="LineNr">19964 </span><span class="subxMinorFunction">_string_0f_87_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19965" class="LineNr">19965 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19966" class="LineNr">19966 </span>    <span class="subxComment"># &quot;0f 87/jump-if-addr&gt; break/disp32&quot;</span>
<span id="L19967" class="LineNr">19967 </span>    0x20/imm32/size
<span id="L19968" class="LineNr">19968 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x37/7 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19969" class="LineNr">19969 </span><span class="subxMinorFunction">_string_0f_87_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19970" class="LineNr">19970 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19971" class="LineNr">19971 </span>    <span class="subxComment"># &quot;0f 87/jump-if-addr&gt; loop/disp32&quot;</span>
<span id="L19972" class="LineNr">19972 </span>    0x1f/imm32/size
<span id="L19973" class="LineNr">19973 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x37/7 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x3e/&gt; 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19974" class="LineNr">19974 </span><span class="subxMinorFunction">_string_0f_8c_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19975" class="LineNr">19975 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19976" class="LineNr">19976 </span>    <span class="subxComment"># &quot;0f 8c/jump-if-&lt;&quot;</span>
<span id="L19977" class="LineNr">19977 </span>    0xf/imm32/size
<span id="L19978" class="LineNr">19978 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x63/c 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt;
<span id="L19979" class="LineNr">19979 </span><span class="subxMinorFunction">_string_0f_8c_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19980" class="LineNr">19980 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19981" class="LineNr">19981 </span>    <span class="subxComment"># &quot;0f 8c/jump-if-&lt; break/disp32&quot;</span>
<span id="L19982" class="LineNr">19982 </span>    0x1c/imm32/size
<span id="L19983" class="LineNr">19983 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x63/c 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19984" class="LineNr">19984 </span><span class="subxMinorFunction">_string_0f_8c_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19985" class="LineNr">19985 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19986" class="LineNr">19986 </span>    <span class="subxComment"># &quot;0f 8c/jump-if-&lt; loop/disp32&quot;</span>
<span id="L19987" class="LineNr">19987 </span>    0x1b/imm32/size
<span id="L19988" class="LineNr">19988 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x63/c 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19989" class="LineNr">19989 </span><span class="subxMinorFunction">_string_0f_8d_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19990" class="LineNr">19990 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19991" class="LineNr">19991 </span>    <span class="subxComment"># &quot;0f 8d/jump-if-&gt;=&quot;</span>
<span id="L19992" class="LineNr">19992 </span>    0x10/imm32/size
<span id="L19993" class="LineNr">19993 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x64/d 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x3d/=
<span id="L19994" class="LineNr">19994 </span><span class="subxMinorFunction">_string_0f_8d_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L19995" class="LineNr">19995 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L19996" class="LineNr">19996 </span>    <span class="subxComment"># &quot;0f 8d/jump-if-&gt;= break/disp32&quot;</span>
<span id="L19997" class="LineNr">19997 </span>    0x1d/imm32/size
<span id="L19998" class="LineNr">19998 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x64/d 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x3d/= 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L19999" class="LineNr">19999 </span><span class="subxMinorFunction">_string_0f_8d_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20000" class="LineNr">20000 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20001" class="LineNr">20001 </span>    <span class="subxComment"># &quot;0f 8d/jump-if-&gt;= loop/disp32&quot;</span>
<span id="L20002" class="LineNr">20002 </span>    0x1c/imm32/size
<span id="L20003" class="LineNr">20003 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x64/d 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x3d/= 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20004" class="LineNr">20004 </span><span class="subxMinorFunction">_string_0f_8e_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20005" class="LineNr">20005 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20006" class="LineNr">20006 </span>    <span class="subxComment"># &quot;0f 8e/jump-if-&lt;=&quot;</span>
<span id="L20007" class="LineNr">20007 </span>    0x10/imm32/size
<span id="L20008" class="LineNr">20008 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x65/e 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x3d/=
<span id="L20009" class="LineNr">20009 </span><span class="subxMinorFunction">_string_0f_8e_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20010" class="LineNr">20010 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20011" class="LineNr">20011 </span>    <span class="subxComment"># &quot;0f 8e/jump-if-&lt;= break/disp32&quot;</span>
<span id="L20012" class="LineNr">20012 </span>    0x1d/imm32/size
<span id="L20013" class="LineNr">20013 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x65/e 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x3d/= 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20014" class="LineNr">20014 </span><span class="subxMinorFunction">_string_0f_8e_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20015" class="LineNr">20015 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20016" class="LineNr">20016 </span>    <span class="subxComment"># &quot;0f 8e/jump-if-&lt;= loop/disp32&quot;</span>
<span id="L20017" class="LineNr">20017 </span>    0x1c/imm32/size
<span id="L20018" class="LineNr">20018 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x65/e 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3c/&lt; 0x3d/= 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20019" class="LineNr">20019 </span><span class="subxMinorFunction">_string_0f_8f_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20020" class="LineNr">20020 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20021" class="LineNr">20021 </span>    <span class="subxComment"># &quot;0f 8f/jump-if-&gt;&quot;</span>
<span id="L20022" class="LineNr">20022 </span>    0xf/imm32/size
<span id="L20023" class="LineNr">20023 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x66/f 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt;
<span id="L20024" class="LineNr">20024 </span><span class="subxMinorFunction">_string_0f_8f_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20025" class="LineNr">20025 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20026" class="LineNr">20026 </span>    <span class="subxComment"># &quot;0f 8f/jump-if-&gt; break/disp32&quot;</span>
<span id="L20027" class="LineNr">20027 </span>    0x1c/imm32/size
<span id="L20028" class="LineNr">20028 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x66/f 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20029" class="LineNr">20029 </span><span class="subxMinorFunction">_string_0f_8f_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20030" class="LineNr">20030 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20031" class="LineNr">20031 </span>    <span class="subxComment"># &quot;0f 8f/jump-if-&gt; loop/disp32&quot;</span>
<span id="L20032" class="LineNr">20032 </span>    0x1b/imm32/size
<span id="L20033" class="LineNr">20033 </span>    0x30/0 0x66/f 0x20/space 0x38/8 0x66/f 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x2d/dash 0x69/i 0x66/f 0x2d/dash 0x3e/&gt; 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20034" class="LineNr">20034 </span><span class="subxMinorFunction">_string_0f_af_multiply</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20035" class="LineNr">20035 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20036" class="LineNr">20036 </span>    <span class="subxComment"># &quot;0f af/multiply&quot;</span>
<span id="L20037" class="LineNr">20037 </span>    0xe/imm32/size
<span id="L20038" class="LineNr">20038 </span>    0x30/0 0x66/f 0x20/space 0x61/a 0x66/f 0x2f/slash 0x6d/m 0x75/u 0x6c/l 0x74/t 0x69/i 0x70/p 0x6c/l 0x79/y
<span id="L20039" class="LineNr">20039 </span><span class="subxMinorFunction">_string_21_and_with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20040" class="LineNr">20040 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20041" class="LineNr">20041 </span>    <span class="subxComment"># &quot;21/and-with&quot;</span>
<span id="L20042" class="LineNr">20042 </span>    0xb/imm32/size
<span id="L20043" class="LineNr">20043 </span>    0x32/2 0x31/1 0x2f/slash 0x61/a 0x6e/n 0x64/d 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L20044" class="LineNr">20044 </span><span class="subxMinorFunction">_string_23_and</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20045" class="LineNr">20045 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20046" class="LineNr">20046 </span>    <span class="subxComment"># &quot;23/and&quot;</span>
<span id="L20047" class="LineNr">20047 </span>    0x6/imm32/size
<span id="L20048" class="LineNr">20048 </span>    0x32/2 0x33/3 0x2f/slash 0x61/a 0x6e/n 0x64/d
<span id="L20049" class="LineNr">20049 </span><span class="subxMinorFunction">_string_25_and_with_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20050" class="LineNr">20050 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20051" class="LineNr">20051 </span>    <span class="subxComment"># &quot;25/and-with-eax&quot;</span>
<span id="L20052" class="LineNr">20052 </span>    0xf/imm32/size
<span id="L20053" class="LineNr">20053 </span>    0x32/2 0x35/5 0x2f/slash 0x61/a 0x6e/n 0x64/d 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L20054" class="LineNr">20054 </span><span class="subxMinorFunction">_string_29_subtract_from</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20055" class="LineNr">20055 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20056" class="LineNr">20056 </span>    <span class="subxComment"># &quot;29/subtract-from&quot;</span>
<span id="L20057" class="LineNr">20057 </span>    0x10/imm32/size
<span id="L20058" class="LineNr">20058 </span>    0x32/2 0x39/9 0x2f/slash 0x73/s 0x75/u 0x62/b 0x74/t 0x72/r 0x61/a 0x63/c 0x74/t 0x2d/dash 0x66/f 0x72/r 0x6f/o 0x6d/m
<span id="L20059" class="LineNr">20059 </span><span class="subxMinorFunction">_string_2b_subtract</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20060" class="LineNr">20060 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20061" class="LineNr">20061 </span>    <span class="subxComment"># &quot;2b/subtract&quot;</span>
<span id="L20062" class="LineNr">20062 </span>    0xb/imm32/size
<span id="L20063" class="LineNr">20063 </span>    0x32/2 0x62/b 0x2f/slash 0x73/s 0x75/u 0x62/b 0x74/t 0x72/r 0x61/a 0x63/c 0x74/t
<span id="L20064" class="LineNr">20064 </span><span class="subxMinorFunction">_string_2d_subtract_from_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20065" class="LineNr">20065 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20066" class="LineNr">20066 </span>    <span class="subxComment"># &quot;2d/subtract-from-eax&quot;</span>
<span id="L20067" class="LineNr">20067 </span>    0x14/imm32/size
<span id="L20068" class="LineNr">20068 </span>    0x32/2 0x64/d 0x2f/slash 0x73/s 0x75/u 0x62/b 0x74/t 0x72/r 0x61/a 0x63/c 0x74/t 0x2d/dash 0x66/f 0x72/r 0x6f/o 0x6d/m 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L20069" class="LineNr">20069 </span><span class="subxMinorFunction">_string_31_xor_with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20070" class="LineNr">20070 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20071" class="LineNr">20071 </span>    <span class="subxComment"># &quot;31/xor-with&quot;</span>
<span id="L20072" class="LineNr">20072 </span>    0xb/imm32/size
<span id="L20073" class="LineNr">20073 </span>    0x33/3 0x31/1 0x2f/slash 0x78/x 0x6f/o 0x72/r 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L20074" class="LineNr">20074 </span><span class="subxMinorFunction">_string_33_xor</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20075" class="LineNr">20075 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20076" class="LineNr">20076 </span>    <span class="subxComment"># &quot;33/xor&quot;</span>
<span id="L20077" class="LineNr">20077 </span>    0x6/imm32/size
<span id="L20078" class="LineNr">20078 </span>    0x33/3 0x33/3 0x2f/slash 0x78/x 0x6f/o 0x72/r
<span id="L20079" class="LineNr">20079 </span><span class="subxMinorFunction">_string_35_xor_with_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20080" class="LineNr">20080 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20081" class="LineNr">20081 </span>    <span class="subxComment"># &quot;35/xor-with-eax&quot;</span>
<span id="L20082" class="LineNr">20082 </span>    0xf/imm32/size
<span id="L20083" class="LineNr">20083 </span>    0x33/3 0x35/5 0x2f/slash 0x78/x 0x6f/o 0x72/r 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L20084" class="LineNr">20084 </span><span class="subxMinorFunction">_string_39_compare-&gt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20085" class="LineNr">20085 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20086" class="LineNr">20086 </span>    <span class="subxComment"># &quot;39/compare-&gt;&quot;</span>
<span id="L20087" class="LineNr">20087 </span>    0xc/imm32/size
<span id="L20088" class="LineNr">20088 </span>    0x33/3 0x39/9 0x2f/slash 0x63/c 0x6f/o 0x6d/m 0x70/p 0x61/a 0x72/r 0x65/e 0x2d/dash 0x3e/&gt;
<span id="L20089" class="LineNr">20089 </span><span class="subxMinorFunction">_string_3b_compare&lt;-</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20090" class="LineNr">20090 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20091" class="LineNr">20091 </span>    <span class="subxComment"># &quot;3b/compare&lt;-&quot;</span>
<span id="L20092" class="LineNr">20092 </span>    0xc/imm32/size
<span id="L20093" class="LineNr">20093 </span>    0x33/3 0x62/b 0x2f/slash 0x63/c 0x6f/o 0x6d/m 0x70/p 0x61/a 0x72/r 0x65/e 0x3c/&lt; 0x2d/dash
<span id="L20094" class="LineNr">20094 </span><span class="subxMinorFunction">_string_3d_compare_eax_with</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20095" class="LineNr">20095 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20096" class="LineNr">20096 </span>    <span class="subxComment"># &quot;3d/compare-eax-with&quot;</span>
<span id="L20097" class="LineNr">20097 </span>    0x13/imm32/size
<span id="L20098" class="LineNr">20098 </span>    0x33/3 0x64/d 0x2f/slash 0x63/c 0x6f/o 0x6d/m 0x70/p 0x61/a 0x72/r 0x65/e 0x2d/dash 0x65/e 0x61/a 0x78/x 0x2d/dash 0x77/w 0x69/i 0x74/t 0x68/h
<span id="L20099" class="LineNr">20099 </span><span class="subxMinorFunction">_string_40_increment_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20100" class="LineNr">20100 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20101" class="LineNr">20101 </span>    <span class="subxComment"># &quot;40/increment-eax&quot;</span>
<span id="L20102" class="LineNr">20102 </span>    0x10/imm32/size
<span id="L20103" class="LineNr">20103 </span>    0x34/4 0x30/0 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L20104" class="LineNr">20104 </span><span class="subxMinorFunction">_string_41_increment_ecx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20105" class="LineNr">20105 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20106" class="LineNr">20106 </span>    <span class="subxComment"># &quot;41/increment-ecx&quot;</span>
<span id="L20107" class="LineNr">20107 </span>    0x10/imm32/size
<span id="L20108" class="LineNr">20108 </span>    0x34/4 0x31/1 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x63/c 0x78/x
<span id="L20109" class="LineNr">20109 </span><span class="subxMinorFunction">_string_42_increment_edx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20110" class="LineNr">20110 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20111" class="LineNr">20111 </span>    <span class="subxComment"># &quot;42/increment-edx&quot;</span>
<span id="L20112" class="LineNr">20112 </span>    0x10/imm32/size
<span id="L20113" class="LineNr">20113 </span>    0x34/4 0x32/2 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x64/d 0x78/x
<span id="L20114" class="LineNr">20114 </span><span class="subxMinorFunction">_string_43_increment_ebx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20115" class="LineNr">20115 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20116" class="LineNr">20116 </span>    <span class="subxComment"># &quot;43/increment-ebx&quot;</span>
<span id="L20117" class="LineNr">20117 </span>    0x10/imm32/size
<span id="L20118" class="LineNr">20118 </span>    0x34/4 0x33/3 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x62/b 0x78/x
<span id="L20119" class="LineNr">20119 </span><span class="subxMinorFunction">_string_46_increment_esi</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20120" class="LineNr">20120 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20121" class="LineNr">20121 </span>    <span class="subxComment"># &quot;46/increment-esi&quot;</span>
<span id="L20122" class="LineNr">20122 </span>    0x10/imm32/size
<span id="L20123" class="LineNr">20123 </span>    0x34/4 0x36/6 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x73/s 0x69/i
<span id="L20124" class="LineNr">20124 </span><span class="subxMinorFunction">_string_47_increment_edi</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20125" class="LineNr">20125 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20126" class="LineNr">20126 </span>    <span class="subxComment"># &quot;47/increment-edi&quot;</span>
<span id="L20127" class="LineNr">20127 </span>    0x10/imm32/size
<span id="L20128" class="LineNr">20128 </span>    0x34/4 0x37/7 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x64/d 0x69/i
<span id="L20129" class="LineNr">20129 </span><span class="subxMinorFunction">_string_48_decrement_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20130" class="LineNr">20130 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20131" class="LineNr">20131 </span>    <span class="subxComment"># &quot;48/decrement-eax&quot;</span>
<span id="L20132" class="LineNr">20132 </span>    0x10/imm32/size
<span id="L20133" class="LineNr">20133 </span>    0x34/4 0x38/8 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L20134" class="LineNr">20134 </span><span class="subxMinorFunction">_string_49_decrement_ecx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20135" class="LineNr">20135 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20136" class="LineNr">20136 </span>    <span class="subxComment"># &quot;49/decrement-ecx&quot;</span>
<span id="L20137" class="LineNr">20137 </span>    0x10/imm32/size
<span id="L20138" class="LineNr">20138 </span>    0x34/4 0x39/9 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x63/c 0x78/x
<span id="L20139" class="LineNr">20139 </span><span class="subxMinorFunction">_string_4a_decrement_edx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20140" class="LineNr">20140 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20141" class="LineNr">20141 </span>    <span class="subxComment"># &quot;4a/decrement-edx&quot;</span>
<span id="L20142" class="LineNr">20142 </span>    0x10/imm32/size
<span id="L20143" class="LineNr">20143 </span>    0x34/4 0x61/a 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x64/d 0x78/x
<span id="L20144" class="LineNr">20144 </span><span class="subxMinorFunction">_string_4b_decrement_ebx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20145" class="LineNr">20145 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20146" class="LineNr">20146 </span>    <span class="subxComment"># &quot;4b/decrement-ebx&quot;</span>
<span id="L20147" class="LineNr">20147 </span>    0x10/imm32/size
<span id="L20148" class="LineNr">20148 </span>    0x34/4 0x62/b 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x62/b 0x78/x
<span id="L20149" class="LineNr">20149 </span><span class="subxMinorFunction">_string_4e_decrement_esi</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20150" class="LineNr">20150 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20151" class="LineNr">20151 </span>    <span class="subxComment"># &quot;4e/decrement-esi&quot;</span>
<span id="L20152" class="LineNr">20152 </span>    0x10/imm32/size
<span id="L20153" class="LineNr">20153 </span>    0x34/4 0x65/e 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x73/s 0x69/i
<span id="L20154" class="LineNr">20154 </span><span class="subxMinorFunction">_string_4f_decrement_edi</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20155" class="LineNr">20155 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20156" class="LineNr">20156 </span>    <span class="subxComment"># &quot;4f/decrement-edi&quot;</span>
<span id="L20157" class="LineNr">20157 </span>    0x10/imm32/size
<span id="L20158" class="LineNr">20158 </span>    0x34/4 0x66/f 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t 0x2d/dash 0x65/e 0x64/d 0x69/i
<span id="L20159" class="LineNr">20159 </span><span class="subxMinorFunction">_string_81_subop_add</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20160" class="LineNr">20160 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20161" class="LineNr">20161 </span>    <span class="subxComment"># &quot;81 0/subop/add&quot;</span>
<span id="L20162" class="LineNr">20162 </span>    0xe/imm32/size
<span id="L20163" class="LineNr">20163 </span>    0x38/8 0x31/1 0x20/space 0x30/0 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x61/a 0x64/d 0x64/d
<span id="L20164" class="LineNr">20164 </span><span class="subxMinorFunction">_string_81_subop_or</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20165" class="LineNr">20165 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20166" class="LineNr">20166 </span>    <span class="subxComment"># &quot;81 1/subop/or&quot;</span>
<span id="L20167" class="LineNr">20167 </span>    0xd/imm32/size
<span id="L20168" class="LineNr">20168 </span>    0x38/8 0x31/1 0x20/space 0x31/1 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x6f/o 0x72/r
<span id="L20169" class="LineNr">20169 </span><span class="subxMinorFunction">_string_81_subop_and</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20170" class="LineNr">20170 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20171" class="LineNr">20171 </span>    <span class="subxComment"># &quot;81 4/subop/and&quot;</span>
<span id="L20172" class="LineNr">20172 </span>    0xe/imm32/size
<span id="L20173" class="LineNr">20173 </span>    0x38/8 0x31/1 0x20/space 0x34/4 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x61/a 0x6e/n 0x64/d
<span id="L20174" class="LineNr">20174 </span><span class="subxMinorFunction">_string_81_subop_subtract</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20175" class="LineNr">20175 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20176" class="LineNr">20176 </span>    <span class="subxComment"># &quot;81 5/subop/subtract&quot;</span>
<span id="L20177" class="LineNr">20177 </span>    0x13/imm32/size
<span id="L20178" class="LineNr">20178 </span>    0x38/8 0x31/1 0x20/space 0x35/5 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x73/s 0x75/u 0x62/b 0x74/t 0x72/r 0x61/a 0x63/c 0x74/t
<span id="L20179" class="LineNr">20179 </span><span class="subxMinorFunction">_string_81_subop_xor</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20180" class="LineNr">20180 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20181" class="LineNr">20181 </span>    <span class="subxComment"># &quot;81 6/subop/xor&quot;</span>
<span id="L20182" class="LineNr">20182 </span>    0xe/imm32/size
<span id="L20183" class="LineNr">20183 </span>    0x38/8 0x31/1 0x20/space 0x36/6 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x78/x 0x6f/o 0x72/r
<span id="L20184" class="LineNr">20184 </span><span class="subxMinorFunction">_string_81_subop_compare</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20185" class="LineNr">20185 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20186" class="LineNr">20186 </span>    <span class="subxComment"># &quot;81 7/subop/compare&quot;</span>
<span id="L20187" class="LineNr">20187 </span>    0x12/imm32/size
<span id="L20188" class="LineNr">20188 </span>    0x38/8 0x31/1 0x20/space 0x37/7 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x63/c 0x6f/o 0x6d/m 0x70/p 0x61/a 0x72/r 0x65/e
<span id="L20189" class="LineNr">20189 </span><span class="subxMinorFunction">_string_89_&lt;-</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20190" class="LineNr">20190 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20191" class="LineNr">20191 </span>    <span class="subxComment"># &quot;89/&lt;-&quot;</span>
<span id="L20192" class="LineNr">20192 </span>    0x5/imm32/size
<span id="L20193" class="LineNr">20193 </span>    0x38/8 0x39/9 0x2f/slash 0x3c/&lt; 0x2d/dash
<span id="L20194" class="LineNr">20194 </span><span class="subxMinorFunction">_string_8b_-&gt;</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20195" class="LineNr">20195 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20196" class="LineNr">20196 </span>    <span class="subxComment"># &quot;8b/-&gt;&quot;</span>
<span id="L20197" class="LineNr">20197 </span>    0x5/imm32/size
<span id="L20198" class="LineNr">20198 </span>    0x38/8 0x62/b 0x2f/slash 0x2d/dash 0x3e/&gt;
<span id="L20199" class="LineNr">20199 </span><span class="subxMinorFunction">_string_8a_copy_byte</span>:
<span id="L20200" class="LineNr">20200 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20201" class="LineNr">20201 </span>    <span class="subxComment"># &quot;8a/byte-&gt;&quot;</span>
<span id="L20202" class="LineNr">20202 </span>    0x9/imm32/size
<span id="L20203" class="LineNr">20203 </span>    0x38/8 0x61/a 0x2f// 0x62/b 0x79/y 0x74/t 0x65/e 0x2d/- 0x3e/&gt;
<span id="L20204" class="LineNr">20204 </span><span class="subxMinorFunction">_string_88_copy_byte</span>:
<span id="L20205" class="LineNr">20205 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20206" class="LineNr">20206 </span>    <span class="subxComment"># &quot;88/byte&lt;-&quot;</span>
<span id="L20207" class="LineNr">20207 </span>    0x9/imm32/size
<span id="L20208" class="LineNr">20208 </span>    0x38/8 0x38/8 0x2f// 0x62/b 0x79/y 0x74/t 0x65/e 0x3c/&lt; 0x2d/-
<span id="L20209" class="LineNr">20209 </span><span class="subxMinorFunction">_string_8d_copy_address</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20210" class="LineNr">20210 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20211" class="LineNr">20211 </span>    <span class="subxComment"># &quot;8d/copy-address&quot;</span>
<span id="L20212" class="LineNr">20212 </span>    0xf/imm32/size
<span id="L20213" class="LineNr">20213 </span>    0x38/8 0x64/d 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x61/a 0x64/d 0x64/d 0x72/r 0x65/e 0x73/s 0x73/s
<span id="L20214" class="LineNr">20214 </span><span class="subxMinorFunction">_string_b8_copy_to_eax</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20215" class="LineNr">20215 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20216" class="LineNr">20216 </span>    <span class="subxComment"># &quot;b8/copy-to-eax&quot;</span>
<span id="L20217" class="LineNr">20217 </span>    0xe/imm32/size
<span id="L20218" class="LineNr">20218 </span>    0x62/b 0x38/8 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x61/a 0x78/x
<span id="L20219" class="LineNr">20219 </span><span class="subxMinorFunction">_string_b9_copy_to_ecx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20220" class="LineNr">20220 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20221" class="LineNr">20221 </span>    <span class="subxComment"># &quot;b9/copy-to-ecx&quot;</span>
<span id="L20222" class="LineNr">20222 </span>    0xe/imm32/size
<span id="L20223" class="LineNr">20223 </span>    0x62/b 0x39/9 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x63/c 0x78/x
<span id="L20224" class="LineNr">20224 </span><span class="subxMinorFunction">_string_ba_copy_to_edx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20225" class="LineNr">20225 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20226" class="LineNr">20226 </span>    <span class="subxComment"># &quot;ba/copy-to-edx&quot;</span>
<span id="L20227" class="LineNr">20227 </span>    0xe/imm32/size
<span id="L20228" class="LineNr">20228 </span>    0x62/b 0x61/a 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x64/d 0x78/x
<span id="L20229" class="LineNr">20229 </span><span class="subxMinorFunction">_string_bb_copy_to_ebx</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20230" class="LineNr">20230 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20231" class="LineNr">20231 </span>    <span class="subxComment"># &quot;bb/copy-to-ebx&quot;</span>
<span id="L20232" class="LineNr">20232 </span>    0xe/imm32/size
<span id="L20233" class="LineNr">20233 </span>    0x62/b 0x62/b 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x62/b 0x78/x
<span id="L20234" class="LineNr">20234 </span><span class="subxMinorFunction">_string_be_copy_to_esi</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20235" class="LineNr">20235 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20236" class="LineNr">20236 </span>    <span class="subxComment"># &quot;be/copy-to-esi&quot;</span>
<span id="L20237" class="LineNr">20237 </span>    0xe/imm32/size
<span id="L20238" class="LineNr">20238 </span>    0x62/b 0x65/e 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x73/s 0x69/i
<span id="L20239" class="LineNr">20239 </span><span class="subxMinorFunction">_string_bf_copy_to_edi</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20240" class="LineNr">20240 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20241" class="LineNr">20241 </span>    <span class="subxComment"># &quot;bf/copy-to-edi&quot;</span>
<span id="L20242" class="LineNr">20242 </span>    0xe/imm32/size
<span id="L20243" class="LineNr">20243 </span>    0x62/b 0x66/f 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y 0x2d/dash 0x74/t 0x6f/o 0x2d/dash 0x65/e 0x64/d 0x69/i
<span id="L20244" class="LineNr">20244 </span><span class="subxMinorFunction">_string_c7_subop_copy</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20245" class="LineNr">20245 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20246" class="LineNr">20246 </span>    <span class="subxComment"># &quot;c7 0/subop/copy&quot;</span>
<span id="L20247" class="LineNr">20247 </span>    0xf/imm32/size
<span id="L20248" class="LineNr">20248 </span>    0x63/c 0x37/7 0x20/space 0x30/0 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x63/c 0x6f/o 0x70/p 0x79/y
<span id="L20249" class="LineNr">20249 </span><span class="subxMinorFunction">_string_e9_jump_label</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20250" class="LineNr">20250 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20251" class="LineNr">20251 </span>    <span class="subxComment"># &quot;e9/jump&quot;</span>
<span id="L20252" class="LineNr">20252 </span>    0x7/imm32/size
<span id="L20253" class="LineNr">20253 </span>    0x65/e 0x39/9 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p
<span id="L20254" class="LineNr">20254 </span><span class="subxMinorFunction">_string_e9_jump_break</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20255" class="LineNr">20255 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20256" class="LineNr">20256 </span>    <span class="subxComment"># &quot;e9/jump break/disp32&quot;</span>
<span id="L20257" class="LineNr">20257 </span>    0x14/imm32/size
<span id="L20258" class="LineNr">20258 </span>    0x65/e 0x39/9 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x20/space 0x62/b 0x72/r 0x65/e 0x61/a 0x6b/k 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20259" class="LineNr">20259 </span><span class="subxMinorFunction">_string_e9_jump_loop</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20260" class="LineNr">20260 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20261" class="LineNr">20261 </span>    <span class="subxComment"># &quot;e9/jump loop/disp32&quot;</span>
<span id="L20262" class="LineNr">20262 </span>    0x13/imm32/size
<span id="L20263" class="LineNr">20263 </span>    0x65/e 0x39/9 0x2f/slash 0x6a/j 0x75/u 0x6d/m 0x70/p 0x20/space 0x6c/l 0x6f/o 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x69/i 0x73/s 0x70/p 0x33/3 0x32/2
<span id="L20264" class="LineNr">20264 </span><span class="subxMinorFunction">_string_ff_subop_increment</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20265" class="LineNr">20265 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20266" class="LineNr">20266 </span>    <span class="subxComment"># &quot;ff 0/subop/increment&quot;</span>
<span id="L20267" class="LineNr">20267 </span>    0x14/imm32/size
<span id="L20268" class="LineNr">20268 </span>    0x66/f 0x66/f 0x20/space 0x30/0 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x69/i 0x6e/n 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t
<span id="L20269" class="LineNr">20269 </span><span class="subxMinorFunction">_string_ff_subop_decrement</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20270" class="LineNr">20270 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20271" class="LineNr">20271 </span>    <span class="subxComment"># &quot;ff 1/subop/decrement&quot;</span>
<span id="L20272" class="LineNr">20272 </span>    0x14/imm32/size
<span id="L20273" class="LineNr">20273 </span>    0x66/f 0x66/f 0x20/space 0x31/1 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x64/d 0x65/e 0x63/c 0x72/r 0x65/e 0x6d/m 0x65/e 0x6e/n 0x74/t
<span id="L20274" class="LineNr">20274 </span><span class="subxMinorFunction">_string_c1_subop_shift_left</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20275" class="LineNr">20275 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20276" class="LineNr">20276 </span>    <span class="subxComment"># &quot;c1/shift 4/subop/left&quot;</span>
<span id="L20277" class="LineNr">20277 </span>    0x15/imm32/size
<span id="L20278" class="LineNr">20278 </span>    0x63/c 0x31/1 0x2f/slash 0x73/s 0x68/h 0x69/i 0x66/f 0x74/t 0x20/space 0x34/4 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x6c/l 0x65/e 0x66/f 0x74/t
<span id="L20279" class="LineNr">20279 </span><span class="subxMinorFunction">_string_c1_subop_shift_right_padding_zeroes</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20280" class="LineNr">20280 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20281" class="LineNr">20281 </span>    <span class="subxComment"># &quot;c1/shift 5/subop/right-padding-zeroes&quot;</span>
<span id="L20282" class="LineNr">20282 </span>    0x25/imm32/size
<span id="L20283" class="LineNr">20283 </span>    0x63/c 0x31/1 0x2f/slash 0x73/s 0x68/h 0x69/i 0x66/f 0x74/t 0x20/space 0x35/5 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x72/r 0x69/i 0x67/g 0x68/h 0x74/t 0x2d/dash 0x70/p 0x61/a 0x64/d 0x64/d 0x69/i 0x6e/n 0x67/g 0x2d/dash 0x7a/z 0x65/e 0x72/r 0x6f/o 0x65/e 0x73/s
<span id="L20284" class="LineNr">20284 </span><span class="subxMinorFunction">_string_c1_subop_shift_right_preserving_sign</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20285" class="LineNr">20285 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20286" class="LineNr">20286 </span>    <span class="subxComment"># &quot;c1/shift 7/subop/right-preserving-sign&quot;</span>
<span id="L20287" class="LineNr">20287 </span>    0x26/imm32/size
<span id="L20288" class="LineNr">20288 </span>    0x63/c 0x31/1 0x2f/slash 0x73/s 0x68/h 0x69/i 0x66/f 0x74/t 0x20/space 0x37/7 0x2f/slash 0x73/s 0x75/u 0x62/b 0x6f/o 0x70/p 0x2f/slash 0x72/r 0x69/i 0x67/g 0x68/h 0x74/t 0x2d/dash 0x70/p 0x72/r 0x65/e 0x73/s 0x65/e 0x72/r 0x76/v 0x69/i 0x6e/n 0x67/g 0x2d/dash 0x73/s 0x69/i 0x67/g 0x6e/n
<span id="L20289" class="LineNr">20289 </span>
<span id="L20290" class="LineNr">20290 </span><span class="SpecialChar">Single-int-var-in-mem</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20291" class="LineNr">20291 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20292" class="LineNr">20292 </span>    0x11/imm32/alloc-id:fake
<span id="L20293" class="LineNr">20293 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20297'>Int-var-in-mem</a></span>/imm32
<span id="L20294" class="LineNr">20294 </span>    0/imm32/next
<span id="L20295" class="LineNr">20295 </span>    0/imm32/next
<span id="L20296" class="LineNr">20296 </span>
<span id="L20297" class="LineNr">20297 </span><span class="SpecialChar">Int-var-in-mem</span>:  <span class="subxComment"># (payload var)</span>
<span id="L20298" class="LineNr">20298 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20299" class="LineNr">20299 </span>    0/imm32/name
<span id="L20300" class="LineNr">20300 </span>    0/imm32/name
<span id="L20301" class="LineNr">20301 </span>    0x11/imm32/alloc-id:fake
<span id="L20302" class="LineNr">20302 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20303" class="LineNr">20303 </span>    1/imm32/some-block-depth
<span id="L20304" class="LineNr">20304 </span>    1/imm32/some-stack-offset
<span id="L20305" class="LineNr">20305 </span>    0/imm32/no-register
<span id="L20306" class="LineNr">20306 </span>    0/imm32/no-register
<span id="L20307" class="LineNr">20307 </span>
<span id="L20308" class="LineNr">20308 </span><span class="subxComment"># Not really legal, but closest we can currently represent a dereference of an (addr byte)</span>
<span id="L20309" class="LineNr">20309 </span><span class="SpecialChar">Single-byte-var-in-mem</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20310" class="LineNr">20310 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20311" class="LineNr">20311 </span>    0x11/imm32/alloc-id:fake
<span id="L20312" class="LineNr">20312 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20317'>Byte-var-in-mem</a></span>/imm32
<span id="L20313" class="LineNr">20313 </span>    0/imm32/next
<span id="L20314" class="LineNr">20314 </span>    0/imm32/next
<span id="L20315" class="LineNr">20315 </span>
<span id="L20316" class="LineNr">20316 </span><span class="subxComment"># Not really legal, but closest we can currently represent a dereference of an (addr byte)</span>
<span id="L20317" class="LineNr">20317 </span><span class="SpecialChar">Byte-var-in-mem</span>:  <span class="subxComment"># (payload var)</span>
<span id="L20318" class="LineNr">20318 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20319" class="LineNr">20319 </span>    0/imm32/name
<span id="L20320" class="LineNr">20320 </span>    0/imm32/name
<span id="L20321" class="LineNr">20321 </span>    0x11/imm32/alloc-id:fake
<span id="L20322" class="LineNr">20322 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20588'>Type-byte</a></span>/imm32
<span id="L20323" class="LineNr">20323 </span>    1/imm32/some-block-depth
<span id="L20324" class="LineNr">20324 </span>    1/imm32/some-stack-offset
<span id="L20325" class="LineNr">20325 </span>    0/imm32/no-register
<span id="L20326" class="LineNr">20326 </span>    0/imm32/no-register
<span id="L20327" class="LineNr">20327 </span>
<span id="L20328" class="LineNr">20328 </span><span class="SpecialChar">Two-args-int-stack-int-reg</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20329" class="LineNr">20329 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20330" class="LineNr">20330 </span>    0x11/imm32/alloc-id:fake
<span id="L20331" class="LineNr">20331 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20297'>Int-var-in-mem</a></span>/imm32
<span id="L20332" class="LineNr">20332 </span>    0x11/imm32/alloc-id:fake
<span id="L20333" class="LineNr">20333 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/next
<span id="L20334" class="LineNr">20334 </span>
<span id="L20335" class="LineNr">20335 </span><span class="SpecialChar">Two-int-args-in-regs</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20336" class="LineNr">20336 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20337" class="LineNr">20337 </span>    0x11/imm32/alloc-id:fake
<span id="L20338" class="LineNr">20338 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20399'>Int-var-in-some-register</a></span>/imm32
<span id="L20339" class="LineNr">20339 </span>    0x11/imm32/alloc-id:fake
<span id="L20340" class="LineNr">20340 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20378'>Single-int-var-in-some-register</a></span>/imm32/next
<span id="L20341" class="LineNr">20341 </span>
<span id="L20342" class="LineNr">20342 </span><span class="subxComment"># Not really legal, but closest we can currently represent a dereference of an (addr byte)</span>
<span id="L20343" class="LineNr">20343 </span><span class="SpecialChar">Two-args-byte-stack-byte-reg</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20344" class="LineNr">20344 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20345" class="LineNr">20345 </span>    0x11/imm32/alloc-id:fake
<span id="L20346" class="LineNr">20346 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20317'>Byte-var-in-mem</a></span>/imm32
<span id="L20347" class="LineNr">20347 </span>    0x11/imm32/alloc-id:fake
<span id="L20348" class="LineNr">20348 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20392'>Single-byte-var-in-some-register</a></span>/imm32/next
<span id="L20349" class="LineNr">20349 </span>
<span id="L20350" class="LineNr">20350 </span><span class="SpecialChar">Two-args-int-reg-int-stack</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20351" class="LineNr">20351 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20352" class="LineNr">20352 </span>    0x11/imm32/alloc-id:fake
<span id="L20353" class="LineNr">20353 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20399'>Int-var-in-some-register</a></span>/imm32
<span id="L20354" class="LineNr">20354 </span>    0x11/imm32/alloc-id:fake
<span id="L20355" class="LineNr">20355 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20290'>Single-int-var-in-mem</a></span>/imm32/next
<span id="L20356" class="LineNr">20356 </span>
<span id="L20357" class="LineNr">20357 </span><span class="SpecialChar">Two-args-int-eax-int-literal</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20358" class="LineNr">20358 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20359" class="LineNr">20359 </span>    0x11/imm32/alloc-id:fake
<span id="L20360" class="LineNr">20360 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20445'>Int-var-in-eax</a></span>/imm32
<span id="L20361" class="LineNr">20361 </span>    0x11/imm32/alloc-id:fake
<span id="L20362" class="LineNr">20362 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/next
<span id="L20363" class="LineNr">20363 </span>
<span id="L20364" class="LineNr">20364 </span><span class="SpecialChar">Int-var-and-literal</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20365" class="LineNr">20365 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20366" class="LineNr">20366 </span>    0x11/imm32/alloc-id:fake
<span id="L20367" class="LineNr">20367 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20297'>Int-var-in-mem</a></span>/imm32
<span id="L20368" class="LineNr">20368 </span>    0x11/imm32/alloc-id:fake
<span id="L20369" class="LineNr">20369 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/next
<span id="L20370" class="LineNr">20370 </span>
<span id="L20371" class="LineNr">20371 </span><span class="SpecialChar">Int-var-in-register-and-literal</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20372" class="LineNr">20372 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20373" class="LineNr">20373 </span>    0x11/imm32/alloc-id:fake
<span id="L20374" class="LineNr">20374 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20399'>Int-var-in-some-register</a></span>/imm32
<span id="L20375" class="LineNr">20375 </span>    0x11/imm32/alloc-id:fake
<span id="L20376" class="LineNr">20376 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20546'>Single-lit-var</a></span>/imm32/next
<span id="L20377" class="LineNr">20377 </span>
<span id="L20378" class="LineNr">20378 </span><span class="SpecialChar">Single-int-var-in-some-register</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20379" class="LineNr">20379 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20380" class="LineNr">20380 </span>    0x11/imm32/alloc-id:fake
<span id="L20381" class="LineNr">20381 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20399'>Int-var-in-some-register</a></span>/imm32
<span id="L20382" class="LineNr">20382 </span>    0/imm32/next
<span id="L20383" class="LineNr">20383 </span>    0/imm32/next
<span id="L20384" class="LineNr">20384 </span>
<span id="L20385" class="LineNr">20385 </span><span class="SpecialChar">Single-addr-var-in-some-register</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20386" class="LineNr">20386 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20387" class="LineNr">20387 </span>    0x11/imm32/alloc-id:fake
<span id="L20388" class="LineNr">20388 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20416'>Addr-var-in-some-register</a></span>/imm32
<span id="L20389" class="LineNr">20389 </span>    0/imm32/next
<span id="L20390" class="LineNr">20390 </span>    0/imm32/next
<span id="L20391" class="LineNr">20391 </span>
<span id="L20392" class="LineNr">20392 </span><span class="SpecialChar">Single-byte-var-in-some-register</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20393" class="LineNr">20393 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20394" class="LineNr">20394 </span>    0x11/imm32/alloc-id:fake
<span id="L20395" class="LineNr">20395 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20427'>Byte-var-in-some-register</a></span>/imm32
<span id="L20396" class="LineNr">20396 </span>    0/imm32/next
<span id="L20397" class="LineNr">20397 </span>    0/imm32/next
<span id="L20398" class="LineNr">20398 </span>
<span id="L20399" class="LineNr">20399 </span><span class="SpecialChar">Int-var-in-some-register</span>:  <span class="subxComment"># (payload var)</span>
<span id="L20400" class="LineNr">20400 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20401" class="LineNr">20401 </span>    0/imm32/name
<span id="L20402" class="LineNr">20402 </span>    0/imm32/name
<span id="L20403" class="LineNr">20403 </span>    0x11/imm32/alloc-id:fake
<span id="L20404" class="LineNr">20404 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20405" class="LineNr">20405 </span>    1/imm32/some-block-depth
<span id="L20406" class="LineNr">20406 </span>    0/imm32/no-stack-offset
<span id="L20407" class="LineNr">20407 </span>    0x11/imm32/alloc-id:fake
<span id="L20408" class="LineNr">20408 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20410'>Any-register</a></span>/imm32
<span id="L20409" class="LineNr">20409 </span>
<span id="L20410" class="LineNr">20410 </span><span class="SpecialChar">Any-register</span>:  <span class="subxComment"># (payload array byte)</span>
<span id="L20411" class="LineNr">20411 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20412" class="LineNr">20412 </span>    1/imm32/size
<span id="L20413" class="LineNr">20413 </span>    <span class="subxComment"># data</span>
<span id="L20414" class="LineNr">20414 </span>    2a/asterisk
<span id="L20415" class="LineNr">20415 </span>
<span id="L20416" class="LineNr">20416 </span><span class="SpecialChar">Addr-var-in-some-register</span>:  <span class="subxComment"># (payload var)</span>
<span id="L20417" class="LineNr">20417 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20418" class="LineNr">20418 </span>    0/imm32/name
<span id="L20419" class="LineNr">20419 </span>    0/imm32/name
<span id="L20420" class="LineNr">20420 </span>    0x11/imm32/alloc-id:fake
<span id="L20421" class="LineNr">20421 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20580'>Type-addr</a></span>/imm32
<span id="L20422" class="LineNr">20422 </span>    1/imm32/some-block-depth
<span id="L20423" class="LineNr">20423 </span>    0/imm32/no-stack-offset
<span id="L20424" class="LineNr">20424 </span>    0x11/imm32/alloc-id:fake
<span id="L20425" class="LineNr">20425 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20410'>Any-register</a></span>/imm32
<span id="L20426" class="LineNr">20426 </span>
<span id="L20427" class="LineNr">20427 </span><span class="SpecialChar">Byte-var-in-some-register</span>:  <span class="subxComment"># (payload var)</span>
<span id="L20428" class="LineNr">20428 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20429" class="LineNr">20429 </span>    0/imm32/name
<span id="L20430" class="LineNr">20430 </span>    0/imm32/name
<span id="L20431" class="LineNr">20431 </span>    0x11/imm32/alloc-id:fake
<span id="L20432" class="LineNr">20432 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20588'>Type-byte</a></span>/imm32
<span id="L20433" class="LineNr">20433 </span>    1/imm32/some-block-depth
<span id="L20434" class="LineNr">20434 </span>    0/imm32/no-stack-offset
<span id="L20435" class="LineNr">20435 </span>    0x11/imm32/alloc-id:fake
<span id="L20436" class="LineNr">20436 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20410'>Any-register</a></span>/imm32
<span id="L20437" class="LineNr">20437 </span>
<span id="L20438" class="LineNr">20438 </span><span class="SpecialChar">Single-int-var-in-eax</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20439" class="LineNr">20439 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20440" class="LineNr">20440 </span>    0x11/imm32/alloc-id:fake
<span id="L20441" class="LineNr">20441 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20445'>Int-var-in-eax</a></span>/imm32
<span id="L20442" class="LineNr">20442 </span>    0/imm32/next
<span id="L20443" class="LineNr">20443 </span>    0/imm32/next
<span id="L20444" class="LineNr">20444 </span>
<span id="L20445" class="LineNr">20445 </span><span class="SpecialChar">Int-var-in-eax</span>:
<span id="L20446" class="LineNr">20446 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20447" class="LineNr">20447 </span>    0/imm32/name
<span id="L20448" class="LineNr">20448 </span>    0/imm32/name
<span id="L20449" class="LineNr">20449 </span>    0x11/imm32/alloc-id:fake
<span id="L20450" class="LineNr">20450 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20451" class="LineNr">20451 </span>    1/imm32/some-block-depth
<span id="L20452" class="LineNr">20452 </span>    0/imm32/no-stack-offset
<span id="L20453" class="LineNr">20453 </span>    0x11/imm32/alloc-id:fake
<span id="L20454" class="LineNr">20454 </span>    $Register-eax/imm32
<span id="L20455" class="LineNr">20455 </span>
<span id="L20456" class="LineNr">20456 </span><span class="SpecialChar">Single-int-var-in-ecx</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20457" class="LineNr">20457 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20458" class="LineNr">20458 </span>    0x11/imm32/alloc-id:fake
<span id="L20459" class="LineNr">20459 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20463'>Int-var-in-ecx</a></span>/imm32
<span id="L20460" class="LineNr">20460 </span>    0/imm32/next
<span id="L20461" class="LineNr">20461 </span>    0/imm32/next
<span id="L20462" class="LineNr">20462 </span>
<span id="L20463" class="LineNr">20463 </span><span class="SpecialChar">Int-var-in-ecx</span>:
<span id="L20464" class="LineNr">20464 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20465" class="LineNr">20465 </span>    0/imm32/name
<span id="L20466" class="LineNr">20466 </span>    0/imm32/name
<span id="L20467" class="LineNr">20467 </span>    0x11/imm32/alloc-id:fake
<span id="L20468" class="LineNr">20468 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20469" class="LineNr">20469 </span>    1/imm32/some-block-depth
<span id="L20470" class="LineNr">20470 </span>    0/imm32/no-stack-offset
<span id="L20471" class="LineNr">20471 </span>    0x11/imm32/alloc-id:fake
<span id="L20472" class="LineNr">20472 </span>    $Register-ecx/imm32/register
<span id="L20473" class="LineNr">20473 </span>
<span id="L20474" class="LineNr">20474 </span><span class="SpecialChar">Single-int-var-in-edx</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20475" class="LineNr">20475 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20476" class="LineNr">20476 </span>    0x11/imm32/alloc-id:fake
<span id="L20477" class="LineNr">20477 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20481'>Int-var-in-edx</a></span>/imm32
<span id="L20478" class="LineNr">20478 </span>    0/imm32/next
<span id="L20479" class="LineNr">20479 </span>    0/imm32/next
<span id="L20480" class="LineNr">20480 </span>
<span id="L20481" class="LineNr">20481 </span><span class="SpecialChar">Int-var-in-edx</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20482" class="LineNr">20482 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20483" class="LineNr">20483 </span>    0/imm32/name
<span id="L20484" class="LineNr">20484 </span>    0/imm32/name
<span id="L20485" class="LineNr">20485 </span>    0x11/imm32/alloc-id:fake
<span id="L20486" class="LineNr">20486 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20487" class="LineNr">20487 </span>    1/imm32/some-block-depth
<span id="L20488" class="LineNr">20488 </span>    0/imm32/no-stack-offset
<span id="L20489" class="LineNr">20489 </span>    0x11/imm32/alloc-id:fake
<span id="L20490" class="LineNr">20490 </span>    $Register-edx/imm32/register
<span id="L20491" class="LineNr">20491 </span>
<span id="L20492" class="LineNr">20492 </span><span class="SpecialChar">Single-int-var-in-ebx</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20493" class="LineNr">20493 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20494" class="LineNr">20494 </span>    0x11/imm32/alloc-id:fake
<span id="L20495" class="LineNr">20495 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20499'>Int-var-in-ebx</a></span>/imm32
<span id="L20496" class="LineNr">20496 </span>    0/imm32/next
<span id="L20497" class="LineNr">20497 </span>    0/imm32/next
<span id="L20498" class="LineNr">20498 </span>
<span id="L20499" class="LineNr">20499 </span><span class="SpecialChar">Int-var-in-ebx</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20500" class="LineNr">20500 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20501" class="LineNr">20501 </span>    0/imm32/name
<span id="L20502" class="LineNr">20502 </span>    0/imm32/name
<span id="L20503" class="LineNr">20503 </span>    0x11/imm32/alloc-id:fake
<span id="L20504" class="LineNr">20504 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20505" class="LineNr">20505 </span>    1/imm32/some-block-depth
<span id="L20506" class="LineNr">20506 </span>    0/imm32/no-stack-offset
<span id="L20507" class="LineNr">20507 </span>    0x11/imm32/alloc-id:fake
<span id="L20508" class="LineNr">20508 </span>    $Register-ebx/imm32/register
<span id="L20509" class="LineNr">20509 </span>
<span id="L20510" class="LineNr">20510 </span><span class="SpecialChar">Single-int-var-in-esi</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20511" class="LineNr">20511 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20512" class="LineNr">20512 </span>    0x11/imm32/alloc-id:fake
<span id="L20513" class="LineNr">20513 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20517'>Int-var-in-esi</a></span>/imm32
<span id="L20514" class="LineNr">20514 </span>    0/imm32/next
<span id="L20515" class="LineNr">20515 </span>    0/imm32/next
<span id="L20516" class="LineNr">20516 </span>
<span id="L20517" class="LineNr">20517 </span><span class="SpecialChar">Int-var-in-esi</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20518" class="LineNr">20518 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20519" class="LineNr">20519 </span>    0/imm32/name
<span id="L20520" class="LineNr">20520 </span>    0/imm32/name
<span id="L20521" class="LineNr">20521 </span>    0x11/imm32/alloc-id:fake
<span id="L20522" class="LineNr">20522 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20523" class="LineNr">20523 </span>    1/imm32/some-block-depth
<span id="L20524" class="LineNr">20524 </span>    0/imm32/no-stack-offset
<span id="L20525" class="LineNr">20525 </span>    0x11/imm32/alloc-id:fake
<span id="L20526" class="LineNr">20526 </span>    $Register-esi/imm32/register
<span id="L20527" class="LineNr">20527 </span>
<span id="L20528" class="LineNr">20528 </span><span class="SpecialChar">Single-int-var-in-edi</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20529" class="LineNr">20529 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20530" class="LineNr">20530 </span>    0x11/imm32/alloc-id:fake
<span id="L20531" class="LineNr">20531 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20535'>Int-var-in-edi</a></span>/imm32
<span id="L20532" class="LineNr">20532 </span>    0/imm32/next
<span id="L20533" class="LineNr">20533 </span>    0/imm32/next
<span id="L20534" class="LineNr">20534 </span>
<span id="L20535" class="LineNr">20535 </span><span class="SpecialChar">Int-var-in-edi</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20536" class="LineNr">20536 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20537" class="LineNr">20537 </span>    0/imm32/name
<span id="L20538" class="LineNr">20538 </span>    0/imm32/name
<span id="L20539" class="LineNr">20539 </span>    0x11/imm32/alloc-id:fake
<span id="L20540" class="LineNr">20540 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20564'>Type-int</a></span>/imm32
<span id="L20541" class="LineNr">20541 </span>    1/imm32/some-block-depth
<span id="L20542" class="LineNr">20542 </span>    0/imm32/no-stack-offset
<span id="L20543" class="LineNr">20543 </span>    0x11/imm32/alloc-id:fake
<span id="L20544" class="LineNr">20544 </span>    $Register-edi/imm32/register
<span id="L20545" class="LineNr">20545 </span>
<span id="L20546" class="LineNr">20546 </span><span class="SpecialChar">Single-lit-var</span>:  <span class="subxComment"># (payload list var)</span>
<span id="L20547" class="LineNr">20547 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20548" class="LineNr">20548 </span>    0x11/imm32/alloc-id:fake
<span id="L20549" class="LineNr">20549 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20553'>Lit-var</a></span>/imm32
<span id="L20550" class="LineNr">20550 </span>    0/imm32/next
<span id="L20551" class="LineNr">20551 </span>    0/imm32/next
<span id="L20552" class="LineNr">20552 </span>
<span id="L20553" class="LineNr">20553 </span><span class="SpecialChar">Lit-var</span>:  <span class="subxComment"># (payload var)</span>
<span id="L20554" class="LineNr">20554 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20555" class="LineNr">20555 </span>    0/imm32/name
<span id="L20556" class="LineNr">20556 </span>    0/imm32/name
<span id="L20557" class="LineNr">20557 </span>    0x11/imm32/alloc-id:fake
<span id="L20558" class="LineNr">20558 </span>    <span class="SpecialChar"><a href='mu.subx.html#L20572'>Type-literal</a></span>/imm32
<span id="L20559" class="LineNr">20559 </span>    1/imm32/some-block-depth
<span id="L20560" class="LineNr">20560 </span>    0/imm32/no-stack-offset
<span id="L20561" class="LineNr">20561 </span>    0/imm32/no-register
<span id="L20562" class="LineNr">20562 </span>    0/imm32/no-register
<span id="L20563" class="LineNr">20563 </span>
<span id="L20564" class="LineNr">20564 </span><span class="SpecialChar">Type-int</span>:  <span class="subxComment"># (payload type-tree)</span>
<span id="L20565" class="LineNr">20565 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20566" class="LineNr">20566 </span>    1/imm32/is-atom
<span id="L20567" class="LineNr">20567 </span>    1/imm32/value:int
<span id="L20568" class="LineNr">20568 </span>    0/imm32/left:unused
<span id="L20569" class="LineNr">20569 </span>    0/imm32/right:null
<span id="L20570" class="LineNr">20570 </span>    0/imm32/right:null
<span id="L20571" class="LineNr">20571 </span>
<span id="L20572" class="LineNr">20572 </span><span class="SpecialChar">Type-literal</span>:  <span class="subxComment"># (payload type-tree)</span>
<span id="L20573" class="LineNr">20573 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20574" class="LineNr">20574 </span>    1/imm32/is-atom
<span id="L20575" class="LineNr">20575 </span>    0/imm32/value:literal
<span id="L20576" class="LineNr">20576 </span>    0/imm32/left:unused
<span id="L20577" class="LineNr">20577 </span>    0/imm32/right:null
<span id="L20578" class="LineNr">20578 </span>    0/imm32/right:null
<span id="L20579" class="LineNr">20579 </span>
<span id="L20580" class="LineNr">20580 </span><span class="SpecialChar">Type-addr</span>:  <span class="subxComment"># (payload type-tree)</span>
<span id="L20581" class="LineNr">20581 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20582" class="LineNr">20582 </span>    1/imm32/is-atom
<span id="L20583" class="LineNr">20583 </span>    2/imm32/value:addr
<span id="L20584" class="LineNr">20584 </span>    0/imm32/left:unused
<span id="L20585" class="LineNr">20585 </span>    0/imm32/right:null
<span id="L20586" class="LineNr">20586 </span>    0/imm32/right:null
<span id="L20587" class="LineNr">20587 </span>
<span id="L20588" class="LineNr">20588 </span><span class="SpecialChar">Type-byte</span>:  <span class="subxComment"># (payload type-tree)</span>
<span id="L20589" class="LineNr">20589 </span>    0x11/imm32/alloc-id:fake:payload
<span id="L20590" class="LineNr">20590 </span>    1/imm32/is-atom
<span id="L20591" class="LineNr">20591 </span>    8/imm32/value:byte
<span id="L20592" class="LineNr">20592 </span>    0/imm32/left:unused
<span id="L20593" class="LineNr">20593 </span>    0/imm32/right:null
<span id="L20594" class="LineNr">20594 </span>    0/imm32/right:null
<span id="L20595" class="LineNr">20595 </span>
<span id="L20596" class="LineNr">20596 </span>== code
<span id="L20597" class="LineNr">20597 </span><span class="subxFunction">emit-subx-primitive</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt), primitive: (addr primitive), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L20598" class="LineNr">20598 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20599" class="LineNr">20599 </span>    55/push-ebp
<span id="L20600" class="LineNr">20600 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20601" class="LineNr">20601 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20602" class="LineNr">20602 </span>    50/push-eax
<span id="L20603" class="LineNr">20603 </span>    51/push-ecx
<span id="L20604" class="LineNr">20604 </span>    <span class="subxComment"># ecx = primitive</span>
<span id="L20605" class="LineNr">20605 </span>    8b/-&gt; *(ebp+0x10) 1/r32/ecx
<span id="L20606" class="LineNr">20606 </span>    <span class="subxComment"># emit primitive name</span>
<span id="L20607" class="LineNr">20607 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L20608" class="LineNr">20608 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x18) *(ecx+0x1c))  <span class="subxComment"># Primitive-subx-name Primitive-subx-name =&gt; eax</span>
<span id="L20609" class="LineNr">20609 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20610" class="LineNr">20610 </span>    <span class="subxComment"># emit rm32 if necessary</span>
<span id="L20611" class="LineNr">20611 </span>    (<a href='mu.subx.html#L20630'>emit-subx-rm32</a> *(ebp+8) *(ecx+0x20) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># Primitive-subx-rm32</span>
<span id="L20612" class="LineNr">20612 </span>    <span class="subxComment"># emit r32 if necessary</span>
<span id="L20613" class="LineNr">20613 </span>    (<a href='mu.subx.html#L20704'>emit-subx-r32</a> *(ebp+8) *(ecx+0x24) *(ebp+0xc))  <span class="subxComment"># Primitive-subx-r32</span>
<span id="L20614" class="LineNr">20614 </span>    <span class="subxComment"># emit imm32 if necessary</span>
<span id="L20615" class="LineNr">20615 </span>    (<a href='mu.subx.html#L20731'>emit-subx-imm32</a> *(ebp+8) *(ecx+0x28) *(ebp+0xc))  <span class="subxComment"># Primitive-subx-imm32</span>
<span id="L20616" class="LineNr">20616 </span>    <span class="subxComment"># emit imm8 if necessary</span>
<span id="L20617" class="LineNr">20617 </span>    (<a href='mu.subx.html#L20757'>emit-subx-imm8</a> *(ebp+8) *(ecx+0x2c) *(ebp+0xc))  <span class="subxComment"># Primitive-subx-imm8</span>
<span id="L20618" class="LineNr">20618 </span>    <span class="subxComment"># emit disp32 if necessary</span>
<span id="L20619" class="LineNr">20619 </span>    (<a href='mu.subx.html#L20783'>emit-subx-disp32</a> *(ebp+8) *(ecx+0x30) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># Primitive-subx-disp32</span>
<span id="L20620" class="LineNr">20620 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L20621" class="LineNr">20621 </span><span class="Constant">$emit-subx-primitive:end</span>:
<span id="L20622" class="LineNr">20622 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20623" class="LineNr">20623 </span>    59/pop-to-ecx
<span id="L20624" class="LineNr">20624 </span>    58/pop-to-eax
<span id="L20625" class="LineNr">20625 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20626" class="LineNr">20626 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20627" class="LineNr">20627 </span>    5d/pop-to-ebp
<span id="L20628" class="LineNr">20628 </span>    c3/return
<span id="L20629" class="LineNr">20629 </span>
<span id="L20630" class="LineNr">20630 </span><span class="subxFunction">emit-subx-rm32</span>:  <span class="subxComment"># out: (addr buffered-file), l: arg-location, stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L20631" class="LineNr">20631 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20632" class="LineNr">20632 </span>    55/push-ebp
<span id="L20633" class="LineNr">20633 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20634" class="LineNr">20634 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20635" class="LineNr">20635 </span>    50/push-eax
<span id="L20636" class="LineNr">20636 </span>    <span class="subxComment"># if (l == 0) return</span>
<span id="L20637" class="LineNr">20637 </span>    81 7/subop/compare *(ebp+0xc) 0/imm32
<span id="L20638" class="LineNr">20638 </span>    74/jump-if-= $emit-subx-rm32:end/disp8
<span id="L20639" class="LineNr">20639 </span>    <span class="subxComment"># var v/eax: (addr stmt-var)</span>
<span id="L20640" class="LineNr">20640 </span>    (<a href='mu.subx.html#L20650'>get-stmt-operand-from-arg-location</a> *(ebp+0x10) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># =&gt; eax</span>
<span id="L20641" class="LineNr">20641 </span>    (<a href='mu.subx.html#L21017'>emit-subx-var-as-rm32</a> *(ebp+8) %eax)
<span id="L20642" class="LineNr">20642 </span><span class="Constant">$emit-subx-rm32:end</span>:
<span id="L20643" class="LineNr">20643 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20644" class="LineNr">20644 </span>    58/pop-to-eax
<span id="L20645" class="LineNr">20645 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20646" class="LineNr">20646 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20647" class="LineNr">20647 </span>    5d/pop-to-ebp
<span id="L20648" class="LineNr">20648 </span>    c3/return
<span id="L20649" class="LineNr">20649 </span>
<span id="L20650" class="LineNr">20650 </span><span class="subxFunction">get-stmt-operand-from-arg-location</span>:  <span class="subxComment"># stmt: (addr stmt), l: arg-location, err: (addr buffered-file), ed: (addr exit-descriptor) -&gt; var/eax: (addr stmt-var)</span>
<span id="L20651" class="LineNr">20651 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20652" class="LineNr">20652 </span>    55/push-ebp
<span id="L20653" class="LineNr">20653 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20654" class="LineNr">20654 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20655" class="LineNr">20655 </span>    51/push-ecx
<span id="L20656" class="LineNr">20656 </span>    <span class="subxComment"># eax = l</span>
<span id="L20657" class="LineNr">20657 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L20658" class="LineNr">20658 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L20659" class="LineNr">20659 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L20660" class="LineNr">20660 </span>    <span class="subxComment"># if (l == 1) return stmt-&gt;inouts</span>
<span id="L20661" class="LineNr">20661 </span>    {
<span id="L20662" class="LineNr">20662 </span>      3d/compare-eax-and 1/imm32
<span id="L20663" class="LineNr">20663 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L20664" class="LineNr">20664 </span><span class="Constant">$get-stmt-operand-from-arg-location:1</span>:
<span id="L20665" class="LineNr">20665 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L20666" class="LineNr">20666 </span>      eb/jump $get-stmt-operand-from-arg-location:end/disp8
<span id="L20667" class="LineNr">20667 </span>    }
<span id="L20668" class="LineNr">20668 </span>    <span class="subxComment"># if (l == 2) return stmt-&gt;inouts-&gt;next</span>
<span id="L20669" class="LineNr">20669 </span>    {
<span id="L20670" class="LineNr">20670 </span>      3d/compare-eax-and 2/imm32
<span id="L20671" class="LineNr">20671 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L20672" class="LineNr">20672 </span><span class="Constant">$get-stmt-operand-from-arg-location:2</span>:
<span id="L20673" class="LineNr">20673 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L20674" class="LineNr">20674 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L20675" class="LineNr">20675 </span>      eb/jump $get-stmt-operand-from-arg-location:end/disp8
<span id="L20676" class="LineNr">20676 </span>    }
<span id="L20677" class="LineNr">20677 </span>    <span class="subxComment"># if (l == 3) return stmt-&gt;outputs</span>
<span id="L20678" class="LineNr">20678 </span>    {
<span id="L20679" class="LineNr">20679 </span>      3d/compare-eax-and 3/imm32
<span id="L20680" class="LineNr">20680 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L20681" class="LineNr">20681 </span><span class="Constant">$get-stmt-operand-from-arg-location:3</span>:
<span id="L20682" class="LineNr">20682 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L20683" class="LineNr">20683 </span>      eb/jump $get-stmt-operand-from-arg-location:end/disp8
<span id="L20684" class="LineNr">20684 </span>    }
<span id="L20685" class="LineNr">20685 </span>    <span class="subxComment"># abort</span>
<span id="L20686" class="LineNr">20686 </span>    e9/jump $get-stmt-operand-from-arg-location:abort/disp32
<span id="L20687" class="LineNr">20687 </span><span class="Constant">$get-stmt-operand-from-arg-location:end</span>:
<span id="L20688" class="LineNr">20688 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20689" class="LineNr">20689 </span>    59/pop-to-ecx
<span id="L20690" class="LineNr">20690 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20691" class="LineNr">20691 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20692" class="LineNr">20692 </span>    5d/pop-to-ebp
<span id="L20693" class="LineNr">20693 </span>    c3/return
<span id="L20694" class="LineNr">20694 </span>
<span id="L20695" class="LineNr">20695 </span><span class="Constant">$get-stmt-operand-from-arg-location:abort</span>:
<span id="L20696" class="LineNr">20696 </span>    <span class="subxComment"># error(&quot;invalid arg-location &quot; eax)</span>
<span id="L20697" class="LineNr">20697 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="Constant">&quot;invalid arg-location &quot;</span>)
<span id="L20698" class="LineNr">20698 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+0x10) %eax)
<span id="L20699" class="LineNr">20699 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+0x10) <span class="SpecialChar"><a href='../102test.subx.html#L82'>Newline</a></span>)
<span id="L20700" class="LineNr">20700 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> *(ebp+0x10))
<span id="L20701" class="LineNr">20701 </span>    (<a href='../110stop.subx.html#L92'>stop</a> *(ebp+0x14) 1)
<span id="L20702" class="LineNr">20702 </span>    <span class="subxComment"># never gets here</span>
<span id="L20703" class="LineNr">20703 </span>
<span id="L20704" class="LineNr">20704 </span><span class="subxFunction">emit-subx-r32</span>:  <span class="subxComment"># out: (addr buffered-file), l: arg-location, stmt: (addr stmt)</span>
<span id="L20705" class="LineNr">20705 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20706" class="LineNr">20706 </span>    55/push-ebp
<span id="L20707" class="LineNr">20707 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20708" class="LineNr">20708 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20709" class="LineNr">20709 </span>    50/push-eax
<span id="L20710" class="LineNr">20710 </span>    51/push-ecx
<span id="L20711" class="LineNr">20711 </span>    <span class="subxComment"># if (l == 0) return</span>
<span id="L20712" class="LineNr">20712 </span>    81 7/subop/compare *(ebp+0xc) 0/imm32
<span id="L20713" class="LineNr">20713 </span>    0f 84/jump-if-= $emit-subx-r32:end/disp32
<span id="L20714" class="LineNr">20714 </span>    <span class="subxComment"># var v/eax: (addr stmt-var)</span>
<span id="L20715" class="LineNr">20715 </span>    (<a href='mu.subx.html#L20650'>get-stmt-operand-from-arg-location</a> *(ebp+0x10) *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L20716" class="LineNr">20716 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L20717" class="LineNr">20717 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+0x18) *(eax+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L20718" class="LineNr">20718 </span>    (<a href='../131table.subx.html#L1800'>maybe-get</a> <span class="SpecialChar"><a href='mu.subx.html#L10628'>Mu-registers</a></span> %eax 0xc)  <span class="subxComment"># =&gt; eax: (addr register-index)</span>
<span id="L20719" class="LineNr">20719 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L20720" class="LineNr">20720 </span>    (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *eax)
<span id="L20721" class="LineNr">20721 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/r32&quot;</span>)
<span id="L20722" class="LineNr">20722 </span><span class="Constant">$emit-subx-r32:end</span>:
<span id="L20723" class="LineNr">20723 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20724" class="LineNr">20724 </span>    59/pop-to-ecx
<span id="L20725" class="LineNr">20725 </span>    58/pop-to-eax
<span id="L20726" class="LineNr">20726 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20727" class="LineNr">20727 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20728" class="LineNr">20728 </span>    5d/pop-to-ebp
<span id="L20729" class="LineNr">20729 </span>    c3/return
<span id="L20730" class="LineNr">20730 </span>
<span id="L20731" class="LineNr">20731 </span><span class="subxFunction">emit-subx-imm32</span>:  <span class="subxComment"># out: (addr buffered-file), l: arg-location, stmt: (addr stmt)</span>
<span id="L20732" class="LineNr">20732 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20733" class="LineNr">20733 </span>    55/push-ebp
<span id="L20734" class="LineNr">20734 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20735" class="LineNr">20735 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20736" class="LineNr">20736 </span>    50/push-eax
<span id="L20737" class="LineNr">20737 </span>    51/push-ecx
<span id="L20738" class="LineNr">20738 </span>    <span class="subxComment"># if (l == 0) return</span>
<span id="L20739" class="LineNr">20739 </span>    81 7/subop/compare *(ebp+0xc) 0/imm32
<span id="L20740" class="LineNr">20740 </span>    0f 84/jump-if-= $emit-subx-imm32:end/disp32
<span id="L20741" class="LineNr">20741 </span>    <span class="subxComment"># var v/eax: (handle var)</span>
<span id="L20742" class="LineNr">20742 </span>    (<a href='mu.subx.html#L20650'>get-stmt-operand-from-arg-location</a> *(ebp+0x10) *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L20743" class="LineNr">20743 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L20744" class="LineNr">20744 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L20745" class="LineNr">20745 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L20746" class="LineNr">20746 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20747" class="LineNr">20747 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm32&quot;</span>)
<span id="L20748" class="LineNr">20748 </span><span class="Constant">$emit-subx-imm32:end</span>:
<span id="L20749" class="LineNr">20749 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20750" class="LineNr">20750 </span>    59/pop-to-ecx
<span id="L20751" class="LineNr">20751 </span>    58/pop-to-eax
<span id="L20752" class="LineNr">20752 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20753" class="LineNr">20753 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20754" class="LineNr">20754 </span>    5d/pop-to-ebp
<span id="L20755" class="LineNr">20755 </span>    c3/return
<span id="L20756" class="LineNr">20756 </span>
<span id="L20757" class="LineNr">20757 </span><span class="subxFunction">emit-subx-imm8</span>:  <span class="subxComment"># out: (addr buffered-file), l: arg-location, stmt: (addr stmt)</span>
<span id="L20758" class="LineNr">20758 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20759" class="LineNr">20759 </span>    55/push-ebp
<span id="L20760" class="LineNr">20760 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20761" class="LineNr">20761 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20762" class="LineNr">20762 </span>    50/push-eax
<span id="L20763" class="LineNr">20763 </span>    51/push-ecx
<span id="L20764" class="LineNr">20764 </span>    <span class="subxComment"># if (l == 0) return</span>
<span id="L20765" class="LineNr">20765 </span>    81 7/subop/compare *(ebp+0xc) 0/imm32
<span id="L20766" class="LineNr">20766 </span>    0f 84/jump-if-= $emit-subx-imm32:end/disp32
<span id="L20767" class="LineNr">20767 </span>    <span class="subxComment"># var v/eax: (handle var)</span>
<span id="L20768" class="LineNr">20768 </span>    (<a href='mu.subx.html#L20650'>get-stmt-operand-from-arg-location</a> *(ebp+0x10) *(ebp+0xc))  <span class="subxComment"># =&gt; eax</span>
<span id="L20769" class="LineNr">20769 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L20770" class="LineNr">20770 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L20771" class="LineNr">20771 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L20772" class="LineNr">20772 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20773" class="LineNr">20773 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/imm8&quot;</span>)
<span id="L20774" class="LineNr">20774 </span><span class="Constant">$emit-subx-imm8:end</span>:
<span id="L20775" class="LineNr">20775 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20776" class="LineNr">20776 </span>    59/pop-to-ecx
<span id="L20777" class="LineNr">20777 </span>    58/pop-to-eax
<span id="L20778" class="LineNr">20778 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20779" class="LineNr">20779 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20780" class="LineNr">20780 </span>    5d/pop-to-ebp
<span id="L20781" class="LineNr">20781 </span>    c3/return
<span id="L20782" class="LineNr">20782 </span>
<span id="L20783" class="LineNr">20783 </span><span class="subxFunction">emit-subx-disp32</span>:  <span class="subxComment"># out: (addr buffered-file), l: arg-location, stmt: (addr stmt), err: (addr buffered-file), ed: (addr exit-descriptor)</span>
<span id="L20784" class="LineNr">20784 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20785" class="LineNr">20785 </span>    55/push-ebp
<span id="L20786" class="LineNr">20786 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20787" class="LineNr">20787 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20788" class="LineNr">20788 </span>    50/push-eax
<span id="L20789" class="LineNr">20789 </span>    51/push-ecx
<span id="L20790" class="LineNr">20790 </span>    <span class="subxComment"># if (location == 0) return</span>
<span id="L20791" class="LineNr">20791 </span>    81 7/subop/compare *(ebp+0xc) 0/imm32
<span id="L20792" class="LineNr">20792 </span>    0f 84/jump-if-= $emit-subx-disp32:end/disp32
<span id="L20793" class="LineNr">20793 </span>    <span class="subxComment"># var v/eax: (addr stmt-var)</span>
<span id="L20794" class="LineNr">20794 </span>    (<a href='mu.subx.html#L20650'>get-stmt-operand-from-arg-location</a> *(ebp+0x10) *(ebp+0xc) *(ebp+0x14) *(ebp+0x18))  <span class="subxComment"># =&gt; eax</span>
<span id="L20795" class="LineNr">20795 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L20796" class="LineNr">20796 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L20797" class="LineNr">20797 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L20798" class="LineNr">20798 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20799" class="LineNr">20799 </span>    <span class="subxComment"># hack: if instruction operation starts with &quot;break&quot;, emit &quot;:break&quot;</span>
<span id="L20800" class="LineNr">20800 </span>    <span class="subxComment"># var name/ecx: (addr array byte) = lookup(stmt-&gt;operation)</span>
<span id="L20801" class="LineNr">20801 </span>    8b/-&gt; *(ebp+0x10) 0/r32/eax
<span id="L20802" class="LineNr">20802 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L20803" class="LineNr">20803 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L20804" class="LineNr">20804 </span>    {
<span id="L20805" class="LineNr">20805 </span>      (<a href='../105string-equal.subx.html#L57'>string-starts-with?</a> %ecx <span class="Constant">&quot;break&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L20806" class="LineNr">20806 </span>      3d/compare-eax-and 0/imm32/false
<span id="L20807" class="LineNr">20807 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20808" class="LineNr">20808 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:break&quot;</span>)
<span id="L20809" class="LineNr">20809 </span>    }
<span id="L20810" class="LineNr">20810 </span>    <span class="subxComment"># hack: if instruction operation starts with &quot;loop&quot;, emit &quot;:loop&quot;</span>
<span id="L20811" class="LineNr">20811 </span>    {
<span id="L20812" class="LineNr">20812 </span>      (<a href='../105string-equal.subx.html#L57'>string-starts-with?</a> %ecx <span class="Constant">&quot;loop&quot;</span>)  <span class="subxComment"># =&gt; eax</span>
<span id="L20813" class="LineNr">20813 </span>      3d/compare-eax-and 0/imm32/false
<span id="L20814" class="LineNr">20814 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20815" class="LineNr">20815 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;:loop&quot;</span>)
<span id="L20816" class="LineNr">20816 </span>    }
<span id="L20817" class="LineNr">20817 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;/disp32&quot;</span>)
<span id="L20818" class="LineNr">20818 </span><span class="Constant">$emit-subx-disp32:end</span>:
<span id="L20819" class="LineNr">20819 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20820" class="LineNr">20820 </span>    59/pop-to-ecx
<span id="L20821" class="LineNr">20821 </span>    58/pop-to-eax
<span id="L20822" class="LineNr">20822 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20823" class="LineNr">20823 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20824" class="LineNr">20824 </span>    5d/pop-to-ebp
<span id="L20825" class="LineNr">20825 </span>    c3/return
<span id="L20826" class="LineNr">20826 </span>
<span id="L20827" class="LineNr">20827 </span><span class="subxFunction">emit-call</span>:  <span class="subxComment"># out: (addr buffered-file), stmt: (addr stmt)</span>
<span id="L20828" class="LineNr">20828 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20829" class="LineNr">20829 </span>    55/push-ebp
<span id="L20830" class="LineNr">20830 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20831" class="LineNr">20831 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20832" class="LineNr">20832 </span>    50/push-eax
<span id="L20833" class="LineNr">20833 </span>    51/push-ecx
<span id="L20834" class="LineNr">20834 </span>    <span class="subxComment">#</span>
<span id="L20835" class="LineNr">20835 </span>    (<a href='mu.subx.html#L23963'>emit-indent</a> *(ebp+8) *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span>)
<span id="L20836" class="LineNr">20836 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;(&quot;</span>)
<span id="L20837" class="LineNr">20837 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L20838" class="LineNr">20838 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L20839" class="LineNr">20839 </span>    <span class="subxH1Comment"># - emit function name</span>
<span id="L20840" class="LineNr">20840 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L20841" class="LineNr">20841 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20842" class="LineNr">20842 </span>    <span class="subxH1Comment"># - emit arguments</span>
<span id="L20843" class="LineNr">20843 </span>    <span class="subxComment"># var curr/eax: (addr stmt-var) = lookup(stmt-&gt;inouts)</span>
<span id="L20844" class="LineNr">20844 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L20845" class="LineNr">20845 </span>    {
<span id="L20846" class="LineNr">20846 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L20847" class="LineNr">20847 </span>      3d/compare-eax-and 0/imm32
<span id="L20848" class="LineNr">20848 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20849" class="LineNr">20849 </span>      <span class="subxComment">#</span>
<span id="L20850" class="LineNr">20850 </span>      (<a href='mu.subx.html#L20866'>emit-subx-call-operand</a> *(ebp+8) %eax)
<span id="L20851" class="LineNr">20851 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L20852" class="LineNr">20852 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+8) *(eax+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L20853" class="LineNr">20853 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L20854" class="LineNr">20854 </span>    }
<span id="L20855" class="LineNr">20855 </span>    <span class="subxComment">#</span>
<span id="L20856" class="LineNr">20856 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)\n&quot;</span>)
<span id="L20857" class="LineNr">20857 </span><span class="Constant">$emit-call:end</span>:
<span id="L20858" class="LineNr">20858 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20859" class="LineNr">20859 </span>    59/pop-to-ecx
<span id="L20860" class="LineNr">20860 </span>    58/pop-to-eax
<span id="L20861" class="LineNr">20861 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20862" class="LineNr">20862 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20863" class="LineNr">20863 </span>    5d/pop-to-ebp
<span id="L20864" class="LineNr">20864 </span>    c3/return
<span id="L20865" class="LineNr">20865 </span>
<span id="L20866" class="LineNr">20866 </span><span class="subxFunction">emit-subx-call-operand</span>:  <span class="subxComment"># out: (addr buffered-file), s: (addr stmt-var)</span>
<span id="L20867" class="LineNr">20867 </span>    <span class="subxComment"># shares code with emit-subx-var-as-rm32</span>
<span id="L20868" class="LineNr">20868 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20869" class="LineNr">20869 </span>    55/push-ebp
<span id="L20870" class="LineNr">20870 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20871" class="LineNr">20871 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20872" class="LineNr">20872 </span>    50/push-eax
<span id="L20873" class="LineNr">20873 </span>    51/push-ecx
<span id="L20874" class="LineNr">20874 </span>    56/push-esi
<span id="L20875" class="LineNr">20875 </span>    <span class="subxComment"># ecx = s</span>
<span id="L20876" class="LineNr">20876 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L20877" class="LineNr">20877 </span>    <span class="subxComment"># var operand/esi: (addr var) = lookup(s-&gt;value)</span>
<span id="L20878" class="LineNr">20878 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L20879" class="LineNr">20879 </span>    89/&lt;- %esi 0/r32/eax
<span id="L20880" class="LineNr">20880 </span>    <span class="subxComment"># if (operand-&gt;register &amp;&amp; !s-&gt;is-deref?) emit &quot;%__&quot;</span>
<span id="L20881" class="LineNr">20881 </span>    {
<span id="L20882" class="LineNr">20882 </span><span class="Constant">$emit-subx-call-operand:check-for-register-direct</span>:
<span id="L20883" class="LineNr">20883 </span>      81 7/subop/compare *(esi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L20884" class="LineNr">20884 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20885" class="LineNr">20885 </span>      81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L20886" class="LineNr">20886 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L20887" class="LineNr">20887 </span><span class="Constant">$emit-subx-call-operand:register-direct</span>:
<span id="L20888" class="LineNr">20888 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; %&quot;</span>)
<span id="L20889" class="LineNr">20889 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x18) *(esi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L20890" class="LineNr">20890 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20891" class="LineNr">20891 </span>      e9/jump $emit-subx-call-operand:end/disp32
<span id="L20892" class="LineNr">20892 </span>    }
<span id="L20893" class="LineNr">20893 </span>    <span class="subxComment"># else if (operand-&gt;register &amp;&amp; s-&gt;is-deref?) emit &quot;*__&quot;</span>
<span id="L20894" class="LineNr">20894 </span>    {
<span id="L20895" class="LineNr">20895 </span><span class="Constant">$emit-subx-call-operand:check-for-register-indirect</span>:
<span id="L20896" class="LineNr">20896 </span>      81 7/subop/compare *(esi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L20897" class="LineNr">20897 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20898" class="LineNr">20898 </span>      81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L20899" class="LineNr">20899 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20900" class="LineNr">20900 </span><span class="Constant">$emit-subx-call-operand:register-indirect</span>:
<span id="L20901" class="LineNr">20901 </span>      (<a href='mu.subx.html#L20932'>emit-subx-call-operand-register-indirect</a> *(ebp+8) %esi)
<span id="L20902" class="LineNr">20902 </span>      e9/jump $emit-subx-call-operand:end/disp32
<span id="L20903" class="LineNr">20903 </span>    }
<span id="L20904" class="LineNr">20904 </span>    <span class="subxComment"># else if (operand-&gt;stack-offset) emit &quot;*(ebp+__)&quot;</span>
<span id="L20905" class="LineNr">20905 </span>    {
<span id="L20906" class="LineNr">20906 </span>      81 7/subop/compare *(esi+0x14) 0/imm32  <span class="subxComment"># Var-offset</span>
<span id="L20907" class="LineNr">20907 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L20908" class="LineNr">20908 </span><span class="Constant">$emit-subx-call-operand:stack</span>:
<span id="L20909" class="LineNr">20909 </span>      (<a href='mu.subx.html#L20977'>emit-subx-call-operand-stack</a> *(ebp+8) %esi)
<span id="L20910" class="LineNr">20910 </span>      e9/jump $emit-subx-call-operand:end/disp32
<span id="L20911" class="LineNr">20911 </span>    }
<span id="L20912" class="LineNr">20912 </span>    <span class="subxComment"># else if (operand-&gt;type == literal) emit &quot;__&quot;</span>
<span id="L20913" class="LineNr">20913 </span>    {
<span id="L20914" class="LineNr">20914 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+8) *(esi+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L20915" class="LineNr">20915 </span>      81 7/subop/compare *(eax+4) 0/imm32  <span class="subxComment"># Type-tree-left</span>
<span id="L20916" class="LineNr">20916 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L20917" class="LineNr">20917 </span><span class="Constant">$emit-subx-call-operand:literal</span>:
<span id="L20918" class="LineNr">20918 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L20919" class="LineNr">20919 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *esi *(esi+4))  <span class="subxComment"># Var-name Var-name =&gt; eax</span>
<span id="L20920" class="LineNr">20920 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L20921" class="LineNr">20921 </span>    }
<span id="L20922" class="LineNr">20922 </span><span class="Constant">$emit-subx-call-operand:end</span>:
<span id="L20923" class="LineNr">20923 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20924" class="LineNr">20924 </span>    5e/pop-to-esi
<span id="L20925" class="LineNr">20925 </span>    59/pop-to-ecx
<span id="L20926" class="LineNr">20926 </span>    58/pop-to-eax
<span id="L20927" class="LineNr">20927 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20928" class="LineNr">20928 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20929" class="LineNr">20929 </span>    5d/pop-to-ebp
<span id="L20930" class="LineNr">20930 </span>    c3/return
<span id="L20931" class="LineNr">20931 </span>
<span id="L20932" class="LineNr">20932 </span><span class="subxFunction">emit-subx-call-operand-register-indirect</span>:  <span class="subxComment"># out: (addr buffered-file), v: (addr var)</span>
<span id="L20933" class="LineNr">20933 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20934" class="LineNr">20934 </span>    55/push-ebp
<span id="L20935" class="LineNr">20935 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20936" class="LineNr">20936 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20937" class="LineNr">20937 </span>    50/push-eax
<span id="L20938" class="LineNr">20938 </span>    51/push-ecx
<span id="L20939" class="LineNr">20939 </span>    56/push-esi
<span id="L20940" class="LineNr">20940 </span>    <span class="subxComment"># esi = v</span>
<span id="L20941" class="LineNr">20941 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L20942" class="LineNr">20942 </span>    <span class="subxComment"># var size/ecx: int = size-of-deref(v)</span>
<span id="L20943" class="LineNr">20943 </span>    (<a href='mu.subx.html#L14336'>size-of-deref</a> %esi)  <span class="subxComment"># =&gt; eax</span>
<span id="L20944" class="LineNr">20944 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L20945" class="LineNr">20945 </span>    <span class="subxComment"># var reg-name/esi: (addr array byte) = lookup(v-&gt;register)</span>
<span id="L20946" class="LineNr">20946 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x18) *(esi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L20947" class="LineNr">20947 </span>    89/&lt;- %esi 0/r32/eax
<span id="L20948" class="LineNr">20948 </span>    <span class="subxComment"># TODO: assert size is a multiple of 4</span>
<span id="L20949" class="LineNr">20949 </span>    <span class="subxComment"># var i/eax: int = 0</span>
<span id="L20950" class="LineNr">20950 </span>    b8/copy-to-eax 0/imm32
<span id="L20951" class="LineNr">20951 </span>    {
<span id="L20952" class="LineNr">20952 </span><span class="Constant">$emit-subx-call-operand-register-indirect:loop</span>:
<span id="L20953" class="LineNr">20953 </span>      <span class="subxComment"># if (i &gt;= size) break</span>
<span id="L20954" class="LineNr">20954 </span>      39/compare %eax 1/r32/ecx
<span id="L20955" class="LineNr">20955 </span>      7d/jump-if-&gt;= <span class="Constant">break</span>/disp8
<span id="L20956" class="LineNr">20956 </span>      <span class="subxComment"># emit &quot; *(&quot; v-&gt;register &quot;+&quot; i &quot;)&quot;</span>
<span id="L20957" class="LineNr">20957 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; *(&quot;</span>)
<span id="L20958" class="LineNr">20958 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %esi)
<span id="L20959" class="LineNr">20959 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;+&quot;</span>)
<span id="L20960" class="LineNr">20960 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %eax)
<span id="L20961" class="LineNr">20961 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)&quot;</span>)
<span id="L20962" class="LineNr">20962 </span>      <span class="subxComment"># i += 4</span>
<span id="L20963" class="LineNr">20963 </span>      05/add-to-eax 4/imm32
<span id="L20964" class="LineNr">20964 </span>      <span class="subxComment">#</span>
<span id="L20965" class="LineNr">20965 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L20966" class="LineNr">20966 </span>    }
<span id="L20967" class="LineNr">20967 </span><span class="Constant">$emit-subx-call-operand-register-indirect:end</span>:
<span id="L20968" class="LineNr">20968 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L20969" class="LineNr">20969 </span>    5e/pop-to-esi
<span id="L20970" class="LineNr">20970 </span>    59/pop-to-ecx
<span id="L20971" class="LineNr">20971 </span>    58/pop-to-eax
<span id="L20972" class="LineNr">20972 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L20973" class="LineNr">20973 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L20974" class="LineNr">20974 </span>    5d/pop-to-ebp
<span id="L20975" class="LineNr">20975 </span>    c3/return
<span id="L20976" class="LineNr">20976 </span>
<span id="L20977" class="LineNr">20977 </span><span class="subxFunction">emit-subx-call-operand-stack</span>:  <span class="subxComment"># out: (addr buffered-file), v: (addr var)</span>
<span id="L20978" class="LineNr">20978 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L20979" class="LineNr">20979 </span>    55/push-ebp
<span id="L20980" class="LineNr">20980 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L20981" class="LineNr">20981 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L20982" class="LineNr">20982 </span>    50/push-eax
<span id="L20983" class="LineNr">20983 </span>    51/push-ecx
<span id="L20984" class="LineNr">20984 </span>    56/push-esi
<span id="L20985" class="LineNr">20985 </span>    <span class="subxComment"># esi = v</span>
<span id="L20986" class="LineNr">20986 </span>    8b/-&gt; *(ebp+0xc) 6/r32/esi
<span id="L20987" class="LineNr">20987 </span>    <span class="subxComment"># var curr/ecx: int = v-&gt;offset</span>
<span id="L20988" class="LineNr">20988 </span>    8b/-&gt; *(esi+0x14) 1/r32/ecx  <span class="subxComment"># Var-offset</span>
<span id="L20989" class="LineNr">20989 </span>    <span class="subxComment"># var max/eax: int = v-&gt;offset + size-of(v)</span>
<span id="L20990" class="LineNr">20990 </span>    (<a href='mu.subx.html#L14286'>size-of</a> %esi)  <span class="subxComment"># =&gt; eax</span>
<span id="L20991" class="LineNr">20991 </span>    <span class="subxComment"># TODO: assert size is a multiple of 4</span>
<span id="L20992" class="LineNr">20992 </span>    01/add-to %eax 1/r32/ecx
<span id="L20993" class="LineNr">20993 </span>    {
<span id="L20994" class="LineNr">20994 </span><span class="Constant">$emit-subx-call-operand-stack:loop</span>:
<span id="L20995" class="LineNr">20995 </span>      <span class="subxComment"># if (curr &gt;= max) break</span>
<span id="L20996" class="LineNr">20996 </span>      39/compare %ecx 0/r32/eax
<span id="L20997" class="LineNr">20997 </span>      7d/jump-if-&gt;= <span class="Constant">break</span>/disp8
<span id="L20998" class="LineNr">20998 </span>      <span class="subxComment"># emit &quot; *(ebp+&quot; curr &quot;)&quot;</span>
<span id="L20999" class="LineNr">20999 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; *(ebp+&quot;</span>)
<span id="L21000" class="LineNr">21000 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) %ecx)
<span id="L21001" class="LineNr">21001 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)&quot;</span>)
<span id="L21002" class="LineNr">21002 </span>      <span class="subxComment"># i += 4</span>
<span id="L21003" class="LineNr">21003 </span>      81 0/subop/add %ecx 4/imm32
<span id="L21004" class="LineNr">21004 </span>      <span class="subxComment">#</span>
<span id="L21005" class="LineNr">21005 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L21006" class="LineNr">21006 </span>    }
<span id="L21007" class="LineNr">21007 </span><span class="Constant">$emit-subx-call-operand-stack:end</span>:
<span id="L21008" class="LineNr">21008 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21009" class="LineNr">21009 </span>    5e/pop-to-esi
<span id="L21010" class="LineNr">21010 </span>    59/pop-to-ecx
<span id="L21011" class="LineNr">21011 </span>    58/pop-to-eax
<span id="L21012" class="LineNr">21012 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21013" class="LineNr">21013 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21014" class="LineNr">21014 </span>    5d/pop-to-ebp
<span id="L21015" class="LineNr">21015 </span>    c3/return
<span id="L21016" class="LineNr">21016 </span>
<span id="L21017" class="LineNr">21017 </span><span class="subxFunction">emit-subx-var-as-rm32</span>:  <span class="subxComment"># out: (addr buffered-file), s: (addr stmt-var)</span>
<span id="L21018" class="LineNr">21018 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21019" class="LineNr">21019 </span>    55/push-ebp
<span id="L21020" class="LineNr">21020 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21021" class="LineNr">21021 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21022" class="LineNr">21022 </span>    50/push-eax
<span id="L21023" class="LineNr">21023 </span>    51/push-ecx
<span id="L21024" class="LineNr">21024 </span>    56/push-esi
<span id="L21025" class="LineNr">21025 </span>    <span class="subxComment"># ecx = s</span>
<span id="L21026" class="LineNr">21026 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L21027" class="LineNr">21027 </span>    <span class="subxComment"># var operand/esi: (addr var) = lookup(s-&gt;value)</span>
<span id="L21028" class="LineNr">21028 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L21029" class="LineNr">21029 </span>    89/&lt;- %esi 0/r32/eax
<span id="L21030" class="LineNr">21030 </span>    <span class="subxComment"># if (operand-&gt;register &amp;&amp; s-&gt;is-deref?) emit &quot;*__&quot;</span>
<span id="L21031" class="LineNr">21031 </span>    {
<span id="L21032" class="LineNr">21032 </span><span class="Constant">$emit-subx-var-as-rm32:check-for-register-indirect</span>:
<span id="L21033" class="LineNr">21033 </span>      81 7/subop/compare *(esi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L21034" class="LineNr">21034 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21035" class="LineNr">21035 </span>      81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L21036" class="LineNr">21036 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21037" class="LineNr">21037 </span><span class="Constant">$emit-subx-var-as-rm32:register-indirect</span>:
<span id="L21038" class="LineNr">21038 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; *&quot;</span>)
<span id="L21039" class="LineNr">21039 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x18) *(esi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L21040" class="LineNr">21040 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L21041" class="LineNr">21041 </span>      e9/jump $emit-subx-var-as-rm32:end/disp32
<span id="L21042" class="LineNr">21042 </span>    }
<span id="L21043" class="LineNr">21043 </span>    <span class="subxComment"># if (operand-&gt;register &amp;&amp; !s-&gt;is-deref?) emit &quot;%__&quot;</span>
<span id="L21044" class="LineNr">21044 </span>    {
<span id="L21045" class="LineNr">21045 </span><span class="Constant">$emit-subx-var-as-rm32:check-for-register-direct</span>:
<span id="L21046" class="LineNr">21046 </span>      81 7/subop/compare *(esi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L21047" class="LineNr">21047 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21048" class="LineNr">21048 </span>      81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L21049" class="LineNr">21049 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21050" class="LineNr">21050 </span><span class="Constant">$emit-subx-var-as-rm32:register-direct</span>:
<span id="L21051" class="LineNr">21051 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot; %&quot;</span>)
<span id="L21052" class="LineNr">21052 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x18) *(esi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L21053" class="LineNr">21053 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) %eax)
<span id="L21054" class="LineNr">21054 </span>      e9/jump $emit-subx-var-as-rm32:end/disp32
<span id="L21055" class="LineNr">21055 </span>    }
<span id="L21056" class="LineNr">21056 </span>    <span class="subxComment"># else if (operand-&gt;stack-offset) emit &quot;*(ebp+__)&quot;</span>
<span id="L21057" class="LineNr">21057 </span>    {
<span id="L21058" class="LineNr">21058 </span>      81 7/subop/compare *(esi+0x14) 0/imm32  <span class="subxComment"># Var-offset</span>
<span id="L21059" class="LineNr">21059 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21060" class="LineNr">21060 </span><span class="Constant">$emit-subx-var-as-rm32:stack</span>:
<span id="L21061" class="LineNr">21061 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="SpecialChar"><a href='../102test.subx.html#L93'>Space</a></span>)
<span id="L21062" class="LineNr">21062 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;*(ebp+&quot;</span>)
<span id="L21063" class="LineNr">21063 </span>      (<a href='../117write-int-hex.subx.html#L266'>write-int32-hex-buffered</a> *(ebp+8) *(esi+0x14))  <span class="subxComment"># Var-offset</span>
<span id="L21064" class="LineNr">21064 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;)&quot;</span>)
<span id="L21065" class="LineNr">21065 </span>    }
<span id="L21066" class="LineNr">21066 </span><span class="Constant">$emit-subx-var-as-rm32:end</span>:
<span id="L21067" class="LineNr">21067 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21068" class="LineNr">21068 </span>    5e/pop-to-esi
<span id="L21069" class="LineNr">21069 </span>    59/pop-to-ecx
<span id="L21070" class="LineNr">21070 </span>    58/pop-to-eax
<span id="L21071" class="LineNr">21071 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21072" class="LineNr">21072 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21073" class="LineNr">21073 </span>    5d/pop-to-ebp
<span id="L21074" class="LineNr">21074 </span>    c3/return
<span id="L21075" class="LineNr">21075 </span>
<span id="L21076" class="LineNr">21076 </span><span class="subxFunction">find-matching-primitive</span>:  <span class="subxComment"># primitives: (addr primitive), stmt: (addr stmt) -&gt; result/eax: (addr primitive)</span>
<span id="L21077" class="LineNr">21077 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21078" class="LineNr">21078 </span>    55/push-ebp
<span id="L21079" class="LineNr">21079 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21080" class="LineNr">21080 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21081" class="LineNr">21081 </span>    51/push-ecx
<span id="L21082" class="LineNr">21082 </span>    <span class="subxComment"># var curr/ecx: (addr primitive) = primitives</span>
<span id="L21083" class="LineNr">21083 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L21084" class="LineNr">21084 </span>    {
<span id="L21085" class="LineNr">21085 </span><span class="Constant">$find-matching-primitive:loop</span>:
<span id="L21086" class="LineNr">21086 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L21087" class="LineNr">21087 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L21088" class="LineNr">21088 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21089" class="LineNr">21089 </span>      <span class="subxComment"># if match(curr, stmt) return curr</span>
<span id="L21090" class="LineNr">21090 </span>      {
<span id="L21091" class="LineNr">21091 </span>        (<a href='mu.subx.html#L21114'>mu-stmt-matches-primitive?</a> *(ebp+0xc) %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L21092" class="LineNr">21092 </span>        3d/compare-eax-and 0/imm32/false
<span id="L21093" class="LineNr">21093 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21094" class="LineNr">21094 </span>        89/&lt;- %eax 1/r32/ecx
<span id="L21095" class="LineNr">21095 </span>        eb/jump $find-matching-primitive:end/disp8
<span id="L21096" class="LineNr">21096 </span>      }
<span id="L21097" class="LineNr">21097 </span><span class="Constant">$find-matching-primitive:next-primitive</span>:
<span id="L21098" class="LineNr">21098 </span>      <span class="subxComment"># curr = curr-&gt;next</span>
<span id="L21099" class="LineNr">21099 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x38) *(ecx+0x3c))  <span class="subxComment"># Primitive-next Primitive-next =&gt; eax</span>
<span id="L21100" class="LineNr">21100 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L21101" class="LineNr">21101 </span>      <span class="subxComment">#</span>
<span id="L21102" class="LineNr">21102 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L21103" class="LineNr">21103 </span>    }
<span id="L21104" class="LineNr">21104 </span>    <span class="subxComment"># return null</span>
<span id="L21105" class="LineNr">21105 </span>    b8/copy-to-eax 0/imm32
<span id="L21106" class="LineNr">21106 </span><span class="Constant">$find-matching-primitive:end</span>:
<span id="L21107" class="LineNr">21107 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21108" class="LineNr">21108 </span>    59/pop-to-ecx
<span id="L21109" class="LineNr">21109 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21110" class="LineNr">21110 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21111" class="LineNr">21111 </span>    5d/pop-to-ebp
<span id="L21112" class="LineNr">21112 </span>    c3/return
<span id="L21113" class="LineNr">21113 </span>
<span id="L21114" class="LineNr">21114 </span><span class="subxFunction">mu-stmt-matches-primitive?</span>:  <span class="subxComment"># stmt: (addr stmt), primitive: (addr primitive) -&gt; result/eax: boolean</span>
<span id="L21115" class="LineNr">21115 </span>    <span class="subxComment"># A mu stmt matches a primitive if the name matches, all the inout vars</span>
<span id="L21116" class="LineNr">21116 </span>    <span class="subxComment"># match, and all the output vars match.</span>
<span id="L21117" class="LineNr">21117 </span>    <span class="subxComment"># Vars match if types match and registers match.</span>
<span id="L21118" class="LineNr">21118 </span>    <span class="subxComment"># In addition, a stmt output matches a primitive's output if types match</span>
<span id="L21119" class="LineNr">21119 </span>    <span class="subxComment"># and the primitive has a wildcard register.</span>
<span id="L21120" class="LineNr">21120 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21121" class="LineNr">21121 </span>    55/push-ebp
<span id="L21122" class="LineNr">21122 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21123" class="LineNr">21123 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21124" class="LineNr">21124 </span>    51/push-ecx
<span id="L21125" class="LineNr">21125 </span>    52/push-edx
<span id="L21126" class="LineNr">21126 </span>    53/push-ebx
<span id="L21127" class="LineNr">21127 </span>    56/push-esi
<span id="L21128" class="LineNr">21128 </span>    57/push-edi
<span id="L21129" class="LineNr">21129 </span>    <span class="subxComment"># ecx = stmt</span>
<span id="L21130" class="LineNr">21130 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L21131" class="LineNr">21131 </span>    <span class="subxComment"># edx = primitive</span>
<span id="L21132" class="LineNr">21132 </span>    8b/-&gt; *(ebp+0xc) 2/r32/edx
<span id="L21133" class="LineNr">21133 </span>    {
<span id="L21134" class="LineNr">21134 </span><span class="Constant">$mu-stmt-matches-primitive?:check-name</span>:
<span id="L21135" class="LineNr">21135 </span>      <span class="subxComment"># if (primitive-&gt;name != stmt-&gt;operation) return false</span>
<span id="L21136" class="LineNr">21136 </span>      <span class="subxS1Comment"># . var esi: (addr array byte) = lookup(stmt-&gt;operation)</span>
<span id="L21137" class="LineNr">21137 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+4) *(ecx+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L21138" class="LineNr">21138 </span>      89/&lt;- %esi 0/r32/eax
<span id="L21139" class="LineNr">21139 </span>      <span class="subxS1Comment"># . var edi: (addr array byte) = lookup(primitive-&gt;name)</span>
<span id="L21140" class="LineNr">21140 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *edx *(edx+4))  <span class="subxComment"># Primitive-name Primitive-name =&gt; eax</span>
<span id="L21141" class="LineNr">21141 </span>      89/&lt;- %edi 0/r32/eax
<span id="L21142" class="LineNr">21142 </span>      (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %esi %edi)  <span class="subxComment"># =&gt; eax</span>
<span id="L21143" class="LineNr">21143 </span>      3d/compare-eax-and 0/imm32/false
<span id="L21144" class="LineNr">21144 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21145" class="LineNr">21145 </span>      b8/copy-to-eax 0/imm32
<span id="L21146" class="LineNr">21146 </span>      e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21147" class="LineNr">21147 </span>    }
<span id="L21148" class="LineNr">21148 </span>    <span class="subxComment"># var curr/esi: (addr stmt-var) = lookup(stmt-&gt;inouts)</span>
<span id="L21149" class="LineNr">21149 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0xc) *(ecx+0x10))  <span class="subxComment"># Stmt1-inouts Stmt1-inouts =&gt; eax</span>
<span id="L21150" class="LineNr">21150 </span>    89/&lt;- %esi 0/r32/eax
<span id="L21151" class="LineNr">21151 </span>    <span class="subxComment"># var curr2/edi: (addr list var) = lookup(primitive-&gt;inouts)</span>
<span id="L21152" class="LineNr">21152 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+8) *(edx+0xc))  <span class="subxComment"># Primitive-inouts Primitive-inouts =&gt; eax</span>
<span id="L21153" class="LineNr">21153 </span>    89/&lt;- %edi 0/r32/eax
<span id="L21154" class="LineNr">21154 </span>    {
<span id="L21155" class="LineNr">21155 </span><span class="Constant">$mu-stmt-matches-primitive?:inouts-loop</span>:
<span id="L21156" class="LineNr">21156 </span>      <span class="subxComment"># if (curr == 0 &amp;&amp; curr2 == 0) move on to check outputs</span>
<span id="L21157" class="LineNr">21157 </span>      {
<span id="L21158" class="LineNr">21158 </span><span class="Constant">$mu-stmt-matches-primitive?:check-both-inouts-null</span>:
<span id="L21159" class="LineNr">21159 </span>        81 7/subop/compare %esi 0/imm32
<span id="L21160" class="LineNr">21160 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21161" class="LineNr">21161 </span><span class="Constant">$mu-stmt-matches-primitive?:stmt-inout-null</span>:
<span id="L21162" class="LineNr">21162 </span>        81 7/subop/compare %edi 0/imm32
<span id="L21163" class="LineNr">21163 </span>        0f 84/jump-if-= $mu-stmt-matches-primitive?:check-outputs/disp32
<span id="L21164" class="LineNr">21164 </span><span class="Constant">$mu-stmt-matches-primitive?:stmt-inout-null-and-prim-inout-not-null</span>:
<span id="L21165" class="LineNr">21165 </span>        <span class="subxComment"># return false</span>
<span id="L21166" class="LineNr">21166 </span>        b8/copy-to-eax 0/imm32/false
<span id="L21167" class="LineNr">21167 </span>        e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21168" class="LineNr">21168 </span>      }
<span id="L21169" class="LineNr">21169 </span>      <span class="subxComment"># if (curr2 == 0) return false</span>
<span id="L21170" class="LineNr">21170 </span>      {
<span id="L21171" class="LineNr">21171 </span><span class="Constant">$mu-stmt-matches-primitive?:check-prim-inout-null</span>:
<span id="L21172" class="LineNr">21172 </span>        81 7/subop/compare %edi 0/imm32
<span id="L21173" class="LineNr">21173 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21174" class="LineNr">21174 </span><span class="Constant">$mu-stmt-matches-primitive?:prim-inout-null</span>:
<span id="L21175" class="LineNr">21175 </span>        b8/copy-to-eax 0/imm32/false
<span id="L21176" class="LineNr">21176 </span>        e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21177" class="LineNr">21177 </span>      }
<span id="L21178" class="LineNr">21178 </span>      <span class="subxComment"># if (curr != curr2) return false</span>
<span id="L21179" class="LineNr">21179 </span>      {
<span id="L21180" class="LineNr">21180 </span><span class="Constant">$mu-stmt-matches-primitive?:check-inouts-match</span>:
<span id="L21181" class="LineNr">21181 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L21182" class="LineNr">21182 </span>        (<a href='mu.subx.html#L21271'>operand-matches-primitive?</a> %esi %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L21183" class="LineNr">21183 </span>        3d/compare-eax-and 0/imm32/false
<span id="L21184" class="LineNr">21184 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21185" class="LineNr">21185 </span><span class="Constant">$mu-stmt-matches-primitive?:inouts-match</span>:
<span id="L21186" class="LineNr">21186 </span>        b8/copy-to-eax 0/imm32/false
<span id="L21187" class="LineNr">21187 </span>        e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21188" class="LineNr">21188 </span>      }
<span id="L21189" class="LineNr">21189 </span><span class="Constant">$mu-stmt-matches-primitive?:next-inout</span>:
<span id="L21190" class="LineNr">21190 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L21191" class="LineNr">21191 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+8) *(esi+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L21192" class="LineNr">21192 </span>      89/&lt;- %esi 0/r32/eax
<span id="L21193" class="LineNr">21193 </span>      <span class="subxComment"># curr2 = lookup(curr2-&gt;next)</span>
<span id="L21194" class="LineNr">21194 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L21195" class="LineNr">21195 </span>      89/&lt;- %edi 0/r32/eax
<span id="L21196" class="LineNr">21196 </span>      <span class="subxComment">#</span>
<span id="L21197" class="LineNr">21197 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L21198" class="LineNr">21198 </span>    }
<span id="L21199" class="LineNr">21199 </span><span class="Constant">$mu-stmt-matches-primitive?:check-outputs</span>:
<span id="L21200" class="LineNr">21200 </span>    <span class="subxComment"># var curr/esi: (addr stmt-var) = lookup(stmt-&gt;outputs)</span>
<span id="L21201" class="LineNr">21201 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x14) *(ecx+0x18))  <span class="subxComment"># Stmt1-outputs Stmt1-outputs =&gt; eax</span>
<span id="L21202" class="LineNr">21202 </span>    89/&lt;- %esi 0/r32/eax
<span id="L21203" class="LineNr">21203 </span>    <span class="subxComment"># var curr2/edi: (addr list var) = lookup(primitive-&gt;outputs)</span>
<span id="L21204" class="LineNr">21204 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edx+0x10) *(edx+0x14))  <span class="subxComment"># Primitive-outputs Primitive-outputs =&gt; eax</span>
<span id="L21205" class="LineNr">21205 </span>    89/&lt;- %edi 0/r32/eax
<span id="L21206" class="LineNr">21206 </span>    {
<span id="L21207" class="LineNr">21207 </span><span class="Constant">$mu-stmt-matches-primitive?:outputs-loop</span>:
<span id="L21208" class="LineNr">21208 </span>      <span class="subxComment"># if (curr == 0) return (curr2 == 0)</span>
<span id="L21209" class="LineNr">21209 </span>      {
<span id="L21210" class="LineNr">21210 </span><span class="Constant">$mu-stmt-matches-primitive?:check-both-outputs-null</span>:
<span id="L21211" class="LineNr">21211 </span>        81 7/subop/compare %esi 0/imm32
<span id="L21212" class="LineNr">21212 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21213" class="LineNr">21213 </span>        {
<span id="L21214" class="LineNr">21214 </span><span class="Constant">$mu-stmt-matches-primitive?:stmt-output-null</span>:
<span id="L21215" class="LineNr">21215 </span>          81 7/subop/compare %edi 0/imm32
<span id="L21216" class="LineNr">21216 </span>          75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21217" class="LineNr">21217 </span><span class="Constant">$mu-stmt-matches-primitive?:both-outputs-null</span>:
<span id="L21218" class="LineNr">21218 </span>          <span class="subxComment"># return true</span>
<span id="L21219" class="LineNr">21219 </span>          b8/copy-to-eax 1/imm32
<span id="L21220" class="LineNr">21220 </span>          e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21221" class="LineNr">21221 </span>        }
<span id="L21222" class="LineNr">21222 </span><span class="Constant">$mu-stmt-matches-primitive?:stmt-output-null-and-prim-output-not-null</span>:
<span id="L21223" class="LineNr">21223 </span>        <span class="subxComment"># return false</span>
<span id="L21224" class="LineNr">21224 </span>        b8/copy-to-eax 0/imm32
<span id="L21225" class="LineNr">21225 </span>        e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21226" class="LineNr">21226 </span>      }
<span id="L21227" class="LineNr">21227 </span>      <span class="subxComment"># if (curr2 == 0) return false</span>
<span id="L21228" class="LineNr">21228 </span>      {
<span id="L21229" class="LineNr">21229 </span><span class="Constant">$mu-stmt-matches-primitive?:check-prim-output-null</span>:
<span id="L21230" class="LineNr">21230 </span>        81 7/subop/compare %edi 0/imm32
<span id="L21231" class="LineNr">21231 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21232" class="LineNr">21232 </span><span class="Constant">$mu-stmt-matches-primitive?:prim-output-is-null</span>:
<span id="L21233" class="LineNr">21233 </span>        b8/copy-to-eax 0/imm32
<span id="L21234" class="LineNr">21234 </span>        e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21235" class="LineNr">21235 </span>      }
<span id="L21236" class="LineNr">21236 </span>      <span class="subxComment"># if (curr != curr2) return false</span>
<span id="L21237" class="LineNr">21237 </span>      {
<span id="L21238" class="LineNr">21238 </span><span class="Constant">$mu-stmt-matches-primitive?:check-outputs-match</span>:
<span id="L21239" class="LineNr">21239 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *edi *(edi+4))  <span class="subxComment"># List-value List-value =&gt; eax</span>
<span id="L21240" class="LineNr">21240 </span>        (<a href='mu.subx.html#L21271'>operand-matches-primitive?</a> %esi %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L21241" class="LineNr">21241 </span>        3d/compare-eax-and 0/imm32/false
<span id="L21242" class="LineNr">21242 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21243" class="LineNr">21243 </span><span class="Constant">$mu-stmt-matches-primitive?:outputs-match</span>:
<span id="L21244" class="LineNr">21244 </span>        b8/copy-to-eax 0/imm32
<span id="L21245" class="LineNr">21245 </span>        e9/jump $mu-stmt-matches-primitive?:end/disp32
<span id="L21246" class="LineNr">21246 </span>      }
<span id="L21247" class="LineNr">21247 </span><span class="Constant">$mu-stmt-matches-primitive?:next-output</span>:
<span id="L21248" class="LineNr">21248 </span>      <span class="subxComment"># curr = lookup(curr-&gt;next)</span>
<span id="L21249" class="LineNr">21249 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+8) *(esi+0xc))  <span class="subxComment"># Stmt-var-next Stmt-var-next =&gt; eax</span>
<span id="L21250" class="LineNr">21250 </span>      89/&lt;- %esi 0/r32/eax
<span id="L21251" class="LineNr">21251 </span>      <span class="subxComment"># curr2 = lookup(curr2-&gt;next)</span>
<span id="L21252" class="LineNr">21252 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># List-next List-next =&gt; eax</span>
<span id="L21253" class="LineNr">21253 </span>      89/&lt;- %edi 0/r32/eax
<span id="L21254" class="LineNr">21254 </span>      <span class="subxComment">#</span>
<span id="L21255" class="LineNr">21255 </span>      e9/jump <span class="Constant">loop</span>/disp32
<span id="L21256" class="LineNr">21256 </span>    }
<span id="L21257" class="LineNr">21257 </span><span class="Constant">$mu-stmt-matches-primitive?:return-true</span>:
<span id="L21258" class="LineNr">21258 </span>    b8/copy-to-eax 1/imm32
<span id="L21259" class="LineNr">21259 </span><span class="Constant">$mu-stmt-matches-primitive?:end</span>:
<span id="L21260" class="LineNr">21260 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21261" class="LineNr">21261 </span>    5f/pop-to-edi
<span id="L21262" class="LineNr">21262 </span>    5e/pop-to-esi
<span id="L21263" class="LineNr">21263 </span>    5b/pop-to-ebx
<span id="L21264" class="LineNr">21264 </span>    5a/pop-to-edx
<span id="L21265" class="LineNr">21265 </span>    59/pop-to-ecx
<span id="L21266" class="LineNr">21266 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21267" class="LineNr">21267 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21268" class="LineNr">21268 </span>    5d/pop-to-ebp
<span id="L21269" class="LineNr">21269 </span>    c3/return
<span id="L21270" class="LineNr">21270 </span>
<span id="L21271" class="LineNr">21271 </span><span class="subxFunction">operand-matches-primitive?</span>:  <span class="subxComment"># s: (addr stmt-var), prim-var: (addr var) -&gt; result/eax: boolean</span>
<span id="L21272" class="LineNr">21272 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21273" class="LineNr">21273 </span>    55/push-ebp
<span id="L21274" class="LineNr">21274 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21275" class="LineNr">21275 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21276" class="LineNr">21276 </span>    51/push-ecx
<span id="L21277" class="LineNr">21277 </span>    52/push-edx
<span id="L21278" class="LineNr">21278 </span>    53/push-ebx
<span id="L21279" class="LineNr">21279 </span>    56/push-esi
<span id="L21280" class="LineNr">21280 </span>    57/push-edi
<span id="L21281" class="LineNr">21281 </span>    <span class="subxComment"># ecx = s</span>
<span id="L21282" class="LineNr">21282 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L21283" class="LineNr">21283 </span>    <span class="subxComment"># var var/esi: (addr var) = lookup(s-&gt;value)</span>
<span id="L21284" class="LineNr">21284 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *ecx *(ecx+4))  <span class="subxComment"># Stmt-var-value Stmt-var-value =&gt; eax</span>
<span id="L21285" class="LineNr">21285 </span>    89/&lt;- %esi 0/r32/eax
<span id="L21286" class="LineNr">21286 </span>    <span class="subxComment"># edi = prim-var</span>
<span id="L21287" class="LineNr">21287 </span>    8b/-&gt; *(ebp+0xc) 7/r32/edi
<span id="L21288" class="LineNr">21288 </span><span class="Constant">$operand-matches-primitive?:check-type</span>:
<span id="L21289" class="LineNr">21289 </span>    <span class="subxComment"># if !category-match?(var-&gt;type, prim-var-&gt;type) return false</span>
<span id="L21290" class="LineNr">21290 </span>    <span class="subxS1Comment"># . var vtype/ebx: (addr type-tree) = lookup(var-&gt;type)</span>
<span id="L21291" class="LineNr">21291 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+8) *(esi+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L21292" class="LineNr">21292 </span>    89/&lt;- %ebx 0/r32/eax
<span id="L21293" class="LineNr">21293 </span>    <span class="subxS1Comment"># . var ptype/eax: (addr type-tree) = lookup(prim-var-&gt;type)</span>
<span id="L21294" class="LineNr">21294 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+8) *(edi+0xc))  <span class="subxComment"># Var-type Var-type =&gt; eax</span>
<span id="L21295" class="LineNr">21295 </span>    (<a href='mu.subx.html#L21432'>subx-type-category-match?</a> %ebx %eax)  <span class="subxComment"># =&gt; eax</span>
<span id="L21296" class="LineNr">21296 </span>    3d/compare-eax-and 0/imm32/false
<span id="L21297" class="LineNr">21297 </span>    0f 84/jump-if-= $operand-matches-primitive?:return-false/disp32
<span id="L21298" class="LineNr">21298 </span>    {
<span id="L21299" class="LineNr">21299 </span><span class="Constant">$operand-matches-primitive?:check-register</span>:
<span id="L21300" class="LineNr">21300 </span>      <span class="subxComment"># if prim-var is in memory and var is in register but dereference, match</span>
<span id="L21301" class="LineNr">21301 </span>      {
<span id="L21302" class="LineNr">21302 </span>        81 7/subop/compare *(edi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L21303" class="LineNr">21303 </span>        0f 85/jump-if-!= <span class="Constant">break</span>/disp32
<span id="L21304" class="LineNr">21304 </span>        81 7/subop/compare *(esi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L21305" class="LineNr">21305 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21306" class="LineNr">21306 </span>        81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L21307" class="LineNr">21307 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21308" class="LineNr">21308 </span><span class="Constant">$operand-matches-primitive?:var-deref-match</span>:
<span id="L21309" class="LineNr">21309 </span>        e9/jump $operand-matches-primitive?:return-true/disp32
<span id="L21310" class="LineNr">21310 </span>      }
<span id="L21311" class="LineNr">21311 </span>      <span class="subxComment"># if prim-var is in register and var is in register but dereference, no match</span>
<span id="L21312" class="LineNr">21312 </span>      {
<span id="L21313" class="LineNr">21313 </span>        81 7/subop/compare *(edi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L21314" class="LineNr">21314 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L21315" class="LineNr">21315 </span>        81 7/subop/compare *(esi+0x18) 0/imm32  <span class="subxComment"># Var-register</span>
<span id="L21316" class="LineNr">21316 </span>        0f 84/jump-if-= <span class="Constant">break</span>/disp32
<span id="L21317" class="LineNr">21317 </span>        81 7/subop/compare *(ecx+0x10) 0/imm32/false  <span class="subxComment"># Stmt-var-is-deref</span>
<span id="L21318" class="LineNr">21318 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21319" class="LineNr">21319 </span><span class="Constant">$operand-matches-primitive?:var-deref-no-match</span>:
<span id="L21320" class="LineNr">21320 </span>        e9/jump $operand-matches-primitive?:return-false/disp32
<span id="L21321" class="LineNr">21321 </span>      }
<span id="L21322" class="LineNr">21322 </span>      <span class="subxComment"># return false if var-&gt;register doesn't match prim-var-&gt;register</span>
<span id="L21323" class="LineNr">21323 </span>      {
<span id="L21324" class="LineNr">21324 </span>        <span class="subxComment"># if register addresses are equal, it's a match</span>
<span id="L21325" class="LineNr">21325 </span>        <span class="subxComment"># var vreg/ebx: (addr array byte) = lookup(var-&gt;register)</span>
<span id="L21326" class="LineNr">21326 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(esi+0x18) *(esi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L21327" class="LineNr">21327 </span>        89/&lt;- %ebx 0/r32/eax
<span id="L21328" class="LineNr">21328 </span>        <span class="subxComment"># var preg/ecx: (addr array byte) = lookup(prim-var-&gt;register)</span>
<span id="L21329" class="LineNr">21329 </span>        (<a href='../120allocate.subx.html#L256'>lookup</a> *(edi+0x18) *(edi+0x1c))  <span class="subxComment"># Var-register Var-register =&gt; eax</span>
<span id="L21330" class="LineNr">21330 </span>        89/&lt;- %ecx 0/r32/eax
<span id="L21331" class="LineNr">21331 </span>        <span class="subxComment"># if (vreg == preg) break</span>
<span id="L21332" class="LineNr">21332 </span>        39/compare %ecx 3/r32/ebx
<span id="L21333" class="LineNr">21333 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21334" class="LineNr">21334 </span><span class="Constant">$operand-matches-primitive?:var-register-no-match</span>:
<span id="L21335" class="LineNr">21335 </span>        <span class="subxComment"># if either address is 0, return false</span>
<span id="L21336" class="LineNr">21336 </span>        81 7/subop/compare %ebx 0/imm32
<span id="L21337" class="LineNr">21337 </span>        74/jump-if-=  $operand-matches-primitive?:return-false/disp8
<span id="L21338" class="LineNr">21338 </span>        81 7/subop/compare %ecx 0/imm32
<span id="L21339" class="LineNr">21339 </span>        74/jump-if-=  $operand-matches-primitive?:return-false/disp8
<span id="L21340" class="LineNr">21340 </span>        <span class="subxComment"># if prim-var-&gt;register is wildcard, it's a match</span>
<span id="L21341" class="LineNr">21341 </span>        (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx <span class="Constant">&quot;*&quot;</span>)  <span class="subxComment"># Any-register =&gt; eax</span>
<span id="L21342" class="LineNr">21342 </span>        3d/compare-eax-and 0/imm32/false
<span id="L21343" class="LineNr">21343 </span>        75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21344" class="LineNr">21344 </span><span class="Constant">$operand-matches-primitive?:wildcard-no-match</span>:
<span id="L21345" class="LineNr">21345 </span>        <span class="subxComment"># if string contents aren't equal, return false</span>
<span id="L21346" class="LineNr">21346 </span>        (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %ecx %ebx)  <span class="subxComment"># =&gt; eax</span>
<span id="L21347" class="LineNr">21347 </span>        3d/compare-eax-and 0/imm32/false
<span id="L21348" class="LineNr">21348 </span>        74/jump-if-= $operand-matches-primitive?:return-false/disp8
<span id="L21349" class="LineNr">21349 </span>      }
<span id="L21350" class="LineNr">21350 </span>    }
<span id="L21351" class="LineNr">21351 </span><span class="Constant">$operand-matches-primitive?:return-true</span>:
<span id="L21352" class="LineNr">21352 </span>    b8/copy-to-eax 1/imm32/true
<span id="L21353" class="LineNr">21353 </span>    eb/jump $operand-matches-primitive?:end/disp8
<span id="L21354" class="LineNr">21354 </span><span class="Constant">$operand-matches-primitive?:return-false</span>:
<span id="L21355" class="LineNr">21355 </span>    b8/copy-to-eax 0/imm32/false
<span id="L21356" class="LineNr">21356 </span><span class="Constant">$operand-matches-primitive?:end</span>:
<span id="L21357" class="LineNr">21357 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21358" class="LineNr">21358 </span>    5f/pop-to-edi
<span id="L21359" class="LineNr">21359 </span>    5e/pop-to-esi
<span id="L21360" class="LineNr">21360 </span>    5b/pop-to-ebx
<span id="L21361" class="LineNr">21361 </span>    5a/pop-to-edx
<span id="L21362" class="LineNr">21362 </span>    59/pop-to-ecx
<span id="L21363" class="LineNr">21363 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21364" class="LineNr">21364 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21365" class="LineNr">21365 </span>    5d/pop-to-ebp
<span id="L21366" class="LineNr">21366 </span>    c3/return
<span id="L21367" class="LineNr">21367 </span>
<span id="L21368" class="LineNr">21368 </span><span class="subxFunction">find-matching-function</span>:  <span class="subxComment"># functions: (addr function), stmt: (addr stmt) -&gt; result/eax: (addr function)</span>
<span id="L21369" class="LineNr">21369 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21370" class="LineNr">21370 </span>    55/push-ebp
<span id="L21371" class="LineNr">21371 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21372" class="LineNr">21372 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21373" class="LineNr">21373 </span>    51/push-ecx
<span id="L21374" class="LineNr">21374 </span>    <span class="subxComment"># var curr/ecx: (handle function) = functions</span>
<span id="L21375" class="LineNr">21375 </span>    8b/-&gt; *(ebp+8) 1/r32/ecx
<span id="L21376" class="LineNr">21376 </span>    {
<span id="L21377" class="LineNr">21377 </span>      <span class="subxComment"># if (curr == null) break</span>
<span id="L21378" class="LineNr">21378 </span>      81 7/subop/compare %ecx 0/imm32
<span id="L21379" class="LineNr">21379 </span>      74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21380" class="LineNr">21380 </span><span class="CommentedCode">#?       (write-buffered Stderr &quot;iter\n&quot;)</span>
<span id="L21381" class="LineNr">21381 </span><span class="CommentedCode">#?       (flush Stderr)</span>
<span id="L21382" class="LineNr">21382 </span>      <span class="subxComment"># if match(stmt, curr) return curr</span>
<span id="L21383" class="LineNr">21383 </span>      {
<span id="L21384" class="LineNr">21384 </span>        (<a href='mu.subx.html#L21407'>mu-stmt-matches-function?</a> *(ebp+0xc) %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L21385" class="LineNr">21385 </span>        3d/compare-eax-and 0/imm32/false
<span id="L21386" class="LineNr">21386 </span>        74/jump-if-= <span class="Constant">break</span>/disp8
<span id="L21387" class="LineNr">21387 </span>        89/&lt;- %eax 1/r32/ecx
<span id="L21388" class="LineNr">21388 </span>        eb/jump $find-matching-function:end/disp8
<span id="L21389" class="LineNr">21389 </span>      }
<span id="L21390" class="LineNr">21390 </span>      <span class="subxComment"># curr = curr-&gt;next</span>
<span id="L21391" class="LineNr">21391 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(ecx+0x20) *(ecx+0x24))  <span class="subxComment"># Function-next Function-next =&gt; eax</span>
<span id="L21392" class="LineNr">21392 </span>      89/&lt;- %ecx 0/r32/eax
<span id="L21393" class="LineNr">21393 </span>      <span class="subxComment">#</span>
<span id="L21394" class="LineNr">21394 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L21395" class="LineNr">21395 </span>    }
<span id="L21396" class="LineNr">21396 </span>    <span class="subxComment"># return null</span>
<span id="L21397" class="LineNr">21397 </span>    b8/copy-to-eax 0/imm32
<span id="L21398" class="LineNr">21398 </span><span class="Constant">$find-matching-function:end</span>:
<span id="L21399" class="LineNr">21399 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21400" class="LineNr">21400 </span>    59/pop-to-ecx
<span id="L21401" class="LineNr">21401 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21402" class="LineNr">21402 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21403" class="LineNr">21403 </span>    5d/pop-to-ebp
<span id="L21404" class="LineNr">21404 </span>    c3/return
<span id="L21405" class="LineNr">21405 </span>
<span id="L21406" class="LineNr">21406 </span><span class="subxComment"># Just compare names; user-defined functions don't support overloading yet.</span>
<span id="L21407" class="LineNr">21407 </span><span class="subxFunction">mu-stmt-matches-function?</span>:  <span class="subxComment"># stmt: (addr stmt1), function: (addr function) -&gt; result/eax: boolean</span>
<span id="L21408" class="LineNr">21408 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21409" class="LineNr">21409 </span>    55/push-ebp
<span id="L21410" class="LineNr">21410 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21411" class="LineNr">21411 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21412" class="LineNr">21412 </span>    51/push-ecx
<span id="L21413" class="LineNr">21413 </span>    <span class="subxComment"># return function-&gt;name == stmt-&gt;operation</span>
<span id="L21414" class="LineNr">21414 </span>    <span class="subxComment"># ecx = lookup(stmt-&gt;operation)</span>
<span id="L21415" class="LineNr">21415 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L21416" class="LineNr">21416 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Stmt1-operation Stmt1-operation =&gt; eax</span>
<span id="L21417" class="LineNr">21417 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L21418" class="LineNr">21418 </span>    <span class="subxComment"># eax = lookup(function-&gt;name)</span>
<span id="L21419" class="LineNr">21419 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L21420" class="LineNr">21420 </span>    (<a href='../120allocate.subx.html#L256'>lookup</a> *eax *(eax+4))  <span class="subxComment"># Function-name Function-name =&gt; eax</span>
<span id="L21421" class="LineNr">21421 </span>    (<a href='../105string-equal.subx.html#L15'>string-equal?</a> %eax %ecx)  <span class="subxComment"># =&gt; eax</span>
<span id="L21422" class="LineNr">21422 </span><span class="Constant">$mu-stmt-matches-function?:end</span>:
<span id="L21423" class="LineNr">21423 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21424" class="LineNr">21424 </span>    59/pop-to-ecx
<span id="L21425" class="LineNr">21425 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21426" class="LineNr">21426 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21427" class="LineNr">21427 </span>    5d/pop-to-ebp
<span id="L21428" class="LineNr">21428 </span>    c3/return
<span id="L21429" class="LineNr">21429 </span>
<span id="L21430" class="LineNr">21430 </span><span class="subxComment"># Type-checking happens elsewhere. This method is for selecting between</span>
<span id="L21431" class="LineNr">21431 </span><span class="subxComment"># primitives.</span>
<span id="L21432" class="LineNr">21432 </span><span class="subxFunction">subx-type-category-match?</span>:  <span class="subxComment"># a: (addr type-tree), b: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L21433" class="LineNr">21433 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21434" class="LineNr">21434 </span>    55/push-ebp
<span id="L21435" class="LineNr">21435 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21436" class="LineNr">21436 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21437" class="LineNr">21437 </span>    51/push-ecx
<span id="L21438" class="LineNr">21438 </span>    <span class="subxComment"># var alit/ecx: boolean = is-literal-type?(a)</span>
<span id="L21439" class="LineNr">21439 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> *(ebp+8) 0)  <span class="subxComment"># =&gt; eax</span>
<span id="L21440" class="LineNr">21440 </span>    89/&lt;- %ecx 0/r32/eax
<span id="L21441" class="LineNr">21441 </span>    <span class="subxComment"># var blit/eax: boolean = is-literal-type?(b)</span>
<span id="L21442" class="LineNr">21442 </span>    (<a href='mu.subx.html#L21455'>is-simple-mu-type?</a> *(ebp+0xc) 0)  <span class="subxComment"># =&gt; eax</span>
<span id="L21443" class="LineNr">21443 </span>    <span class="subxComment"># return alit == blit</span>
<span id="L21444" class="LineNr">21444 </span>    39/compare %eax 1/r32/ecx
<span id="L21445" class="LineNr">21445 </span>    0f 94/set-byte-if-= %al
<span id="L21446" class="LineNr">21446 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L21447" class="LineNr">21447 </span><span class="Constant">$subx-type-category-match?:end</span>:
<span id="L21448" class="LineNr">21448 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21449" class="LineNr">21449 </span>    59/pop-to-ecx
<span id="L21450" class="LineNr">21450 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21451" class="LineNr">21451 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21452" class="LineNr">21452 </span>    5d/pop-to-ebp
<span id="L21453" class="LineNr">21453 </span>    c3/return
<span id="L21454" class="LineNr">21454 </span>
<span id="L21455" class="LineNr">21455 </span><span class="subxFunction">is-simple-mu-type?</span>:  <span class="subxComment"># a: (addr type-tree), n: type-id -&gt; result/eax: boolean</span>
<span id="L21456" class="LineNr">21456 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21457" class="LineNr">21457 </span>    55/push-ebp
<span id="L21458" class="LineNr">21458 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21459" class="LineNr">21459 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L21460" class="LineNr">21460 </span>    51/push-ecx
<span id="L21461" class="LineNr">21461 </span>    <span class="subxComment"># ecx = n</span>
<span id="L21462" class="LineNr">21462 </span>    8b/-&gt; *(ebp+0xc) 1/r32/ecx
<span id="L21463" class="LineNr">21463 </span>    <span class="subxComment"># return (a-&gt;value == n)</span>
<span id="L21464" class="LineNr">21464 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L21465" class="LineNr">21465 </span>    39/compare *(eax+4) 1/r32/ecx  <span class="subxComment"># Type-tree-value</span>
<span id="L21466" class="LineNr">21466 </span>    0f 94/set-byte-if-= %al
<span id="L21467" class="LineNr">21467 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L21468" class="LineNr">21468 </span><span class="Constant">$is-simple-mu-type?:end</span>:
<span id="L21469" class="LineNr">21469 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L21470" class="LineNr">21470 </span>    59/pop-to-ecx
<span id="L21471" class="LineNr">21471 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21472" class="LineNr">21472 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21473" class="LineNr">21473 </span>    5d/pop-to-ebp
<span id="L21474" class="LineNr">21474 </span>    c3/return
<span id="L21475" class="LineNr">21475 </span>
<span id="L21476" class="LineNr">21476 </span><span class="subxFunction">is-mu-addr-type?</span>:  <span class="subxComment"># a: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L21477" class="LineNr">21477 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21478" class="LineNr">21478 </span>    55/push-ebp
<span id="L21479" class="LineNr">21479 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21480" class="LineNr">21480 </span>    <span class="subxComment"># eax = a</span>
<span id="L21481" class="LineNr">21481 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L21482" class="LineNr">21482 </span>    <span class="subxComment"># if (!a-&gt;is-atom?) a = a-&gt;left</span>
<span id="L21483" class="LineNr">21483 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L21484" class="LineNr">21484 </span>    {
<span id="L21485" class="LineNr">21485 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21486" class="LineNr">21486 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L21487" class="LineNr">21487 </span>    }
<span id="L21488" class="LineNr">21488 </span>    <span class="subxComment"># return (a-&gt;value == addr)</span>
<span id="L21489" class="LineNr">21489 </span>    81 7/subop/compare *(eax+4) 2/imm32/addr  <span class="subxComment"># Type-tree-value</span>
<span id="L21490" class="LineNr">21490 </span>    0f 94/set-byte-if-= %al
<span id="L21491" class="LineNr">21491 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L21492" class="LineNr">21492 </span><span class="Constant">$is-mu-addr-type?:end</span>:
<span id="L21493" class="LineNr">21493 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21494" class="LineNr">21494 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21495" class="LineNr">21495 </span>    5d/pop-to-ebp
<span id="L21496" class="LineNr">21496 </span>    c3/return
<span id="L21497" class="LineNr">21497 </span>
<span id="L21498" class="LineNr">21498 </span><span class="subxFunction">is-mu-array-type?</span>:  <span class="subxComment"># a: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L21499" class="LineNr">21499 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21500" class="LineNr">21500 </span>    55/push-ebp
<span id="L21501" class="LineNr">21501 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21502" class="LineNr">21502 </span>    <span class="subxComment"># eax = a</span>
<span id="L21503" class="LineNr">21503 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L21504" class="LineNr">21504 </span>    <span class="subxComment"># if (!a-&gt;is-atom?) a = a-&gt;left</span>
<span id="L21505" class="LineNr">21505 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L21506" class="LineNr">21506 </span>    {
<span id="L21507" class="LineNr">21507 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21508" class="LineNr">21508 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L21509" class="LineNr">21509 </span>    }
<span id="L21510" class="LineNr">21510 </span>    <span class="subxComment"># return (a-&gt;value == array)</span>
<span id="L21511" class="LineNr">21511 </span>    81 7/subop/compare *(eax+4) 3/imm32/array  <span class="subxComment"># Type-tree-value</span>
<span id="L21512" class="LineNr">21512 </span>    0f 94/set-byte-if-= %al
<span id="L21513" class="LineNr">21513 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L21514" class="LineNr">21514 </span><span class="Constant">$is-mu-array-type?:end</span>:
<span id="L21515" class="LineNr">21515 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21516" class="LineNr">21516 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21517" class="LineNr">21517 </span>    5d/pop-to-ebp
<span id="L21518" class="LineNr">21518 </span>    c3/return
<span id="L21519" class="LineNr">21519 </span>
<span id="L21520" class="LineNr">21520 </span><span class="subxFunction">is-mu-stream-type?</span>:  <span class="subxComment"># a: (addr type-tree) -&gt; result/eax: boolean</span>
<span id="L21521" class="LineNr">21521 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21522" class="LineNr">21522 </span>    55/push-ebp
<span id="L21523" class="LineNr">21523 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21524" class="LineNr">21524 </span>    <span class="subxComment"># eax = a</span>
<span id="L21525" class="LineNr">21525 </span>    8b/-&gt; *(ebp+8) 0/r32/eax
<span id="L21526" class="LineNr">21526 </span>    <span class="subxComment"># if (!a-&gt;is-atom?) a = a-&gt;left</span>
<span id="L21527" class="LineNr">21527 </span>    81 7/subop/compare *eax 0/imm32/false  <span class="subxComment"># Type-tree-is-atom</span>
<span id="L21528" class="LineNr">21528 </span>    {
<span id="L21529" class="LineNr">21529 </span>      75/jump-if-!= <span class="Constant">break</span>/disp8
<span id="L21530" class="LineNr">21530 </span>      (<a href='../120allocate.subx.html#L256'>lookup</a> *(eax+4) *(eax+8))  <span class="subxComment"># Type-tree-left Type-tree-left =&gt; eax</span>
<span id="L21531" class="LineNr">21531 </span>    }
<span id="L21532" class="LineNr">21532 </span>    <span class="subxComment"># return (a-&gt;value == stream)</span>
<span id="L21533" class="LineNr">21533 </span>    81 7/subop/compare *(eax+4) 0xb/imm32/stream  <span class="subxComment"># Type-tree-value</span>
<span id="L21534" class="LineNr">21534 </span>    0f 94/set-byte-if-= %al
<span id="L21535" class="LineNr">21535 </span>    81 4/subop/and %eax 0xff/imm32
<span id="L21536" class="LineNr">21536 </span><span class="Constant">$is-mu-stream-type?:end</span>:
<span id="L21537" class="LineNr">21537 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21538" class="LineNr">21538 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21539" class="LineNr">21539 </span>    5d/pop-to-ebp
<span id="L21540" class="LineNr">21540 </span>    c3/return
<span id="L21541" class="LineNr">21541 </span>
<span id="L21542" class="LineNr">21542 </span><span class="subxTest">test-emit-subx-stmt-primitive</span>:
<span id="L21543" class="LineNr">21543 </span>    <span class="subxComment"># Primitive operation on a variable on the stack.</span>
<span id="L21544" class="LineNr">21544 </span>    <span class="subxComment">#   increment foo</span>
<span id="L21545" class="LineNr">21545 </span>    <span class="subxComment"># =&gt;</span>
<span id="L21546" class="LineNr">21546 </span>    <span class="subxComment">#   ff 0/subop/increment *(ebp-8)</span>
<span id="L21547" class="LineNr">21547 </span>    <span class="subxComment">#</span>
<span id="L21548" class="LineNr">21548 </span>    <span class="subxComment"># There's a variable on the var stack as follows:</span>
<span id="L21549" class="LineNr">21549 </span>    <span class="subxComment">#   name: 'foo'</span>
<span id="L21550" class="LineNr">21550 </span>    <span class="subxComment">#   type: int</span>
<span id="L21551" class="LineNr">21551 </span>    <span class="subxComment">#   stack-offset: -8</span>
<span id="L21552" class="LineNr">21552 </span>    <span class="subxComment">#</span>
<span id="L21553" class="LineNr">21553 </span>    <span class="subxComment"># There's a primitive with this info:</span>
<span id="L21554" class="LineNr">21554 </span>    <span class="subxComment">#   name: 'increment'</span>
<span id="L21555" class="LineNr">21555 </span>    <span class="subxComment">#   inouts: int/mem</span>
<span id="L21556" class="LineNr">21556 </span>    <span class="subxComment">#   value: 'ff 0/subop/increment'</span>
<span id="L21557" class="LineNr">21557 </span>    <span class="subxComment">#</span>
<span id="L21558" class="LineNr">21558 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21559" class="LineNr">21559 </span>    55/push-ebp
<span id="L21560" class="LineNr">21560 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21561" class="LineNr">21561 </span>    <span class="subxComment"># setup</span>
<span id="L21562" class="LineNr">21562 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L21563" class="LineNr">21563 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L21564" class="LineNr">21564 </span>    <span class="subxComment"># simulate allocated payloads starting with an initial fake alloc-id (0x11)</span>
<span id="L21565" class="LineNr">21565 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-type</span>:
<span id="L21566" class="LineNr">21566 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L21567" class="LineNr">21567 </span>    68/push 0/imm32/right:null
<span id="L21568" class="LineNr">21568 </span>    68/push 0/imm32/right:null
<span id="L21569" class="LineNr">21569 </span>    68/push 0/imm32/left:unused
<span id="L21570" class="LineNr">21570 </span>    68/push 1/imm32/value:int
<span id="L21571" class="LineNr">21571 </span>    68/push 1/imm32/is-atom?:true
<span id="L21572" class="LineNr">21572 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21573" class="LineNr">21573 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L21574" class="LineNr">21574 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-var</span>:
<span id="L21575" class="LineNr">21575 </span>    <span class="subxComment"># var var-foo/ecx: (payload var) = var(type)</span>
<span id="L21576" class="LineNr">21576 </span>    68/push 0/imm32/no-register
<span id="L21577" class="LineNr">21577 </span>    68/push 0/imm32/no-register
<span id="L21578" class="LineNr">21578 </span>    68/push -8/imm32/stack-offset
<span id="L21579" class="LineNr">21579 </span>    68/push 1/imm32/block-depth
<span id="L21580" class="LineNr">21580 </span>    51/push-ecx/type
<span id="L21581" class="LineNr">21581 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21582" class="LineNr">21582 </span>    68/push 0/imm32/name
<span id="L21583" class="LineNr">21583 </span>    68/push 0/imm32/name
<span id="L21584" class="LineNr">21584 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21585" class="LineNr">21585 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L21586" class="LineNr">21586 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-var-name</span>:
<span id="L21587" class="LineNr">21587 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;foo&quot;</span>
<span id="L21588" class="LineNr">21588 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L21589" class="LineNr">21589 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;foo&quot;</span> %eax)
<span id="L21590" class="LineNr">21590 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-stmt-var</span>:
<span id="L21591" class="LineNr">21591 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var) = stmt-var(var-foo)</span>
<span id="L21592" class="LineNr">21592 </span>    68/push 0/imm32/is-deref:false
<span id="L21593" class="LineNr">21593 </span>    68/push 0/imm32/next
<span id="L21594" class="LineNr">21594 </span>    68/push 0/imm32/next
<span id="L21595" class="LineNr">21595 </span>    51/push-ecx/var-foo
<span id="L21596" class="LineNr">21596 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21597" class="LineNr">21597 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21598" class="LineNr">21598 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21599" class="LineNr">21599 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-stmt</span>:
<span id="L21600" class="LineNr">21600 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L21601" class="LineNr">21601 </span>    68/push 0/imm32/no-outputs
<span id="L21602" class="LineNr">21602 </span>    68/push 0/imm32/no-outputs
<span id="L21603" class="LineNr">21603 </span>    53/push-ebx/inouts
<span id="L21604" class="LineNr">21604 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21605" class="LineNr">21605 </span>    68/push 0/imm32/operation
<span id="L21606" class="LineNr">21606 </span>    68/push 0/imm32/operation
<span id="L21607" class="LineNr">21607 </span>    68/push 1/imm32/tag
<span id="L21608" class="LineNr">21608 </span>    89/&lt;- %esi 4/r32/esp
<span id="L21609" class="LineNr">21609 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-stmt-operation</span>:
<span id="L21610" class="LineNr">21610 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;increment&quot;</span>
<span id="L21611" class="LineNr">21611 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L21612" class="LineNr">21612 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L21613" class="LineNr">21613 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-primitive</span>:
<span id="L21614" class="LineNr">21614 </span>    <span class="subxComment"># var primitives/ebx: (addr primitive)</span>
<span id="L21615" class="LineNr">21615 </span>    68/push 0/imm32/next
<span id="L21616" class="LineNr">21616 </span>    68/push 0/imm32/next
<span id="L21617" class="LineNr">21617 </span>    68/push 0/imm32/output-is-write-only
<span id="L21618" class="LineNr">21618 </span>    68/push 0/imm32/no-disp32
<span id="L21619" class="LineNr">21619 </span>    68/push 0/imm32/no-imm8
<span id="L21620" class="LineNr">21620 </span>    68/push 0/imm32/no-imm32
<span id="L21621" class="LineNr">21621 </span>    68/push 0/imm32/no-r32
<span id="L21622" class="LineNr">21622 </span>    68/push 1/imm32/rm32-is-first-inout
<span id="L21623" class="LineNr">21623 </span>    68/push 0/imm32/subx-name
<span id="L21624" class="LineNr">21624 </span>    68/push 0/imm32/subx-name
<span id="L21625" class="LineNr">21625 </span>    68/push 0/imm32/no-outputs
<span id="L21626" class="LineNr">21626 </span>    68/push 0/imm32/no-outputs
<span id="L21627" class="LineNr">21627 </span>    53/push-ebx/inouts  <span class="subxComment"># hack: reuse stmt-var from call stmt as (list var) in function declaration</span>
<span id="L21628" class="LineNr">21628 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21629" class="LineNr">21629 </span>    68/push 0/imm32/name
<span id="L21630" class="LineNr">21630 </span>    68/push 0/imm32/name
<span id="L21631" class="LineNr">21631 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21632" class="LineNr">21632 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-primitive-name</span>:
<span id="L21633" class="LineNr">21633 </span>    <span class="subxComment"># primitives-&gt;name = &quot;increment&quot;</span>
<span id="L21634" class="LineNr">21634 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %ebx)  <span class="subxComment"># Primitive-name</span>
<span id="L21635" class="LineNr">21635 </span><span class="Constant">$test-emit-subx-stmt-primitive:initialize-primitive-subx-name</span>:
<span id="L21636" class="LineNr">21636 </span>    <span class="subxComment"># primitives-&gt;subx-name = &quot;ff 0/subop/increment&quot;</span>
<span id="L21637" class="LineNr">21637 </span>    8d/copy-address *(ebx+0x18) 0/r32/eax  <span class="subxComment"># Primitive-subx-name</span>
<span id="L21638" class="LineNr">21638 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ff 0/subop/increment&quot;</span> %eax)
<span id="L21639" class="LineNr">21639 </span>    <span class="subxComment"># convert</span>
<span id="L21640" class="LineNr">21640 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L21641" class="LineNr">21641 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L21642" class="LineNr">21642 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L21643" class="Folded">21643 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L21649" class="LineNr">21649 </span>    <span class="subxComment"># check output</span>
<span id="L21650" class="LineNr">21650 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;ff 0/subop/increment *(ebp+0xfffffff8)&quot;</span> <span class="Constant">&quot;F - test-emit-subx-stmt-primitive&quot;</span>)
<span id="L21651" class="LineNr">21651 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21652" class="LineNr">21652 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21653" class="LineNr">21653 </span>    5d/pop-to-ebp
<span id="L21654" class="LineNr">21654 </span>    c3/return
<span id="L21655" class="LineNr">21655 </span>
<span id="L21656" class="LineNr">21656 </span><span class="subxTest">test-emit-subx-stmt-primitive-register</span>:
<span id="L21657" class="LineNr">21657 </span>    <span class="subxComment"># Primitive operation on a variable in a register.</span>
<span id="L21658" class="LineNr">21658 </span>    <span class="subxComment">#   foo &lt;- increment</span>
<span id="L21659" class="LineNr">21659 </span>    <span class="subxComment"># =&gt;</span>
<span id="L21660" class="LineNr">21660 </span>    <span class="subxComment">#   ff 0/subop/increment %eax  # sub-optimal, but should suffice</span>
<span id="L21661" class="LineNr">21661 </span>    <span class="subxComment">#</span>
<span id="L21662" class="LineNr">21662 </span>    <span class="subxComment"># There's a variable on the var stack as follows:</span>
<span id="L21663" class="LineNr">21663 </span>    <span class="subxComment">#   name: 'foo'</span>
<span id="L21664" class="LineNr">21664 </span>    <span class="subxComment">#   type: int</span>
<span id="L21665" class="LineNr">21665 </span>    <span class="subxComment">#   register: 'eax'</span>
<span id="L21666" class="LineNr">21666 </span>    <span class="subxComment">#</span>
<span id="L21667" class="LineNr">21667 </span>    <span class="subxComment"># There's a primitive with this info:</span>
<span id="L21668" class="LineNr">21668 </span>    <span class="subxComment">#   name: 'increment'</span>
<span id="L21669" class="LineNr">21669 </span>    <span class="subxComment">#   out: int/reg</span>
<span id="L21670" class="LineNr">21670 </span>    <span class="subxComment">#   value: 'ff 0/subop/increment'</span>
<span id="L21671" class="LineNr">21671 </span>    <span class="subxComment">#</span>
<span id="L21672" class="LineNr">21672 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21673" class="LineNr">21673 </span>    55/push-ebp
<span id="L21674" class="LineNr">21674 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21675" class="LineNr">21675 </span>    <span class="subxComment"># setup</span>
<span id="L21676" class="LineNr">21676 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L21677" class="LineNr">21677 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L21678" class="LineNr">21678 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-type</span>:
<span id="L21679" class="LineNr">21679 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L21680" class="LineNr">21680 </span>    68/push 0/imm32/right:null
<span id="L21681" class="LineNr">21681 </span>    68/push 0/imm32/right:null
<span id="L21682" class="LineNr">21682 </span>    68/push 0/imm32/left:unused
<span id="L21683" class="LineNr">21683 </span>    68/push 1/imm32/value:int
<span id="L21684" class="LineNr">21684 </span>    68/push 1/imm32/is-atom?:true
<span id="L21685" class="LineNr">21685 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21686" class="LineNr">21686 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L21687" class="LineNr">21687 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-var</span>:
<span id="L21688" class="LineNr">21688 </span>    <span class="subxComment"># var var-foo/ecx: (payload var)</span>
<span id="L21689" class="LineNr">21689 </span>    68/push 0/imm32/register
<span id="L21690" class="LineNr">21690 </span>    68/push 0/imm32/register
<span id="L21691" class="LineNr">21691 </span>    68/push 0/imm32/no-stack-offset
<span id="L21692" class="LineNr">21692 </span>    68/push 1/imm32/block-depth
<span id="L21693" class="LineNr">21693 </span>    51/push-ecx
<span id="L21694" class="LineNr">21694 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21695" class="LineNr">21695 </span>    68/push 0/imm32/name
<span id="L21696" class="LineNr">21696 </span>    68/push 0/imm32/name
<span id="L21697" class="LineNr">21697 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21698" class="LineNr">21698 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L21699" class="LineNr">21699 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-var-name</span>:
<span id="L21700" class="LineNr">21700 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;foo&quot;</span>
<span id="L21701" class="LineNr">21701 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L21702" class="LineNr">21702 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;foo&quot;</span> %eax)
<span id="L21703" class="LineNr">21703 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-var-register</span>:
<span id="L21704" class="LineNr">21704 </span>    <span class="subxComment"># var-foo-&gt;register = &quot;eax&quot;</span>
<span id="L21705" class="LineNr">21705 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L21706" class="LineNr">21706 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L21707" class="LineNr">21707 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-stmt-var</span>:
<span id="L21708" class="LineNr">21708 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var)</span>
<span id="L21709" class="LineNr">21709 </span>    68/push 0/imm32/is-deref:false
<span id="L21710" class="LineNr">21710 </span>    68/push 0/imm32/next
<span id="L21711" class="LineNr">21711 </span>    68/push 0/imm32/next
<span id="L21712" class="LineNr">21712 </span>    51/push-ecx/var-foo
<span id="L21713" class="LineNr">21713 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21714" class="LineNr">21714 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21715" class="LineNr">21715 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21716" class="LineNr">21716 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-stmt</span>:
<span id="L21717" class="LineNr">21717 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L21718" class="LineNr">21718 </span>    53/push-ebx/outputs
<span id="L21719" class="LineNr">21719 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21720" class="LineNr">21720 </span>    68/push 0/imm32/no-inouts
<span id="L21721" class="LineNr">21721 </span>    68/push 0/imm32/no-inouts
<span id="L21722" class="LineNr">21722 </span>    68/push 0/imm32/operation
<span id="L21723" class="LineNr">21723 </span>    68/push 0/imm32/operation
<span id="L21724" class="LineNr">21724 </span>    68/push 1/imm32
<span id="L21725" class="LineNr">21725 </span>    89/&lt;- %esi 4/r32/esp
<span id="L21726" class="LineNr">21726 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-stmt-operation</span>:
<span id="L21727" class="LineNr">21727 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;increment&quot;</span>
<span id="L21728" class="LineNr">21728 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L21729" class="LineNr">21729 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L21730" class="LineNr">21730 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-formal-var</span>:
<span id="L21731" class="LineNr">21731 </span>    <span class="subxComment"># var formal-var/ebx: (payload var)</span>
<span id="L21732" class="LineNr">21732 </span>    68/push 0/imm32/register
<span id="L21733" class="LineNr">21733 </span>    68/push 0/imm32/register
<span id="L21734" class="LineNr">21734 </span>    68/push 0/imm32/no-stack-offset
<span id="L21735" class="LineNr">21735 </span>    68/push 1/imm32/block-depth
<span id="L21736" class="LineNr">21736 </span>    ff 6/subop/push *(ecx+0x10)  <span class="subxComment"># Var-type + payload alloc id + handle alloc id</span>
<span id="L21737" class="LineNr">21737 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21738" class="LineNr">21738 </span>    68/push 0/imm32/name
<span id="L21739" class="LineNr">21739 </span>    68/push 0/imm32/name
<span id="L21740" class="LineNr">21740 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21741" class="LineNr">21741 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21742" class="LineNr">21742 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-formal-var-name</span>:
<span id="L21743" class="LineNr">21743 </span>    <span class="subxComment"># formal-var-&gt;name = &quot;dummy&quot;</span>
<span id="L21744" class="LineNr">21744 </span>    8d/copy-address *(ebx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L21745" class="LineNr">21745 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;dummy&quot;</span> %eax)
<span id="L21746" class="LineNr">21746 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-formal-register</span>:
<span id="L21747" class="LineNr">21747 </span>    <span class="subxComment"># formal-var-&gt;register = &quot;*&quot;</span>
<span id="L21748" class="LineNr">21748 </span>    8d/copy-address *(ebx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L21749" class="LineNr">21749 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;*&quot;</span> %eax)  <span class="subxComment"># Any-register</span>
<span id="L21750" class="LineNr">21750 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-var-list</span>:
<span id="L21751" class="LineNr">21751 </span>    <span class="subxComment"># var formal-outputs/ebx: (payload list var)</span>
<span id="L21752" class="LineNr">21752 </span>    68/push 0/imm32/next
<span id="L21753" class="LineNr">21753 </span>    68/push 0/imm32/next
<span id="L21754" class="LineNr">21754 </span>    53/push-ebx/formal-var
<span id="L21755" class="LineNr">21755 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21756" class="LineNr">21756 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21757" class="LineNr">21757 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21758" class="LineNr">21758 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-primitive</span>:
<span id="L21759" class="LineNr">21759 </span>    <span class="subxComment"># var primitives/ebx: (addr primitive)</span>
<span id="L21760" class="LineNr">21760 </span>    68/push 0/imm32/next
<span id="L21761" class="LineNr">21761 </span>    68/push 0/imm32/next
<span id="L21762" class="LineNr">21762 </span>    68/push 0/imm32/output-is-write-only
<span id="L21763" class="LineNr">21763 </span>    68/push 0/imm32/no-disp32
<span id="L21764" class="LineNr">21764 </span>    68/push 0/imm32/no-imm8
<span id="L21765" class="LineNr">21765 </span>    68/push 0/imm32/no-imm32
<span id="L21766" class="LineNr">21766 </span>    68/push 0/imm32/no-r32
<span id="L21767" class="LineNr">21767 </span>    68/push 3/imm32/rm32-is-first-output
<span id="L21768" class="LineNr">21768 </span>    68/push 0/imm32/subx-name
<span id="L21769" class="LineNr">21769 </span>    68/push 0/imm32/subx-name
<span id="L21770" class="LineNr">21770 </span>    53/push-ebx/outputs
<span id="L21771" class="LineNr">21771 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21772" class="LineNr">21772 </span>    68/push 0/imm32/no-inouts
<span id="L21773" class="LineNr">21773 </span>    68/push 0/imm32/no-inouts
<span id="L21774" class="LineNr">21774 </span>    68/push 0/imm32/name
<span id="L21775" class="LineNr">21775 </span>    68/push 0/imm32/name
<span id="L21776" class="LineNr">21776 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21777" class="LineNr">21777 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-primitive-name</span>:
<span id="L21778" class="LineNr">21778 </span>    <span class="subxComment"># primitives-&gt;name = &quot;increment&quot;</span>
<span id="L21779" class="LineNr">21779 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %ebx)  <span class="subxComment"># Primitive-name</span>
<span id="L21780" class="LineNr">21780 </span><span class="Constant">$test-emit-subx-stmt-primitive-register:initialize-primitive-subx-name</span>:
<span id="L21781" class="LineNr">21781 </span>    <span class="subxComment"># primitives-&gt;subx-name = &quot;ff 0/subop/increment&quot;</span>
<span id="L21782" class="LineNr">21782 </span>    8d/copy-address *(ebx+0x18) 0/r32/eax  <span class="subxComment"># Primitive-subx-name</span>
<span id="L21783" class="LineNr">21783 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ff 0/subop/increment&quot;</span> %eax)
<span id="L21784" class="LineNr">21784 </span>    <span class="subxComment"># convert</span>
<span id="L21785" class="LineNr">21785 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L21786" class="LineNr">21786 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L21787" class="LineNr">21787 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L21788" class="Folded">21788 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L21794" class="LineNr">21794 </span>    <span class="subxComment"># check output</span>
<span id="L21795" class="LineNr">21795 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;ff 0/subop/increment %eax&quot;</span> <span class="Constant">&quot;F - test-emit-subx-stmt-primitive-register&quot;</span>)
<span id="L21796" class="LineNr">21796 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21797" class="LineNr">21797 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21798" class="LineNr">21798 </span>    5d/pop-to-ebp
<span id="L21799" class="LineNr">21799 </span>    c3/return
<span id="L21800" class="LineNr">21800 </span>
<span id="L21801" class="LineNr">21801 </span><span class="subxTest">test-emit-subx-stmt-select-primitive</span>:
<span id="L21802" class="LineNr">21802 </span>    <span class="subxComment"># Select the right primitive between overloads.</span>
<span id="L21803" class="LineNr">21803 </span>    <span class="subxComment">#   foo &lt;- increment</span>
<span id="L21804" class="LineNr">21804 </span>    <span class="subxComment"># =&gt;</span>
<span id="L21805" class="LineNr">21805 </span>    <span class="subxComment">#   ff 0/subop/increment %eax  # sub-optimal, but should suffice</span>
<span id="L21806" class="LineNr">21806 </span>    <span class="subxComment">#</span>
<span id="L21807" class="LineNr">21807 </span>    <span class="subxComment"># There's a variable on the var stack as follows:</span>
<span id="L21808" class="LineNr">21808 </span>    <span class="subxComment">#   name: 'foo'</span>
<span id="L21809" class="LineNr">21809 </span>    <span class="subxComment">#   type: int</span>
<span id="L21810" class="LineNr">21810 </span>    <span class="subxComment">#   register: 'eax'</span>
<span id="L21811" class="LineNr">21811 </span>    <span class="subxComment">#</span>
<span id="L21812" class="LineNr">21812 </span>    <span class="subxComment"># There's two primitives, as follows:</span>
<span id="L21813" class="LineNr">21813 </span>    <span class="subxComment">#   - name: 'increment'</span>
<span id="L21814" class="LineNr">21814 </span>    <span class="subxComment">#     out: int/reg</span>
<span id="L21815" class="LineNr">21815 </span>    <span class="subxComment">#     value: 'ff 0/subop/increment'</span>
<span id="L21816" class="LineNr">21816 </span>    <span class="subxComment">#   - name: 'increment'</span>
<span id="L21817" class="LineNr">21817 </span>    <span class="subxComment">#     inout: int/mem</span>
<span id="L21818" class="LineNr">21818 </span>    <span class="subxComment">#     value: 'ff 0/subop/increment'</span>
<span id="L21819" class="LineNr">21819 </span>    <span class="subxComment">#</span>
<span id="L21820" class="LineNr">21820 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21821" class="LineNr">21821 </span>    55/push-ebp
<span id="L21822" class="LineNr">21822 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21823" class="LineNr">21823 </span>    <span class="subxComment"># setup</span>
<span id="L21824" class="LineNr">21824 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L21825" class="LineNr">21825 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L21826" class="LineNr">21826 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-type</span>:
<span id="L21827" class="LineNr">21827 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L21828" class="LineNr">21828 </span>    68/push 0/imm32/right:null
<span id="L21829" class="LineNr">21829 </span>    68/push 0/imm32/right:null
<span id="L21830" class="LineNr">21830 </span>    68/push 0/imm32/left:unused
<span id="L21831" class="LineNr">21831 </span>    68/push 1/imm32/value:int
<span id="L21832" class="LineNr">21832 </span>    68/push 1/imm32/is-atom?:true
<span id="L21833" class="LineNr">21833 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21834" class="LineNr">21834 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L21835" class="LineNr">21835 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-var</span>:
<span id="L21836" class="LineNr">21836 </span>    <span class="subxComment"># var var-foo/ecx: (payload var)</span>
<span id="L21837" class="LineNr">21837 </span>    68/push 0/imm32/register
<span id="L21838" class="LineNr">21838 </span>    68/push 0/imm32/register
<span id="L21839" class="LineNr">21839 </span>    68/push 0/imm32/no-stack-offset
<span id="L21840" class="LineNr">21840 </span>    68/push 1/imm32/block-depth
<span id="L21841" class="LineNr">21841 </span>    51/push-ecx
<span id="L21842" class="LineNr">21842 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21843" class="LineNr">21843 </span>    68/push 0/imm32/name
<span id="L21844" class="LineNr">21844 </span>    68/push 0/imm32/name
<span id="L21845" class="LineNr">21845 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21846" class="LineNr">21846 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L21847" class="LineNr">21847 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-var-name</span>:
<span id="L21848" class="LineNr">21848 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;foo&quot;</span>
<span id="L21849" class="LineNr">21849 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L21850" class="LineNr">21850 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;foo&quot;</span> %eax)
<span id="L21851" class="LineNr">21851 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-var-register</span>:
<span id="L21852" class="LineNr">21852 </span>    <span class="subxComment"># var-foo-&gt;register = &quot;eax&quot;</span>
<span id="L21853" class="LineNr">21853 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L21854" class="LineNr">21854 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L21855" class="LineNr">21855 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-stmt-var</span>:
<span id="L21856" class="LineNr">21856 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var)</span>
<span id="L21857" class="LineNr">21857 </span>    68/push 0/imm32/is-deref:false
<span id="L21858" class="LineNr">21858 </span>    68/push 0/imm32/next
<span id="L21859" class="LineNr">21859 </span>    68/push 0/imm32/next
<span id="L21860" class="LineNr">21860 </span>    51/push-ecx/var-foo
<span id="L21861" class="LineNr">21861 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21862" class="LineNr">21862 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21863" class="LineNr">21863 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21864" class="LineNr">21864 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-stmt</span>:
<span id="L21865" class="LineNr">21865 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L21866" class="LineNr">21866 </span>    53/push-ebx/outputs
<span id="L21867" class="LineNr">21867 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21868" class="LineNr">21868 </span>    68/push 0/imm32/no-inouts
<span id="L21869" class="LineNr">21869 </span>    68/push 0/imm32/no-inouts
<span id="L21870" class="LineNr">21870 </span>    68/push 0/imm32/operation
<span id="L21871" class="LineNr">21871 </span>    68/push 0/imm32/operation
<span id="L21872" class="LineNr">21872 </span>    68/push 1/imm32
<span id="L21873" class="LineNr">21873 </span>    89/&lt;- %esi 4/r32/esp
<span id="L21874" class="LineNr">21874 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-stmt-operation</span>:
<span id="L21875" class="LineNr">21875 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;increment&quot;</span>
<span id="L21876" class="LineNr">21876 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L21877" class="LineNr">21877 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L21878" class="LineNr">21878 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-formal-var</span>:
<span id="L21879" class="LineNr">21879 </span>    <span class="subxComment"># var formal-var/ebx: (payload var)</span>
<span id="L21880" class="LineNr">21880 </span>    68/push 0/imm32/register
<span id="L21881" class="LineNr">21881 </span>    68/push 0/imm32/register
<span id="L21882" class="LineNr">21882 </span>    68/push 0/imm32/no-stack-offset
<span id="L21883" class="LineNr">21883 </span>    68/push 1/imm32/block-depth
<span id="L21884" class="LineNr">21884 </span>    ff 6/subop/push *(ecx+0x10)  <span class="subxComment"># Var-type + payload alloc id + handle alloc id</span>
<span id="L21885" class="LineNr">21885 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21886" class="LineNr">21886 </span>    68/push 0/imm32/name
<span id="L21887" class="LineNr">21887 </span>    68/push 0/imm32/name
<span id="L21888" class="LineNr">21888 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21889" class="LineNr">21889 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21890" class="LineNr">21890 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-formal-var-name</span>:
<span id="L21891" class="LineNr">21891 </span>    <span class="subxComment"># formal-var-&gt;name = &quot;dummy&quot;</span>
<span id="L21892" class="LineNr">21892 </span>    8d/copy-address *(ebx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L21893" class="LineNr">21893 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;dummy&quot;</span> %eax)
<span id="L21894" class="LineNr">21894 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-formal-register</span>:
<span id="L21895" class="LineNr">21895 </span>    <span class="subxComment"># formal-var-&gt;register = &quot;*&quot;</span>
<span id="L21896" class="LineNr">21896 </span>    8d/copy-address *(ebx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L21897" class="LineNr">21897 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;*&quot;</span> %eax)  <span class="subxComment"># Any-register</span>
<span id="L21898" class="LineNr">21898 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-var-list</span>:
<span id="L21899" class="LineNr">21899 </span>    <span class="subxComment"># var formal-outputs/ebx: (payload list var)</span>
<span id="L21900" class="LineNr">21900 </span>    68/push 0/imm32/next
<span id="L21901" class="LineNr">21901 </span>    68/push 0/imm32/next
<span id="L21902" class="LineNr">21902 </span>    53/push-ebx/formal-var
<span id="L21903" class="LineNr">21903 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21904" class="LineNr">21904 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21905" class="LineNr">21905 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21906" class="LineNr">21906 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-primitive2</span>:
<span id="L21907" class="LineNr">21907 </span>    <span class="subxComment"># var primitive2/edi: (payload primitive)</span>
<span id="L21908" class="LineNr">21908 </span>    68/push 0/imm32/next
<span id="L21909" class="LineNr">21909 </span>    68/push 0/imm32/next
<span id="L21910" class="LineNr">21910 </span>    68/push 0/imm32/output-is-write-only
<span id="L21911" class="LineNr">21911 </span>    68/push 0/imm32/no-disp32
<span id="L21912" class="LineNr">21912 </span>    68/push 0/imm32/no-imm8
<span id="L21913" class="LineNr">21913 </span>    68/push 0/imm32/no-imm32
<span id="L21914" class="LineNr">21914 </span>    68/push 0/imm32/no-r32
<span id="L21915" class="LineNr">21915 </span>    68/push 3/imm32/rm32-is-first-output
<span id="L21916" class="LineNr">21916 </span>    68/push 0/imm32/subx-name
<span id="L21917" class="LineNr">21917 </span>    68/push 0/imm32/subx-name
<span id="L21918" class="LineNr">21918 </span>    53/push-ebx/outputs
<span id="L21919" class="LineNr">21919 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21920" class="LineNr">21920 </span>    68/push 0/imm32/no-inouts
<span id="L21921" class="LineNr">21921 </span>    68/push 0/imm32/no-inouts
<span id="L21922" class="LineNr">21922 </span>    68/push 0/imm32/name
<span id="L21923" class="LineNr">21923 </span>    68/push 0/imm32/name
<span id="L21924" class="LineNr">21924 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L21925" class="LineNr">21925 </span>    89/&lt;- %edi 4/r32/esp
<span id="L21926" class="LineNr">21926 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-primitive2-name</span>:
<span id="L21927" class="LineNr">21927 </span>    <span class="subxComment"># primitives-&gt;name = &quot;increment&quot;</span>
<span id="L21928" class="LineNr">21928 </span>    8d/copy-address *(edi+4) 0/r32/eax  <span class="subxComment"># Primitive-name + 4</span>
<span id="L21929" class="LineNr">21929 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L21930" class="LineNr">21930 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-primitive2-subx-name</span>:
<span id="L21931" class="LineNr">21931 </span>    <span class="subxComment"># primitives-&gt;subx-name = &quot;ff 0/subop/increment&quot;</span>
<span id="L21932" class="LineNr">21932 </span>    8d/copy-address *(edi+0x1c) 0/r32/eax  <span class="subxComment"># Primitive-subx-name + 4</span>
<span id="L21933" class="LineNr">21933 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ff 0/subop/increment&quot;</span> %eax)
<span id="L21934" class="LineNr">21934 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-primitive</span>:
<span id="L21935" class="LineNr">21935 </span>    <span class="subxComment"># var primitives/ebx: (addr primitive)</span>
<span id="L21936" class="LineNr">21936 </span>    57/push-edi
<span id="L21937" class="LineNr">21937 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21938" class="LineNr">21938 </span>    68/push 0/imm32/output-is-write-only
<span id="L21939" class="LineNr">21939 </span>    68/push 0/imm32/no-disp32
<span id="L21940" class="LineNr">21940 </span>    68/push 0/imm32/no-imm8
<span id="L21941" class="LineNr">21941 </span>    68/push 0/imm32/no-imm32
<span id="L21942" class="LineNr">21942 </span>    68/push 0/imm32/no-r32
<span id="L21943" class="LineNr">21943 </span>    68/push 1/imm32/rm32-is-first-inout
<span id="L21944" class="LineNr">21944 </span>    68/push 0/imm32/subx-name
<span id="L21945" class="LineNr">21945 </span>    68/push 0/imm32/subx-name
<span id="L21946" class="LineNr">21946 </span>    68/push 0/imm32/no-outputs
<span id="L21947" class="LineNr">21947 </span>    68/push 0/imm32/no-outputs
<span id="L21948" class="LineNr">21948 </span>    53/push-ebx/inouts  <span class="subxComment"># hack: reuse stmt-var from call stmt as (list var) in function declaration</span>
<span id="L21949" class="LineNr">21949 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L21950" class="LineNr">21950 </span>    68/push 0/imm32/name
<span id="L21951" class="LineNr">21951 </span>    68/push 0/imm32/name
<span id="L21952" class="LineNr">21952 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L21953" class="LineNr">21953 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-primitive-name</span>:
<span id="L21954" class="LineNr">21954 </span>    <span class="subxComment"># primitives-&gt;name = &quot;increment&quot;</span>
<span id="L21955" class="LineNr">21955 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %ebx)  <span class="subxComment"># Primitive-name</span>
<span id="L21956" class="LineNr">21956 </span><span class="Constant">$test-emit-subx-stmt-select-primitive:initialize-primitive-subx-name</span>:
<span id="L21957" class="LineNr">21957 </span>    <span class="subxComment"># primitives-&gt;subx-name = &quot;ff 0/subop/increment&quot;</span>
<span id="L21958" class="LineNr">21958 </span>    8d/copy-address *(ebx+0x18) 0/r32/eax  <span class="subxComment"># Primitive-subx-name</span>
<span id="L21959" class="LineNr">21959 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ff 0/subop/increment&quot;</span> %eax)
<span id="L21960" class="LineNr">21960 </span>    <span class="subxComment"># convert</span>
<span id="L21961" class="LineNr">21961 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L21962" class="LineNr">21962 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L21963" class="LineNr">21963 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L21964" class="Folded">21964 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L21970" class="LineNr">21970 </span>    <span class="subxComment"># check output</span>
<span id="L21971" class="LineNr">21971 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;ff 0/subop/increment %eax&quot;</span> <span class="Constant">&quot;F - test-emit-subx-stmt-select-primitive&quot;</span>)
<span id="L21972" class="LineNr">21972 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L21973" class="LineNr">21973 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L21974" class="LineNr">21974 </span>    5d/pop-to-ebp
<span id="L21975" class="LineNr">21975 </span>    c3/return
<span id="L21976" class="LineNr">21976 </span>
<span id="L21977" class="LineNr">21977 </span><span class="subxTest">test-emit-subx-stmt-select-primitive-2</span>:
<span id="L21978" class="LineNr">21978 </span>    <span class="subxComment"># Select the right primitive between overloads.</span>
<span id="L21979" class="LineNr">21979 </span>    <span class="subxComment">#   increment foo</span>
<span id="L21980" class="LineNr">21980 </span>    <span class="subxComment"># =&gt;</span>
<span id="L21981" class="LineNr">21981 </span>    <span class="subxComment">#   ff 0/subop/increment %eax  # sub-optimal, but should suffice</span>
<span id="L21982" class="LineNr">21982 </span>    <span class="subxComment">#</span>
<span id="L21983" class="LineNr">21983 </span>    <span class="subxComment"># There's a variable on the var stack as follows:</span>
<span id="L21984" class="LineNr">21984 </span>    <span class="subxComment">#   name: 'foo'</span>
<span id="L21985" class="LineNr">21985 </span>    <span class="subxComment">#   type: int</span>
<span id="L21986" class="LineNr">21986 </span>    <span class="subxComment">#   register: 'eax'</span>
<span id="L21987" class="LineNr">21987 </span>    <span class="subxComment">#</span>
<span id="L21988" class="LineNr">21988 </span>    <span class="subxComment"># There's two primitives, as follows:</span>
<span id="L21989" class="LineNr">21989 </span>    <span class="subxComment">#   - name: 'increment'</span>
<span id="L21990" class="LineNr">21990 </span>    <span class="subxComment">#     out: int/reg</span>
<span id="L21991" class="LineNr">21991 </span>    <span class="subxComment">#     value: 'ff 0/subop/increment'</span>
<span id="L21992" class="LineNr">21992 </span>    <span class="subxComment">#   - name: 'increment'</span>
<span id="L21993" class="LineNr">21993 </span>    <span class="subxComment">#     inout: int/mem</span>
<span id="L21994" class="LineNr">21994 </span>    <span class="subxComment">#     value: 'ff 0/subop/increment'</span>
<span id="L21995" class="LineNr">21995 </span>    <span class="subxComment">#</span>
<span id="L21996" class="LineNr">21996 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L21997" class="LineNr">21997 </span>    55/push-ebp
<span id="L21998" class="LineNr">21998 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L21999" class="LineNr">21999 </span>    <span class="subxComment"># setup</span>
<span id="L22000" class="LineNr">22000 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22001" class="LineNr">22001 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22002" class="LineNr">22002 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-type</span>:
<span id="L22003" class="LineNr">22003 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22004" class="LineNr">22004 </span>    68/push 0/imm32/right:null
<span id="L22005" class="LineNr">22005 </span>    68/push 0/imm32/right:null
<span id="L22006" class="LineNr">22006 </span>    68/push 0/imm32/left:unused
<span id="L22007" class="LineNr">22007 </span>    68/push 1/imm32/value:int
<span id="L22008" class="LineNr">22008 </span>    68/push 1/imm32/is-atom?:true
<span id="L22009" class="LineNr">22009 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22010" class="LineNr">22010 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22011" class="LineNr">22011 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-var</span>:
<span id="L22012" class="LineNr">22012 </span>    <span class="subxComment"># var var-foo/ecx: (payload var)</span>
<span id="L22013" class="LineNr">22013 </span>    68/push 0/imm32/register
<span id="L22014" class="LineNr">22014 </span>    68/push 0/imm32/register
<span id="L22015" class="LineNr">22015 </span>    68/push 0/imm32/no-stack-offset
<span id="L22016" class="LineNr">22016 </span>    68/push 1/imm32/block-depth
<span id="L22017" class="LineNr">22017 </span>    51/push-ecx
<span id="L22018" class="LineNr">22018 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22019" class="LineNr">22019 </span>    68/push 0/imm32/name
<span id="L22020" class="LineNr">22020 </span>    68/push 0/imm32/name
<span id="L22021" class="LineNr">22021 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22022" class="LineNr">22022 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22023" class="LineNr">22023 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-var-name</span>:
<span id="L22024" class="LineNr">22024 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;foo&quot;</span>
<span id="L22025" class="LineNr">22025 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22026" class="LineNr">22026 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;foo&quot;</span> %eax)
<span id="L22027" class="LineNr">22027 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-var-register</span>:
<span id="L22028" class="LineNr">22028 </span>    <span class="subxComment"># var-foo-&gt;register = &quot;eax&quot;</span>
<span id="L22029" class="LineNr">22029 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22030" class="LineNr">22030 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L22031" class="LineNr">22031 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-stmt-var</span>:
<span id="L22032" class="LineNr">22032 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var)</span>
<span id="L22033" class="LineNr">22033 </span>    68/push 0/imm32/is-deref:false
<span id="L22034" class="LineNr">22034 </span>    68/push 0/imm32/next
<span id="L22035" class="LineNr">22035 </span>    68/push 0/imm32/next
<span id="L22036" class="LineNr">22036 </span>    51/push-ecx/var-foo
<span id="L22037" class="LineNr">22037 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22038" class="LineNr">22038 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22039" class="LineNr">22039 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L22040" class="LineNr">22040 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-stmt</span>:
<span id="L22041" class="LineNr">22041 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22042" class="LineNr">22042 </span>    68/push 0/imm32/no-outputs
<span id="L22043" class="LineNr">22043 </span>    68/push 0/imm32/no-outputs
<span id="L22044" class="LineNr">22044 </span>    53/push-ebx/inouts
<span id="L22045" class="LineNr">22045 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22046" class="LineNr">22046 </span>    68/push 0/imm32/operation
<span id="L22047" class="LineNr">22047 </span>    68/push 0/imm32/operation
<span id="L22048" class="LineNr">22048 </span>    68/push 1/imm32
<span id="L22049" class="LineNr">22049 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22050" class="LineNr">22050 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-stmt-operation</span>:
<span id="L22051" class="LineNr">22051 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;increment&quot;</span>
<span id="L22052" class="LineNr">22052 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22053" class="LineNr">22053 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L22054" class="LineNr">22054 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-formal-var</span>:
<span id="L22055" class="LineNr">22055 </span>    <span class="subxComment"># var formal-var/ebx: (payload var)</span>
<span id="L22056" class="LineNr">22056 </span>    68/push 0/imm32/register
<span id="L22057" class="LineNr">22057 </span>    68/push 0/imm32/register
<span id="L22058" class="LineNr">22058 </span>    68/push 0/imm32/no-stack-offset
<span id="L22059" class="LineNr">22059 </span>    68/push 1/imm32/block-depth
<span id="L22060" class="LineNr">22060 </span>    ff 6/subop/push *(ecx+0x10)  <span class="subxComment"># Var-type + payload alloc id + handle alloc id</span>
<span id="L22061" class="LineNr">22061 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22062" class="LineNr">22062 </span>    68/push 0/imm32/name
<span id="L22063" class="LineNr">22063 </span>    68/push 0/imm32/name
<span id="L22064" class="LineNr">22064 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22065" class="LineNr">22065 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L22066" class="LineNr">22066 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-formal-var-name</span>:
<span id="L22067" class="LineNr">22067 </span>    <span class="subxComment"># formal-var-&gt;name = &quot;dummy&quot;</span>
<span id="L22068" class="LineNr">22068 </span>    8d/copy-address *(ebx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22069" class="LineNr">22069 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;dummy&quot;</span> %eax)
<span id="L22070" class="LineNr">22070 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-formal-register</span>:
<span id="L22071" class="LineNr">22071 </span>    <span class="subxComment"># formal-var-&gt;register = &quot;*&quot;</span>
<span id="L22072" class="LineNr">22072 </span>    8d/copy-address *(ebx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22073" class="LineNr">22073 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;*&quot;</span> %eax)  <span class="subxComment"># Any-register</span>
<span id="L22074" class="LineNr">22074 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-var-list</span>:
<span id="L22075" class="LineNr">22075 </span>    <span class="subxComment"># var formal-outputs/ebx: (payload list stmt-var)</span>
<span id="L22076" class="LineNr">22076 </span>    68/push 0/imm32/next
<span id="L22077" class="LineNr">22077 </span>    68/push 0/imm32/next
<span id="L22078" class="LineNr">22078 </span>    53/push-ebx/formal-var
<span id="L22079" class="LineNr">22079 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22080" class="LineNr">22080 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22081" class="LineNr">22081 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L22082" class="LineNr">22082 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-primitive2</span>:
<span id="L22083" class="LineNr">22083 </span>    <span class="subxComment"># var primitive2/edi: (payload primitive)</span>
<span id="L22084" class="LineNr">22084 </span>    68/push 0/imm32/next
<span id="L22085" class="LineNr">22085 </span>    68/push 0/imm32/next
<span id="L22086" class="LineNr">22086 </span>    68/push 0/imm32/output-is-write-only
<span id="L22087" class="LineNr">22087 </span>    68/push 0/imm32/no-disp32
<span id="L22088" class="LineNr">22088 </span>    68/push 0/imm32/no-imm8
<span id="L22089" class="LineNr">22089 </span>    68/push 0/imm32/no-imm32
<span id="L22090" class="LineNr">22090 </span>    68/push 0/imm32/no-r32
<span id="L22091" class="LineNr">22091 </span>    68/push 3/imm32/rm32-is-first-output
<span id="L22092" class="LineNr">22092 </span>    68/push 0/imm32/subx-name
<span id="L22093" class="LineNr">22093 </span>    68/push 0/imm32/subx-name
<span id="L22094" class="LineNr">22094 </span>    53/push-ebx/outputs
<span id="L22095" class="LineNr">22095 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22096" class="LineNr">22096 </span>    68/push 0/imm32/no-inouts
<span id="L22097" class="LineNr">22097 </span>    68/push 0/imm32/no-inouts
<span id="L22098" class="LineNr">22098 </span>    68/push 0/imm32/name
<span id="L22099" class="LineNr">22099 </span>    68/push 0/imm32/name
<span id="L22100" class="LineNr">22100 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22101" class="LineNr">22101 </span>    89/&lt;- %edi 4/r32/esp
<span id="L22102" class="LineNr">22102 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-primitive2-name</span>:
<span id="L22103" class="LineNr">22103 </span>    <span class="subxComment"># primitives-&gt;name = &quot;increment&quot;</span>
<span id="L22104" class="LineNr">22104 </span>    8d/copy-address *(edi+4) 0/r32/eax  <span class="subxComment"># Primitive-name + 4</span>
<span id="L22105" class="LineNr">22105 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L22106" class="LineNr">22106 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-primitive2-subx-name</span>:
<span id="L22107" class="LineNr">22107 </span>    <span class="subxComment"># primitives-&gt;subx-name = &quot;ff 0/subop/increment&quot;</span>
<span id="L22108" class="LineNr">22108 </span>    8d/copy-address *(edi+0x1c) 0/r32/eax  <span class="subxComment"># Primitive-subx-name + 4</span>
<span id="L22109" class="LineNr">22109 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ff 0/subop/increment&quot;</span> %eax)
<span id="L22110" class="LineNr">22110 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-primitive</span>:
<span id="L22111" class="LineNr">22111 </span>    <span class="subxComment"># var primitives/ebx: (addr primitive)</span>
<span id="L22112" class="LineNr">22112 </span>    57/push-edi
<span id="L22113" class="LineNr">22113 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22114" class="LineNr">22114 </span>    68/push 0/imm32/output-is-write-only
<span id="L22115" class="LineNr">22115 </span>    68/push 0/imm32/no-disp32
<span id="L22116" class="LineNr">22116 </span>    68/push 0/imm32/no-imm8
<span id="L22117" class="LineNr">22117 </span>    68/push 0/imm32/no-imm32
<span id="L22118" class="LineNr">22118 </span>    68/push 0/imm32/no-r32
<span id="L22119" class="LineNr">22119 </span>    68/push 1/imm32/rm32-is-first-inout
<span id="L22120" class="LineNr">22120 </span>    68/push 0/imm32/subx-name
<span id="L22121" class="LineNr">22121 </span>    68/push 0/imm32/subx-name
<span id="L22122" class="LineNr">22122 </span>    68/push 0/imm32/no-outputs
<span id="L22123" class="LineNr">22123 </span>    68/push 0/imm32/no-outputs
<span id="L22124" class="LineNr">22124 </span>    53/push-ebx/inouts  <span class="subxComment"># hack: reuse stmt-var from call stmt as (list var) in function declaration</span>
<span id="L22125" class="LineNr">22125 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22126" class="LineNr">22126 </span>    68/push 0/imm32/name
<span id="L22127" class="LineNr">22127 </span>    68/push 0/imm32/name
<span id="L22128" class="LineNr">22128 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L22129" class="LineNr">22129 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-primitive-name</span>:
<span id="L22130" class="LineNr">22130 </span>    <span class="subxComment"># primitives-&gt;name = &quot;increment&quot;</span>
<span id="L22131" class="LineNr">22131 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %ebx)  <span class="subxComment"># Primitive-name</span>
<span id="L22132" class="LineNr">22132 </span><span class="Constant">$test-emit-subx-stmt-select-primitive-2:initialize-primitive-subx-name</span>:
<span id="L22133" class="LineNr">22133 </span>    <span class="subxComment"># primitives-&gt;subx-name = &quot;ff 0/subop/increment&quot;</span>
<span id="L22134" class="LineNr">22134 </span>    8d/copy-address *(ebx+0x18) 0/r32/eax  <span class="subxComment"># Primitive-subx-name</span>
<span id="L22135" class="LineNr">22135 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ff 0/subop/increment&quot;</span> %eax)
<span id="L22136" class="LineNr">22136 </span>    <span class="subxComment"># convert</span>
<span id="L22137" class="LineNr">22137 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22138" class="LineNr">22138 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22139" class="LineNr">22139 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22140" class="Folded">22140 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22146" class="LineNr">22146 </span>    <span class="subxComment"># check output</span>
<span id="L22147" class="LineNr">22147 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;ff 0/subop/increment %eax&quot;</span> <span class="Constant">&quot;F - test-emit-subx-stmt-select-primitive-2&quot;</span>)
<span id="L22148" class="LineNr">22148 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22149" class="LineNr">22149 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22150" class="LineNr">22150 </span>    5d/pop-to-ebp
<span id="L22151" class="LineNr">22151 </span>    c3/return
<span id="L22152" class="LineNr">22152 </span>
<span id="L22153" class="LineNr">22153 </span><span class="subxTest">test-increment-register</span>:
<span id="L22154" class="LineNr">22154 </span>    <span class="subxComment"># Select the right register between overloads.</span>
<span id="L22155" class="LineNr">22155 </span>    <span class="subxComment">#   foo &lt;- increment</span>
<span id="L22156" class="LineNr">22156 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22157" class="LineNr">22157 </span>    <span class="subxComment">#   50/increment-eax</span>
<span id="L22158" class="LineNr">22158 </span>    <span class="subxComment">#</span>
<span id="L22159" class="LineNr">22159 </span>    <span class="subxComment"># There's a variable on the var stack as follows:</span>
<span id="L22160" class="LineNr">22160 </span>    <span class="subxComment">#   name: 'foo'</span>
<span id="L22161" class="LineNr">22161 </span>    <span class="subxComment">#   type: int</span>
<span id="L22162" class="LineNr">22162 </span>    <span class="subxComment">#   register: 'eax'</span>
<span id="L22163" class="LineNr">22163 </span>    <span class="subxComment">#</span>
<span id="L22164" class="LineNr">22164 </span>    <span class="subxComment"># Primitives are the global definitions.</span>
<span id="L22165" class="LineNr">22165 </span>    <span class="subxComment">#</span>
<span id="L22166" class="LineNr">22166 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22167" class="LineNr">22167 </span>    55/push-ebp
<span id="L22168" class="LineNr">22168 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22169" class="LineNr">22169 </span>    <span class="subxComment"># setup</span>
<span id="L22170" class="LineNr">22170 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22171" class="LineNr">22171 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22172" class="LineNr">22172 </span><span class="Constant">$test-increment-register:initialize-type</span>:
<span id="L22173" class="LineNr">22173 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22174" class="LineNr">22174 </span>    68/push 0/imm32/right:null
<span id="L22175" class="LineNr">22175 </span>    68/push 0/imm32/right:null
<span id="L22176" class="LineNr">22176 </span>    68/push 0/imm32/left:unused
<span id="L22177" class="LineNr">22177 </span>    68/push 1/imm32/value:int
<span id="L22178" class="LineNr">22178 </span>    68/push 1/imm32/is-atom?:true
<span id="L22179" class="LineNr">22179 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22180" class="LineNr">22180 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22181" class="LineNr">22181 </span><span class="Constant">$test-increment-register:initialize-var</span>:
<span id="L22182" class="LineNr">22182 </span>    <span class="subxComment"># var var-foo/ecx: (payload var)</span>
<span id="L22183" class="LineNr">22183 </span>    68/push 0/imm32/register
<span id="L22184" class="LineNr">22184 </span>    68/push 0/imm32/register
<span id="L22185" class="LineNr">22185 </span>    68/push 0/imm32/no-stack-offset
<span id="L22186" class="LineNr">22186 </span>    68/push 1/imm32/block-depth
<span id="L22187" class="LineNr">22187 </span>    51/push-ecx
<span id="L22188" class="LineNr">22188 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22189" class="LineNr">22189 </span>    68/push 0/imm32/name
<span id="L22190" class="LineNr">22190 </span>    68/push 0/imm32/name
<span id="L22191" class="LineNr">22191 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22192" class="LineNr">22192 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22193" class="LineNr">22193 </span><span class="Constant">$test-increment-register:initialize-var-name</span>:
<span id="L22194" class="LineNr">22194 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;foo&quot;</span>
<span id="L22195" class="LineNr">22195 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22196" class="LineNr">22196 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;foo&quot;</span> %eax)
<span id="L22197" class="LineNr">22197 </span><span class="Constant">$test-increment-register:initialize-var-register</span>:
<span id="L22198" class="LineNr">22198 </span>    <span class="subxComment"># var-foo-&gt;register = &quot;eax&quot;</span>
<span id="L22199" class="LineNr">22199 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22200" class="LineNr">22200 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L22201" class="LineNr">22201 </span><span class="Constant">$test-increment-register:initialize-stmt-var</span>:
<span id="L22202" class="LineNr">22202 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var)</span>
<span id="L22203" class="LineNr">22203 </span>    68/push 0/imm32/is-deref:false
<span id="L22204" class="LineNr">22204 </span>    68/push 0/imm32/next
<span id="L22205" class="LineNr">22205 </span>    68/push 0/imm32/next
<span id="L22206" class="LineNr">22206 </span>    51/push-ecx/var-foo
<span id="L22207" class="LineNr">22207 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22208" class="LineNr">22208 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22209" class="LineNr">22209 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L22210" class="LineNr">22210 </span><span class="Constant">$test-increment-register:initialize-stmt</span>:
<span id="L22211" class="LineNr">22211 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22212" class="LineNr">22212 </span>    53/push-ebx/outputs
<span id="L22213" class="LineNr">22213 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22214" class="LineNr">22214 </span>    68/push 0/imm32/no-inouts
<span id="L22215" class="LineNr">22215 </span>    68/push 0/imm32/no-inouts
<span id="L22216" class="LineNr">22216 </span>    68/push 0/imm32/operation
<span id="L22217" class="LineNr">22217 </span>    68/push 0/imm32/operation
<span id="L22218" class="LineNr">22218 </span>    68/push 1/imm32
<span id="L22219" class="LineNr">22219 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22220" class="LineNr">22220 </span><span class="Constant">$test-increment-register:initialize-stmt-operation</span>:
<span id="L22221" class="LineNr">22221 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;increment&quot;</span>
<span id="L22222" class="LineNr">22222 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22223" class="LineNr">22223 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;increment&quot;</span> %eax)
<span id="L22224" class="LineNr">22224 </span>    <span class="subxComment"># convert</span>
<span id="L22225" class="LineNr">22225 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22226" class="LineNr">22226 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22227" class="LineNr">22227 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22228" class="Folded">22228 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22234" class="LineNr">22234 </span>    <span class="subxComment"># check output</span>
<span id="L22235" class="LineNr">22235 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;40/increment-eax&quot;</span> <span class="Constant">&quot;F - test-increment-register&quot;</span>)
<span id="L22236" class="LineNr">22236 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22237" class="LineNr">22237 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22238" class="LineNr">22238 </span>    5d/pop-to-ebp
<span id="L22239" class="LineNr">22239 </span>    c3/return
<span id="L22240" class="LineNr">22240 </span>
<span id="L22241" class="LineNr">22241 </span><span class="subxTest">test-add-reg-to-reg</span>:
<span id="L22242" class="LineNr">22242 </span>    <span class="subxComment">#   var1/reg &lt;- add var2/reg</span>
<span id="L22243" class="LineNr">22243 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22244" class="LineNr">22244 </span>    <span class="subxComment">#   01/add-to %var1 var2</span>
<span id="L22245" class="LineNr">22245 </span>    <span class="subxComment">#</span>
<span id="L22246" class="LineNr">22246 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22247" class="LineNr">22247 </span>    55/push-ebp
<span id="L22248" class="LineNr">22248 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22249" class="LineNr">22249 </span>    <span class="subxComment"># setup</span>
<span id="L22250" class="LineNr">22250 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22251" class="LineNr">22251 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22252" class="LineNr">22252 </span><span class="Constant">$test-add-reg-to-reg:initialize-type</span>:
<span id="L22253" class="LineNr">22253 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22254" class="LineNr">22254 </span>    68/push 0/imm32/right:null
<span id="L22255" class="LineNr">22255 </span>    68/push 0/imm32/right:null
<span id="L22256" class="LineNr">22256 </span>    68/push 0/imm32/left:unused
<span id="L22257" class="LineNr">22257 </span>    68/push 1/imm32/value:int
<span id="L22258" class="LineNr">22258 </span>    68/push 1/imm32/is-atom?:true
<span id="L22259" class="LineNr">22259 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22260" class="LineNr">22260 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22261" class="LineNr">22261 </span><span class="Constant">$test-add-reg-to-reg:initialize-var1</span>:
<span id="L22262" class="LineNr">22262 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L22263" class="LineNr">22263 </span>    68/push 0/imm32/register
<span id="L22264" class="LineNr">22264 </span>    68/push 0/imm32/register
<span id="L22265" class="LineNr">22265 </span>    68/push 0/imm32/no-stack-offset
<span id="L22266" class="LineNr">22266 </span>    68/push 1/imm32/block-depth
<span id="L22267" class="LineNr">22267 </span>    51/push-ecx
<span id="L22268" class="LineNr">22268 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22269" class="LineNr">22269 </span>    68/push 0/imm32/name
<span id="L22270" class="LineNr">22270 </span>    68/push 0/imm32/name
<span id="L22271" class="LineNr">22271 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22272" class="LineNr">22272 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22273" class="LineNr">22273 </span><span class="Constant">$test-add-reg-to-reg:initialize-var1-name</span>:
<span id="L22274" class="LineNr">22274 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L22275" class="LineNr">22275 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22276" class="LineNr">22276 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L22277" class="LineNr">22277 </span><span class="Constant">$test-add-reg-to-reg:initialize-var1-register</span>:
<span id="L22278" class="LineNr">22278 </span>    <span class="subxComment"># var1-&gt;register = &quot;eax&quot;</span>
<span id="L22279" class="LineNr">22279 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22280" class="LineNr">22280 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L22281" class="LineNr">22281 </span><span class="Constant">$test-add-reg-to-reg:initialize-var2</span>:
<span id="L22282" class="LineNr">22282 </span>    <span class="subxComment"># var var2/edx: (payload var)</span>
<span id="L22283" class="LineNr">22283 </span>    68/push 0/imm32/register
<span id="L22284" class="LineNr">22284 </span>    68/push 0/imm32/register
<span id="L22285" class="LineNr">22285 </span>    68/push 0/imm32/no-stack-offset
<span id="L22286" class="LineNr">22286 </span>    68/push 1/imm32/block-depth
<span id="L22287" class="LineNr">22287 </span>    ff 6/subop/push *(ecx+0x10)
<span id="L22288" class="LineNr">22288 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22289" class="LineNr">22289 </span>    68/push 0/imm32/name
<span id="L22290" class="LineNr">22290 </span>    68/push 0/imm32/name
<span id="L22291" class="LineNr">22291 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22292" class="LineNr">22292 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22293" class="LineNr">22293 </span><span class="Constant">$test-add-reg-to-reg:initialize-var2-name</span>:
<span id="L22294" class="LineNr">22294 </span>    <span class="subxComment"># var2-&gt;name = &quot;var2&quot;</span>
<span id="L22295" class="LineNr">22295 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22296" class="LineNr">22296 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var2&quot;</span> %eax)
<span id="L22297" class="LineNr">22297 </span><span class="Constant">$test-add-reg-to-reg:initialize-var2-register</span>:
<span id="L22298" class="LineNr">22298 </span>    <span class="subxComment"># var2-&gt;register = &quot;ecx&quot;</span>
<span id="L22299" class="LineNr">22299 </span>    8d/copy-address *(edx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22300" class="LineNr">22300 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ecx&quot;</span> %eax)
<span id="L22301" class="LineNr">22301 </span><span class="Constant">$test-add-reg-to-reg:initialize-inouts</span>:
<span id="L22302" class="LineNr">22302 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [var2]</span>
<span id="L22303" class="LineNr">22303 </span>    68/push 0/imm32/is-deref:false
<span id="L22304" class="LineNr">22304 </span>    68/push 0/imm32/next
<span id="L22305" class="LineNr">22305 </span>    68/push 0/imm32/next
<span id="L22306" class="LineNr">22306 </span>    52/push-edx/var2
<span id="L22307" class="LineNr">22307 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22308" class="LineNr">22308 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22309" class="LineNr">22309 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22310" class="LineNr">22310 </span><span class="Constant">$test-add-reg-to-reg:initialize-outputs</span>:
<span id="L22311" class="LineNr">22311 </span>    <span class="subxComment"># var outputs/edi: (payload stmt-var) = [var1]</span>
<span id="L22312" class="LineNr">22312 </span>    68/push 0/imm32/is-deref:false
<span id="L22313" class="LineNr">22313 </span>    68/push 0/imm32/next
<span id="L22314" class="LineNr">22314 </span>    68/push 0/imm32/next
<span id="L22315" class="LineNr">22315 </span>    51/push-ecx/var1
<span id="L22316" class="LineNr">22316 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22317" class="LineNr">22317 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22318" class="LineNr">22318 </span>    89/&lt;- %edi 4/r32/esp
<span id="L22319" class="LineNr">22319 </span><span class="Constant">$test-add-reg-to-reg:initialize-stmt</span>:
<span id="L22320" class="LineNr">22320 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22321" class="LineNr">22321 </span>    68/push 0/imm32/next
<span id="L22322" class="LineNr">22322 </span>    68/push 0/imm32/next
<span id="L22323" class="LineNr">22323 </span>    57/push-edi/outputs
<span id="L22324" class="LineNr">22324 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22325" class="LineNr">22325 </span>    56/push-esi/inouts
<span id="L22326" class="LineNr">22326 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22327" class="LineNr">22327 </span>    68/push 0/imm32/operation
<span id="L22328" class="LineNr">22328 </span>    68/push 0/imm32/operation
<span id="L22329" class="LineNr">22329 </span>    68/push 1/imm32/tag:stmt1
<span id="L22330" class="LineNr">22330 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22331" class="LineNr">22331 </span><span class="Constant">$test-add-reg-to-reg:initialize-stmt-operation</span>:
<span id="L22332" class="LineNr">22332 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;add&quot;</span>
<span id="L22333" class="LineNr">22333 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22334" class="LineNr">22334 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;add&quot;</span> %eax)
<span id="L22335" class="LineNr">22335 </span>    <span class="subxComment"># convert</span>
<span id="L22336" class="LineNr">22336 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22337" class="LineNr">22337 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22338" class="LineNr">22338 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22339" class="Folded">22339 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22345" class="LineNr">22345 </span>    <span class="subxComment"># check output</span>
<span id="L22346" class="LineNr">22346 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;01/add-to %eax 0x00000001/r32&quot;</span> <span class="Constant">&quot;F - test-add-reg-to-reg&quot;</span>)
<span id="L22347" class="LineNr">22347 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22348" class="LineNr">22348 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22349" class="LineNr">22349 </span>    5d/pop-to-ebp
<span id="L22350" class="LineNr">22350 </span>    c3/return
<span id="L22351" class="LineNr">22351 </span>
<span id="L22352" class="LineNr">22352 </span><span class="subxTest">test-add-reg-to-mem</span>:
<span id="L22353" class="LineNr">22353 </span>    <span class="subxComment">#   add-to var1 var2/reg</span>
<span id="L22354" class="LineNr">22354 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22355" class="LineNr">22355 </span>    <span class="subxComment">#   01/add-to *(ebp+__) var2</span>
<span id="L22356" class="LineNr">22356 </span>    <span class="subxComment">#</span>
<span id="L22357" class="LineNr">22357 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22358" class="LineNr">22358 </span>    55/push-ebp
<span id="L22359" class="LineNr">22359 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22360" class="LineNr">22360 </span>    <span class="subxComment"># setup</span>
<span id="L22361" class="LineNr">22361 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22362" class="LineNr">22362 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22363" class="LineNr">22363 </span><span class="Constant">$test-add-reg-to-mem:initialize-type</span>:
<span id="L22364" class="LineNr">22364 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22365" class="LineNr">22365 </span>    68/push 0/imm32/right:null
<span id="L22366" class="LineNr">22366 </span>    68/push 0/imm32/right:null
<span id="L22367" class="LineNr">22367 </span>    68/push 0/imm32/left:unused
<span id="L22368" class="LineNr">22368 </span>    68/push 1/imm32/value:int
<span id="L22369" class="LineNr">22369 </span>    68/push 1/imm32/is-atom?:true
<span id="L22370" class="LineNr">22370 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22371" class="LineNr">22371 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22372" class="LineNr">22372 </span><span class="Constant">$test-add-reg-to-mem:initialize-var1</span>:
<span id="L22373" class="LineNr">22373 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L22374" class="LineNr">22374 </span>    68/push 0/imm32/register
<span id="L22375" class="LineNr">22375 </span>    68/push 0/imm32/register
<span id="L22376" class="LineNr">22376 </span>    68/push 8/imm32/stack-offset
<span id="L22377" class="LineNr">22377 </span>    68/push 1/imm32/block-depth
<span id="L22378" class="LineNr">22378 </span>    51/push-ecx
<span id="L22379" class="LineNr">22379 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22380" class="LineNr">22380 </span>    68/push 0/imm32/name
<span id="L22381" class="LineNr">22381 </span>    68/push 0/imm32/name
<span id="L22382" class="LineNr">22382 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22383" class="LineNr">22383 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22384" class="LineNr">22384 </span><span class="Constant">$test-add-reg-to-mem:initialize-var1-name</span>:
<span id="L22385" class="LineNr">22385 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L22386" class="LineNr">22386 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22387" class="LineNr">22387 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L22388" class="LineNr">22388 </span><span class="Constant">$test-add-reg-to-mem:initialize-var2</span>:
<span id="L22389" class="LineNr">22389 </span>    <span class="subxComment"># var var2/edx: (payload var)</span>
<span id="L22390" class="LineNr">22390 </span>    68/push 0/imm32/register
<span id="L22391" class="LineNr">22391 </span>    68/push 0/imm32/register
<span id="L22392" class="LineNr">22392 </span>    68/push 0/imm32/no-stack-offset
<span id="L22393" class="LineNr">22393 </span>    68/push 1/imm32/block-depth
<span id="L22394" class="LineNr">22394 </span>    ff 6/subop/push *(ecx+0x10)
<span id="L22395" class="LineNr">22395 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22396" class="LineNr">22396 </span>    68/push 0/imm32/name
<span id="L22397" class="LineNr">22397 </span>    68/push 0/imm32/name
<span id="L22398" class="LineNr">22398 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22399" class="LineNr">22399 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22400" class="LineNr">22400 </span><span class="Constant">$test-add-reg-to-mem:initialize-var2-name</span>:
<span id="L22401" class="LineNr">22401 </span>    <span class="subxComment"># var2-&gt;name = &quot;var2&quot;</span>
<span id="L22402" class="LineNr">22402 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22403" class="LineNr">22403 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var2&quot;</span> %eax)
<span id="L22404" class="LineNr">22404 </span><span class="Constant">$test-add-reg-to-mem:initialize-var2-register</span>:
<span id="L22405" class="LineNr">22405 </span>    <span class="subxComment"># var2-&gt;register = &quot;ecx&quot;</span>
<span id="L22406" class="LineNr">22406 </span>    8d/copy-address *(edx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22407" class="LineNr">22407 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ecx&quot;</span> %eax)
<span id="L22408" class="LineNr">22408 </span><span class="Constant">$test-add-reg-to-mem:initialize-inouts</span>:
<span id="L22409" class="LineNr">22409 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [var2]</span>
<span id="L22410" class="LineNr">22410 </span>    68/push 0/imm32/is-deref:false
<span id="L22411" class="LineNr">22411 </span>    68/push 0/imm32/next
<span id="L22412" class="LineNr">22412 </span>    68/push 0/imm32/next
<span id="L22413" class="LineNr">22413 </span>    52/push-edx/var2
<span id="L22414" class="LineNr">22414 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22415" class="LineNr">22415 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22416" class="LineNr">22416 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22417" class="LineNr">22417 </span>    <span class="subxComment"># inouts = [var1, var2]</span>
<span id="L22418" class="LineNr">22418 </span>    68/push 0/imm32/is-deref:false
<span id="L22419" class="LineNr">22419 </span>    56/push-esi/next
<span id="L22420" class="LineNr">22420 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22421" class="LineNr">22421 </span>    51/push-ecx/var1
<span id="L22422" class="LineNr">22422 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22423" class="LineNr">22423 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22424" class="LineNr">22424 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22425" class="LineNr">22425 </span><span class="Constant">$test-add-reg-to-mem:initialize-stmt</span>:
<span id="L22426" class="LineNr">22426 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22427" class="LineNr">22427 </span>    68/push 0/imm32/next
<span id="L22428" class="LineNr">22428 </span>    68/push 0/imm32/next
<span id="L22429" class="LineNr">22429 </span>    68/push 0/imm32/outputs
<span id="L22430" class="LineNr">22430 </span>    68/push 0/imm32/outputs
<span id="L22431" class="LineNr">22431 </span>    56/push-esi/inouts
<span id="L22432" class="LineNr">22432 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22433" class="LineNr">22433 </span>    68/push 0/imm32/operation
<span id="L22434" class="LineNr">22434 </span>    68/push 0/imm32/operation
<span id="L22435" class="LineNr">22435 </span>    68/push 1/imm32/tag:stmt1
<span id="L22436" class="LineNr">22436 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22437" class="LineNr">22437 </span><span class="Constant">$test-add-reg-to-mem:initialize-stmt-operation</span>:
<span id="L22438" class="LineNr">22438 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;add-to&quot;</span>
<span id="L22439" class="LineNr">22439 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22440" class="LineNr">22440 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;add-to&quot;</span> %eax)
<span id="L22441" class="LineNr">22441 </span>    <span class="subxComment"># convert</span>
<span id="L22442" class="LineNr">22442 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22443" class="LineNr">22443 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22444" class="LineNr">22444 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22445" class="Folded">22445 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22451" class="LineNr">22451 </span>    <span class="subxComment"># check output</span>
<span id="L22452" class="LineNr">22452 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;01/add-to *(ebp+0x00000008) 0x00000001/r32&quot;</span> <span class="Constant">&quot;F - test-add-reg-to-mem&quot;</span>)
<span id="L22453" class="LineNr">22453 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22454" class="LineNr">22454 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22455" class="LineNr">22455 </span>    5d/pop-to-ebp
<span id="L22456" class="LineNr">22456 </span>    c3/return
<span id="L22457" class="LineNr">22457 </span>
<span id="L22458" class="LineNr">22458 </span><span class="subxTest">test-add-mem-to-reg</span>:
<span id="L22459" class="LineNr">22459 </span>    <span class="subxComment">#   var1/reg &lt;- add var2</span>
<span id="L22460" class="LineNr">22460 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22461" class="LineNr">22461 </span>    <span class="subxComment">#   03/add *(ebp+__) var1</span>
<span id="L22462" class="LineNr">22462 </span>    <span class="subxComment">#</span>
<span id="L22463" class="LineNr">22463 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22464" class="LineNr">22464 </span>    55/push-ebp
<span id="L22465" class="LineNr">22465 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22466" class="LineNr">22466 </span>    <span class="subxComment"># setup</span>
<span id="L22467" class="LineNr">22467 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22468" class="LineNr">22468 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22469" class="LineNr">22469 </span><span class="Constant">$test-add-mem-to-reg:initialize-type</span>:
<span id="L22470" class="LineNr">22470 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22471" class="LineNr">22471 </span>    68/push 0/imm32/right:null
<span id="L22472" class="LineNr">22472 </span>    68/push 0/imm32/right:null
<span id="L22473" class="LineNr">22473 </span>    68/push 0/imm32/left:unused
<span id="L22474" class="LineNr">22474 </span>    68/push 1/imm32/value:int
<span id="L22475" class="LineNr">22475 </span>    68/push 1/imm32/is-atom?:true
<span id="L22476" class="LineNr">22476 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22477" class="LineNr">22477 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22478" class="LineNr">22478 </span><span class="Constant">$test-add-mem-to-reg:initialize-var</span>:
<span id="L22479" class="LineNr">22479 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L22480" class="LineNr">22480 </span>    68/push 0/imm32/register
<span id="L22481" class="LineNr">22481 </span>    68/push 0/imm32/register
<span id="L22482" class="LineNr">22482 </span>    68/push 0/imm32/no-stack-offset
<span id="L22483" class="LineNr">22483 </span>    68/push 1/imm32/block-depth
<span id="L22484" class="LineNr">22484 </span>    51/push-ecx
<span id="L22485" class="LineNr">22485 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22486" class="LineNr">22486 </span>    68/push 0/imm32/name
<span id="L22487" class="LineNr">22487 </span>    68/push 0/imm32/name
<span id="L22488" class="LineNr">22488 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22489" class="LineNr">22489 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22490" class="LineNr">22490 </span><span class="Constant">$test-add-mem-to-reg:initialize-var-name</span>:
<span id="L22491" class="LineNr">22491 </span>    <span class="subxComment"># var1-&gt;name = &quot;foo&quot;</span>
<span id="L22492" class="LineNr">22492 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22493" class="LineNr">22493 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L22494" class="LineNr">22494 </span><span class="Constant">$test-add-mem-to-reg:initialize-var-register</span>:
<span id="L22495" class="LineNr">22495 </span>    <span class="subxComment"># var1-&gt;register = &quot;eax&quot;</span>
<span id="L22496" class="LineNr">22496 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22497" class="LineNr">22497 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L22498" class="LineNr">22498 </span><span class="Constant">$test-add-mem-to-reg:initialize-var2</span>:
<span id="L22499" class="LineNr">22499 </span>    <span class="subxComment"># var var2/edx: (payload var)</span>
<span id="L22500" class="LineNr">22500 </span>    68/push 0/imm32/register
<span id="L22501" class="LineNr">22501 </span>    68/push 0/imm32/register
<span id="L22502" class="LineNr">22502 </span>    68/push 8/imm32/stack-offset
<span id="L22503" class="LineNr">22503 </span>    68/push 1/imm32/block-depth
<span id="L22504" class="LineNr">22504 </span>    ff 6/subop/push *(ecx+0x10)
<span id="L22505" class="LineNr">22505 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22506" class="LineNr">22506 </span>    68/push 0/imm32/name
<span id="L22507" class="LineNr">22507 </span>    68/push 0/imm32/name
<span id="L22508" class="LineNr">22508 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22509" class="LineNr">22509 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22510" class="LineNr">22510 </span><span class="Constant">$test-add-mem-to-reg:initialize-var2-name</span>:
<span id="L22511" class="LineNr">22511 </span>    <span class="subxComment"># var2-&gt;name = &quot;var2&quot;</span>
<span id="L22512" class="LineNr">22512 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22513" class="LineNr">22513 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var2&quot;</span> %eax)
<span id="L22514" class="LineNr">22514 </span><span class="Constant">$test-add-mem-to-reg:initialize-inouts</span>:
<span id="L22515" class="LineNr">22515 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [var2]</span>
<span id="L22516" class="LineNr">22516 </span>    68/push 0/imm32/is-deref:false
<span id="L22517" class="LineNr">22517 </span>    68/push 0/imm32/next
<span id="L22518" class="LineNr">22518 </span>    68/push 0/imm32/next
<span id="L22519" class="LineNr">22519 </span>    52/push-edx/var2
<span id="L22520" class="LineNr">22520 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22521" class="LineNr">22521 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22522" class="LineNr">22522 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22523" class="LineNr">22523 </span><span class="Constant">$test-add-mem-to-reg:initialize-outputs</span>:
<span id="L22524" class="LineNr">22524 </span>    <span class="subxComment"># var outputs/edi: (payload stmt-var) = [var1]</span>
<span id="L22525" class="LineNr">22525 </span>    68/push 0/imm32/is-deref:false
<span id="L22526" class="LineNr">22526 </span>    68/push 0/imm32/next
<span id="L22527" class="LineNr">22527 </span>    68/push 0/imm32/next
<span id="L22528" class="LineNr">22528 </span>    51/push-ecx/var1
<span id="L22529" class="LineNr">22529 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22530" class="LineNr">22530 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22531" class="LineNr">22531 </span>    89/&lt;- %edi 4/r32/esp
<span id="L22532" class="LineNr">22532 </span><span class="Constant">$test-add-mem-to-reg:initialize-stmt</span>:
<span id="L22533" class="LineNr">22533 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22534" class="LineNr">22534 </span>    68/push 0/imm32/next
<span id="L22535" class="LineNr">22535 </span>    68/push 0/imm32/next
<span id="L22536" class="LineNr">22536 </span>    57/push-edi/outputs
<span id="L22537" class="LineNr">22537 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22538" class="LineNr">22538 </span>    56/push-esi/inouts
<span id="L22539" class="LineNr">22539 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22540" class="LineNr">22540 </span>    68/push 0/imm32/operation
<span id="L22541" class="LineNr">22541 </span>    68/push 0/imm32/operation
<span id="L22542" class="LineNr">22542 </span>    68/push 1/imm32/tag:stmt1
<span id="L22543" class="LineNr">22543 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22544" class="LineNr">22544 </span><span class="Constant">$test-add-mem-to-reg:initialize-stmt-operation</span>:
<span id="L22545" class="LineNr">22545 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;add&quot;</span>
<span id="L22546" class="LineNr">22546 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22547" class="LineNr">22547 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;add&quot;</span> %eax)
<span id="L22548" class="LineNr">22548 </span>    <span class="subxComment"># convert</span>
<span id="L22549" class="LineNr">22549 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22550" class="LineNr">22550 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22551" class="LineNr">22551 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22552" class="Folded">22552 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22558" class="LineNr">22558 </span>    <span class="subxComment"># check output</span>
<span id="L22559" class="LineNr">22559 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;03/add *(ebp+0x00000008) 0x00000000/r32&quot;</span> <span class="Constant">&quot;F - test-add-mem-to-reg&quot;</span>)
<span id="L22560" class="LineNr">22560 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22561" class="LineNr">22561 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22562" class="LineNr">22562 </span>    5d/pop-to-ebp
<span id="L22563" class="LineNr">22563 </span>    c3/return
<span id="L22564" class="LineNr">22564 </span>
<span id="L22565" class="LineNr">22565 </span><span class="subxTest">test-add-literal-to-eax</span>:
<span id="L22566" class="LineNr">22566 </span>    <span class="subxComment">#   var1/eax &lt;- add 0x34</span>
<span id="L22567" class="LineNr">22567 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22568" class="LineNr">22568 </span>    <span class="subxComment">#   05/add-to-eax 0x34/imm32</span>
<span id="L22569" class="LineNr">22569 </span>    <span class="subxComment">#</span>
<span id="L22570" class="LineNr">22570 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22571" class="LineNr">22571 </span>    55/push-ebp
<span id="L22572" class="LineNr">22572 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22573" class="LineNr">22573 </span>    <span class="subxComment"># setup</span>
<span id="L22574" class="LineNr">22574 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22575" class="LineNr">22575 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22576" class="LineNr">22576 </span><span class="Constant">$test-add-literal-to-eax:initialize-var-type</span>:
<span id="L22577" class="LineNr">22577 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22578" class="LineNr">22578 </span>    68/push 0/imm32/right:null
<span id="L22579" class="LineNr">22579 </span>    68/push 0/imm32/right:null
<span id="L22580" class="LineNr">22580 </span>    68/push 0/imm32/left:unused
<span id="L22581" class="LineNr">22581 </span>    68/push 1/imm32/value:int
<span id="L22582" class="LineNr">22582 </span>    68/push 1/imm32/is-atom?:true
<span id="L22583" class="LineNr">22583 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22584" class="LineNr">22584 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22585" class="LineNr">22585 </span><span class="Constant">$test-add-literal-to-eax:initialize-var</span>:
<span id="L22586" class="LineNr">22586 </span>    <span class="subxComment"># var v/ecx: (payload var)</span>
<span id="L22587" class="LineNr">22587 </span>    68/push 0/imm32/register
<span id="L22588" class="LineNr">22588 </span>    68/push 0/imm32/register
<span id="L22589" class="LineNr">22589 </span>    68/push 0/imm32/no-stack-offset
<span id="L22590" class="LineNr">22590 </span>    68/push 1/imm32/block-depth
<span id="L22591" class="LineNr">22591 </span>    51/push-ecx
<span id="L22592" class="LineNr">22592 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22593" class="LineNr">22593 </span>    68/push 0/imm32/name
<span id="L22594" class="LineNr">22594 </span>    68/push 0/imm32/name
<span id="L22595" class="LineNr">22595 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22596" class="LineNr">22596 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22597" class="LineNr">22597 </span><span class="Constant">$test-add-literal-to-eax:initialize-var-name</span>:
<span id="L22598" class="LineNr">22598 </span>    <span class="subxComment"># v-&gt;name = &quot;v&quot;</span>
<span id="L22599" class="LineNr">22599 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22600" class="LineNr">22600 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;v&quot;</span> %eax)
<span id="L22601" class="LineNr">22601 </span><span class="Constant">$test-add-literal-to-eax:initialize-var-register</span>:
<span id="L22602" class="LineNr">22602 </span>    <span class="subxComment"># v-&gt;register = &quot;eax&quot;</span>
<span id="L22603" class="LineNr">22603 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22604" class="LineNr">22604 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L22605" class="LineNr">22605 </span><span class="Constant">$test-add-literal-to-eax:initialize-literal-type</span>:
<span id="L22606" class="LineNr">22606 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L22607" class="LineNr">22607 </span>    68/push 0/imm32/right:null
<span id="L22608" class="LineNr">22608 </span>    68/push 0/imm32/right:null
<span id="L22609" class="LineNr">22609 </span>    68/push 0/imm32/left:unused
<span id="L22610" class="LineNr">22610 </span>    68/push 0/imm32/value:literal
<span id="L22611" class="LineNr">22611 </span>    68/push 1/imm32/is-atom?:true
<span id="L22612" class="LineNr">22612 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22613" class="LineNr">22613 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22614" class="LineNr">22614 </span><span class="Constant">$test-add-literal-to-eax:initialize-literal</span>:
<span id="L22615" class="LineNr">22615 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L22616" class="LineNr">22616 </span>    68/push 0/imm32/register
<span id="L22617" class="LineNr">22617 </span>    68/push 0/imm32/register
<span id="L22618" class="LineNr">22618 </span>    68/push 0/imm32/no-stack-offset
<span id="L22619" class="LineNr">22619 </span>    68/push 1/imm32/block-depth
<span id="L22620" class="LineNr">22620 </span>    52/push-edx
<span id="L22621" class="LineNr">22621 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22622" class="LineNr">22622 </span>    68/push 0/imm32/name
<span id="L22623" class="LineNr">22623 </span>    68/push 0/imm32/name
<span id="L22624" class="LineNr">22624 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22625" class="LineNr">22625 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22626" class="LineNr">22626 </span><span class="Constant">$test-add-literal-to-eax:initialize-literal-value</span>:
<span id="L22627" class="LineNr">22627 </span>    <span class="subxComment"># l-&gt;name = &quot;0x34&quot;</span>
<span id="L22628" class="LineNr">22628 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22629" class="LineNr">22629 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L22630" class="LineNr">22630 </span><span class="Constant">$test-add-literal-to-eax:initialize-inouts</span>:
<span id="L22631" class="LineNr">22631 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L22632" class="LineNr">22632 </span>    68/push 0/imm32/is-deref:false
<span id="L22633" class="LineNr">22633 </span>    68/push 0/imm32/next
<span id="L22634" class="LineNr">22634 </span>    68/push 0/imm32/next
<span id="L22635" class="LineNr">22635 </span>    52/push-edx/l
<span id="L22636" class="LineNr">22636 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22637" class="LineNr">22637 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22638" class="LineNr">22638 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22639" class="LineNr">22639 </span><span class="Constant">$test-add-literal-to-eax:initialize-outputs</span>:
<span id="L22640" class="LineNr">22640 </span>    <span class="subxComment"># var outputs/edi: (payload stmt-var) = [v]</span>
<span id="L22641" class="LineNr">22641 </span>    68/push 0/imm32/is-deref:false
<span id="L22642" class="LineNr">22642 </span>    68/push 0/imm32/next
<span id="L22643" class="LineNr">22643 </span>    68/push 0/imm32/next
<span id="L22644" class="LineNr">22644 </span>    51/push-ecx/v
<span id="L22645" class="LineNr">22645 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22646" class="LineNr">22646 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22647" class="LineNr">22647 </span>    89/&lt;- %edi 4/r32/esp
<span id="L22648" class="LineNr">22648 </span><span class="Constant">$test-add-literal-to-eax:initialize-stmt</span>:
<span id="L22649" class="LineNr">22649 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22650" class="LineNr">22650 </span>    68/push 0/imm32/next
<span id="L22651" class="LineNr">22651 </span>    68/push 0/imm32/next
<span id="L22652" class="LineNr">22652 </span>    57/push-edi/outputs
<span id="L22653" class="LineNr">22653 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22654" class="LineNr">22654 </span>    56/push-esi/inouts
<span id="L22655" class="LineNr">22655 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22656" class="LineNr">22656 </span>    68/push 0/imm32/operation
<span id="L22657" class="LineNr">22657 </span>    68/push 0/imm32/operation
<span id="L22658" class="LineNr">22658 </span>    68/push 1/imm32/tag:stmt1
<span id="L22659" class="LineNr">22659 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22660" class="LineNr">22660 </span><span class="Constant">$test-add-literal-to-eax:initialize-stmt-operation</span>:
<span id="L22661" class="LineNr">22661 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;add&quot;</span>
<span id="L22662" class="LineNr">22662 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22663" class="LineNr">22663 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;add&quot;</span> %eax)
<span id="L22664" class="LineNr">22664 </span>    <span class="subxComment"># convert</span>
<span id="L22665" class="LineNr">22665 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22666" class="LineNr">22666 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22667" class="LineNr">22667 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22668" class="Folded">22668 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22674" class="LineNr">22674 </span>    <span class="subxComment"># check output</span>
<span id="L22675" class="LineNr">22675 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;05/add-to-eax 0x34/imm32&quot;</span> <span class="Constant">&quot;F - test-add-literal-to-eax&quot;</span>)
<span id="L22676" class="LineNr">22676 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22677" class="LineNr">22677 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22678" class="LineNr">22678 </span>    5d/pop-to-ebp
<span id="L22679" class="LineNr">22679 </span>    c3/return
<span id="L22680" class="LineNr">22680 </span>
<span id="L22681" class="LineNr">22681 </span><span class="subxTest">test-add-literal-to-reg</span>:
<span id="L22682" class="LineNr">22682 </span>    <span class="subxComment">#   var1/ecx &lt;- add 0x34</span>
<span id="L22683" class="LineNr">22683 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22684" class="LineNr">22684 </span>    <span class="subxComment">#   81 0/subop/add %ecx 0x34/imm32</span>
<span id="L22685" class="LineNr">22685 </span>    <span class="subxComment">#</span>
<span id="L22686" class="LineNr">22686 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22687" class="LineNr">22687 </span>    55/push-ebp
<span id="L22688" class="LineNr">22688 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22689" class="LineNr">22689 </span>    <span class="subxComment"># setup</span>
<span id="L22690" class="LineNr">22690 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22691" class="LineNr">22691 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22692" class="LineNr">22692 </span><span class="Constant">$test-add-literal-to-reg:initialize-var-type</span>:
<span id="L22693" class="LineNr">22693 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22694" class="LineNr">22694 </span>    68/push 0/imm32/right:null
<span id="L22695" class="LineNr">22695 </span>    68/push 0/imm32/right:null
<span id="L22696" class="LineNr">22696 </span>    68/push 0/imm32/left:unused
<span id="L22697" class="LineNr">22697 </span>    68/push 1/imm32/value:int
<span id="L22698" class="LineNr">22698 </span>    68/push 1/imm32/is-atom?:true
<span id="L22699" class="LineNr">22699 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22700" class="LineNr">22700 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22701" class="LineNr">22701 </span><span class="Constant">$test-add-literal-to-reg:initialize-var</span>:
<span id="L22702" class="LineNr">22702 </span>    <span class="subxComment"># var v/ecx: (payload var)</span>
<span id="L22703" class="LineNr">22703 </span>    68/push 0/imm32/register
<span id="L22704" class="LineNr">22704 </span>    68/push 0/imm32/register
<span id="L22705" class="LineNr">22705 </span>    68/push 0/imm32/no-stack-offset
<span id="L22706" class="LineNr">22706 </span>    68/push 1/imm32/block-depth
<span id="L22707" class="LineNr">22707 </span>    51/push-ecx
<span id="L22708" class="LineNr">22708 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22709" class="LineNr">22709 </span>    68/push 0/imm32/name
<span id="L22710" class="LineNr">22710 </span>    68/push 0/imm32/name
<span id="L22711" class="LineNr">22711 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22712" class="LineNr">22712 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22713" class="LineNr">22713 </span><span class="Constant">$test-add-literal-to-reg:initialize-var-name</span>:
<span id="L22714" class="LineNr">22714 </span>    <span class="subxComment"># v-&gt;name = &quot;v&quot;</span>
<span id="L22715" class="LineNr">22715 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22716" class="LineNr">22716 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;v&quot;</span> %eax)
<span id="L22717" class="LineNr">22717 </span><span class="Constant">$test-add-literal-to-reg:initialize-var-register</span>:
<span id="L22718" class="LineNr">22718 </span>    <span class="subxComment"># v-&gt;register = &quot;ecx&quot;</span>
<span id="L22719" class="LineNr">22719 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22720" class="LineNr">22720 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ecx&quot;</span> %eax)
<span id="L22721" class="LineNr">22721 </span><span class="Constant">$test-add-literal-to-reg:initialize-literal-type</span>:
<span id="L22722" class="LineNr">22722 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L22723" class="LineNr">22723 </span>    68/push 0/imm32/right:null
<span id="L22724" class="LineNr">22724 </span>    68/push 0/imm32/right:null
<span id="L22725" class="LineNr">22725 </span>    68/push 0/imm32/left:unused
<span id="L22726" class="LineNr">22726 </span>    68/push 0/imm32/value:literal
<span id="L22727" class="LineNr">22727 </span>    68/push 1/imm32/is-atom?:true
<span id="L22728" class="LineNr">22728 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22729" class="LineNr">22729 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22730" class="LineNr">22730 </span><span class="Constant">$test-add-literal-to-reg:initialize-literal</span>:
<span id="L22731" class="LineNr">22731 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L22732" class="LineNr">22732 </span>    68/push 0/imm32/register
<span id="L22733" class="LineNr">22733 </span>    68/push 0/imm32/register
<span id="L22734" class="LineNr">22734 </span>    68/push 0/imm32/no-stack-offset
<span id="L22735" class="LineNr">22735 </span>    68/push 1/imm32/block-depth
<span id="L22736" class="LineNr">22736 </span>    52/push-edx
<span id="L22737" class="LineNr">22737 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22738" class="LineNr">22738 </span>    68/push 0/imm32/name
<span id="L22739" class="LineNr">22739 </span>    68/push 0/imm32/name
<span id="L22740" class="LineNr">22740 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22741" class="LineNr">22741 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22742" class="LineNr">22742 </span><span class="Constant">$test-add-literal-to-reg:initialize-literal-value</span>:
<span id="L22743" class="LineNr">22743 </span>    <span class="subxComment"># l-&gt;name = &quot;0x34&quot;</span>
<span id="L22744" class="LineNr">22744 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22745" class="LineNr">22745 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L22746" class="LineNr">22746 </span><span class="Constant">$test-add-literal-to-reg:initialize-inouts</span>:
<span id="L22747" class="LineNr">22747 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L22748" class="LineNr">22748 </span>    68/push 0/imm32/is-deref:false
<span id="L22749" class="LineNr">22749 </span>    68/push 0/imm32/next
<span id="L22750" class="LineNr">22750 </span>    68/push 0/imm32/next
<span id="L22751" class="LineNr">22751 </span>    52/push-edx/l
<span id="L22752" class="LineNr">22752 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22753" class="LineNr">22753 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22754" class="LineNr">22754 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22755" class="LineNr">22755 </span><span class="Constant">$test-add-literal-to-reg:initialize-outputs</span>:
<span id="L22756" class="LineNr">22756 </span>    <span class="subxComment"># var outputs/edi: (payload stmt-var) = [v]</span>
<span id="L22757" class="LineNr">22757 </span>    68/push 0/imm32/is-deref:false
<span id="L22758" class="LineNr">22758 </span>    68/push 0/imm32/next
<span id="L22759" class="LineNr">22759 </span>    68/push 0/imm32/next
<span id="L22760" class="LineNr">22760 </span>    51/push-ecx/v
<span id="L22761" class="LineNr">22761 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22762" class="LineNr">22762 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22763" class="LineNr">22763 </span>    89/&lt;- %edi 4/r32/esp
<span id="L22764" class="LineNr">22764 </span><span class="Constant">$test-add-literal-to-reg:initialize-stmt</span>:
<span id="L22765" class="LineNr">22765 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22766" class="LineNr">22766 </span>    68/push 0/imm32/next
<span id="L22767" class="LineNr">22767 </span>    68/push 0/imm32/next
<span id="L22768" class="LineNr">22768 </span>    57/push-edi/outputs
<span id="L22769" class="LineNr">22769 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22770" class="LineNr">22770 </span>    56/push-esi/inouts
<span id="L22771" class="LineNr">22771 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22772" class="LineNr">22772 </span>    68/push 0/imm32/operation
<span id="L22773" class="LineNr">22773 </span>    68/push 0/imm32/operation
<span id="L22774" class="LineNr">22774 </span>    68/push 1/imm32/tag:stmt1
<span id="L22775" class="LineNr">22775 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22776" class="LineNr">22776 </span><span class="Constant">$test-add-literal-to-reg:initialize-stmt-operation</span>:
<span id="L22777" class="LineNr">22777 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;add&quot;</span>
<span id="L22778" class="LineNr">22778 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22779" class="LineNr">22779 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;add&quot;</span> %eax)
<span id="L22780" class="LineNr">22780 </span>    <span class="subxComment"># convert</span>
<span id="L22781" class="LineNr">22781 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22782" class="LineNr">22782 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22783" class="LineNr">22783 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22784" class="Folded">22784 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22790" class="LineNr">22790 </span>    <span class="subxComment"># check output</span>
<span id="L22791" class="LineNr">22791 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;81 0/subop/add %ecx 0x34/imm32&quot;</span> <span class="Constant">&quot;F - test-add-literal-to-reg&quot;</span>)
<span id="L22792" class="LineNr">22792 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22793" class="LineNr">22793 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22794" class="LineNr">22794 </span>    5d/pop-to-ebp
<span id="L22795" class="LineNr">22795 </span>    c3/return
<span id="L22796" class="LineNr">22796 </span>
<span id="L22797" class="LineNr">22797 </span><span class="subxTest">test-add-literal-to-mem</span>:
<span id="L22798" class="LineNr">22798 </span>    <span class="subxComment">#   add-to var1, 0x34</span>
<span id="L22799" class="LineNr">22799 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22800" class="LineNr">22800 </span>    <span class="subxComment">#   81 0/subop/add %eax 0x34/imm32</span>
<span id="L22801" class="LineNr">22801 </span>    <span class="subxComment">#</span>
<span id="L22802" class="LineNr">22802 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22803" class="LineNr">22803 </span>    55/push-ebp
<span id="L22804" class="LineNr">22804 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22805" class="LineNr">22805 </span>    <span class="subxComment"># setup</span>
<span id="L22806" class="LineNr">22806 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22807" class="LineNr">22807 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22808" class="LineNr">22808 </span><span class="Constant">$test-add-literal-to-mem:initialize-type</span>:
<span id="L22809" class="LineNr">22809 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22810" class="LineNr">22810 </span>    68/push 0/imm32/right:null
<span id="L22811" class="LineNr">22811 </span>    68/push 0/imm32/right:null
<span id="L22812" class="LineNr">22812 </span>    68/push 0/imm32/left:unused
<span id="L22813" class="LineNr">22813 </span>    68/push 1/imm32/value:int
<span id="L22814" class="LineNr">22814 </span>    68/push 1/imm32/is-atom?:true
<span id="L22815" class="LineNr">22815 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22816" class="LineNr">22816 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22817" class="LineNr">22817 </span><span class="Constant">$test-add-literal-to-mem:initialize-var1</span>:
<span id="L22818" class="LineNr">22818 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L22819" class="LineNr">22819 </span>    68/push 0/imm32/register
<span id="L22820" class="LineNr">22820 </span>    68/push 0/imm32/register
<span id="L22821" class="LineNr">22821 </span>    68/push 8/imm32/stack-offset
<span id="L22822" class="LineNr">22822 </span>    68/push 1/imm32/block-depth
<span id="L22823" class="LineNr">22823 </span>    51/push-ecx
<span id="L22824" class="LineNr">22824 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22825" class="LineNr">22825 </span>    68/push 0/imm32/name
<span id="L22826" class="LineNr">22826 </span>    68/push 0/imm32/name
<span id="L22827" class="LineNr">22827 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22828" class="LineNr">22828 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22829" class="LineNr">22829 </span><span class="Constant">$test-add-literal-to-mem:initialize-var1-name</span>:
<span id="L22830" class="LineNr">22830 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L22831" class="LineNr">22831 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22832" class="LineNr">22832 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L22833" class="LineNr">22833 </span><span class="Constant">$test-add-literal-to-mem:initialize-literal-type</span>:
<span id="L22834" class="LineNr">22834 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L22835" class="LineNr">22835 </span>    68/push 0/imm32/right:null
<span id="L22836" class="LineNr">22836 </span>    68/push 0/imm32/right:null
<span id="L22837" class="LineNr">22837 </span>    68/push 0/imm32/left:unused
<span id="L22838" class="LineNr">22838 </span>    68/push 0/imm32/value:literal
<span id="L22839" class="LineNr">22839 </span>    68/push 1/imm32/is-atom?:true
<span id="L22840" class="LineNr">22840 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22841" class="LineNr">22841 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22842" class="LineNr">22842 </span><span class="Constant">$test-add-literal-to-mem:initialize-literal</span>:
<span id="L22843" class="LineNr">22843 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L22844" class="LineNr">22844 </span>    68/push 0/imm32/register
<span id="L22845" class="LineNr">22845 </span>    68/push 0/imm32/register
<span id="L22846" class="LineNr">22846 </span>    68/push 0/imm32/no-stack-offset
<span id="L22847" class="LineNr">22847 </span>    68/push 1/imm32/block-depth
<span id="L22848" class="LineNr">22848 </span>    52/push-edx
<span id="L22849" class="LineNr">22849 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22850" class="LineNr">22850 </span>    68/push 0/imm32/name
<span id="L22851" class="LineNr">22851 </span>    68/push 0/imm32/name
<span id="L22852" class="LineNr">22852 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22853" class="LineNr">22853 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22854" class="LineNr">22854 </span><span class="Constant">$test-add-literal-to-mem:initialize-literal-value</span>:
<span id="L22855" class="LineNr">22855 </span>    <span class="subxComment"># l-&gt;name = &quot;0x34&quot;</span>
<span id="L22856" class="LineNr">22856 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22857" class="LineNr">22857 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L22858" class="LineNr">22858 </span><span class="Constant">$test-add-literal-to-mem:initialize-inouts</span>:
<span id="L22859" class="LineNr">22859 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L22860" class="LineNr">22860 </span>    68/push 0/imm32/is-deref:false
<span id="L22861" class="LineNr">22861 </span>    68/push 0/imm32/next
<span id="L22862" class="LineNr">22862 </span>    68/push 0/imm32/next
<span id="L22863" class="LineNr">22863 </span>    52/push-edx/l
<span id="L22864" class="LineNr">22864 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22865" class="LineNr">22865 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22866" class="LineNr">22866 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22867" class="LineNr">22867 </span>    <span class="subxComment"># var inouts = (handle stmt-var) = [var1, var2]</span>
<span id="L22868" class="LineNr">22868 </span>    68/push 0/imm32/is-deref:false
<span id="L22869" class="LineNr">22869 </span>    56/push-esi/next
<span id="L22870" class="LineNr">22870 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22871" class="LineNr">22871 </span>    51/push-ecx/var1
<span id="L22872" class="LineNr">22872 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22873" class="LineNr">22873 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22874" class="LineNr">22874 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22875" class="LineNr">22875 </span><span class="Constant">$test-add-literal-to-mem:initialize-stmt</span>:
<span id="L22876" class="LineNr">22876 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22877" class="LineNr">22877 </span>    68/push 0/imm32/next
<span id="L22878" class="LineNr">22878 </span>    68/push 0/imm32/next
<span id="L22879" class="LineNr">22879 </span>    68/push 0/imm32/outputs
<span id="L22880" class="LineNr">22880 </span>    68/push 0/imm32/outputs
<span id="L22881" class="LineNr">22881 </span>    56/push-esi/inouts
<span id="L22882" class="LineNr">22882 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22883" class="LineNr">22883 </span>    68/push 0/imm32/operation
<span id="L22884" class="LineNr">22884 </span>    68/push 0/imm32/operation
<span id="L22885" class="LineNr">22885 </span>    68/push 1/imm32/tag:stmt1
<span id="L22886" class="LineNr">22886 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22887" class="LineNr">22887 </span><span class="Constant">$test-add-literal-to-mem:initialize-stmt-operation</span>:
<span id="L22888" class="LineNr">22888 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;add-to&quot;</span>
<span id="L22889" class="LineNr">22889 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L22890" class="LineNr">22890 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;add-to&quot;</span> %eax)
<span id="L22891" class="LineNr">22891 </span>    <span class="subxComment"># convert</span>
<span id="L22892" class="LineNr">22892 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L22893" class="LineNr">22893 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L22894" class="LineNr">22894 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L22895" class="Folded">22895 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L22901" class="LineNr">22901 </span>    <span class="subxComment"># check output</span>
<span id="L22902" class="LineNr">22902 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;81 0/subop/add *(ebp+0x00000008) 0x34/imm32&quot;</span> <span class="Constant">&quot;F - test-add-literal-to-mem&quot;</span>)
<span id="L22903" class="LineNr">22903 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L22904" class="LineNr">22904 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L22905" class="LineNr">22905 </span>    5d/pop-to-ebp
<span id="L22906" class="LineNr">22906 </span>    c3/return
<span id="L22907" class="LineNr">22907 </span>
<span id="L22908" class="LineNr">22908 </span><span class="subxTest">test-shift-reg-by-literal</span>:
<span id="L22909" class="LineNr">22909 </span>    <span class="subxComment">#   var1/ecx &lt;- shift-left 2</span>
<span id="L22910" class="LineNr">22910 </span>    <span class="subxComment"># =&gt;</span>
<span id="L22911" class="LineNr">22911 </span>    <span class="subxComment">#   c1/shift 4/subop/left %ecx 2/imm8</span>
<span id="L22912" class="LineNr">22912 </span>    <span class="subxComment">#</span>
<span id="L22913" class="LineNr">22913 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L22914" class="LineNr">22914 </span>    55/push-ebp
<span id="L22915" class="LineNr">22915 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L22916" class="LineNr">22916 </span>    <span class="subxComment"># setup</span>
<span id="L22917" class="LineNr">22917 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L22918" class="LineNr">22918 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L22919" class="LineNr">22919 </span><span class="Constant">$test-shift-reg-by-literal:initialize-var-type</span>:
<span id="L22920" class="LineNr">22920 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L22921" class="LineNr">22921 </span>    68/push 0/imm32/right:null
<span id="L22922" class="LineNr">22922 </span>    68/push 0/imm32/right:null
<span id="L22923" class="LineNr">22923 </span>    68/push 0/imm32/left:unused
<span id="L22924" class="LineNr">22924 </span>    68/push 1/imm32/value:int
<span id="L22925" class="LineNr">22925 </span>    68/push 1/imm32/is-atom?:true
<span id="L22926" class="LineNr">22926 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22927" class="LineNr">22927 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22928" class="LineNr">22928 </span><span class="Constant">$test-shift-reg-by-literal:initialize-var</span>:
<span id="L22929" class="LineNr">22929 </span>    <span class="subxComment"># var v/ecx: (payload var)</span>
<span id="L22930" class="LineNr">22930 </span>    68/push 0/imm32/register
<span id="L22931" class="LineNr">22931 </span>    68/push 0/imm32/register
<span id="L22932" class="LineNr">22932 </span>    68/push 0/imm32/no-stack-offset
<span id="L22933" class="LineNr">22933 </span>    68/push 1/imm32/block-depth
<span id="L22934" class="LineNr">22934 </span>    51/push-ecx
<span id="L22935" class="LineNr">22935 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22936" class="LineNr">22936 </span>    68/push 0/imm32/name
<span id="L22937" class="LineNr">22937 </span>    68/push 0/imm32/name
<span id="L22938" class="LineNr">22938 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22939" class="LineNr">22939 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L22940" class="LineNr">22940 </span><span class="Constant">$test-shift-reg-by-literal:initialize-var-name</span>:
<span id="L22941" class="LineNr">22941 </span>    <span class="subxComment"># v-&gt;name = &quot;v&quot;</span>
<span id="L22942" class="LineNr">22942 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22943" class="LineNr">22943 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;v&quot;</span> %eax)
<span id="L22944" class="LineNr">22944 </span><span class="Constant">$test-shift-reg-by-literal:initialize-var-register</span>:
<span id="L22945" class="LineNr">22945 </span>    <span class="subxComment"># v-&gt;register = &quot;ecx&quot;</span>
<span id="L22946" class="LineNr">22946 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L22947" class="LineNr">22947 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ecx&quot;</span> %eax)
<span id="L22948" class="LineNr">22948 </span><span class="Constant">$test-shift-reg-by-literal:initialize-literal-type</span>:
<span id="L22949" class="LineNr">22949 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L22950" class="LineNr">22950 </span>    68/push 0/imm32/right:null
<span id="L22951" class="LineNr">22951 </span>    68/push 0/imm32/right:null
<span id="L22952" class="LineNr">22952 </span>    68/push 0/imm32/left:unused
<span id="L22953" class="LineNr">22953 </span>    68/push 0/imm32/value:literal
<span id="L22954" class="LineNr">22954 </span>    68/push 1/imm32/is-atom?:true
<span id="L22955" class="LineNr">22955 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22956" class="LineNr">22956 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22957" class="LineNr">22957 </span><span class="Constant">$test-shift-reg-by-literal:initialize-literal</span>:
<span id="L22958" class="LineNr">22958 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L22959" class="LineNr">22959 </span>    68/push 0/imm32/register
<span id="L22960" class="LineNr">22960 </span>    68/push 0/imm32/register
<span id="L22961" class="LineNr">22961 </span>    68/push 0/imm32/no-stack-offset
<span id="L22962" class="LineNr">22962 </span>    68/push 1/imm32/block-depth
<span id="L22963" class="LineNr">22963 </span>    52/push-edx
<span id="L22964" class="LineNr">22964 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22965" class="LineNr">22965 </span>    68/push 0/imm32/name
<span id="L22966" class="LineNr">22966 </span>    68/push 0/imm32/name
<span id="L22967" class="LineNr">22967 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22968" class="LineNr">22968 </span>    89/&lt;- %edx 4/r32/esp
<span id="L22969" class="LineNr">22969 </span><span class="Constant">$test-shift-reg-by-literal:initialize-literal-value</span>:
<span id="L22970" class="LineNr">22970 </span>    <span class="subxComment"># l-&gt;name = &quot;2&quot;</span>
<span id="L22971" class="LineNr">22971 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L22972" class="LineNr">22972 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;2&quot;</span> %eax)
<span id="L22973" class="LineNr">22973 </span><span class="Constant">$test-shift-reg-by-literal:initialize-inouts</span>:
<span id="L22974" class="LineNr">22974 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L22975" class="LineNr">22975 </span>    68/push 0/imm32/is-deref:false
<span id="L22976" class="LineNr">22976 </span>    68/push 0/imm32/next
<span id="L22977" class="LineNr">22977 </span>    68/push 0/imm32/next
<span id="L22978" class="LineNr">22978 </span>    52/push-edx/l
<span id="L22979" class="LineNr">22979 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22980" class="LineNr">22980 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22981" class="LineNr">22981 </span>    89/&lt;- %esi 4/r32/esp
<span id="L22982" class="LineNr">22982 </span><span class="Constant">$test-shift-reg-by-literal:initialize-outputs</span>:
<span id="L22983" class="LineNr">22983 </span>    <span class="subxComment"># var outputs/edi: (payload stmt-var) = [v]</span>
<span id="L22984" class="LineNr">22984 </span>    68/push 0/imm32/is-deref:false
<span id="L22985" class="LineNr">22985 </span>    68/push 0/imm32/next
<span id="L22986" class="LineNr">22986 </span>    68/push 0/imm32/next
<span id="L22987" class="LineNr">22987 </span>    51/push-ecx/v
<span id="L22988" class="LineNr">22988 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22989" class="LineNr">22989 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L22990" class="LineNr">22990 </span>    89/&lt;- %edi 4/r32/esp
<span id="L22991" class="LineNr">22991 </span><span class="Constant">$test-shift-reg-by-literal:initialize-stmt</span>:
<span id="L22992" class="LineNr">22992 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L22993" class="LineNr">22993 </span>    68/push 0/imm32/next
<span id="L22994" class="LineNr">22994 </span>    68/push 0/imm32/next
<span id="L22995" class="LineNr">22995 </span>    57/push-edi/outputs
<span id="L22996" class="LineNr">22996 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22997" class="LineNr">22997 </span>    56/push-esi/inouts
<span id="L22998" class="LineNr">22998 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L22999" class="LineNr">22999 </span>    68/push 0/imm32/operation
<span id="L23000" class="LineNr">23000 </span>    68/push 0/imm32/operation
<span id="L23001" class="LineNr">23001 </span>    68/push 1/imm32/tag:stmt1
<span id="L23002" class="LineNr">23002 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23003" class="LineNr">23003 </span><span class="Constant">$test-shift-reg-by-literal:initialize-stmt-operation</span>:
<span id="L23004" class="LineNr">23004 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;shift-left&quot;</span>
<span id="L23005" class="LineNr">23005 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23006" class="LineNr">23006 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;shift-left&quot;</span> %eax)
<span id="L23007" class="LineNr">23007 </span>    <span class="subxComment"># convert</span>
<span id="L23008" class="LineNr">23008 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23009" class="LineNr">23009 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23010" class="LineNr">23010 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23011" class="Folded">23011 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23017" class="LineNr">23017 </span>    <span class="subxComment"># check output</span>
<span id="L23018" class="LineNr">23018 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;c1/shift 4/subop/left %ecx 2/imm8&quot;</span> <span class="Constant">&quot;F - test-shift-reg-by-literal&quot;</span>)
<span id="L23019" class="LineNr">23019 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23020" class="LineNr">23020 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23021" class="LineNr">23021 </span>    5d/pop-to-ebp
<span id="L23022" class="LineNr">23022 </span>    c3/return
<span id="L23023" class="LineNr">23023 </span>
<span id="L23024" class="LineNr">23024 </span><span class="subxTest">test-shift-mem-by-literal</span>:
<span id="L23025" class="LineNr">23025 </span>    <span class="subxComment">#   shift-left var 3</span>
<span id="L23026" class="LineNr">23026 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23027" class="LineNr">23027 </span>    <span class="subxComment">#   c1/shift 4/subop/left *(ebp+8) 3/imm8</span>
<span id="L23028" class="LineNr">23028 </span>    <span class="subxComment">#</span>
<span id="L23029" class="LineNr">23029 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23030" class="LineNr">23030 </span>    55/push-ebp
<span id="L23031" class="LineNr">23031 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23032" class="LineNr">23032 </span>    <span class="subxComment"># setup</span>
<span id="L23033" class="LineNr">23033 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23034" class="LineNr">23034 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23035" class="LineNr">23035 </span><span class="Constant">$test-shift-mem-by-literal:initialize-type</span>:
<span id="L23036" class="LineNr">23036 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23037" class="LineNr">23037 </span>    68/push 0/imm32/right:null
<span id="L23038" class="LineNr">23038 </span>    68/push 0/imm32/right:null
<span id="L23039" class="LineNr">23039 </span>    68/push 0/imm32/left:unused
<span id="L23040" class="LineNr">23040 </span>    68/push 1/imm32/value:int
<span id="L23041" class="LineNr">23041 </span>    68/push 1/imm32/is-atom?:true
<span id="L23042" class="LineNr">23042 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23043" class="LineNr">23043 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23044" class="LineNr">23044 </span><span class="Constant">$test-shift-mem-by-literal:initialize-var1</span>:
<span id="L23045" class="LineNr">23045 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23046" class="LineNr">23046 </span>    68/push 0/imm32/register
<span id="L23047" class="LineNr">23047 </span>    68/push 0/imm32/register
<span id="L23048" class="LineNr">23048 </span>    68/push 8/imm32/stack-offset
<span id="L23049" class="LineNr">23049 </span>    68/push 1/imm32/block-depth
<span id="L23050" class="LineNr">23050 </span>    51/push-ecx
<span id="L23051" class="LineNr">23051 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23052" class="LineNr">23052 </span>    68/push 0/imm32/name
<span id="L23053" class="LineNr">23053 </span>    68/push 0/imm32/name
<span id="L23054" class="LineNr">23054 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23055" class="LineNr">23055 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23056" class="LineNr">23056 </span><span class="Constant">$test-shift-mem-by-literal:initialize-var1-name</span>:
<span id="L23057" class="LineNr">23057 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23058" class="LineNr">23058 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23059" class="LineNr">23059 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23060" class="LineNr">23060 </span><span class="Constant">$test-shift-mem-by-literal:initialize-literal-type</span>:
<span id="L23061" class="LineNr">23061 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L23062" class="LineNr">23062 </span>    68/push 0/imm32/right:null
<span id="L23063" class="LineNr">23063 </span>    68/push 0/imm32/right:null
<span id="L23064" class="LineNr">23064 </span>    68/push 0/imm32/left:unused
<span id="L23065" class="LineNr">23065 </span>    68/push 0/imm32/value:literal
<span id="L23066" class="LineNr">23066 </span>    68/push 1/imm32/is-atom?:true
<span id="L23067" class="LineNr">23067 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23068" class="LineNr">23068 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23069" class="LineNr">23069 </span><span class="Constant">$test-shift-mem-by-literal:initialize-literal</span>:
<span id="L23070" class="LineNr">23070 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L23071" class="LineNr">23071 </span>    68/push 0/imm32/register
<span id="L23072" class="LineNr">23072 </span>    68/push 0/imm32/register
<span id="L23073" class="LineNr">23073 </span>    68/push 0/imm32/no-stack-offset
<span id="L23074" class="LineNr">23074 </span>    68/push 1/imm32/block-depth
<span id="L23075" class="LineNr">23075 </span>    52/push-edx
<span id="L23076" class="LineNr">23076 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23077" class="LineNr">23077 </span>    68/push 0/imm32/name
<span id="L23078" class="LineNr">23078 </span>    68/push 0/imm32/name
<span id="L23079" class="LineNr">23079 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23080" class="LineNr">23080 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23081" class="LineNr">23081 </span><span class="Constant">$test-shift-mem-by-literal:initialize-literal-value</span>:
<span id="L23082" class="LineNr">23082 </span>    <span class="subxComment"># l-&gt;name = &quot;3&quot;</span>
<span id="L23083" class="LineNr">23083 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23084" class="LineNr">23084 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;3&quot;</span> %eax)
<span id="L23085" class="LineNr">23085 </span><span class="Constant">$test-shift-mem-by-literal:initialize-inouts</span>:
<span id="L23086" class="LineNr">23086 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L23087" class="LineNr">23087 </span>    68/push 0/imm32/is-deref:false
<span id="L23088" class="LineNr">23088 </span>    68/push 0/imm32/next
<span id="L23089" class="LineNr">23089 </span>    68/push 0/imm32/next
<span id="L23090" class="LineNr">23090 </span>    52/push-edx/l
<span id="L23091" class="LineNr">23091 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23092" class="LineNr">23092 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23093" class="LineNr">23093 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23094" class="LineNr">23094 </span>    <span class="subxComment"># var inouts = (handle stmt-var) = [var1, var2]</span>
<span id="L23095" class="LineNr">23095 </span>    68/push 0/imm32/is-deref:false
<span id="L23096" class="LineNr">23096 </span>    56/push-esi/next
<span id="L23097" class="LineNr">23097 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23098" class="LineNr">23098 </span>    51/push-ecx/var1
<span id="L23099" class="LineNr">23099 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23100" class="LineNr">23100 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23101" class="LineNr">23101 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23102" class="LineNr">23102 </span><span class="Constant">$test-shift-mem-by-literal:initialize-stmt</span>:
<span id="L23103" class="LineNr">23103 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23104" class="LineNr">23104 </span>    68/push 0/imm32/next
<span id="L23105" class="LineNr">23105 </span>    68/push 0/imm32/next
<span id="L23106" class="LineNr">23106 </span>    68/push 0/imm32/outputs
<span id="L23107" class="LineNr">23107 </span>    68/push 0/imm32/outputs
<span id="L23108" class="LineNr">23108 </span>    56/push-esi/inouts
<span id="L23109" class="LineNr">23109 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23110" class="LineNr">23110 </span>    68/push 0/imm32/operation
<span id="L23111" class="LineNr">23111 </span>    68/push 0/imm32/operation
<span id="L23112" class="LineNr">23112 </span>    68/push 1/imm32/tag:stmt1
<span id="L23113" class="LineNr">23113 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23114" class="LineNr">23114 </span><span class="Constant">$test-shift-mem-by-literal:initialize-stmt-operation</span>:
<span id="L23115" class="LineNr">23115 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;shift-left&quot;</span>
<span id="L23116" class="LineNr">23116 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23117" class="LineNr">23117 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;shift-left&quot;</span> %eax)
<span id="L23118" class="LineNr">23118 </span>    <span class="subxComment"># convert</span>
<span id="L23119" class="LineNr">23119 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23120" class="LineNr">23120 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23121" class="LineNr">23121 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23122" class="Folded">23122 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23128" class="LineNr">23128 </span>    <span class="subxComment"># check output</span>
<span id="L23129" class="LineNr">23129 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;c1/shift 4/subop/left *(ebp+0x00000008) 3/imm8&quot;</span> <span class="Constant">&quot;F - test-shift-mem-by-literal&quot;</span>)
<span id="L23130" class="LineNr">23130 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23131" class="LineNr">23131 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23132" class="LineNr">23132 </span>    5d/pop-to-ebp
<span id="L23133" class="LineNr">23133 </span>    c3/return
<span id="L23134" class="LineNr">23134 </span>
<span id="L23135" class="LineNr">23135 </span><span class="subxTest">test-compare-reg-with-reg</span>:
<span id="L23136" class="LineNr">23136 </span>    <span class="subxComment">#   compare var1/ecx, var2/eax</span>
<span id="L23137" class="LineNr">23137 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23138" class="LineNr">23138 </span>    <span class="subxComment">#   39/compare %ecx 0/r32/eax</span>
<span id="L23139" class="LineNr">23139 </span>    <span class="subxComment">#</span>
<span id="L23140" class="LineNr">23140 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23141" class="LineNr">23141 </span>    55/push-ebp
<span id="L23142" class="LineNr">23142 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23143" class="LineNr">23143 </span>    <span class="subxComment"># setup</span>
<span id="L23144" class="LineNr">23144 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23145" class="LineNr">23145 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23146" class="LineNr">23146 </span><span class="Constant">$test-compare-reg-with-reg:initialize-type</span>:
<span id="L23147" class="LineNr">23147 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23148" class="LineNr">23148 </span>    68/push 0/imm32/right:null
<span id="L23149" class="LineNr">23149 </span>    68/push 0/imm32/right:null
<span id="L23150" class="LineNr">23150 </span>    68/push 0/imm32/left:unused
<span id="L23151" class="LineNr">23151 </span>    68/push 1/imm32/value:int
<span id="L23152" class="LineNr">23152 </span>    68/push 1/imm32/is-atom?:true
<span id="L23153" class="LineNr">23153 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23154" class="LineNr">23154 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23155" class="LineNr">23155 </span><span class="Constant">$test-compare-reg-with-reg:initialize-var1</span>:
<span id="L23156" class="LineNr">23156 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23157" class="LineNr">23157 </span>    68/push 0/imm32/register
<span id="L23158" class="LineNr">23158 </span>    68/push 0/imm32/register
<span id="L23159" class="LineNr">23159 </span>    68/push 0/imm32/no-stack-offset
<span id="L23160" class="LineNr">23160 </span>    68/push 1/imm32/block-depth
<span id="L23161" class="LineNr">23161 </span>    51/push-ecx
<span id="L23162" class="LineNr">23162 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23163" class="LineNr">23163 </span>    68/push 0/imm32/name
<span id="L23164" class="LineNr">23164 </span>    68/push 0/imm32/name
<span id="L23165" class="LineNr">23165 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23166" class="LineNr">23166 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23167" class="LineNr">23167 </span><span class="Constant">$test-compare-reg-with-reg:initialize-var1-name</span>:
<span id="L23168" class="LineNr">23168 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23169" class="LineNr">23169 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23170" class="LineNr">23170 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23171" class="LineNr">23171 </span><span class="Constant">$test-compare-reg-with-reg:initialize-var1-register</span>:
<span id="L23172" class="LineNr">23172 </span>    <span class="subxComment"># var1-&gt;register = &quot;ecx&quot;</span>
<span id="L23173" class="LineNr">23173 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L23174" class="LineNr">23174 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ecx&quot;</span> %eax)
<span id="L23175" class="LineNr">23175 </span><span class="Constant">$test-compare-reg-with-reg:initialize-var2</span>:
<span id="L23176" class="LineNr">23176 </span>    <span class="subxComment"># var var2/edx: (payload var)</span>
<span id="L23177" class="LineNr">23177 </span>    68/push 0/imm32/register
<span id="L23178" class="LineNr">23178 </span>    68/push 0/imm32/register
<span id="L23179" class="LineNr">23179 </span>    68/push 0/imm32/no-stack-offset
<span id="L23180" class="LineNr">23180 </span>    68/push 1/imm32/block-depth
<span id="L23181" class="LineNr">23181 </span>    ff 6/subop/push *(ecx+0x10)
<span id="L23182" class="LineNr">23182 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23183" class="LineNr">23183 </span>    68/push 0/imm32/name
<span id="L23184" class="LineNr">23184 </span>    68/push 0/imm32/name
<span id="L23185" class="LineNr">23185 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23186" class="LineNr">23186 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23187" class="LineNr">23187 </span><span class="Constant">$test-compare-reg-with-reg:initialize-var2-name</span>:
<span id="L23188" class="LineNr">23188 </span>    <span class="subxComment"># var2-&gt;name = &quot;var2&quot;</span>
<span id="L23189" class="LineNr">23189 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23190" class="LineNr">23190 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var2&quot;</span> %eax)
<span id="L23191" class="LineNr">23191 </span><span class="Constant">$test-compare-reg-with-reg:initialize-var2-register</span>:
<span id="L23192" class="LineNr">23192 </span>    <span class="subxComment"># var2-&gt;register = &quot;eax&quot;</span>
<span id="L23193" class="LineNr">23193 </span>    8d/copy-address *(edx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L23194" class="LineNr">23194 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L23195" class="LineNr">23195 </span><span class="Constant">$test-compare-reg-with-reg:initialize-inouts</span>:
<span id="L23196" class="LineNr">23196 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [var2]</span>
<span id="L23197" class="LineNr">23197 </span>    68/push 0/imm32/is-deref:false
<span id="L23198" class="LineNr">23198 </span>    68/push 0/imm32/next
<span id="L23199" class="LineNr">23199 </span>    68/push 0/imm32/next
<span id="L23200" class="LineNr">23200 </span>    52/push-edx/var2
<span id="L23201" class="LineNr">23201 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23202" class="LineNr">23202 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23203" class="LineNr">23203 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23204" class="LineNr">23204 </span>    <span class="subxComment"># inouts = [var1, var2]</span>
<span id="L23205" class="LineNr">23205 </span>    68/push 0/imm32/is-deref:false
<span id="L23206" class="LineNr">23206 </span>    56/push-esi/next
<span id="L23207" class="LineNr">23207 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23208" class="LineNr">23208 </span>    51/push-ecx/var1
<span id="L23209" class="LineNr">23209 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23210" class="LineNr">23210 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23211" class="LineNr">23211 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23212" class="LineNr">23212 </span><span class="Constant">$test-compare-reg-with-reg:initialize-stmt</span>:
<span id="L23213" class="LineNr">23213 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23214" class="LineNr">23214 </span>    68/push 0/imm32/next
<span id="L23215" class="LineNr">23215 </span>    68/push 0/imm32/next
<span id="L23216" class="LineNr">23216 </span>    68/push 0/imm32/outputs
<span id="L23217" class="LineNr">23217 </span>    68/push 0/imm32/outputs
<span id="L23218" class="LineNr">23218 </span>    56/push-esi/inouts
<span id="L23219" class="LineNr">23219 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23220" class="LineNr">23220 </span>    68/push 0/imm32/operation
<span id="L23221" class="LineNr">23221 </span>    68/push 0/imm32/operation
<span id="L23222" class="LineNr">23222 </span>    68/push 1/imm32/tag:stmt1
<span id="L23223" class="LineNr">23223 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23224" class="LineNr">23224 </span><span class="Constant">$test-compare-reg-with-reg:initialize-stmt-operation</span>:
<span id="L23225" class="LineNr">23225 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;compare&quot;</span>
<span id="L23226" class="LineNr">23226 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23227" class="LineNr">23227 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;compare&quot;</span> %eax)
<span id="L23228" class="LineNr">23228 </span>    <span class="subxComment"># convert</span>
<span id="L23229" class="LineNr">23229 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23230" class="LineNr">23230 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23231" class="LineNr">23231 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23232" class="Folded">23232 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23238" class="LineNr">23238 </span>    <span class="subxComment"># check output</span>
<span id="L23239" class="LineNr">23239 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;39/compare-&gt; %ecx 0x00000000/r32&quot;</span> <span class="Constant">&quot;F - test-compare-reg-with-reg&quot;</span>)
<span id="L23240" class="LineNr">23240 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23241" class="LineNr">23241 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23242" class="LineNr">23242 </span>    5d/pop-to-ebp
<span id="L23243" class="LineNr">23243 </span>    c3/return
<span id="L23244" class="LineNr">23244 </span>
<span id="L23245" class="LineNr">23245 </span><span class="subxTest">test-compare-mem-with-reg</span>:
<span id="L23246" class="LineNr">23246 </span>    <span class="subxComment">#   compare var1, var2/eax</span>
<span id="L23247" class="LineNr">23247 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23248" class="LineNr">23248 </span>    <span class="subxComment">#   39/compare *(ebp+___) 0/r32/eax</span>
<span id="L23249" class="LineNr">23249 </span>    <span class="subxComment">#</span>
<span id="L23250" class="LineNr">23250 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23251" class="LineNr">23251 </span>    55/push-ebp
<span id="L23252" class="LineNr">23252 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23253" class="LineNr">23253 </span>    <span class="subxComment"># setup</span>
<span id="L23254" class="LineNr">23254 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23255" class="LineNr">23255 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23256" class="LineNr">23256 </span><span class="Constant">$test-compare-mem-with-reg:initialize-type</span>:
<span id="L23257" class="LineNr">23257 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23258" class="LineNr">23258 </span>    68/push 0/imm32/right:null
<span id="L23259" class="LineNr">23259 </span>    68/push 0/imm32/right:null
<span id="L23260" class="LineNr">23260 </span>    68/push 0/imm32/left:unused
<span id="L23261" class="LineNr">23261 </span>    68/push 1/imm32/value:int
<span id="L23262" class="LineNr">23262 </span>    68/push 1/imm32/is-atom?:true
<span id="L23263" class="LineNr">23263 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23264" class="LineNr">23264 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23265" class="LineNr">23265 </span><span class="Constant">$test-compare-mem-with-reg:initialize-var1</span>:
<span id="L23266" class="LineNr">23266 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23267" class="LineNr">23267 </span>    68/push 0/imm32/register
<span id="L23268" class="LineNr">23268 </span>    68/push 0/imm32/register
<span id="L23269" class="LineNr">23269 </span>    68/push 8/imm32/stack-offset
<span id="L23270" class="LineNr">23270 </span>    68/push 1/imm32/block-depth
<span id="L23271" class="LineNr">23271 </span>    51/push-ecx
<span id="L23272" class="LineNr">23272 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23273" class="LineNr">23273 </span>    68/push 0/imm32/name
<span id="L23274" class="LineNr">23274 </span>    68/push 0/imm32/name
<span id="L23275" class="LineNr">23275 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23276" class="LineNr">23276 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23277" class="LineNr">23277 </span><span class="Constant">$test-compare-mem-with-reg:initialize-var1-name</span>:
<span id="L23278" class="LineNr">23278 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23279" class="LineNr">23279 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23280" class="LineNr">23280 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23281" class="LineNr">23281 </span><span class="Constant">$test-compare-mem-with-reg:initialize-var2</span>:
<span id="L23282" class="LineNr">23282 </span>    <span class="subxComment"># var var2/edx: (payload var)</span>
<span id="L23283" class="LineNr">23283 </span>    68/push 0/imm32/register
<span id="L23284" class="LineNr">23284 </span>    68/push 0/imm32/register
<span id="L23285" class="LineNr">23285 </span>    68/push 0/imm32/no-stack-offset
<span id="L23286" class="LineNr">23286 </span>    68/push 1/imm32/block-depth
<span id="L23287" class="LineNr">23287 </span>    ff 6/subop/push *(ecx+0x10)
<span id="L23288" class="LineNr">23288 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23289" class="LineNr">23289 </span>    68/push 0/imm32/name
<span id="L23290" class="LineNr">23290 </span>    68/push 0/imm32/name
<span id="L23291" class="LineNr">23291 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23292" class="LineNr">23292 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23293" class="LineNr">23293 </span><span class="Constant">$test-compare-mem-with-reg:initialize-var2-name</span>:
<span id="L23294" class="LineNr">23294 </span>    <span class="subxComment"># var2-&gt;name = &quot;var2&quot;</span>
<span id="L23295" class="LineNr">23295 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23296" class="LineNr">23296 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var2&quot;</span> %eax)
<span id="L23297" class="LineNr">23297 </span><span class="Constant">$test-compare-mem-with-reg:initialize-var2-register</span>:
<span id="L23298" class="LineNr">23298 </span>    <span class="subxComment"># var2-&gt;register = &quot;eax&quot;</span>
<span id="L23299" class="LineNr">23299 </span>    8d/copy-address *(edx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L23300" class="LineNr">23300 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L23301" class="LineNr">23301 </span><span class="Constant">$test-compare-mem-with-reg:initialize-inouts</span>:
<span id="L23302" class="LineNr">23302 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [var2]</span>
<span id="L23303" class="LineNr">23303 </span>    68/push 0/imm32/is-deref:false
<span id="L23304" class="LineNr">23304 </span>    68/push 0/imm32/next
<span id="L23305" class="LineNr">23305 </span>    68/push 0/imm32/next
<span id="L23306" class="LineNr">23306 </span>    52/push-edx/var2
<span id="L23307" class="LineNr">23307 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23308" class="LineNr">23308 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23309" class="LineNr">23309 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23310" class="LineNr">23310 </span>    <span class="subxComment"># inouts = [var1, var2]</span>
<span id="L23311" class="LineNr">23311 </span>    68/push 0/imm32/is-deref:false
<span id="L23312" class="LineNr">23312 </span>    56/push-esi/next
<span id="L23313" class="LineNr">23313 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23314" class="LineNr">23314 </span>    51/push-ecx/var1
<span id="L23315" class="LineNr">23315 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23316" class="LineNr">23316 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23317" class="LineNr">23317 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23318" class="LineNr">23318 </span><span class="Constant">$test-compare-mem-with-reg:initialize-stmt</span>:
<span id="L23319" class="LineNr">23319 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23320" class="LineNr">23320 </span>    68/push 0/imm32/next
<span id="L23321" class="LineNr">23321 </span>    68/push 0/imm32/next
<span id="L23322" class="LineNr">23322 </span>    68/push 0/imm32/outputs
<span id="L23323" class="LineNr">23323 </span>    68/push 0/imm32/outputs
<span id="L23324" class="LineNr">23324 </span>    56/push-esi/inouts
<span id="L23325" class="LineNr">23325 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23326" class="LineNr">23326 </span>    68/push 0/imm32/operation
<span id="L23327" class="LineNr">23327 </span>    68/push 0/imm32/operation
<span id="L23328" class="LineNr">23328 </span>    68/push 1/imm32/tag:stmt1
<span id="L23329" class="LineNr">23329 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23330" class="LineNr">23330 </span><span class="Constant">$test-compare-mem-with-reg:initialize-stmt-operation</span>:
<span id="L23331" class="LineNr">23331 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;compare&quot;</span>
<span id="L23332" class="LineNr">23332 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23333" class="LineNr">23333 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;compare&quot;</span> %eax)
<span id="L23334" class="LineNr">23334 </span>    <span class="subxComment"># convert</span>
<span id="L23335" class="LineNr">23335 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23336" class="LineNr">23336 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23337" class="LineNr">23337 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23338" class="Folded">23338 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23344" class="LineNr">23344 </span>    <span class="subxComment"># check output</span>
<span id="L23345" class="LineNr">23345 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;39/compare-&gt; *(ebp+0x00000008) 0x00000000/r32&quot;</span> <span class="Constant">&quot;F - test-compare-mem-with-reg&quot;</span>)
<span id="L23346" class="LineNr">23346 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23347" class="LineNr">23347 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23348" class="LineNr">23348 </span>    5d/pop-to-ebp
<span id="L23349" class="LineNr">23349 </span>    c3/return
<span id="L23350" class="LineNr">23350 </span>
<span id="L23351" class="LineNr">23351 </span><span class="subxTest">test-compare-reg-with-mem</span>:
<span id="L23352" class="LineNr">23352 </span>    <span class="subxComment">#   compare var1/eax, var2</span>
<span id="L23353" class="LineNr">23353 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23354" class="LineNr">23354 </span>    <span class="subxComment">#   3b/compare&lt;- *(ebp+___) 0/r32/eax</span>
<span id="L23355" class="LineNr">23355 </span>    <span class="subxComment">#</span>
<span id="L23356" class="LineNr">23356 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23357" class="LineNr">23357 </span>    55/push-ebp
<span id="L23358" class="LineNr">23358 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23359" class="LineNr">23359 </span>    <span class="subxComment"># setup</span>
<span id="L23360" class="LineNr">23360 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23361" class="LineNr">23361 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23362" class="LineNr">23362 </span><span class="Constant">$test-compare-reg-with-mem:initialize-type</span>:
<span id="L23363" class="LineNr">23363 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23364" class="LineNr">23364 </span>    68/push 0/imm32/right:null
<span id="L23365" class="LineNr">23365 </span>    68/push 0/imm32/right:null
<span id="L23366" class="LineNr">23366 </span>    68/push 0/imm32/left:unused
<span id="L23367" class="LineNr">23367 </span>    68/push 1/imm32/value:int
<span id="L23368" class="LineNr">23368 </span>    68/push 1/imm32/is-atom?:true
<span id="L23369" class="LineNr">23369 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23370" class="LineNr">23370 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23371" class="LineNr">23371 </span><span class="Constant">$test-compare-reg-with-mem:initialize-var1</span>:
<span id="L23372" class="LineNr">23372 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23373" class="LineNr">23373 </span>    68/push 0/imm32/register
<span id="L23374" class="LineNr">23374 </span>    68/push 0/imm32/register
<span id="L23375" class="LineNr">23375 </span>    68/push 0/imm32/no-stack-offset
<span id="L23376" class="LineNr">23376 </span>    68/push 1/imm32/block-depth
<span id="L23377" class="LineNr">23377 </span>    51/push-ecx
<span id="L23378" class="LineNr">23378 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23379" class="LineNr">23379 </span>    68/push 0/imm32/name
<span id="L23380" class="LineNr">23380 </span>    68/push 0/imm32/name
<span id="L23381" class="LineNr">23381 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23382" class="LineNr">23382 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23383" class="LineNr">23383 </span><span class="Constant">$test-compare-reg-with-mem:initialize-var1-name</span>:
<span id="L23384" class="LineNr">23384 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23385" class="LineNr">23385 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23386" class="LineNr">23386 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23387" class="LineNr">23387 </span><span class="Constant">$test-compare-reg-with-mem:initialize-var1-register</span>:
<span id="L23388" class="LineNr">23388 </span>    <span class="subxComment"># var1-&gt;register = &quot;eax&quot;</span>
<span id="L23389" class="LineNr">23389 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L23390" class="LineNr">23390 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L23391" class="LineNr">23391 </span><span class="Constant">$test-compare-reg-with-mem:initialize-var2</span>:
<span id="L23392" class="LineNr">23392 </span>    <span class="subxComment"># var var2/edx: (payload var)</span>
<span id="L23393" class="LineNr">23393 </span>    68/push 0/imm32/register
<span id="L23394" class="LineNr">23394 </span>    68/push 0/imm32/register
<span id="L23395" class="LineNr">23395 </span>    68/push 8/imm32/stack-offset
<span id="L23396" class="LineNr">23396 </span>    68/push 1/imm32/block-depth
<span id="L23397" class="LineNr">23397 </span>    ff 6/subop/push *(ecx+0x10)
<span id="L23398" class="LineNr">23398 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23399" class="LineNr">23399 </span>    68/push 0/imm32/name
<span id="L23400" class="LineNr">23400 </span>    68/push 0/imm32/name
<span id="L23401" class="LineNr">23401 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23402" class="LineNr">23402 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23403" class="LineNr">23403 </span><span class="Constant">$test-compare-reg-with-mem:initialize-var2-name</span>:
<span id="L23404" class="LineNr">23404 </span>    <span class="subxComment"># var2-&gt;name = &quot;var2&quot;</span>
<span id="L23405" class="LineNr">23405 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23406" class="LineNr">23406 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var2&quot;</span> %eax)
<span id="L23407" class="LineNr">23407 </span><span class="Constant">$test-compare-reg-with-mem:initialize-inouts</span>:
<span id="L23408" class="LineNr">23408 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [var2]</span>
<span id="L23409" class="LineNr">23409 </span>    68/push 0/imm32/is-deref:false
<span id="L23410" class="LineNr">23410 </span>    68/push 0/imm32/next
<span id="L23411" class="LineNr">23411 </span>    68/push 0/imm32/next
<span id="L23412" class="LineNr">23412 </span>    52/push-edx/var2
<span id="L23413" class="LineNr">23413 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23414" class="LineNr">23414 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23415" class="LineNr">23415 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23416" class="LineNr">23416 </span>    <span class="subxComment"># inouts = [var1, var2]</span>
<span id="L23417" class="LineNr">23417 </span>    68/push 0/imm32/is-deref:false
<span id="L23418" class="LineNr">23418 </span>    56/push-esi/next
<span id="L23419" class="LineNr">23419 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23420" class="LineNr">23420 </span>    51/push-ecx/var1
<span id="L23421" class="LineNr">23421 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23422" class="LineNr">23422 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23423" class="LineNr">23423 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23424" class="LineNr">23424 </span><span class="Constant">$test-compare-reg-with-mem:initialize-stmt</span>:
<span id="L23425" class="LineNr">23425 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23426" class="LineNr">23426 </span>    68/push 0/imm32/next
<span id="L23427" class="LineNr">23427 </span>    68/push 0/imm32/next
<span id="L23428" class="LineNr">23428 </span>    68/push 0/imm32/outputs
<span id="L23429" class="LineNr">23429 </span>    68/push 0/imm32/outputs
<span id="L23430" class="LineNr">23430 </span>    56/push-esi/inouts
<span id="L23431" class="LineNr">23431 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23432" class="LineNr">23432 </span>    68/push 0/imm32/operation
<span id="L23433" class="LineNr">23433 </span>    68/push 0/imm32/operation
<span id="L23434" class="LineNr">23434 </span>    68/push 1/imm32/tag:stmt1
<span id="L23435" class="LineNr">23435 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23436" class="LineNr">23436 </span><span class="Constant">$test-compare-reg-with-mem:initialize-stmt-operation</span>:
<span id="L23437" class="LineNr">23437 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;compare&quot;</span>
<span id="L23438" class="LineNr">23438 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23439" class="LineNr">23439 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;compare&quot;</span> %eax)
<span id="L23440" class="LineNr">23440 </span>    <span class="subxComment"># convert</span>
<span id="L23441" class="LineNr">23441 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23442" class="LineNr">23442 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23443" class="LineNr">23443 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23444" class="Folded">23444 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23450" class="LineNr">23450 </span>    <span class="subxComment"># check output</span>
<span id="L23451" class="LineNr">23451 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;3b/compare&lt;- *(ebp+0x00000008) 0x00000000/r32&quot;</span> <span class="Constant">&quot;F - test-compare-reg-with-mem&quot;</span>)
<span id="L23452" class="LineNr">23452 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23453" class="LineNr">23453 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23454" class="LineNr">23454 </span>    5d/pop-to-ebp
<span id="L23455" class="LineNr">23455 </span>    c3/return
<span id="L23456" class="LineNr">23456 </span>
<span id="L23457" class="LineNr">23457 </span><span class="subxTest">test-compare-mem-with-literal</span>:
<span id="L23458" class="LineNr">23458 </span>    <span class="subxComment">#   compare var1, 0x34</span>
<span id="L23459" class="LineNr">23459 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23460" class="LineNr">23460 </span>    <span class="subxComment">#   81 7/subop/compare *(ebp+___) 0x34/imm32</span>
<span id="L23461" class="LineNr">23461 </span>    <span class="subxComment">#</span>
<span id="L23462" class="LineNr">23462 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23463" class="LineNr">23463 </span>    55/push-ebp
<span id="L23464" class="LineNr">23464 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23465" class="LineNr">23465 </span>    <span class="subxComment"># setup</span>
<span id="L23466" class="LineNr">23466 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23467" class="LineNr">23467 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23468" class="LineNr">23468 </span><span class="Constant">$test-compare-mem-with-literal:initialize-type</span>:
<span id="L23469" class="LineNr">23469 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23470" class="LineNr">23470 </span>    68/push 0/imm32/right:null
<span id="L23471" class="LineNr">23471 </span>    68/push 0/imm32/right:null
<span id="L23472" class="LineNr">23472 </span>    68/push 0/imm32/left:unused
<span id="L23473" class="LineNr">23473 </span>    68/push 1/imm32/value:int
<span id="L23474" class="LineNr">23474 </span>    68/push 1/imm32/is-atom?:true
<span id="L23475" class="LineNr">23475 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23476" class="LineNr">23476 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23477" class="LineNr">23477 </span><span class="Constant">$test-compare-mem-with-literal:initialize-var1</span>:
<span id="L23478" class="LineNr">23478 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23479" class="LineNr">23479 </span>    68/push 0/imm32/register
<span id="L23480" class="LineNr">23480 </span>    68/push 0/imm32/register
<span id="L23481" class="LineNr">23481 </span>    68/push 8/imm32/stack-offset
<span id="L23482" class="LineNr">23482 </span>    68/push 1/imm32/block-depth
<span id="L23483" class="LineNr">23483 </span>    51/push-ecx
<span id="L23484" class="LineNr">23484 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23485" class="LineNr">23485 </span>    68/push 0/imm32/name
<span id="L23486" class="LineNr">23486 </span>    68/push 0/imm32/name
<span id="L23487" class="LineNr">23487 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23488" class="LineNr">23488 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23489" class="LineNr">23489 </span><span class="Constant">$test-compare-mem-with-literal:initialize-var1-name</span>:
<span id="L23490" class="LineNr">23490 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23491" class="LineNr">23491 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23492" class="LineNr">23492 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23493" class="LineNr">23493 </span><span class="Constant">$test-compare-mem-with-literal:initialize-literal-type</span>:
<span id="L23494" class="LineNr">23494 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L23495" class="LineNr">23495 </span>    68/push 0/imm32/right:null
<span id="L23496" class="LineNr">23496 </span>    68/push 0/imm32/right:null
<span id="L23497" class="LineNr">23497 </span>    68/push 0/imm32/left:unused
<span id="L23498" class="LineNr">23498 </span>    68/push 0/imm32/value:literal
<span id="L23499" class="LineNr">23499 </span>    68/push 1/imm32/is-atom?:true
<span id="L23500" class="LineNr">23500 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23501" class="LineNr">23501 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23502" class="LineNr">23502 </span><span class="Constant">$test-compare-mem-with-literal:initialize-literal</span>:
<span id="L23503" class="LineNr">23503 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L23504" class="LineNr">23504 </span>    68/push 0/imm32/register
<span id="L23505" class="LineNr">23505 </span>    68/push 0/imm32/register
<span id="L23506" class="LineNr">23506 </span>    68/push 0/imm32/no-stack-offset
<span id="L23507" class="LineNr">23507 </span>    68/push 1/imm32/block-depth
<span id="L23508" class="LineNr">23508 </span>    52/push-edx
<span id="L23509" class="LineNr">23509 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23510" class="LineNr">23510 </span>    68/push 0/imm32/name
<span id="L23511" class="LineNr">23511 </span>    68/push 0/imm32/name
<span id="L23512" class="LineNr">23512 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23513" class="LineNr">23513 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23514" class="LineNr">23514 </span><span class="Constant">$test-compare-mem-with-literal:initialize-literal-value</span>:
<span id="L23515" class="LineNr">23515 </span>    <span class="subxComment"># l-&gt;name = &quot;0x34&quot;</span>
<span id="L23516" class="LineNr">23516 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23517" class="LineNr">23517 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L23518" class="LineNr">23518 </span><span class="Constant">$test-compare-mem-with-literal:initialize-inouts</span>:
<span id="L23519" class="LineNr">23519 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L23520" class="LineNr">23520 </span>    68/push 0/imm32/is-deref:false
<span id="L23521" class="LineNr">23521 </span>    68/push 0/imm32/next
<span id="L23522" class="LineNr">23522 </span>    68/push 0/imm32/next
<span id="L23523" class="LineNr">23523 </span>    52/push-edx/l
<span id="L23524" class="LineNr">23524 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23525" class="LineNr">23525 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23526" class="LineNr">23526 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23527" class="LineNr">23527 </span>    <span class="subxComment"># var inouts = (handle stmt-var) = [var1, var2]</span>
<span id="L23528" class="LineNr">23528 </span>    68/push 0/imm32/is-deref:false
<span id="L23529" class="LineNr">23529 </span>    56/push-esi/next
<span id="L23530" class="LineNr">23530 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23531" class="LineNr">23531 </span>    51/push-ecx/var1
<span id="L23532" class="LineNr">23532 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23533" class="LineNr">23533 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23534" class="LineNr">23534 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23535" class="LineNr">23535 </span><span class="Constant">$test-compare-mem-with-literal:initialize-stmt</span>:
<span id="L23536" class="LineNr">23536 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23537" class="LineNr">23537 </span>    68/push 0/imm32/next
<span id="L23538" class="LineNr">23538 </span>    68/push 0/imm32/next
<span id="L23539" class="LineNr">23539 </span>    68/push 0/imm32/outputs
<span id="L23540" class="LineNr">23540 </span>    68/push 0/imm32/outputs
<span id="L23541" class="LineNr">23541 </span>    56/push-esi/inouts
<span id="L23542" class="LineNr">23542 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23543" class="LineNr">23543 </span>    68/push 0/imm32/operation
<span id="L23544" class="LineNr">23544 </span>    68/push 0/imm32/operation
<span id="L23545" class="LineNr">23545 </span>    68/push 1/imm32/tag:stmt1
<span id="L23546" class="LineNr">23546 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23547" class="LineNr">23547 </span><span class="Constant">$test-compare-mem-with-literal:initialize-stmt-operation</span>:
<span id="L23548" class="LineNr">23548 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;compare&quot;</span>
<span id="L23549" class="LineNr">23549 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23550" class="LineNr">23550 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;compare&quot;</span> %eax)
<span id="L23551" class="LineNr">23551 </span>    <span class="subxComment"># convert</span>
<span id="L23552" class="LineNr">23552 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23553" class="LineNr">23553 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23554" class="LineNr">23554 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23555" class="Folded">23555 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23561" class="LineNr">23561 </span>    <span class="subxComment"># check output</span>
<span id="L23562" class="LineNr">23562 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;81 7/subop/compare *(ebp+0x00000008) 0x34/imm32&quot;</span> <span class="Constant">&quot;F - test-compare-mem-with-literal&quot;</span>)
<span id="L23563" class="LineNr">23563 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23564" class="LineNr">23564 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23565" class="LineNr">23565 </span>    5d/pop-to-ebp
<span id="L23566" class="LineNr">23566 </span>    c3/return
<span id="L23567" class="LineNr">23567 </span>
<span id="L23568" class="LineNr">23568 </span><span class="subxTest">test-compare-eax-with-literal</span>:
<span id="L23569" class="LineNr">23569 </span>    <span class="subxComment">#   compare var1/eax 0x34</span>
<span id="L23570" class="LineNr">23570 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23571" class="LineNr">23571 </span>    <span class="subxComment">#   3d/compare-eax-with 0x34/imm32</span>
<span id="L23572" class="LineNr">23572 </span>    <span class="subxComment">#</span>
<span id="L23573" class="LineNr">23573 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23574" class="LineNr">23574 </span>    55/push-ebp
<span id="L23575" class="LineNr">23575 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23576" class="LineNr">23576 </span>    <span class="subxComment"># setup</span>
<span id="L23577" class="LineNr">23577 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23578" class="LineNr">23578 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23579" class="LineNr">23579 </span><span class="Constant">$test-compare-eax-with-literal:initialize-type</span>:
<span id="L23580" class="LineNr">23580 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23581" class="LineNr">23581 </span>    68/push 0/imm32/right:null
<span id="L23582" class="LineNr">23582 </span>    68/push 0/imm32/right:null
<span id="L23583" class="LineNr">23583 </span>    68/push 0/imm32/left:unused
<span id="L23584" class="LineNr">23584 </span>    68/push 1/imm32/value:int
<span id="L23585" class="LineNr">23585 </span>    68/push 1/imm32/is-atom?:true
<span id="L23586" class="LineNr">23586 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23587" class="LineNr">23587 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23588" class="LineNr">23588 </span><span class="Constant">$test-compare-eax-with-literal:initialize-var1</span>:
<span id="L23589" class="LineNr">23589 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23590" class="LineNr">23590 </span>    68/push 0/imm32/register
<span id="L23591" class="LineNr">23591 </span>    68/push 0/imm32/register
<span id="L23592" class="LineNr">23592 </span>    68/push 0/imm32/no-stack-offset
<span id="L23593" class="LineNr">23593 </span>    68/push 1/imm32/block-depth
<span id="L23594" class="LineNr">23594 </span>    51/push-ecx
<span id="L23595" class="LineNr">23595 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23596" class="LineNr">23596 </span>    68/push 0/imm32/name
<span id="L23597" class="LineNr">23597 </span>    68/push 0/imm32/name
<span id="L23598" class="LineNr">23598 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23599" class="LineNr">23599 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23600" class="LineNr">23600 </span><span class="Constant">$test-compare-eax-with-literal:initialize-var1-name</span>:
<span id="L23601" class="LineNr">23601 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23602" class="LineNr">23602 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23603" class="LineNr">23603 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23604" class="LineNr">23604 </span><span class="Constant">$test-compare-eax-with-literal:initialize-var1-register</span>:
<span id="L23605" class="LineNr">23605 </span>    <span class="subxComment"># v-&gt;register = &quot;eax&quot;</span>
<span id="L23606" class="LineNr">23606 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L23607" class="LineNr">23607 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;eax&quot;</span> %eax)
<span id="L23608" class="LineNr">23608 </span><span class="Constant">$test-compare-eax-with-literal:initialize-literal-type</span>:
<span id="L23609" class="LineNr">23609 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L23610" class="LineNr">23610 </span>    68/push 0/imm32/right:null
<span id="L23611" class="LineNr">23611 </span>    68/push 0/imm32/right:null
<span id="L23612" class="LineNr">23612 </span>    68/push 0/imm32/left:unused
<span id="L23613" class="LineNr">23613 </span>    68/push 0/imm32/value:literal
<span id="L23614" class="LineNr">23614 </span>    68/push 1/imm32/is-atom?:true
<span id="L23615" class="LineNr">23615 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23616" class="LineNr">23616 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23617" class="LineNr">23617 </span><span class="Constant">$test-compare-eax-with-literal:initialize-literal</span>:
<span id="L23618" class="LineNr">23618 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L23619" class="LineNr">23619 </span>    68/push 0/imm32/register
<span id="L23620" class="LineNr">23620 </span>    68/push 0/imm32/register
<span id="L23621" class="LineNr">23621 </span>    68/push 0/imm32/no-stack-offset
<span id="L23622" class="LineNr">23622 </span>    68/push 1/imm32/block-depth
<span id="L23623" class="LineNr">23623 </span>    52/push-edx
<span id="L23624" class="LineNr">23624 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23625" class="LineNr">23625 </span>    68/push 0/imm32/name
<span id="L23626" class="LineNr">23626 </span>    68/push 0/imm32/name
<span id="L23627" class="LineNr">23627 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23628" class="LineNr">23628 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23629" class="LineNr">23629 </span><span class="Constant">$test-compare-eax-with-literal:initialize-literal-value</span>:
<span id="L23630" class="LineNr">23630 </span>    <span class="subxComment"># l-&gt;name = &quot;0x34&quot;</span>
<span id="L23631" class="LineNr">23631 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23632" class="LineNr">23632 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L23633" class="LineNr">23633 </span><span class="Constant">$test-compare-eax-with-literal:initialize-inouts</span>:
<span id="L23634" class="LineNr">23634 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L23635" class="LineNr">23635 </span>    68/push 0/imm32/is-deref:false
<span id="L23636" class="LineNr">23636 </span>    68/push 0/imm32/next
<span id="L23637" class="LineNr">23637 </span>    68/push 0/imm32/next
<span id="L23638" class="LineNr">23638 </span>    52/push-edx/l
<span id="L23639" class="LineNr">23639 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23640" class="LineNr">23640 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23641" class="LineNr">23641 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23642" class="LineNr">23642 </span>    <span class="subxComment"># var inouts = (handle stmt-var) = [var1, var2]</span>
<span id="L23643" class="LineNr">23643 </span>    68/push 0/imm32/is-deref:false
<span id="L23644" class="LineNr">23644 </span>    56/push-esi/next
<span id="L23645" class="LineNr">23645 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23646" class="LineNr">23646 </span>    51/push-ecx/var1
<span id="L23647" class="LineNr">23647 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23648" class="LineNr">23648 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23649" class="LineNr">23649 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23650" class="LineNr">23650 </span><span class="Constant">$test-compare-eax-with-literal:initialize-stmt</span>:
<span id="L23651" class="LineNr">23651 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23652" class="LineNr">23652 </span>    68/push 0/imm32/next
<span id="L23653" class="LineNr">23653 </span>    68/push 0/imm32/next
<span id="L23654" class="LineNr">23654 </span>    68/push 0/imm32/outputs
<span id="L23655" class="LineNr">23655 </span>    68/push 0/imm32/outputs
<span id="L23656" class="LineNr">23656 </span>    56/push-esi/inouts
<span id="L23657" class="LineNr">23657 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23658" class="LineNr">23658 </span>    68/push 0/imm32/operation
<span id="L23659" class="LineNr">23659 </span>    68/push 0/imm32/operation
<span id="L23660" class="LineNr">23660 </span>    68/push 1/imm32/tag:stmt1
<span id="L23661" class="LineNr">23661 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23662" class="LineNr">23662 </span><span class="Constant">$test-compare-eax-with-literal:initialize-stmt-operation</span>:
<span id="L23663" class="LineNr">23663 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;compare&quot;</span>
<span id="L23664" class="LineNr">23664 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23665" class="LineNr">23665 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;compare&quot;</span> %eax)
<span id="L23666" class="LineNr">23666 </span>    <span class="subxComment"># convert</span>
<span id="L23667" class="LineNr">23667 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23668" class="LineNr">23668 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23669" class="LineNr">23669 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23670" class="Folded">23670 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23676" class="LineNr">23676 </span>    <span class="subxComment"># check output</span>
<span id="L23677" class="LineNr">23677 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;3d/compare-eax-with 0x34/imm32&quot;</span> <span class="Constant">&quot;F - test-compare-eax-with-literal&quot;</span>)
<span id="L23678" class="LineNr">23678 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23679" class="LineNr">23679 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23680" class="LineNr">23680 </span>    5d/pop-to-ebp
<span id="L23681" class="LineNr">23681 </span>    c3/return
<span id="L23682" class="LineNr">23682 </span>
<span id="L23683" class="LineNr">23683 </span><span class="subxTest">test-compare-reg-with-literal</span>:
<span id="L23684" class="LineNr">23684 </span>    <span class="subxComment">#   compare var1/ecx 0x34</span>
<span id="L23685" class="LineNr">23685 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23686" class="LineNr">23686 </span>    <span class="subxComment">#   81 7/subop/compare %ecx 0x34/imm32</span>
<span id="L23687" class="LineNr">23687 </span>    <span class="subxComment">#</span>
<span id="L23688" class="LineNr">23688 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23689" class="LineNr">23689 </span>    55/push-ebp
<span id="L23690" class="LineNr">23690 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23691" class="LineNr">23691 </span>    <span class="subxComment"># setup</span>
<span id="L23692" class="LineNr">23692 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23693" class="LineNr">23693 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23694" class="LineNr">23694 </span><span class="Constant">$test-compare-reg-with-literal:initialize-type</span>:
<span id="L23695" class="LineNr">23695 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23696" class="LineNr">23696 </span>    68/push 0/imm32/right:null
<span id="L23697" class="LineNr">23697 </span>    68/push 0/imm32/right:null
<span id="L23698" class="LineNr">23698 </span>    68/push 0/imm32/left:unused
<span id="L23699" class="LineNr">23699 </span>    68/push 1/imm32/value:int
<span id="L23700" class="LineNr">23700 </span>    68/push 1/imm32/is-atom?:true
<span id="L23701" class="LineNr">23701 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23702" class="LineNr">23702 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23703" class="LineNr">23703 </span><span class="Constant">$test-compare-reg-with-literal:initialize-var1</span>:
<span id="L23704" class="LineNr">23704 </span>    <span class="subxComment"># var var1/ecx: (payload var)</span>
<span id="L23705" class="LineNr">23705 </span>    68/push 0/imm32/register
<span id="L23706" class="LineNr">23706 </span>    68/push 0/imm32/register
<span id="L23707" class="LineNr">23707 </span>    68/push 0/imm32/no-stack-offset
<span id="L23708" class="LineNr">23708 </span>    68/push 1/imm32/block-depth
<span id="L23709" class="LineNr">23709 </span>    51/push-ecx
<span id="L23710" class="LineNr">23710 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23711" class="LineNr">23711 </span>    68/push 0/imm32/name
<span id="L23712" class="LineNr">23712 </span>    68/push 0/imm32/name
<span id="L23713" class="LineNr">23713 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23714" class="LineNr">23714 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23715" class="LineNr">23715 </span><span class="Constant">$test-compare-reg-with-literal:initialize-var1-name</span>:
<span id="L23716" class="LineNr">23716 </span>    <span class="subxComment"># var1-&gt;name = &quot;var1&quot;</span>
<span id="L23717" class="LineNr">23717 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23718" class="LineNr">23718 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;var1&quot;</span> %eax)
<span id="L23719" class="LineNr">23719 </span><span class="Constant">$test-compare-reg-with-literal:initialize-var1-register</span>:
<span id="L23720" class="LineNr">23720 </span>    <span class="subxComment"># v-&gt;register = &quot;ecx&quot;</span>
<span id="L23721" class="LineNr">23721 </span>    8d/copy-address *(ecx+0x1c) 0/r32/eax  <span class="subxComment"># Var-register + 4</span>
<span id="L23722" class="LineNr">23722 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;ecx&quot;</span> %eax)
<span id="L23723" class="LineNr">23723 </span><span class="Constant">$test-compare-reg-with-literal:initialize-literal-type</span>:
<span id="L23724" class="LineNr">23724 </span>    <span class="subxComment"># var type/edx: (payload type-tree) = literal</span>
<span id="L23725" class="LineNr">23725 </span>    68/push 0/imm32/right:null
<span id="L23726" class="LineNr">23726 </span>    68/push 0/imm32/right:null
<span id="L23727" class="LineNr">23727 </span>    68/push 0/imm32/left:unused
<span id="L23728" class="LineNr">23728 </span>    68/push 0/imm32/value:literal
<span id="L23729" class="LineNr">23729 </span>    68/push 1/imm32/is-atom?:true
<span id="L23730" class="LineNr">23730 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23731" class="LineNr">23731 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23732" class="LineNr">23732 </span><span class="Constant">$test-compare-reg-with-literal:initialize-literal</span>:
<span id="L23733" class="LineNr">23733 </span>    <span class="subxComment"># var l/edx: (payload var)</span>
<span id="L23734" class="LineNr">23734 </span>    68/push 0/imm32/register
<span id="L23735" class="LineNr">23735 </span>    68/push 0/imm32/register
<span id="L23736" class="LineNr">23736 </span>    68/push 0/imm32/no-stack-offset
<span id="L23737" class="LineNr">23737 </span>    68/push 1/imm32/block-depth
<span id="L23738" class="LineNr">23738 </span>    52/push-edx
<span id="L23739" class="LineNr">23739 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23740" class="LineNr">23740 </span>    68/push 0/imm32/name
<span id="L23741" class="LineNr">23741 </span>    68/push 0/imm32/name
<span id="L23742" class="LineNr">23742 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23743" class="LineNr">23743 </span>    89/&lt;- %edx 4/r32/esp
<span id="L23744" class="LineNr">23744 </span><span class="Constant">$test-compare-reg-with-literal:initialize-literal-value</span>:
<span id="L23745" class="LineNr">23745 </span>    <span class="subxComment"># l-&gt;name = &quot;0x34&quot;</span>
<span id="L23746" class="LineNr">23746 </span>    8d/copy-address *(edx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23747" class="LineNr">23747 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L23748" class="LineNr">23748 </span><span class="Constant">$test-compare-reg-with-literal:initialize-inouts</span>:
<span id="L23749" class="LineNr">23749 </span>    <span class="subxComment"># var inouts/esi: (payload stmt-var) = [l]</span>
<span id="L23750" class="LineNr">23750 </span>    68/push 0/imm32/is-deref:false
<span id="L23751" class="LineNr">23751 </span>    68/push 0/imm32/next
<span id="L23752" class="LineNr">23752 </span>    68/push 0/imm32/next
<span id="L23753" class="LineNr">23753 </span>    52/push-edx/l
<span id="L23754" class="LineNr">23754 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23755" class="LineNr">23755 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23756" class="LineNr">23756 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23757" class="LineNr">23757 </span>    <span class="subxComment"># var inouts = (handle stmt-var) = [var1, var2]</span>
<span id="L23758" class="LineNr">23758 </span>    68/push 0/imm32/is-deref:false
<span id="L23759" class="LineNr">23759 </span>    56/push-esi/next
<span id="L23760" class="LineNr">23760 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23761" class="LineNr">23761 </span>    51/push-ecx/var1
<span id="L23762" class="LineNr">23762 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23763" class="LineNr">23763 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23764" class="LineNr">23764 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23765" class="LineNr">23765 </span><span class="Constant">$test-compare-reg-with-literal:initialize-stmt</span>:
<span id="L23766" class="LineNr">23766 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23767" class="LineNr">23767 </span>    68/push 0/imm32/next
<span id="L23768" class="LineNr">23768 </span>    68/push 0/imm32/next
<span id="L23769" class="LineNr">23769 </span>    68/push 0/imm32/outputs
<span id="L23770" class="LineNr">23770 </span>    68/push 0/imm32/outputs
<span id="L23771" class="LineNr">23771 </span>    56/push-esi/inouts
<span id="L23772" class="LineNr">23772 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23773" class="LineNr">23773 </span>    68/push 0/imm32/operation
<span id="L23774" class="LineNr">23774 </span>    68/push 0/imm32/operation
<span id="L23775" class="LineNr">23775 </span>    68/push 1/imm32/tag:stmt1
<span id="L23776" class="LineNr">23776 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23777" class="LineNr">23777 </span><span class="Constant">$test-compare-reg-with-literal:initialize-stmt-operation</span>:
<span id="L23778" class="LineNr">23778 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;compare&quot;</span>
<span id="L23779" class="LineNr">23779 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23780" class="LineNr">23780 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;compare&quot;</span> %eax)
<span id="L23781" class="LineNr">23781 </span>    <span class="subxComment"># convert</span>
<span id="L23782" class="LineNr">23782 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23783" class="LineNr">23783 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi <span class="SpecialChar"><a href='mu.subx.html#L17400'>Primitives</a></span> <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23784" class="LineNr">23784 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23785" class="Folded">23785 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23791" class="LineNr">23791 </span>    <span class="subxComment"># check output</span>
<span id="L23792" class="LineNr">23792 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;81 7/subop/compare %ecx 0x34/imm32&quot;</span> <span class="Constant">&quot;F - test-compare-reg-with-literal&quot;</span>)
<span id="L23793" class="LineNr">23793 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23794" class="LineNr">23794 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23795" class="LineNr">23795 </span>    5d/pop-to-ebp
<span id="L23796" class="LineNr">23796 </span>    c3/return
<span id="L23797" class="LineNr">23797 </span>
<span id="L23798" class="LineNr">23798 </span><span class="subxTest">test-emit-subx-stmt-function-call</span>:
<span id="L23799" class="LineNr">23799 </span>    <span class="subxComment"># Call a function on a variable on the stack.</span>
<span id="L23800" class="LineNr">23800 </span>    <span class="subxComment">#   f foo</span>
<span id="L23801" class="LineNr">23801 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23802" class="LineNr">23802 </span>    <span class="subxComment">#   (f *(ebp-8))</span>
<span id="L23803" class="LineNr">23803 </span>    <span class="subxComment"># (Changing the function name supports overloading in general, but here it</span>
<span id="L23804" class="LineNr">23804 </span>    <span class="subxComment"># just serves to help disambiguate things.)</span>
<span id="L23805" class="LineNr">23805 </span>    <span class="subxComment">#</span>
<span id="L23806" class="LineNr">23806 </span>    <span class="subxComment"># There's a variable on the var stack as follows:</span>
<span id="L23807" class="LineNr">23807 </span>    <span class="subxComment">#   name: 'foo'</span>
<span id="L23808" class="LineNr">23808 </span>    <span class="subxComment">#   type: int</span>
<span id="L23809" class="LineNr">23809 </span>    <span class="subxComment">#   stack-offset: -8</span>
<span id="L23810" class="LineNr">23810 </span>    <span class="subxComment">#</span>
<span id="L23811" class="LineNr">23811 </span>    <span class="subxComment"># There's nothing in primitives.</span>
<span id="L23812" class="LineNr">23812 </span>    <span class="subxComment">#</span>
<span id="L23813" class="LineNr">23813 </span>    <span class="subxComment"># We don't perform any checking here on the type of 'f'.</span>
<span id="L23814" class="LineNr">23814 </span>    <span class="subxComment">#</span>
<span id="L23815" class="LineNr">23815 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23816" class="LineNr">23816 </span>    55/push-ebp
<span id="L23817" class="LineNr">23817 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23818" class="LineNr">23818 </span>    <span class="subxComment"># setup</span>
<span id="L23819" class="LineNr">23819 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23820" class="LineNr">23820 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23821" class="LineNr">23821 </span><span class="Constant">$test-emit-subx-function-call:initialize-type</span>:
<span id="L23822" class="LineNr">23822 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23823" class="LineNr">23823 </span>    68/push 0/imm32/right:null
<span id="L23824" class="LineNr">23824 </span>    68/push 0/imm32/right:null
<span id="L23825" class="LineNr">23825 </span>    68/push 0/imm32/left:unused
<span id="L23826" class="LineNr">23826 </span>    68/push 1/imm32/value:int
<span id="L23827" class="LineNr">23827 </span>    68/push 1/imm32/is-atom?:true
<span id="L23828" class="LineNr">23828 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23829" class="LineNr">23829 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23830" class="LineNr">23830 </span><span class="Constant">$test-emit-subx-function-call:initialize-var</span>:
<span id="L23831" class="LineNr">23831 </span>    <span class="subxComment"># var var-foo/ecx: (payload var) = var(type)</span>
<span id="L23832" class="LineNr">23832 </span>    68/push 0/imm32/no-register
<span id="L23833" class="LineNr">23833 </span>    68/push 0/imm32/no-register
<span id="L23834" class="LineNr">23834 </span>    68/push -8/imm32/stack-offset
<span id="L23835" class="LineNr">23835 </span>    68/push 1/imm32/block-depth
<span id="L23836" class="LineNr">23836 </span>    51/push-ecx/type
<span id="L23837" class="LineNr">23837 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23838" class="LineNr">23838 </span>    68/push 0/imm32/name
<span id="L23839" class="LineNr">23839 </span>    68/push 0/imm32/name
<span id="L23840" class="LineNr">23840 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23841" class="LineNr">23841 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23842" class="LineNr">23842 </span><span class="Constant">$test-emit-subx-function-call:initialize-var-name</span>:
<span id="L23843" class="LineNr">23843 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;foo&quot;</span>
<span id="L23844" class="LineNr">23844 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23845" class="LineNr">23845 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;foo&quot;</span> %eax)
<span id="L23846" class="LineNr">23846 </span><span class="Constant">$test-emit-subx-function-call:initialize-stmt-var</span>:
<span id="L23847" class="LineNr">23847 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var) = stmt-var(var-foo)</span>
<span id="L23848" class="LineNr">23848 </span>    68/push 0/imm32/is-deref:false
<span id="L23849" class="LineNr">23849 </span>    68/push 0/imm32/next
<span id="L23850" class="LineNr">23850 </span>    68/push 0/imm32/next
<span id="L23851" class="LineNr">23851 </span>    51/push-ecx/var-foo
<span id="L23852" class="LineNr">23852 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23853" class="LineNr">23853 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23854" class="LineNr">23854 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L23855" class="LineNr">23855 </span><span class="Constant">$test-emit-subx-function-call:initialize-stmt</span>:
<span id="L23856" class="LineNr">23856 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23857" class="LineNr">23857 </span>    68/push 0/imm32/no-outputs
<span id="L23858" class="LineNr">23858 </span>    68/push 0/imm32/no-outputs
<span id="L23859" class="LineNr">23859 </span>    53/push-ebx/inouts
<span id="L23860" class="LineNr">23860 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23861" class="LineNr">23861 </span>    68/push 0/imm32/operation
<span id="L23862" class="LineNr">23862 </span>    68/push 0/imm32/operation
<span id="L23863" class="LineNr">23863 </span>    68/push 1/imm32/tag
<span id="L23864" class="LineNr">23864 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23865" class="LineNr">23865 </span><span class="Constant">$test-emit-subx-function-call:initialize-stmt-operation</span>:
<span id="L23866" class="LineNr">23866 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;f&quot;</span>
<span id="L23867" class="LineNr">23867 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23868" class="LineNr">23868 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;f&quot;</span> %eax)
<span id="L23869" class="LineNr">23869 </span>    <span class="subxComment"># convert</span>
<span id="L23870" class="LineNr">23870 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23871" class="LineNr">23871 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi 0 <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23872" class="LineNr">23872 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23873" class="Folded">23873 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23879" class="LineNr">23879 </span>    <span class="subxComment"># check output</span>
<span id="L23880" class="LineNr">23880 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;(f *(ebp+0xfffffff8))&quot;</span> <span class="Constant">&quot;F - test-emit-subx-stmt-function-call&quot;</span>)
<span id="L23881" class="LineNr">23881 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23882" class="LineNr">23882 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23883" class="LineNr">23883 </span>    5d/pop-to-ebp
<span id="L23884" class="LineNr">23884 </span>    c3/return
<span id="L23885" class="LineNr">23885 </span>
<span id="L23886" class="LineNr">23886 </span><span class="subxTest">test-emit-subx-stmt-function-call-with-literal-arg</span>:
<span id="L23887" class="LineNr">23887 </span>    <span class="subxComment"># Call a function on a literal.</span>
<span id="L23888" class="LineNr">23888 </span>    <span class="subxComment">#   f 0x34</span>
<span id="L23889" class="LineNr">23889 </span>    <span class="subxComment"># =&gt;</span>
<span id="L23890" class="LineNr">23890 </span>    <span class="subxComment">#   (f2 0x34)</span>
<span id="L23891" class="LineNr">23891 </span>    <span class="subxComment">#</span>
<span id="L23892" class="LineNr">23892 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23893" class="LineNr">23893 </span>    55/push-ebp
<span id="L23894" class="LineNr">23894 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23895" class="LineNr">23895 </span>    <span class="subxComment"># setup</span>
<span id="L23896" class="LineNr">23896 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a>)
<span id="L23897" class="LineNr">23897 </span>    (<a href='../106stream.subx.html#L17'>clear-stream</a> $_test-output-buffered-file-&gt;buffer)
<span id="L23898" class="LineNr">23898 </span><span class="Constant">$test-emit-subx-function-call-with-literal-arg:initialize-type</span>:
<span id="L23899" class="LineNr">23899 </span>    <span class="subxComment"># var type/ecx: (payload type-tree) = int</span>
<span id="L23900" class="LineNr">23900 </span>    68/push 0/imm32/right:null
<span id="L23901" class="LineNr">23901 </span>    68/push 0/imm32/right:null
<span id="L23902" class="LineNr">23902 </span>    68/push 0/imm32/left:unused
<span id="L23903" class="LineNr">23903 </span>    68/push 0/imm32/value:literal
<span id="L23904" class="LineNr">23904 </span>    68/push 1/imm32/is-atom?:true
<span id="L23905" class="LineNr">23905 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23906" class="LineNr">23906 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23907" class="LineNr">23907 </span><span class="Constant">$test-emit-subx-function-call-with-literal-arg:initialize-var</span>:
<span id="L23908" class="LineNr">23908 </span>    <span class="subxComment"># var var-foo/ecx: (payload var) = var(lit)</span>
<span id="L23909" class="LineNr">23909 </span>    68/push 0/imm32/no-register
<span id="L23910" class="LineNr">23910 </span>    68/push 0/imm32/no-register
<span id="L23911" class="LineNr">23911 </span>    68/push 0/imm32/no-stack-offset
<span id="L23912" class="LineNr">23912 </span>    68/push 1/imm32/block-depth
<span id="L23913" class="LineNr">23913 </span>    51/push-ecx/type
<span id="L23914" class="LineNr">23914 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23915" class="LineNr">23915 </span>    68/push 0/imm32/name
<span id="L23916" class="LineNr">23916 </span>    68/push 0/imm32/name
<span id="L23917" class="LineNr">23917 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23918" class="LineNr">23918 </span>    89/&lt;- %ecx 4/r32/esp
<span id="L23919" class="LineNr">23919 </span><span class="Constant">$test-emit-subx-function-call-with-literal-arg:initialize-var-name</span>:
<span id="L23920" class="LineNr">23920 </span>    <span class="subxComment"># var-foo-&gt;name = &quot;0x34&quot;</span>
<span id="L23921" class="LineNr">23921 </span>    8d/copy-address *(ecx+4) 0/r32/eax  <span class="subxComment"># Var-name + 4</span>
<span id="L23922" class="LineNr">23922 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;0x34&quot;</span> %eax)
<span id="L23923" class="LineNr">23923 </span><span class="Constant">$test-emit-subx-function-call-with-literal-arg:initialize-stmt-var</span>:
<span id="L23924" class="LineNr">23924 </span>    <span class="subxComment"># var operand/ebx: (payload stmt-var) = stmt-var(var-foo)</span>
<span id="L23925" class="LineNr">23925 </span>    68/push 0/imm32/is-deref:false
<span id="L23926" class="LineNr">23926 </span>    68/push 0/imm32/next
<span id="L23927" class="LineNr">23927 </span>    68/push 0/imm32/next
<span id="L23928" class="LineNr">23928 </span>    51/push-ecx/var-foo
<span id="L23929" class="LineNr">23929 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23930" class="LineNr">23930 </span>    68/push 0x11/imm32/alloc-id:fake:payload
<span id="L23931" class="LineNr">23931 </span>    89/&lt;- %ebx 4/r32/esp
<span id="L23932" class="LineNr">23932 </span><span class="Constant">$test-emit-subx-function-call-with-literal-arg:initialize-stmt</span>:
<span id="L23933" class="LineNr">23933 </span>    <span class="subxComment"># var stmt/esi: (addr statement)</span>
<span id="L23934" class="LineNr">23934 </span>    68/push 0/imm32/no-outputs
<span id="L23935" class="LineNr">23935 </span>    68/push 0/imm32/no-outputs
<span id="L23936" class="LineNr">23936 </span>    53/push-ebx/inouts
<span id="L23937" class="LineNr">23937 </span>    68/push 0x11/imm32/alloc-id:fake
<span id="L23938" class="LineNr">23938 </span>    68/push 0/imm32/operation
<span id="L23939" class="LineNr">23939 </span>    68/push 0/imm32/operation
<span id="L23940" class="LineNr">23940 </span>    68/push 1/imm32/tag
<span id="L23941" class="LineNr">23941 </span>    89/&lt;- %esi 4/r32/esp
<span id="L23942" class="LineNr">23942 </span><span class="Constant">$test-emit-subx-function-call-with-literal-arg:initialize-stmt-operation</span>:
<span id="L23943" class="LineNr">23943 </span>    <span class="subxComment"># stmt-&gt;operation = &quot;f&quot;</span>
<span id="L23944" class="LineNr">23944 </span>    8d/copy-address *(esi+4) 0/r32/eax  <span class="subxComment"># Stmt1-operation</span>
<span id="L23945" class="LineNr">23945 </span>    (<a href='../120allocate.subx.html#L710'>copy-array</a> <span class="SpecialChar"><a href='../120allocate.subx.html#L27'>Heap</a></span> <span class="Constant">&quot;f&quot;</span> %eax)
<span id="L23946" class="LineNr">23946 </span>    <span class="subxComment"># convert</span>
<span id="L23947" class="LineNr">23947 </span>    c7 0/subop/copy *<span class="SpecialChar"><a href='mu.subx.html#L7490'>Curr-block-depth</a></span> 0/imm32
<span id="L23948" class="LineNr">23948 </span>    (<a href='mu.subx.html#L16009'>emit-subx-stmt</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a> %esi 0 %ebx <span class="SpecialChar"><a href='../116write-buffered.subx.html#L209'>Stderr</a></span> 0)
<span id="L23949" class="LineNr">23949 </span>    (<a href='../115write-byte.subx.html#L81'>flush</a> <a href='../115write-byte.subx.html#L359'>_test-output-buffered-file</a>)
<span id="L23950" class="Folded">23950 </span><span class="Folded">+--  6 lines: #?     # dump _test-output-stream --------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span id="L23956" class="LineNr">23956 </span>    <span class="subxComment"># check output</span>
<span id="L23957" class="LineNr">23957 </span>    (<a href='../109stream-equal.subx.html#L565'>check-next-stream-line-equal</a> <a href='../115write-byte.subx.html#L285'>_test-output-stream</a> <span class="Constant">&quot;(f 0x34)&quot;</span> <span class="Constant">&quot;F - test-emit-subx-stmt-function-call-with-literal-arg&quot;</span>)
<span id="L23958" class="LineNr">23958 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23959" class="LineNr">23959 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23960" class="LineNr">23960 </span>    5d/pop-to-ebp
<span id="L23961" class="LineNr">23961 </span>    c3/return
<span id="L23962" class="LineNr">23962 </span>
<span id="L23963" class="LineNr">23963 </span><span class="subxFunction">emit-indent</span>:  <span class="subxComment"># out: (addr buffered-file), n: int</span>
<span id="L23964" class="LineNr">23964 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23965" class="LineNr">23965 </span>    55/push-ebp
<span id="L23966" class="LineNr">23966 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23967" class="LineNr">23967 </span>    <span class="subxS1Comment"># . save registers</span>
<span id="L23968" class="LineNr">23968 </span>    50/push-eax
<span id="L23969" class="LineNr">23969 </span>    <span class="subxComment"># var i/eax: int = n</span>
<span id="L23970" class="LineNr">23970 </span>    8b/-&gt; *(ebp+0xc) 0/r32/eax
<span id="L23971" class="LineNr">23971 </span>    {
<span id="L23972" class="LineNr">23972 </span>      <span class="subxComment"># if (i &lt;= 0) break</span>
<span id="L23973" class="LineNr">23973 </span>      3d/compare-eax-with 0/imm32
<span id="L23974" class="LineNr">23974 </span>      7e/jump-if-&lt;= <span class="Constant">break</span>/disp8
<span id="L23975" class="LineNr">23975 </span>      (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  &quot;</span>)
<span id="L23976" class="LineNr">23976 </span>      48/decrement-eax
<span id="L23977" class="LineNr">23977 </span>      eb/jump <span class="Constant">loop</span>/disp8
<span id="L23978" class="LineNr">23978 </span>    }
<span id="L23979" class="LineNr">23979 </span><span class="Constant">$emit-indent:end</span>:
<span id="L23980" class="LineNr">23980 </span>    <span class="subxS1Comment"># . restore registers</span>
<span id="L23981" class="LineNr">23981 </span>    58/pop-to-eax
<span id="L23982" class="LineNr">23982 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23983" class="LineNr">23983 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23984" class="LineNr">23984 </span>    5d/pop-to-ebp
<span id="L23985" class="LineNr">23985 </span>    c3/return
<span id="L23986" class="LineNr">23986 </span>
<span id="L23987" class="LineNr">23987 </span><span class="subxFunction">emit-subx-prologue</span>:  <span class="subxComment"># out: (addr buffered-file)</span>
<span id="L23988" class="LineNr">23988 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L23989" class="LineNr">23989 </span>    55/push-ebp
<span id="L23990" class="LineNr">23990 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L23991" class="LineNr">23991 </span>    <span class="subxComment">#</span>
<span id="L23992" class="LineNr">23992 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  # . prologue\n&quot;</span>)
<span id="L23993" class="LineNr">23993 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  55/push-ebp\n&quot;</span>)
<span id="L23994" class="LineNr">23994 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  89/&lt;- %ebp 4/r32/esp\n&quot;</span>)
<span id="L23995" class="LineNr">23995 </span><span class="Constant">$emit-subx-prologue:end</span>:
<span id="L23996" class="LineNr">23996 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L23997" class="LineNr">23997 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L23998" class="LineNr">23998 </span>    5d/pop-to-ebp
<span id="L23999" class="LineNr">23999 </span>    c3/return
<span id="L24000" class="LineNr">24000 </span>
<span id="L24001" class="LineNr">24001 </span><span class="subxFunction">emit-subx-epilogue</span>:  <span class="subxComment"># out: (addr buffered-file)</span>
<span id="L24002" class="LineNr">24002 </span>    <span class="subxS1Comment"># . prologue</span>
<span id="L24003" class="LineNr">24003 </span>    55/push-ebp
<span id="L24004" class="LineNr">24004 </span>    89/&lt;- %ebp 4/r32/esp
<span id="L24005" class="LineNr">24005 </span>    <span class="subxComment">#</span>
<span id="L24006" class="LineNr">24006 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  # . epilogue\n&quot;</span>)
<span id="L24007" class="LineNr">24007 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  89/&lt;- %esp 5/r32/ebp\n&quot;</span>)
<span id="L24008" class="LineNr">24008 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  5d/pop-to-ebp\n&quot;</span>)
<span id="L24009" class="LineNr">24009 </span>    (<a href='../116write-buffered.subx.html#L8'>write-buffered</a> *(ebp+8) <span class="Constant">&quot;  c3/return\n&quot;</span>)
<span id="L24010" class="LineNr">24010 </span><span class="Constant">$emit-subx-epilogue:end</span>:
<span id="L24011" class="LineNr">24011 </span>    <span class="subxS1Comment"># . epilogue</span>
<span id="L24012" class="LineNr">24012 </span>    89/&lt;- %esp 5/r32/ebp
<span id="L24013" class="LineNr">24013 </span>    5d/pop-to-ebp
<span id="L24014" class="LineNr">24014 </span>    c3/return
</pre>
</body>
</html>
<!-- vim: set foldmethod=manual : -->
