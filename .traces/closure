parse: instruction: new
parse:   ingredient: {name: "location", properties: ["location": "type"]}
parse:   ingredient: {name: "30", properties: ["30": "literal"]}
parse:   product: {name: "default-space", properties: ["default-space": "address":"array":"location"]}
parse: instruction: init-counter
parse:   product: {name: "1", properties: ["1": "address":"array":"location", "names": "init-counter"]}
parse: instruction: increment-counter
parse:   ingredient: {name: "1", properties: ["1": "address":"array":"location", "names": "init-counter"]}
parse:   product: {name: "2", properties: ["2": "number", "raw": ]}
parse: instruction: increment-counter
parse:   ingredient: {name: "1", properties: ["1": "address":"array":"location", "names": "init-counter"]}
parse:   product: {name: "3", properties: ["3": "number", "raw": ]}
parse: instruction: new
parse:   ingredient: {name: "location", properties: ["location": "type"]}
parse:   ingredient: {name: "30", properties: ["30": "literal"]}
parse:   product: {name: "default-space", properties: ["default-space": "address":"array":"location"]}
parse: instruction: copy
parse:   ingredient: {name: "23", properties: ["23": "literal"]}
parse:   product: {name: "x", properties: ["x": "number"]}
parse: instruction: copy
parse:   ingredient: {name: "3", properties: ["3": "literal"]}
parse:   product: {name: "y", properties: ["y": "number"]}
parse: instruction: reply
parse:   ingredient: {name: "default-space", properties: ["default-space": "address":"array":"location"]}
parse: instruction: new
parse:   ingredient: {name: "space", properties: ["space": "literal"]}
parse:   ingredient: {name: "30", properties: ["30": "literal"]}
parse:   product: {name: "default-space", properties: ["default-space": "address":"array":"location"]}
parse: instruction: next-ingredient
parse:   product: {name: "0", properties: ["0": "address":"array":"location", "names": "init-counter"]}
parse: instruction: add
parse:   ingredient: {name: "y", properties: ["y": "number", "space": "1"]}
parse:   ingredient: {name: "1", properties: ["1": "literal"]}
parse:   product: {name: "y", properties: ["y": "number", "space": "1"]}
parse: instruction: copy
parse:   ingredient: {name: "234", properties: ["234": "literal"]}
parse:   product: {name: "y", properties: ["y": "number"]}
parse: instruction: reply
parse:   ingredient: {name: "y", properties: ["y": "number", "space": "1"]}
name: recipe increment-counter is surrounded by init-counter
new: location -> 1
new: location -> 1
name: assign x 1
name: assign y 2
new: space -> 0
name: assign y 1
after-brace: recipe main
after-brace: new ...
after-brace: init-counter ...
after-brace: increment-counter ...
after-brace: increment-counter ...
after-brace: recipe init-counter
after-brace: new ...
after-brace: copy ...
after-brace: copy ...
after-brace: reply ...
after-brace: recipe increment-counter
after-brace: new ...
after-brace: next-ingredient ...
after-brace: add ...
after-brace: copy ...
after-brace: reply ...
new: routine allocated memory from 1000 to 101000
schedule: main
run: default-space:address:array:location <- new location:type, 30:literal
mem: array size is 30
mem: new alloc: 1000
run: 1:address:array:location/names:init-counter <- init-counter 
run: default-space:address:array:location <- new location:type, 30:literal
mem: array size is 30
mem: new alloc: 1031
run: x:number <- copy 23:literal
mem: storing 23 in location 1033
run: y:number <- copy 3:literal
mem: storing 3 in location 1034
run: reply default-space:address:array:location
run: result 0 is 1031
mem: storing 1031 in location 1002
run: 2:number/raw <- increment-counter 1:address:array:location/names:init-counter
mem: location 1002 is 1031
run: default-space:address:array:location <- new space:literal, 30:literal
mem: array size is 30
mem: new alloc: 1062
run: 0:address:array:location/names:init-counter <- next-ingredient 
mem: storing 1031 in location 1063
run: y:number/space:1 <- add y:number/space:1, 1:literal
mem: location 1034 is 3
mem: storing 4 in location 1034
run: y:number <- copy 234:literal
mem: storing 234 in location 1064
run: reply y:number/space:1
mem: location 1034 is 4
run: result 0 is 4
mem: storing 4 in location 2
run: 3:number/raw <- increment-counter 1:address:array:location/names:init-counter
mem: location 1002 is 1031
run: default-space:address:array:location <- new space:literal, 30:literal
mem: array size is 30
mem: new alloc: 1093
run: 0:address:array:location/names:init-counter <- next-ingredient 
mem: storing 1031 in location 1094
run: y:number/space:1 <- add y:number/space:1, 1:literal
mem: location 1034 is 4
mem: storing 5 in location 1034
run: y:number <- copy 234:literal
mem: storing 234 in location 1095
run: reply y:number/space:1
mem: location 1034 is 5
run: result 0 is 5
mem: storing 5 in location 3
